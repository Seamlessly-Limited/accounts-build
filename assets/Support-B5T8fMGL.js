import"./useNonce-EL4PrdHY.js";import"./ConfigProvider-m9UwVYqY.js";import"./useDirection-in50hSnm.js";import{a as e,i as t,n,o as r,r as i,t as a}from"./paperclip-DjKqMwbz.js";import{t as o}from"./send-CvY6p_sE.js";import{Dt as s,Et as c,Kt as l,Mt as u,Nt as d,Ot as f,Sn as p,St as m,Wt as h,fn as g,ft as _,g as v,h as y,in as b,jt as x,kt as S,m as C,qt as w,r as T,un as E,vn as D,yn as O,yt as ee,zt as k}from"./index-BNQA11Dp.js";import{t as A}from"./Input-D_pLypJz.js";import{t as j}from"./button-DUNwOsg8.js";import{t as te}from"./Card-sAievDGC.js";import{t as ne}from"./CardContent-Bq_2OTIp.js";import{t as M}from"./badge-C3rYkx4f.js";import{t as re}from"./Textarea-nPKcuzoR.js";var N=y(`message-square`,[[`path`,{d:`M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z`,key:`18887p`}]]),P=d({__name:`ScrollBar`,props:{orientation:{default:`vertical`},forceMount:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(e){let n=e,r=_(n,`class`);return(a,o)=>(h(),s(D(t),k(D(r),{class:D(v)(`flex touch-none select-none transition-colors`,e.orientation===`vertical`&&`h-full w-2.5 border-l border-l-transparent p-px`,e.orientation===`horizontal`&&`h-2.5 flex-col border-t border-t-transparent p-px`,n.class)}),{default:b(()=>[u(D(i),{class:`relative flex-1 rounded-full bg-border`})]),_:1},16,[`class`]))}}),F=d({__name:`ScrollArea`,props:{type:{},dir:{},scrollHideDelay:{},asChild:{type:Boolean},as:{},class:{}},setup(t){let i=t,a=_(i,`class`);return(t,o)=>(h(),s(D(r),k(D(a),{class:D(v)(`relative overflow-hidden`,i.class)}),{default:b(()=>[u(D(n),{class:`h-full w-full rounded-[inherit]`},{default:b(()=>[w(t.$slots,`default`)]),_:3}),u(P),u(D(e))]),_:3},16,[`class`]))}}),I={class:`flex h-full border border-slate-100 rounded-sm bg-background mt-12`},L={class:`w-80 border-r border-slate-100 flex flex-col`},R={class:`p-4 border-b`},z={class:`flex items-center justify-between mb-4`},B={class:`flex items-center gap-2 mb-2`},V={class:`flex items-center gap-2 text-sm cursor-pointer text-muted-foreground hover:text-foreground`},H={key:0,class:`space-y-1`},U={class:`truncate flex-1`},W={class:`flex gap-2 pt-2`},G={class:`p-2 space-y-2`},K=[`onClick`],q={class:`flex items-start justify-between mb-2`},J={class:`font-medium text-sm line-clamp-1 flex-1`},ie={class:`text-xs text-muted-foreground line-clamp-2 mb-2`},Y={class:`flex items-center justify-between text-xs text-muted-foreground`},ae={key:0,class:`flex-1 flex flex-col`},oe={class:`p-4 border-b flex items-center justify-between`},se={class:`font-semibold`},ce={class:`text-sm text-muted-foreground`},le={class:`space-y-4`},ue={class:`text-sm`},de={key:0,class:`mt-2 space-y-1`},fe={class:`flex-1`},pe={class:`text-muted-foreground`},me={class:`text-xs opacity-70 mt-1`},he={class:`p-4 border-t`},ge={class:`flex gap-2`},X={key:1,class:`flex-1 flex items-center justify-center text-muted-foreground`},_e={class:`text-center`},Z=T(d({__name:`Support`,setup(e){let t=g([{id:`1`,title:`Login issues`,status:`OPEN`,lastMessage:`Having trouble logging in since yesterday`,createdAt:new Date(`2024-01-15`),messages:[{id:`1`,text:`Having trouble logging in since yesterday`,sender:`user`,timestamp:new Date(`2024-01-15T10:30:00`)},{id:`2`,text:`We are looking into this issue. Can you try resetting your password?`,sender:`support`,timestamp:new Date(`2024-01-15T11:15:00`)}]},{id:`2`,title:`Payment failed`,status:`PENDING`,lastMessage:`Payment processing failed multiple times`,createdAt:new Date(`2024-01-14`),messages:[{id:`1`,text:`Payment processing failed multiple times`,sender:`user`,timestamp:new Date(`2024-01-14T14:20:00`)}]},{id:`3`,title:`Feature request`,status:`RESOLVED`,lastMessage:`Thank you for the suggestion!`,createdAt:new Date(`2024-01-10`),messages:[{id:`1`,text:`Would love to see dark mode in the app`,sender:`user`,timestamp:new Date(`2024-01-10T09:45:00`)},{id:`2`,text:`Thank you for the suggestion! We have added this to our roadmap.`,sender:`support`,timestamp:new Date(`2024-01-10T10:30:00`)}]}]),n=g(null),r=g(!1),i=g(``),d=g([]),_=E({title:``,message:``,attachments:[]}),v=()=>[...t.value].sort((e,t)=>new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()),y=e=>{n.value=e,r.value=!1},w=()=>{r.value=!0,n.value=null,T()},T=()=>{_.title=``,_.message=``,_.attachments=[],d.value=[]},k=()=>{if(!_.title.trim()||!_.message.trim())return;let e={id:Date.now().toString(),title:_.title,status:`OPEN`,lastMessage:_.message,createdAt:new Date,messages:[{id:`1`,text:_.message,sender:`user`,timestamp:new Date,attachments:d.value.map(e=>({id:Math.random().toString(36).substr(2,9),name:e.name,size:ye(e.size),type:e.type}))}]};t.value.unshift(e),n.value=e,r.value=!1,T()},P=()=>{if(!i.value.trim()||!n.value)return;let e={id:Math.random().toString(36).substr(2,9),text:i.value,sender:`user`,timestamp:new Date};n.value.messages.push(e),n.value.lastMessage=i.value,i.value=``},Z=e=>{let t=e.target;t.files&&(d.value=Array.from(t.files))},ve=e=>{d.value.splice(e,1)},ye=e=>{if(e===0)return`0 Bytes`;let t=1024,n=[`Bytes`,`KB`,`MB`,`GB`],r=Math.floor(Math.log(e)/Math.log(t));return parseFloat((e/t**+r).toFixed(2))+` `+n[r]},Q=e=>{switch(e){case`OPEN`:return`default`;case`PENDING`:return`secondary`;case`RESOLVED`:return`outline`;default:return`default`}},$=e=>new Intl.DateTimeFormat(`en-US`,{month:`short`,day:`numeric`,hour:`2-digit`,minute:`2-digit`}).format(e);return(e,t)=>(h(),S(`div`,I,[c(`div`,L,[c(`div`,R,[c(`div`,z,[t[5]||=c(`h2`,{class:`text-lg font-semibold`},`Support Conversations`,-1),u(D(j),{onClick:w,size:`sm`,class:`flex items-center gap-2 px-3 rounded-full`},{default:b(()=>[...t[4]||=[x(` New `,-1)]]),_:1})]),r.value?(h(),s(D(te),{key:0,class:`mb-4`},{default:b(()=>[u(D(ne),{class:`p-4 space-y-3`},{default:b(()=>[u(D(A),{modelValue:_.title,"onUpdate:modelValue":t[0]||=e=>_.title=e,placeholder:`Issue title`,class:`w-full`},null,8,[`modelValue`]),u(D(re),{modelValue:_.message,"onUpdate:modelValue":t[1]||=e=>_.message=e,placeholder:`Describe your issue...`,class:`min-h-[80px] resize-vertical`},null,8,[`modelValue`]),c(`div`,null,[c(`div`,B,[c(`label`,V,[u(D(a),{class:`w-4 h-4`}),t[6]||=x(` Attach files `,-1),c(`input`,{type:`file`,multiple:``,class:`hidden`,onChange:Z},null,32)])]),d.value.length?(h(),S(`div`,H,[(h(!0),S(m,null,l(d.value,(e,t)=>(h(),S(`div`,{key:t,class:`flex items-center justify-between p-2 text-sm bg-muted rounded`},[c(`span`,U,p(e.name),1),u(D(j),{variant:`ghost`,size:`sm`,onClick:e=>ve(t),class:`h-6 w-6 p-0 hover:bg-destructive hover:text-destructive-foreground`},{default:b(()=>[u(D(C),{class:`w-3 h-3`})]),_:1},8,[`onClick`])]))),128))])):f(``,!0)]),c(`div`,W,[u(D(j),{onClick:k,disabled:!_.title.trim()||!_.message.trim(),class:`flex-1`},{default:b(()=>[...t[7]||=[x(` Start Conversation `,-1)]]),_:1},8,[`disabled`]),u(D(j),{variant:`outline`,onClick:t[2]||=e=>r.value=!1},{default:b(()=>[...t[8]||=[x(` Cancel `,-1)]]),_:1})])]),_:1})]),_:1})):f(``,!0)]),u(D(F),{class:`flex-1`},{default:b(()=>[c(`div`,G,[(h(!0),S(m,null,l(v(),e=>(h(),S(`div`,{key:e.id,onClick:t=>y(e),class:O([`p-3 rounded-lg border cursor-pointer transition-colors hover:bg-accent/50`,n.value?.id===e.id?`bg-accent border-primary`:`bg-background`])},[c(`div`,q,[c(`h3`,J,p(e.title),1),u(D(M),{variant:Q(e.status),class:`text-xs ml-2 shrink-0`},{default:b(()=>[x(p(e.status),1)]),_:2},1032,[`variant`])]),c(`p`,ie,p(e.lastMessage),1),c(`div`,Y,[c(`span`,null,p($(e.createdAt)),1),u(D(N),{class:`w-3 h-3`})])],10,K))),128))])]),_:1})]),n.value?(h(),S(`div`,ae,[c(`div`,oe,[c(`div`,null,[c(`h3`,se,p(n.value.title),1),c(`p`,ce,` Created `+p($(n.value.createdAt)),1)]),u(D(M),{variant:Q(n.value.status)},{default:b(()=>[x(p(n.value.status),1)]),_:1},8,[`variant`])]),u(D(F),{class:`flex-1 p-4`},{default:b(()=>[c(`div`,le,[(h(!0),S(m,null,l(n.value.messages,e=>(h(),S(`div`,{key:e.id,class:O([`flex max-w-[80%]`,e.sender===`user`?`ml-auto justify-end`:`mr-auto`])},[c(`div`,{class:O([`rounded-lg px-4 py-2`,e.sender===`user`?`bg-primary text-primary-foreground`:`bg-muted`])},[c(`p`,ue,p(e.text),1),e.attachments?(h(),S(`div`,de,[(h(!0),S(m,null,l(e.attachments,e=>(h(),S(`div`,{key:e.id,class:`flex items-center gap-2 p-2 bg-background/50 rounded text-xs`},[u(D(a),{class:`w-3 h-3`}),c(`span`,fe,p(e.name),1),c(`span`,pe,p(e.size),1)]))),128))])):f(``,!0),c(`p`,me,p($(e.timestamp)),1)],2)],2))),128))])]),_:1}),c(`div`,he,[c(`div`,ge,[u(D(A),{modelValue:i.value,"onUpdate:modelValue":t[3]||=e=>i.value=e,placeholder:`Type your message...`,onKeypress:ee(P,[`enter`]),class:`flex-1 rounded-full`},null,8,[`modelValue`]),u(D(j),{onClick:P,disabled:!i.value.trim(),class:`rounded-full`},{default:b(()=>[u(D(o),{class:`w-4 h-4`})]),_:1},8,[`disabled`])])])])):(h(),S(`div`,X,[c(`div`,_e,[u(D(N),{class:`w-12 h-12 mx-auto mb-4 opacity-50`}),t[9]||=c(`p`,null,`Select a conversation or start a new one`,-1)])]))]))}}),[[`__scopeId`,`data-v-3e6cc9d0`]]);export{Z as default};