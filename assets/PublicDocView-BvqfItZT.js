import{Aa as e,Bi as t,Bn as n,Hi as r,Li as i,Ni as a,Pa as o,Ui as s,Un as c,ea as l,ia as u,n as d,na as f,o as p,sn as m,wa as h,zi as g}from"./index-BW6FH5S4.js";var _={class:`min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8 font-sans`},v={class:`sm:mx-auto sm:w-full sm:max-w-3xl`},y={key:0,class:`bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10 text-center`},b={key:1,class:`bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10 text-center`},x={class:`mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100 mb-4`},S={class:`mt-2 text-sm text-gray-500`},C={key:2,class:`bg-white shadow sm:rounded-lg overflow-hidden`},w={class:`px-4 py-5 sm:px-6 bg-gray-50 border-b border-gray-200 flex justify-between items-center`},T={class:`text-lg leading-6 font-medium text-gray-900 flex items-center gap-2`},E={class:`flex items-center gap-3`},D=[`href`],O={class:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800`},k={class:`border-t border-gray-200 px-4 py-5 sm:p-0`},A={key:0,class:`p-4 bg-blue-50 border-b border-blue-100`},j={class:`flex`},M={class:`flex-shrink-0`},N={class:`ml-3`},P={class:`mt-2 text-sm text-blue-700`},F={class:`mt-2`},I=[`href`],L={class:`sm:divide-y sm:divide-gray-200`},R={key:0,class:`py-4 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6 hover:bg-gray-50 transition-colors`},z={class:`text-sm font-medium text-gray-500`},B={class:`mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2 break-words`},V={__name:`PublicDocView`,setup(V){let H=d(),U=h(!0),W=h(null),G=h(null),K=h(null),q=async()=>{U.value=!0,W.value=null;try{let e=H.params.token,t=await p.get(`/public/d/${e}`,{authorizeRequest:!1});t&&t.flag===`SUCCESS`?(G.value=t.data,K.value=t.meta):W.value=t?.message||`Failed to load document`}catch(e){console.error(e),W.value=e.response?.data?.message||`Invalid or expired link`}finally{U.value=!1}};l(()=>{q()});let J=e=>e.replace(/_/g,` `).replace(/\b\w/g,e=>e.toUpperCase()),Y=e=>[`name`,`owner`,`creation`,`modified`,`modified_by`,`docstatus`,`parent`,`parentfield`,`parenttype`,`idx`,`payment_link`].includes(e);return(l,d)=>(f(),t(`div`,_,[i(`div`,v,[d[7]||=i(`div`,{class:`text-center mb-8`},[i(`img`,{class:`mx-auto h-12 w-auto filter grayscale opacity-80`,src:`/img/logo.png`,alt:`Seamlessly`})],-1),U.value?(f(),t(`div`,y,[...d[0]||=[i(`div`,{class:`animate-pulse flex flex-col items-center`},[i(`div`,{class:`h-12 w-12 bg-gray-200 rounded-full mb-4`}),i(`div`,{class:`h-4 w-48 bg-gray-200 rounded mb-2`}),i(`div`,{class:`h-3 w-32 bg-gray-200 rounded`})],-1)]])):W.value?(f(),t(`div`,b,[i(`div`,x,[s(e(c),{class:`h-6 w-6 text-red-600`})]),d[1]||=i(`h3`,{class:`text-lg leading-6 font-medium text-gray-900`},`Access Denied`,-1),i(`p`,S,o(W.value),1)])):(f(),t(`div`,C,[i(`div`,w,[i(`div`,null,[i(`h3`,T,[s(e(m),{class:`h-5 w-5 text-gray-400`}),r(` `+o(G.value.name),1)]),d[2]||=i(`p`,{class:`mt-1 max-w-2xl text-sm text-gray-500`},` Shared Document `,-1)]),i(`div`,E,[G.value.payment_link?(f(),t(`a`,{key:0,href:G.value.payment_link,target:`_blank`,class:`inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500`},` Pay Now `,8,D)):g(``,!0),i(`span`,O,[s(e(n),{class:`mr-1 h-3 w-3`}),d[3]||=r(` Verified `,-1)])])]),i(`div`,k,[G.value.payment_link?(f(),t(`div`,A,[i(`div`,j,[i(`div`,M,[s(e(c),{class:`h-5 w-5 text-blue-400`,"aria-hidden":`true`})]),i(`div`,N,[d[5]||=i(`h3`,{class:`text-sm font-medium text-blue-800`},`Payment Required`,-1),i(`div`,P,[d[4]||=i(`p`,null,`Please use the link below to securely pay this invoice.`,-1),i(`p`,F,[i(`a`,{href:G.value.payment_link,target:`_blank`,class:`font-medium underline hover:text-blue-600`},` Proceed to Payment â†’ `,8,I)])])])])])):g(``,!0),i(`dl`,L,[(f(!0),t(a,null,u(G.value,(e,n)=>(f(),t(a,{key:n},[!Y(n)&&e?(f(),t(`div`,R,[i(`dt`,z,o(J(n)),1),i(`dd`,B,o(e),1)])):g(``,!0)],64))),128))])]),d[6]||=i(`div`,{class:`px-4 py-4 sm:px-6 bg-gray-50 border-t border-gray-200 text-xs text-gray-400 text-center`},` Powered by Seamlessly using secure public access. `,-1)]))])]))}};export{V as default};