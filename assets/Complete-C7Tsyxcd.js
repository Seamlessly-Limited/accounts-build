import{G as e,S as t,T as n,V as r,a as i,bt as a,f as o,o as s,t as c,tt as l,w as u,x as d,y as f}from"./index-YI6KouJw.js";import"./dist-DBtqC_Oq.js";import"./dist-AeQc7kvP.js";import"./useForwardExpose-BQik0q1A.js";import"./Label-DIykKgZQ.js";import"./utils-CaRsx_gg.js";import{n as p}from"./API-D8X4mIC_.js";import{t as m}from"./Card-CeRGX6QN.js";import{t as h}from"./CardContent-C2YkRKYu.js";import{t as g}from"./CardDescription-fGHbserE.js";import{n as _,t as v}from"./CardTitle-RvAGatRW.js";import{t as y}from"./BackgroundAnimation-WH3jW-XZ.js";import{t as b}from"./button-C_P13u6w.js";import{t as x}from"./Input-CkKTJoFR.js";import{t as S}from"./Label-Cpt7Qt0a.js";var C={name:`PasswordResetCompleteView`,components:{Card:m,CardHeader:_,CardTitle:v,CardDescription:g,CardContent:h,Button:b,Input:x,Label:S,BackgroundAnimation:y},data(){return{loading:!1,password:``,confirmPassword:``}},async mounted(){try{let{token:e}=await c.IndexedDB.get(`SeamlesslyDB`,`UserStore`,`passwordResetAuthorization`)}catch{this.$router.push(`/password-reset`)}},methods:{async changePassword(){this.loading=!0;let e=s();try{await p.completePasswordReset(this.password),e.toast({message:`Your new password is set.<br/>Login to your account.`,duration:5e3,type:`dark`}),setTimeout(()=>{this.$router.push(`/login`)},3e3)}catch(t){e.toast({message:t.message,duration:5e3,type:`error`})}this.loading=!1}}},w={class:`min-h-screen flex items-center justify-center relative bg-stone-100 overflow-hidden`},T={class:`grid grid-cols-1 md:grid-cols-2 gap-4`},E={class:`flex justify-between items-center`},D={class:`flex items-center gap-2 mt-2`},O={class:`flex justify-between items-center`},k={class:`flex items-center gap-2 mt-2`},A={class:`flex justify-end`},j={key:0},M={key:1};function N(i,s,c,p,m,h){let g=e(`BackgroundAnimation`),_=e(`CardTitle`),v=e(`CardDescription`),y=e(`CardHeader`),b=e(`Label`),x=e(`Input`),S=e(`Button`),C=e(`CardContent`),N=e(`Card`);return r(),t(`div`,w,[n(g),n(N,{class:`relative z-10 w-full max-w-3xl rounded-2xl shadow-sm border-solid border-slate-50 backdrop-blur bg-white/80`},{default:l(()=>[n(y,{class:`space-y-2`},{default:l(()=>[n(_,{class:`text-2xl font-semibold`},{default:l(()=>[...s[3]||=[u(`Secure your account`,-1)]]),_:1}),n(v,null,{default:l(()=>[...s[4]||=[u(`Set a stronger password to protect your account.`,-1)]]),_:1})]),_:1}),n(C,null,{default:l(()=>[f(`form`,{onSubmit:s[2]||=o((...e)=>h.changePassword&&h.changePassword(...e),[`prevent`]),class:`space-y-6`},[f(`div`,T,[f(`div`,null,[f(`div`,E,[n(b,{for:`password`},{default:l(()=>[...s[5]||=[u(`Password`,-1)]]),_:1}),f(`i`,{class:a([`fa`,m.password.length>7?`text-green-600 fa-check-circle`:``])},null,2)]),f(`div`,D,[n(x,{id:`password`,modelValue:m.password,"onUpdate:modelValue":s[0]||=e=>m.password=e,type:`password`,required:``,placeholder:`********`,disabled:m.loading,class:`flex-1 rounded-full`},null,8,[`modelValue`,`disabled`])])]),f(`div`,null,[f(`div`,O,[n(b,{for:`confirmPassword`},{default:l(()=>[...s[6]||=[u(`Confirm Password`,-1)]]),_:1}),m.confirmPassword?(r(),t(`i`,{key:0,class:a([`fa`,m.password===m.confirmPassword?`text-green-600 fa-check-circle`:`text-gray-400 fa-times-circle`])},null,2)):d(``,!0)]),f(`div`,k,[n(x,{id:`confirmPassword`,modelValue:m.confirmPassword,"onUpdate:modelValue":s[1]||=e=>m.confirmPassword=e,type:`password`,required:``,placeholder:`********`,disabled:m.loading,class:`flex-1 rounded-full`},null,8,[`modelValue`,`disabled`])])])]),s[7]||=f(`div`,{class:`space-y-2 text-gray-800`},[f(`p`,{class:`font-medium`},`Please follow this guide for a strong password:`),f(`ul`,{class:`list-decimal list-inside text-sm space-y-1`},[f(`li`,null,`Use two special characters (examples: #, @, â‚¦, &)`),f(`li`,null,`Use a minimum of eight (8) characters`),f(`li`,null,`Use at least one (1) number`),f(`li`,null,`Change it often`)])],-1),f(`div`,A,[n(S,{type:`submit`,class:`rounded-full bg-black text-white hover:bg-gray-800`,disabled:!m.password||m.password!==m.confirmPassword||m.loading},{default:l(()=>[m.loading?(r(),t(`span`,M,`Processing...`)):(r(),t(`span`,j,`Complete`))]),_:1},8,[`disabled`])])],32)]),_:1})]),_:1})])}var P=i(C,[[`render`,N]]);export{P as default};