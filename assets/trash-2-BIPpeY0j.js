import{At as e,Bt as t,K as n,O as r,P as i,St as a,Tt as o,Vt as s,Wt as c,Xt as l,Zt as u,h as d,hn as f,ht as p,ln as m,nn as h,pn as g,rt as _,tn as v,wt as y,zt as b}from"./index-DRwhOcbi.js";var[x,S]=_(`AvatarRoot`),C=e({__name:`AvatarRoot`,props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:`span`}},setup(e){return i(),S({imageLoadingStatus:m(`idle`)}),(e,t)=>(s(),y(f(r),{"as-child":e.asChild,as:e.as},{default:v(()=>[c(e.$slots,`default`)]),_:3},8,[`as-child`,`as`]))}}),w=e({__name:`AvatarFallback`,props:{delayMs:{type:Number,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:`span`}},setup(e){let t=e,a=x();i();let l=m(t.delayMs===void 0);return u(e=>{if(t.delayMs&&n){let n=window.setTimeout(()=>{l.value=!0},t.delayMs);e(()=>{window.clearTimeout(n)})}}),(e,t)=>l.value&&f(a).imageLoadingStatus.value!==`loaded`?(s(),y(f(r),{key:0,"as-child":e.asChild,as:e.as},{default:v(()=>[c(e.$slots,`default`)]),_:3},8,[`as-child`,`as`])):o(`v-if`,!0)}});function T(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?`loaded`:`loading`):`error`:`idle`}function E(e,{referrerPolicy:r,crossOrigin:i}={}){let o=m(!1),s=m(null),c=a(()=>o.value?(!s.value&&n&&(s.value=new window.Image),s.value):null),l=m(T(c.value,e.value)),d=e=>()=>{o.value&&(l.value=e)};return b(()=>{o.value=!0,u(t=>{let n=c.value;if(!n)return;l.value=T(n,e.value);let a=d(`loaded`),o=d(`error`);n.addEventListener(`load`,a),n.addEventListener(`error`,o),r?.value&&(n.referrerPolicy=r.value),typeof i?.value==`string`&&(n.crossOrigin=i.value),t(()=>{n.removeEventListener(`load`,a),n.removeEventListener(`error`,o)})})}),t(()=>{o.value=!1}),l}var D=e({__name:`AvatarImage`,props:{src:{type:String,required:!0},referrerPolicy:{type:null,required:!1},crossOrigin:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:`img`}},emits:[`loadingStatusChange`],setup(e,{emit:t}){let n=e,a=t,{src:o,referrerPolicy:u,crossOrigin:d}=g(n);i();let m=x(),_=E(o,{referrerPolicy:u,crossOrigin:d});return l(_,e=>{a(`loadingStatusChange`,e),e!==`idle`&&(m.imageLoadingStatus.value=e)},{immediate:!0}),(e,t)=>h((s(),y(f(r),{role:`img`,"as-child":e.asChild,as:e.as,src:f(o),"referrer-policy":f(u)},{default:v(()=>[c(e.$slots,`default`)]),_:3},8,[`as-child`,`as`,`src`,`referrer-policy`])),[[p,f(_)===`loaded`]])}}),O=d(`trash-2`,[[`path`,{d:`M10 11v6`,key:`nco0om`}],[`path`,{d:`M14 11v6`,key:`outv1u`}],[`path`,{d:`M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6`,key:`miytrc`}],[`path`,{d:`M3 6h18`,key:`d0wm0j`}],[`path`,{d:`M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2`,key:`e791ji`}]]);export{C as i,D as n,w as r,O as t};