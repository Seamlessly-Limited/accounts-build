import{t as e}from"./useId-D49Isxay.js";import{a as t,i as n,r}from"./utils-BngY0H0a.js";import{n as i}from"./RovingFocusGroup-BE-sAXeo.js";import{Di as a,Dr as o,Gi as s,Ii as c,Ki as l,Pi as u,Ui as d,Xi as f,_r as p,ki as m,qi as h,sa as g,xa as _}from"./index-DUz5oLRf.js";var v=c({__name:`RovingFocusItem`,props:{tabStopId:{type:String,required:!1},focusable:{type:Boolean,required:!1,default:!0},active:{type:Boolean,required:!1},allowShiftKey:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:`span`}},setup(c){let v=c,y=i(),b=e(),x=a(()=>v.tabStopId||b),S=a(()=>y.currentTabStopId.value===x.value),{getItems:C,CollectionItem:w}=p();s(()=>{v.focusable&&y.onFocusableItemAdd()}),l(()=>{v.focusable&&y.onFocusableItemRemove()});function T(e){if(e.key===`Tab`&&e.shiftKey){y.onItemShiftTab();return}if(e.target!==e.currentTarget)return;let i=n(e,y.orientation.value,y.dir.value);if(i!==void 0){if(e.metaKey||e.ctrlKey||e.altKey||!v.allowShiftKey&&e.shiftKey)return;e.preventDefault();let n=[...C().map(e=>e.ref).filter(e=>e.dataset.disabled!==``)];if(i===`last`)n.reverse();else if(i===`prev`||i===`next`){i===`prev`&&n.reverse();let r=n.indexOf(e.currentTarget);n=y.loop.value?t(n,r+1):n.slice(r+1)}d(()=>r(n))}}return(e,t)=>(h(),m(_(w),null,{default:g(()=>[u(_(o),{tabindex:S.value?0:-1,"data-orientation":_(y).orientation.value,"data-active":e.active?``:void 0,"data-disabled":e.focusable?void 0:``,as:e.as,"as-child":e.asChild,onMousedown:t[0]||=t=>{e.focusable?_(y).onItemFocus(x.value):t.preventDefault()},onFocus:t[1]||=e=>_(y).onItemFocus(x.value),onKeydown:T},{default:g(()=>[f(e.$slots,`default`)]),_:3},8,[`tabindex`,`data-orientation`,`data-active`,`data-disabled`,`as`,`as-child`])]),_:3}))}});export{v as t};