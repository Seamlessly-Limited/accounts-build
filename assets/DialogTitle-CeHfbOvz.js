import{B as e,D as t,F as n,I as r,R as i,T as a,U as o,X as s,_t as c,b as l,bt as u,dt as d,et as f,g as p,ht as m,k as h,lt as g,x as _}from"./index-BbbjTprl.js";import{t as v}from"./createLucideIcon-CKY3DUp-.js";import{c as y,l as ee,o as b,r as x}from"./VisuallyHidden-CYcIbhM-.js";import{i as S,r as C,t as w}from"./DismissableLayer-a2AZoZrg.js";import{n as T}from"./dist-rCl7Sutb.js";import{h as E,p as te,s as ne,t as D,u as O}from"./useForwardExpose-Bmr5sraL.js";import{t as k}from"./Presence-THlJe_1r.js";var A=v(`x`,[[`path`,{d:`M18 6 6 18`,key:`1bl5f8`}],[`path`,{d:`m6 6 12 12`,key:`d8bk6v`}]]),[j,M]=ee(`DialogRoot`),N=t({inheritAttrs:!1,__name:`DialogRoot`,props:{open:{type:Boolean,required:!1,default:void 0},defaultOpen:{type:Boolean,required:!1,default:!1},modal:{type:Boolean,required:!1,default:!0}},emits:[`update:open`],setup(e,{emit:t}){let n=e,r=O(n,`open`,t,{defaultValue:n.defaultOpen,passive:n.open===void 0}),i=d(),a=d(),{modal:s}=m(n);return M({open:r,modal:s,openModal:()=>{r.value=!0},onOpenChange:e=>{r.value=e},onOpenToggle:()=>{r.value=!r.value},contentId:``,titleId:``,descriptionId:``,triggerElement:i,contentElement:a}),(e,t)=>o(e.$slots,`default`,{open:c(r),close:()=>r.value=!1})}}),P=t({__name:`DialogClose`,props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:`button`}},setup(t){let r=t;D();let i=j();return(t,a)=>(e(),l(c(T),n(r,{type:t.as===`button`?`button`:void 0,onClick:a[0]||=e=>c(i).onOpenChange(!1)}),{default:f(()=>[o(t.$slots,`default`)]),_:3},16,[`type`]))}}),re=te(()=>d([]));function ie(){let e=re();return{add(t){let n=e.value[0];t!==n&&n?.pause(),e.value=F(e.value,t),e.value.unshift(t)},remove(t){e.value=F(e.value,t),e.value[0]?.resume()}}}function F(e,t){let n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function I(e){return e.filter(e=>e.tagName!==`A`)}var L=`focusScope.autoFocusOnMount`,R=`focusScope.autoFocusOnUnmount`,z={bubbles:!1,cancelable:!0};function B(e,{select:t=!1}={}){let n=y();for(let r of e)if(K(r,{select:t}),y()!==n)return!0}function V(e){let t=H(e),n=U(t,e),r=U(t.reverse(),e);return[n,r]}function H(e){let t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{let t=e.tagName===`INPUT`&&e.type===`hidden`;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function U(e,t){for(let n of e)if(!W(n,{upTo:t}))return n}function W(e,{upTo:t}){if(getComputedStyle(e).visibility===`hidden`)return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display===`none`)return!0;e=e.parentElement}return!1}function G(e){return e instanceof HTMLInputElement&&`select`in e}function K(e,{select:t=!1}={}){if(e&&e.focus){let n=y();e.focus({preventScroll:!0}),e!==n&&G(e)&&t&&e.select()}}var q=t({__name:`FocusScope`,props:{loop:{type:Boolean,required:!1,default:!1},trapped:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:[`mountAutoFocus`,`unmountAutoFocus`],setup(t,{emit:n}){let i=t,a=n,{currentRef:u,currentElement:p}=D(),m=d(null),h=ie(),_=g({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}});s(e=>{if(!E)return;let t=p.value;if(!i.trapped)return;function n(e){if(_.paused||!t)return;let n=e.target;t.contains(n)?m.value=n:K(m.value,{select:!0})}function r(e){if(_.paused||!t)return;let n=e.relatedTarget;n!==null&&(t.contains(n)||K(m.value,{select:!0}))}function a(e){t.contains(m.value)||K(t)}document.addEventListener(`focusin`,n),document.addEventListener(`focusout`,r);let o=new MutationObserver(a);t&&o.observe(t,{childList:!0,subtree:!0}),e(()=>{document.removeEventListener(`focusin`,n),document.removeEventListener(`focusout`,r),o.disconnect()})}),s(async e=>{let t=p.value;if(await r(),!t)return;h.add(_);let n=y();if(!t.contains(n)){let e=new CustomEvent(L,z);t.addEventListener(L,e=>a(`mountAutoFocus`,e)),t.dispatchEvent(e),e.defaultPrevented||(B(I(H(t)),{select:!0}),y()===n&&K(t))}e(()=>{t.removeEventListener(L,e=>a(`mountAutoFocus`,e));let e=new CustomEvent(R,z),r=e=>{a(`unmountAutoFocus`,e)};t.addEventListener(R,r),t.dispatchEvent(e),setTimeout(()=>{e.defaultPrevented||K(n??document.body,{select:!0}),t.removeEventListener(R,r),h.remove(_)},0)})});function v(e){if(!i.loop&&!i.trapped||_.paused)return;let t=e.key===`Tab`&&!e.altKey&&!e.ctrlKey&&!e.metaKey,n=y();if(t&&n){let t=e.currentTarget,[r,a]=V(t);r&&a?!e.shiftKey&&n===a?(e.preventDefault(),i.loop&&K(r,{select:!0})):e.shiftKey&&n===r&&(e.preventDefault(),i.loop&&K(a,{select:!0})):n===t&&e.preventDefault()}}return(t,n)=>(e(),l(c(T),{ref_key:`currentRef`,ref:u,tabindex:`-1`,"as-child":t.asChild,as:t.as,onKeydown:v},{default:f(()=>[o(t.$slots,`default`)]),_:3},8,[`as-child`,`as`]))}}),J=`menu.itemSelect`,Y=[`Enter`,` `],ae=[`ArrowDown`,`PageUp`,`Home`],X=[`ArrowUp`,`PageDown`,`End`],oe=[...ae,...X];[...Y],[...Y];function Z(e){return e?`open`:`closed`}function se(e){let t=y();for(let n of e)if(n===t||(n.focus(),y()!==t))return}function ce(e,t){let{x:n,y:r}=e,i=!1;for(let e=0,a=t.length-1;e<t.length;a=e++){let o=t[e].x,s=t[e].y,c=t[a].x,l=t[a].y;s>r!=l>r&&n<(c-o)*(r-s)/(l-s)+o&&(i=!i)}return i}function le(e,t){if(!t)return!1;let n={x:e.clientX,y:e.clientY};return ce(n,t)}function ue(e){return e.pointerType===`mouse`}var Q=t({__name:`DialogContentImpl`,props:{forceMount:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:[`escapeKeyDown`,`pointerDownOutside`,`focusOutside`,`interactOutside`,`openAutoFocus`,`closeAutoFocus`],setup(t,{emit:r}){let s=t,u=r,d=j(),{forwardRef:p,currentElement:m}=D();return d.titleId||=x(void 0,`reka-dialog-title`),d.descriptionId||=x(void 0,`reka-dialog-description`),i(()=>{d.contentElement=m,y()!==document.body&&(d.triggerElement.value=y())}),(t,r)=>(e(),l(c(q),{"as-child":``,loop:``,trapped:s.trapFocus,onMountAutoFocus:r[5]||=e=>u(`openAutoFocus`,e),onUnmountAutoFocus:r[6]||=e=>u(`closeAutoFocus`,e)},{default:f(()=>[a(c(w),n({id:c(d).contentId,ref:c(p),as:t.as,"as-child":t.asChild,"disable-outside-pointer-events":t.disableOutsidePointerEvents,role:`dialog`,"aria-describedby":c(d).descriptionId,"aria-labelledby":c(d).titleId,"data-state":c(Z)(c(d).open.value)},t.$attrs,{onDismiss:r[0]||=e=>c(d).onOpenChange(!1),onEscapeKeyDown:r[1]||=e=>u(`escapeKeyDown`,e),onFocusOutside:r[2]||=e=>u(`focusOutside`,e),onInteractOutside:r[3]||=e=>u(`interactOutside`,e),onPointerDownOutside:r[4]||=e=>u(`pointerDownOutside`,e)}),{default:f(()=>[o(t.$slots,`default`)]),_:3},16,[`id`,`as`,`as-child`,`disable-outside-pointer-events`,`aria-describedby`,`aria-labelledby`,`data-state`])]),_:3},8,[`trapped`]))}}),de=t({__name:`DialogContentModal`,props:{forceMount:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:[`escapeKeyDown`,`pointerDownOutside`,`focusOutside`,`interactOutside`,`openAutoFocus`,`closeAutoFocus`],setup(t,{emit:r}){let i=t,a=r,s=j(),u=b(a),{forwardRef:d,currentElement:p}=D();return C(p),(t,r)=>(e(),l(Q,n({...i,...c(u)},{ref:c(d),"trap-focus":c(s).open.value,"disable-outside-pointer-events":!0,onCloseAutoFocus:r[0]||=e=>{e.defaultPrevented||(e.preventDefault(),c(s).triggerElement.value?.focus())},onPointerDownOutside:r[1]||=e=>{let t=e.detail.originalEvent,n=t.button===0&&t.ctrlKey===!0;(t.button===2||n)&&e.preventDefault()},onFocusOutside:r[2]||=e=>{e.preventDefault()}}),{default:f(()=>[o(t.$slots,`default`)]),_:3},16,[`trap-focus`]))}}),fe=t({__name:`DialogContentNonModal`,props:{forceMount:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:[`escapeKeyDown`,`pointerDownOutside`,`focusOutside`,`interactOutside`,`openAutoFocus`,`closeAutoFocus`],setup(t,{emit:r}){let i=t,a=b(r);D();let s=j(),u=d(!1),p=d(!1);return(t,r)=>(e(),l(Q,n({...i,...c(a)},{"trap-focus":!1,"disable-outside-pointer-events":!1,onCloseAutoFocus:r[0]||=e=>{e.defaultPrevented||(u.value||c(s).triggerElement.value?.focus(),e.preventDefault()),u.value=!1,p.value=!1},onInteractOutside:r[1]||=e=>{e.defaultPrevented||(u.value=!0,e.detail.originalEvent.type===`pointerdown`&&(p.value=!0));let t=e.target;c(s).triggerElement.value?.contains(t)&&e.preventDefault(),e.detail.originalEvent.type===`focusin`&&p.value&&e.preventDefault()}}),{default:f(()=>[o(t.$slots,`default`)]),_:3},16))}}),pe=t({__name:`DialogContent`,props:{forceMount:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:[`escapeKeyDown`,`pointerDownOutside`,`focusOutside`,`interactOutside`,`openAutoFocus`,`closeAutoFocus`],setup(t,{emit:r}){let i=t,a=r,s=j(),u=b(a),{forwardRef:d}=D();return(t,r)=>(e(),l(c(k),{present:t.forceMount||c(s).open.value},{default:f(()=>[c(s).modal.value?(e(),l(de,n({key:0,ref:c(d)},{...i,...c(u),...t.$attrs}),{default:f(()=>[o(t.$slots,`default`)]),_:3},16)):(e(),l(fe,n({key:1,ref:c(d)},{...i,...c(u),...t.$attrs}),{default:f(()=>[o(t.$slots,`default`)]),_:3},16))]),_:3},8,[`present`]))}}),me=t({__name:`DialogDescription`,props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:`p`}},setup(t){let r=t;D();let i=j();return(t,a)=>(e(),l(c(T),n(r,{id:c(i).descriptionId}),{default:f(()=>[o(t.$slots,`default`)]),_:3},16,[`id`]))}}),he=t({__name:`DialogOverlayImpl`,props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(t){let n=j();return S(!0),D(),(t,r)=>(e(),l(c(T),{as:t.as,"as-child":t.asChild,"data-state":c(n).open.value?`open`:`closed`,style:{"pointer-events":`auto`}},{default:f(()=>[o(t.$slots,`default`)]),_:3},8,[`as`,`as-child`,`data-state`]))}}),ge=t({__name:`DialogOverlay`,props:{forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(t){let r=j(),{forwardRef:i}=D();return(t,s)=>c(r)?.modal.value?(e(),l(c(k),{key:0,present:t.forceMount||c(r).open.value},{default:f(()=>[a(he,n(t.$attrs,{ref:c(i),as:t.as,"as-child":t.asChild}),{default:f(()=>[o(t.$slots,`default`)]),_:3},16,[`as`,`as-child`])]),_:3},8,[`present`])):_(`v-if`,!0)}}),$=t({__name:`Teleport`,props:{to:{type:null,required:!1,default:`body`},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(t){let n=ne();return(t,r)=>c(n)||t.forceMount?(e(),l(p,{key:0,to:t.to,disabled:t.disabled,defer:t.defer},[o(t.$slots,`default`)],8,[`to`,`disabled`,`defer`])):_(`v-if`,!0)}}),_e=t({__name:`DialogPortal`,props:{to:{type:null,required:!1},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(t){let n=t;return(t,r)=>(e(),l(c($),u(h(n)),{default:f(()=>[o(t.$slots,`default`)]),_:3},16))}}),ve=t({__name:`DialogTitle`,props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:`h2`}},setup(t){let r=t,i=j();return D(),(t,a)=>(e(),l(c(T),n(r,{id:c(i).titleId}),{default:f(()=>[o(t.$slots,`default`)]),_:3},16,[`id`]))}});export{H as _,me as a,A as b,J as c,se as d,Z as f,B as g,q as h,ge as i,X as l,le as m,_e as n,pe as o,ue as p,$ as r,oe as s,ve as t,Y as u,P as v,N as y};