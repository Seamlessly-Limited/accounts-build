import{Ai as e,Bi as t,Cr as n,Dr as r,Er as i,Hr as a,Lr as o,Ni as s,Or as c,Pi as l,Sr as u,Ta as d,Tr as f,Yr as p,Zi as m,_a as h,ai as g,da as _,ea as v,jr as y,qi as b,qr as x,sa as S,wr as C,ya as w}from"./index-CHNvwQRL.js";var T=x(()=>w([]));function E(){let e=T();return{add(t){let n=e.value[0];t!==n&&n?.pause(),e.value=D(e.value,t),e.value.unshift(t)},remove(t){e.value=D(e.value,t),e.value[0]?.resume()}}}function D(e,t){let n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function O(e){return e.filter(e=>e.tagName!==`A`)}var k=t({__name:`FocusScope`,props:{loop:{type:Boolean,required:!1,default:!1},trapped:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:[`mountAutoFocus`,`unmountAutoFocus`],setup(e,{emit:t}){let a=e,l=t,{currentRef:x,currentElement:T}=o(),D=w(null),k=E(),A=h({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}});S(e=>{if(!p)return;let t=T.value;if(!a.trapped)return;function n(e){if(A.paused||!t)return;let n=e.target;t.contains(n)?D.value=n:f(D.value,{select:!0})}function r(e){if(A.paused||!t)return;let n=e.relatedTarget;n!==null&&(t.contains(n)||f(D.value,{select:!0}))}function i(e){t.contains(D.value)||f(t)}document.addEventListener(`focusin`,n),document.addEventListener(`focusout`,r);let o=new MutationObserver(i);t&&o.observe(t,{childList:!0,subtree:!0}),e(()=>{document.removeEventListener(`focusin`,n),document.removeEventListener(`focusout`,r),o.disconnect()})}),S(async e=>{let t=T.value;if(await b(),!t)return;k.add(A);let a=g();if(!t.contains(a)){let e=new CustomEvent(u,C);t.addEventListener(u,e=>l(`mountAutoFocus`,e)),t.dispatchEvent(e),e.defaultPrevented||(i(O(r(t)),{select:!0}),g()===a&&f(t))}e(()=>{t.removeEventListener(u,e=>l(`mountAutoFocus`,e));let e=new CustomEvent(n,C),r=e=>{l(`unmountAutoFocus`,e)};t.addEventListener(n,r),t.dispatchEvent(e),setTimeout(()=>{e.defaultPrevented||f(a??document.body,{select:!0}),t.removeEventListener(n,r),k.remove(A)},0)})});function j(e){if(!a.loop&&!a.trapped||A.paused)return;let t=e.key===`Tab`&&!e.altKey&&!e.ctrlKey&&!e.metaKey,n=g();if(t&&n){let t=e.currentTarget,[r,i]=c(t);r&&i?!e.shiftKey&&n===i?(e.preventDefault(),a.loop&&f(r,{select:!0})):e.shiftKey&&n===r&&(e.preventDefault(),a.loop&&f(i,{select:!0})):n===t&&e.preventDefault()}}return(e,t)=>(m(),s(d(y),{ref_key:`currentRef`,ref:x,tabindex:`-1`,"as-child":e.asChild,as:e.as,onKeydown:j},{default:_(()=>[v(e.$slots,`default`)]),_:3},8,[`as-child`,`as`]))}}),A=t({__name:`Teleport`,props:{to:{type:null,required:!1,default:`body`},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(t){let n=a();return(t,r)=>d(n)||t.forceMount?(m(),s(e,{key:0,to:t.to,disabled:t.disabled,defer:t.defer},[v(t.$slots,`default`)],8,[`to`,`disabled`,`defer`])):l(`v-if`,!0)}});export{k as n,A as t};