import"./utils-D0P48fSI.js";import"./useNonce-CH1qV__9.js";import"./nullish-CfjOSA4G.js";import"./ConfigProvider-XiUduj9F.js";import"./useHideOthers-CxE1lvmV.js";import"./useDirection-DfJQtSIT.js";import"./chevron-up-DRtU5Xt9.js";import"./useId-NOzKS8cd.js";import"./PopperContent-Hmi-1dxb.js";import"./Teleport-r2kxWe0I.js";import"./RovingFocusGroup-CWQj4uDm.js";import"./RovingFocusItem-C4VLrMOn.js";import{t as e}from"./SelectGroup-CxQ4QH0P.js";import{a as t,i as n,l as r,n as i,o as a,r as o,s,t as ee,u as te}from"./SelectValue-Bn6qqc_E.js";import{t as ne}from"./chart-no-axes-column-increasing-Cqt2OFh3.js";import{t as c}from"./check-LjLkxBRc.js";import{n as l,t as re}from"./user-CD4yWplz.js";import{t as u}from"./loader-circle-Z0AQTysD.js";import{t as ie}from"./user-plus-CadaHABo.js";import{At as d,Cn as f,Ct as p,Dt as m,Et as h,Gt as g,Mt as _,Nt as v,Ot as y,Sn as ae,Ut as b,a as oe,an as x,bn as S,en as se,h as C,kt as ce,n as le,pn as w,qt as T,r as E,t as ue,yn as D}from"./index-NPUXaZ2c.js";import{t as de}from"./OrganisationService-nBJZTG-F.js";import"./button-CWY_tBUh.js";import{t as O}from"./Card-CkOm-d7D.js";import{t as k}from"./BankAccountService-Dc6RuTOj.js";import{t as A}from"./TransactionService-BR4FSpsE.js";var j=C(`activity`,[[`path`,{d:`M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2`,key:`169zse`}]]),M=C(`arrow-down-left`,[[`path`,{d:`M17 7 7 17`,key:`15tmo1`}],[`path`,{d:`M17 17H7V7`,key:`1org7z`}]]),N=C(`arrow-up-right`,[[`path`,{d:`M7 7h10v10`,key:`1tivn9`}],[`path`,{d:`M7 17 17 7`,key:`1vkiza`}]]),P=C(`link-2`,[[`path`,{d:`M9 17H7A5 5 0 0 1 7 7h2`,key:`8i5ue5`}],[`path`,{d:`M15 7h2a5 5 0 1 1 0 10h-2`,key:`1b9ql8`}],[`line`,{x1:`8`,x2:`16`,y1:`12`,y2:`12`,key:`1jonct`}]]),F=C(`map-pin`,[[`path`,{d:`M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0`,key:`1r0f0z`}],[`circle`,{cx:`12`,cy:`10`,r:`3`,key:`ilqhr7`}]]),I=`/org/logs`,L={getLogs(e){return oe.get(I,{query:e,organisationAware:!0,authorizeRequest:!0})}},R={class:`rounded-sm`},z={class:`container mx-auto py-5 relative`},B={class:`flex justify-center`},V={class:`flex flex-col md:flex-row gap-8 space-y-6`},H={class:`flex-1`},fe={class:`flex flex-col gap-8`},pe={class:`block md:hidden mb-6`},me={class:`min-h-[220px] flex items-center justify-center text-slate-500`},he={class:`flex flex-col md:flex-row gap-4 w-full px-0`},ge={class:`grid grid-cols-1 sm:grid-cols-2 gap-4 w-full`},_e={class:`md:min-w-[375px]`},ve={class:`flex items-center justify-between`},ye={class:`text-right`},be={class:`rounded-full size-10 text-xs bg-blue-300 text-white flex items-center justify-center`},xe={class:`space-y-10`},Se={class:`flex-1 cursor-pointer`},Ce={class:`flex items-center justify-between`},we={class:`font-medium text-slate-700`},Te={class:`text-sm text-slate-500`},Ee={class:`pt-1`},De={key:0,class:`rounded-full w-6 h-6 bg-blue-500 text-white flex items-center justify-center`},Oe={key:1,class:`rounded-full w-6 h-6 bg-slate-200 text-slate-500 flex items-center justify-center`},ke={class:`space-y-4`},Ae={key:0,class:`flex items-end gap-1 h-32`},je=[`title`],Me={key:1,class:`h-32 flex items-center justify-center text-slate-400`},U={key:0,class:`flex justify-center py-8`},Ne={key:1,class:`text-center py-8`},Pe={key:2,class:`space-y-3`},Fe={class:`flex items-center gap-3`},Ie={class:`font-medium text-slate-700 line-clamp-1`},Le={class:`text-sm text-slate-500`},Re={class:`space-y-6`},ze={key:0,class:`flex justify-center py-8`},Be={key:1,class:`text-center py-8`},Ve={key:2,class:`relative`},He={class:`space-y-4`},Ue={class:`bg-slate-50 rounded-lg p-4`},We={class:`flex items-start justify-between`},Ge={class:`font-medium text-slate-700`},Ke={class:`text-sm text-slate-500 mt-1`},qe={class:`inline-flex items-center gap-1`},Je={class:`text-xs text-slate-400`},Ye={key:0,class:`mt-2`},Xe={class:`inline-flex items-center px-2 py-0.5 rounded-full text-xs bg-slate-200 text-slate-600`},W=E({__name:`Overview`,setup(oe){let C=le();ue();let E=w(`overview`),I=w({}),W=w([]),G=w(!1),K=w([]),q=w(!1),J=w([]),Y=w([]),X=w([{key:`team`,title:`Add team members`,description:`Invite collaborators`,done:!1,action:`team`},{key:`connect`,title:`Connect accounts`,description:`Link banking or accounting`,done:!1,action:`connect`},{key:`jurisdiction`,title:`Set jurisdiction`,description:`Confirm tax jurisdiction`,done:!1,action:`jurisdiction`},{key:`reporting`,title:`Generate report`,description:`Confirm reporting preferences`,done:!1,action:`reporting`}]),Ze=h(()=>W.value.slice(0,20));function Qe(e){if(W.value.length===0)return 0;let t=Math.max(...W.value.map(e=>Math.abs(e.amount)));return t===0?0:Math.abs(e)/t*100}function Z(e){return new Intl.NumberFormat(`en-NG`,{style:`currency`,currency:`NGN`,minimumFractionDigits:0,maximumFractionDigits:0}).format(e)}function Q(e){return e?new Date(e).toLocaleDateString(`en-GB`,{day:`numeric`,month:`short`,year:`numeric`}):``}function $e(e){if(!e)return``;let t=new Date(e),n=new Date-t,r=Math.floor(n/6e4),i=Math.floor(n/36e5),a=Math.floor(n/864e5);return r<1?`Just now`:r<60?`${r}m ago`:i<24?`${i}h ago`:a<7?`${a}d ago`:Q(e)}async function et(){G.value=!0;try{let e=await A.getTransactions({size:20,page:0});W.value=e?.content||e||[]}catch(e){console.error(`Failed to load transactions:`,e),W.value=[]}finally{G.value=!1}}async function tt(){q.value=!0;try{let e=await L.getLogs({size:20,page:0});K.value=e?.content||e||[]}catch(e){console.error(`Failed to load logs:`,e),K.value=[]}finally{q.value=!1}}se(E,e=>{e===`transactions`&&W.value.length===0&&et(),e===`activity`&&K.value.length===0&&tt()}),b(async()=>{let[e,t]=await Promise.all([de.getMembers().catch(()=>[]),k.getBankAccounts().catch(()=>[])]);J.value=e||[],Y.value=t||[],nt()});function nt(){X.value=X.value.map(e=>{switch(e.key){case`team`:return{...e,done:J.value.length>1};case`connect`:return{...e,done:Y.value.length>0};case`jurisdiction`:return{...e,done:!!I.value?.jurisdiction};case`reporting`:return{...e,done:!!(I.value?.name&&I.value?.industry)};default:return e}})}let rt=h(()=>{let e=X.value.length,t=X.value.filter(e=>e.done).length;return Math.round(t/e*100)});function $(e){switch(e){case`team`:C.push(`/team`);break;case`accounts`:C.push(`/accounts`);break;case`jurisdiction`:C.push(`/jurisdiction`);break;case`settings`:case`edit`:C.push(`/settings/profile`);break;default:C.push(`/`)}}return(h,b)=>(g(),d(`div`,R,[m(`div`,z,[m(`div`,B,[v(D(O),{class:`w-full p-8 shadow-none border-none bg-transparent rounded-2xl min-h-[80vh]`},{default:x(()=>[m(`div`,V,[m(`div`,H,[b[30]||=m(`div`,{class:`flex flex-col sm:flex-row sm:justify-between w-full`},[m(`div`,null,[m(`h1`,{class:`text-2xl font-bold text-slate-800`},`Organisation Overview`),m(`p`,{class:`text-sm text-slate-600`},`Quick actions and charts for your workspace`)])],-1),m(`div`,fe,[m(`div`,pe,[v(D(t),{modelValue:E.value,"onUpdate:modelValue":b[0]||=e=>E.value=e},{default:x(()=>[v(D(i),{class:`w-full border rounded-xl py-2 px-3 text-sm`},{default:x(()=>[v(D(ee),{placeholder:`Select section`})]),_:1}),v(D(n),null,{default:x(()=>[v(D(e),null,{default:x(()=>[v(D(o),{value:`overview`},{default:x(()=>[...b[6]||=[_(`Overview`,-1)]]),_:1}),v(D(o),{value:`transactions`},{default:x(()=>[...b[7]||=[_(`Transactions`,-1)]]),_:1}),v(D(o),{value:`activity`},{default:x(()=>[...b[8]||=[_(`Activity`,-1)]]),_:1})]),_:1})]),_:1})]),_:1},8,[`modelValue`])]),v(D(te),{modelValue:E.value,"onUpdate:modelValue":b[5]||=e=>E.value=e,"default-value":`overview`,class:`mb-6 grid`},{default:x(()=>[b[28]||=m(`hr`,{class:`h-1 bg-slate-50 mt-10 mb-1 opacity-20`},null,-1),v(D(s),{class:`rounded-full bg-stone-100 text-blue-950 px-0.5 py-0.5 w-fit`},{default:x(()=>[v(D(a),{value:`overview`,class:`px-4 py-1 rounded-full data-[state=active]:bg-stone-50 data-[state=active]:text-blue-950`},{default:x(()=>[...b[9]||=[_(` Overview `,-1)]]),_:1}),v(D(a),{value:`transactions`,class:`px-4 py-1 rounded-full data-[state=active]:bg-stone-50 data-[state=active]:text-blue-950`},{default:x(()=>[...b[10]||=[_(` Transactions `,-1)]]),_:1}),v(D(a),{value:`activity`,class:`px-4 py-1 rounded-full data-[state=active]:bg-stone-50 data-[state=active]:text-blue-950`},{default:x(()=>[...b[11]||=[_(` Activity `,-1)]]),_:1})]),_:1}),b[29]||=m(`hr`,{class:`h-1 bg-slate-50 mb-10 mt-2 opacity-30`},null,-1),v(D(r),{value:`overview`,class:`mt-0`},{default:x(()=>[m(`div`,me,[m(`div`,he,[m(`div`,ge,[v(D(O),{class:`cursor-pointer hover:border-dashed p-5 flex items-start gap-4`,onClick:b[1]||=e=>$(`team`)},{default:x(()=>[v(D(ie),{class:`size-6 text-blue-500`}),b[12]||=m(`div`,null,[m(`h5`,{class:`font-semibold text-slate-700`},`Add a Team Member `),m(`p`,{class:`text-gray-600 text-sm`},`Invite collaborators to your organisation. `)],-1),v(D(l),{class:`ml-auto text-muted-foreground`})]),_:1}),v(D(O),{class:`cursor-pointer hover:border-dashed p-5 flex items-start gap-4`,onClick:b[2]||=e=>$(`accounts`)},{default:x(()=>[v(D(P),{class:`size-6 text-blue-500`}),b[13]||=m(`div`,null,[m(`h5`,{class:`font-semibold text-slate-700`},`Connect Accounts `),m(`p`,{class:`text-gray-600 text-sm`},`Link banking or accounting integrations. `)],-1),v(D(l),{class:`ml-auto text-muted-foreground`})]),_:1}),v(D(O),{class:`cursor-pointer hover:border-dashed p-5 flex items-start gap-4`,onClick:b[3]||=e=>$(`jurisdiction`)},{default:x(()=>[v(D(F),{class:`size-6 text-violet-500`}),b[14]||=m(`div`,null,[m(`h5`,{class:`font-semibold text-slate-700`},`Tax Jurisdiction `),m(`p`,{class:`text-gray-600 text-sm`},`View or change tax jurisdiction settings. `)],-1),v(D(l),{class:`ml-auto text-muted-foreground`})]),_:1}),v(D(O),{class:`cursor-pointer hover:border-dashed p-5 flex items-start gap-4`,onClick:b[4]||=e=>$(`settings`)},{default:x(()=>[v(D(ne),{class:`size-6 text-slate-700`}),b[15]||=m(`div`,null,[m(`h5`,{class:`font-semibold text-slate-700`},`Reporting`),m(`p`,{class:`text-gray-600 text-sm`},`Open quick reports and charts.`)],-1),v(D(l),{class:`ml-auto text-muted-foreground`})]),_:1})]),m(`aside`,_e,[v(D(O),{class:`p-6 sticky top-24`},{default:x(()=>[m(`div`,ve,[b[16]||=m(`div`,null,[m(`h4`,{class:`text-lg font-semibold text-slate-800`},`Setup Checklist `),m(`p`,{class:`text-sm text-slate-600`},`Complete these steps to finish setup `)],-1),m(`div`,ye,[m(`div`,be,f(rt.value)+`% `,1)])]),b[17]||=m(`hr`,{class:`mb-2`},null,-1),m(`div`,xe,[(g(!0),d(p,null,T(X.value,(e,t)=>(g(),d(`div`,{key:t,class:`flex items-start gap-3`},[m(`div`,Se,[m(`div`,Ce,[m(`div`,null,[m(`div`,we,f(e.title),1),m(`div`,Te,f(e.description),1)])])]),m(`div`,Ee,[e.done?(g(),d(`div`,De,[v(D(c),{class:`size-4`})])):(g(),d(`div`,Oe,f(t+1),1))])]))),128))])]),_:1})])])])]),_:1}),v(D(r),{value:`transactions`,class:`mt-0`},{default:x(()=>[m(`div`,ke,[v(D(O),{class:`p-6`},{default:x(()=>[b[19]||=m(`div`,{class:`flex items-center justify-between mb-4`},[m(`h3`,{class:`text-lg font-semibold text-slate-800`},`Inflow Overview `),m(`span`,{class:`text-sm text-slate-500`},`Last 20 transactions`)],-1),W.value.length>0?(g(),d(`div`,Ae,[(g(!0),d(p,null,T(Ze.value.reverse(),(e,t)=>(g(),d(`div`,{key:t,class:S([`flex-1 rounded-t transition-all hover:opacity-80`,e.type===`CREDIT`?`bg-green-600 border-b-4 border-green-600`:`bg-gradient-to-t from-rose-300 to-red-500 border-b-4 border-rose-900`]),style:ae({height:Qe(e.amount)+`%`}),title:`${Z(e.amount)} - ${e.description}`},null,14,je))),128))])):(g(),d(`div`,Me,[...b[18]||=[m(`span`,null,`No transaction data yet`,-1)]])),b[20]||=m(`div`,{class:`flex gap-4 mt-4 text-sm`},[m(`div`,{class:`flex items-center gap-2`},[m(`div`,{class:`w-3 h-3 rounded bg-green-600`}),m(`span`,{class:`text-slate-600`},`Inflow`)]),m(`div`,{class:`flex items-center gap-2`},[m(`div`,{class:`w-3 h-3 rounded bg-red-500`}),m(`span`,{class:`text-slate-600`},`Outflow`)])],-1)]),_:1}),v(D(O),{class:`p-6`},{default:x(()=>[b[22]||=m(`h3`,{class:`text-lg font-semibold text-slate-800 mb-4`},`Recent Transactions`,-1),G.value?(g(),d(`div`,U,[v(D(u),{class:`size-6 animate-spin text-slate-400`})])):W.value.length===0?(g(),d(`div`,Ne,[...b[21]||=[m(`div`,{class:`text-lg font-medium text-slate-700`},`No transactions yet `,-1),m(`p`,{class:`text-sm text-slate-500 mt-2`},`Connect a bank or import CSV to see transactions`,-1)]])):(g(),d(`div`,Pe,[(g(!0),d(p,null,T(W.value,e=>(g(),d(`div`,{key:e.id,class:`flex items-center justify-between p-3 rounded-lg hover:bg-slate-50 transition-colors`},[m(`div`,Fe,[m(`div`,{class:S([`w-10 h-10 rounded-full flex items-center justify-center`,e.type===`CREDIT`?`bg-emerald-100 text-emerald-600`:`bg-rose-100 text-rose-600`])},[e.type===`CREDIT`?(g(),y(D(M),{key:0,class:`size-5`})):(g(),y(D(N),{key:1,class:`size-5`}))],2),m(`div`,null,[m(`div`,Ie,f(e.description),1),m(`div`,Le,f(Q(e.transactionDate)),1)])]),m(`div`,{class:S([`font-semibold`,e.type===`CREDIT`?`text-emerald-600`:`text-rose-600`])},f(Z(e.amount)),3)]))),128))]))]),_:1})])]),_:1}),v(D(r),{value:`activity`,class:`mt-0`},{default:x(()=>[m(`div`,Re,[v(D(O),{class:`p-6`},{default:x(()=>[b[27]||=m(`h3`,{class:`text-lg font-semibold text-slate-800 mb-4`},`Recent Activity `,-1),q.value?(g(),d(`div`,ze,[v(D(u),{class:`size-6 animate-spin text-slate-400`})])):K.value.length===0?(g(),d(`div`,Be,[v(D(j),{class:`size-12 mx-auto text-slate-300 mb-4`}),b[23]||=m(`div`,{class:`text-lg font-medium text-slate-700`},`No activity yet `,-1),b[24]||=m(`p`,{class:`text-sm text-slate-500 mt-2`},`Activity will appear here as you use the platform`,-1)])):(g(),d(`div`,Ve,[b[26]||=m(`div`,{class:`absolute left-4 top-0 bottom-0 w-0.5 bg-slate-200`},null,-1),m(`div`,He,[(g(!0),d(p,null,T(K.value,e=>(g(),d(`div`,{key:e.id,class:`relative pl-10`},[b[25]||=m(`div`,{class:`absolute left-2.5 w-3 h-3 rounded-full bg-blue-500 border-2 border-white`},null,-1),m(`div`,Ue,[m(`div`,We,[m(`div`,null,[m(`div`,Ge,f(e.description),1),m(`div`,Ke,[m(`span`,qe,[v(D(re),{class:`size-3`}),_(` `+f(e.actorEmail),1)])])]),m(`span`,Je,f($e(e.createdAt)),1)]),e.resourceType?(g(),d(`div`,Ye,[m(`span`,Xe,f(e.resourceType),1)])):ce(``,!0)])]))),128))])]))]),_:1})])]),_:1})]),_:1},8,[`modelValue`])])])])]),_:1})])])]))}},[[`__scopeId`,`data-v-a8ae3192`]]);export{W as default};