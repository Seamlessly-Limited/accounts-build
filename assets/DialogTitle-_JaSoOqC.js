import{n as e,t}from"./useHideOthers-BwO_FU0k.js";import{t as n}from"./useId-Dh9pzOl8.js";import{At as r,B as i,C as a,Ct as o,D as s,E as c,F as l,G as u,H as d,I as f,It as p,Lt as m,Mt as ee,Ot as h,S as g,T as _,Vt as v,Wt as y,Zt as b,_n as te,b as x,bt as S,hn as C,j as w,k as T,ln as E,nt as D,pn as O,q as k,rt as A,sn as j,tn as M,w as ne,wt as N,x as P,zt as F}from"./index-DUYI2_g5.js";var[I,L]=A(`DialogRoot`),R=r({inheritAttrs:!1,__name:`DialogRoot`,props:{open:{type:Boolean,required:!1,default:void 0},defaultOpen:{type:Boolean,required:!1,default:!1},modal:{type:Boolean,required:!1,default:!0}},emits:[`update:open`],setup(e,{emit:t}){let n=e,r=d(n,`open`,t,{defaultValue:n.defaultOpen,passive:n.open===void 0}),i=E(),a=E(),{modal:o}=O(n);return L({open:r,modal:o,openModal:()=>{r.value=!0},onOpenChange:e=>{r.value=e},onOpenToggle:()=>{r.value=!r.value},contentId:``,titleId:``,descriptionId:``,triggerElement:i,contentElement:a}),(e,t)=>y(e.$slots,`default`,{open:C(r),close:()=>r.value=!1})}}),z=r({__name:`DialogClose`,props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:`button`}},setup(e){let t=e;l();let n=I();return(e,r)=>(v(),o(C(T),p(t,{type:e.as===`button`?`button`:void 0,onClick:r[0]||=e=>C(n).onOpenChange(!1)}),{default:M(()=>[y(e.$slots,`default`)]),_:3},16,[`type`]))}}),B=u(()=>E([]));function V(){let e=B();return{add(t){let n=e.value[0];t!==n&&n?.pause(),e.value=H(e.value,t),e.value.unshift(t)},remove(t){e.value=H(e.value,t),e.value[0]?.resume()}}}function H(e,t){let n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function U(e){return e.filter(e=>e.tagName!==`A`)}var W=r({__name:`FocusScope`,props:{loop:{type:Boolean,required:!1,default:!1},trapped:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:[`mountAutoFocus`,`unmountAutoFocus`],setup(e,{emit:t}){let n=e,r=t,{currentRef:i,currentElement:s}=l(),u=E(null),d=V(),f=j({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}});b(e=>{if(!k)return;let t=s.value;if(!n.trapped)return;function r(e){if(f.paused||!t)return;let n=e.target;t.contains(n)?u.value=n:a(u.value,{select:!0})}function i(e){if(f.paused||!t)return;let n=e.relatedTarget;n!==null&&(t.contains(n)||a(u.value,{select:!0}))}function o(e){t.contains(u.value)||a(t)}document.addEventListener(`focusin`,r),document.addEventListener(`focusout`,i);let c=new MutationObserver(o);t&&c.observe(t,{childList:!0,subtree:!0}),e(()=>{document.removeEventListener(`focusin`,r),document.removeEventListener(`focusout`,i),c.disconnect()})}),b(async e=>{let t=s.value;if(await m(),!t)return;d.add(f);let n=D();if(!t.contains(n)){let e=new CustomEvent(x,g);t.addEventListener(x,e=>r(`mountAutoFocus`,e)),t.dispatchEvent(e),e.defaultPrevented||(ne(U(_(t)),{select:!0}),D()===n&&a(t))}e(()=>{t.removeEventListener(x,e=>r(`mountAutoFocus`,e));let e=new CustomEvent(P,g),i=e=>{r(`unmountAutoFocus`,e)};t.addEventListener(P,i),t.dispatchEvent(e),setTimeout(()=>{e.defaultPrevented||a(n??document.body,{select:!0}),t.removeEventListener(P,i),d.remove(f)},0)})});function p(e){if(!n.loop&&!n.trapped||f.paused)return;let t=e.key===`Tab`&&!e.altKey&&!e.ctrlKey&&!e.metaKey,r=D();if(t&&r){let t=e.currentTarget,[i,o]=c(t);i&&o?!e.shiftKey&&r===o?(e.preventDefault(),n.loop&&a(i,{select:!0})):e.shiftKey&&r===i&&(e.preventDefault(),n.loop&&a(o,{select:!0})):r===t&&e.preventDefault()}}return(e,t)=>(v(),o(C(T),{ref_key:`currentRef`,ref:i,tabindex:`-1`,"as-child":e.asChild,as:e.as,onKeydown:p},{default:M(()=>[y(e.$slots,`default`)]),_:3},8,[`as-child`,`as`]))}}),G=`menu.itemSelect`,K=[`Enter`,` `],q=[`ArrowDown`,`PageUp`,`Home`],J=[`ArrowUp`,`PageDown`,`End`],Y=[...q,...J];[...K],[...K];function X(e){return e?`open`:`closed`}function re(e){let t=D();for(let n of e)if(n===t||(n.focus(),D()!==t))return}function ie(e,t){let{x:n,y:r}=e,i=!1;for(let e=0,a=t.length-1;e<t.length;a=e++){let o=t[e].x,s=t[e].y,c=t[a].x,l=t[a].y;s>r!=l>r&&n<(c-o)*(r-s)/(l-s)+o&&(i=!i)}return i}function ae(e,t){if(!t)return!1;let n={x:e.clientX,y:e.clientY};return ie(n,t)}function oe(e){return e.pointerType===`mouse`}var Z=r({__name:`DialogContentImpl`,props:{forceMount:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:[`escapeKeyDown`,`pointerDownOutside`,`focusOutside`,`interactOutside`,`openAutoFocus`,`closeAutoFocus`],setup(e,{emit:t}){let r=e,i=t,a=I(),{forwardRef:c,currentElement:u}=l();return a.titleId||=n(void 0,`reka-dialog-title`),a.descriptionId||=n(void 0,`reka-dialog-description`),F(()=>{a.contentElement=u,D()!==document.body&&(a.triggerElement.value=D())}),(e,t)=>(v(),o(C(W),{"as-child":``,loop:``,trapped:r.trapFocus,onMountAutoFocus:t[5]||=e=>i(`openAutoFocus`,e),onUnmountAutoFocus:t[6]||=e=>i(`closeAutoFocus`,e)},{default:M(()=>[h(C(s),p({id:C(a).contentId,ref:C(c),as:e.as,"as-child":e.asChild,"disable-outside-pointer-events":e.disableOutsidePointerEvents,role:`dialog`,"aria-describedby":C(a).descriptionId,"aria-labelledby":C(a).titleId,"data-state":C(X)(C(a).open.value)},e.$attrs,{onDismiss:t[0]||=e=>C(a).onOpenChange(!1),onEscapeKeyDown:t[1]||=e=>i(`escapeKeyDown`,e),onFocusOutside:t[2]||=e=>i(`focusOutside`,e),onInteractOutside:t[3]||=e=>i(`interactOutside`,e),onPointerDownOutside:t[4]||=e=>i(`pointerDownOutside`,e)}),{default:M(()=>[y(e.$slots,`default`)]),_:3},16,[`id`,`as`,`as-child`,`disable-outside-pointer-events`,`aria-describedby`,`aria-labelledby`,`data-state`])]),_:3},8,[`trapped`]))}}),se=r({__name:`DialogContentModal`,props:{forceMount:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:[`escapeKeyDown`,`pointerDownOutside`,`focusOutside`,`interactOutside`,`openAutoFocus`,`closeAutoFocus`],setup(e,{emit:n}){let r=e,i=n,a=I(),s=f(i),{forwardRef:c,currentElement:u}=l();return t(u),(e,t)=>(v(),o(Z,p({...r,...C(s)},{ref:C(c),"trap-focus":C(a).open.value,"disable-outside-pointer-events":!0,onCloseAutoFocus:t[0]||=e=>{e.defaultPrevented||(e.preventDefault(),C(a).triggerElement.value?.focus())},onPointerDownOutside:t[1]||=e=>{let t=e.detail.originalEvent,n=t.button===0&&t.ctrlKey===!0;(t.button===2||n)&&e.preventDefault()},onFocusOutside:t[2]||=e=>{e.preventDefault()}}),{default:M(()=>[y(e.$slots,`default`)]),_:3},16,[`trap-focus`]))}}),ce=r({__name:`DialogContentNonModal`,props:{forceMount:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:[`escapeKeyDown`,`pointerDownOutside`,`focusOutside`,`interactOutside`,`openAutoFocus`,`closeAutoFocus`],setup(e,{emit:t}){let n=e,r=f(t);l();let i=I(),a=E(!1),s=E(!1);return(e,t)=>(v(),o(Z,p({...n,...C(r)},{"trap-focus":!1,"disable-outside-pointer-events":!1,onCloseAutoFocus:t[0]||=e=>{e.defaultPrevented||(a.value||C(i).triggerElement.value?.focus(),e.preventDefault()),a.value=!1,s.value=!1},onInteractOutside:t[1]||=e=>{e.defaultPrevented||(a.value=!0,e.detail.originalEvent.type===`pointerdown`&&(s.value=!0));let t=e.target;C(i).triggerElement.value?.contains(t)&&e.preventDefault(),e.detail.originalEvent.type===`focusin`&&s.value&&e.preventDefault()}}),{default:M(()=>[y(e.$slots,`default`)]),_:3},16))}}),Q=r({__name:`DialogContent`,props:{forceMount:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:[`escapeKeyDown`,`pointerDownOutside`,`focusOutside`,`interactOutside`,`openAutoFocus`,`closeAutoFocus`],setup(e,{emit:t}){let n=e,r=t,i=I(),a=f(r),{forwardRef:s}=l();return(e,t)=>(v(),o(C(w),{present:e.forceMount||C(i).open.value},{default:M(()=>[C(i).modal.value?(v(),o(se,p({key:0,ref:C(s)},{...n,...C(a),...e.$attrs}),{default:M(()=>[y(e.$slots,`default`)]),_:3},16)):(v(),o(ce,p({key:1,ref:C(s)},{...n,...C(a),...e.$attrs}),{default:M(()=>[y(e.$slots,`default`)]),_:3},16))]),_:3},8,[`present`]))}}),le=r({__name:`DialogDescription`,props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:`p`}},setup(e){let t=e;l();let n=I();return(e,r)=>(v(),o(C(T),p(t,{id:C(n).descriptionId}),{default:M(()=>[y(e.$slots,`default`)]),_:3},16,[`id`]))}}),ue=r({__name:`DialogOverlayImpl`,props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(t){let n=I();return e(!0),l(),(e,t)=>(v(),o(C(T),{as:e.as,"as-child":e.asChild,"data-state":C(n).open.value?`open`:`closed`,style:{"pointer-events":`auto`}},{default:M(()=>[y(e.$slots,`default`)]),_:3},8,[`as`,`as-child`,`data-state`]))}}),de=r({__name:`DialogOverlay`,props:{forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){let t=I(),{forwardRef:n}=l();return(e,r)=>C(t)?.modal.value?(v(),o(C(w),{key:0,present:e.forceMount||C(t).open.value},{default:M(()=>[h(ue,p(e.$attrs,{ref:C(n),as:e.as,"as-child":e.asChild}),{default:M(()=>[y(e.$slots,`default`)]),_:3},16,[`as`,`as-child`])]),_:3},8,[`present`])):N(`v-if`,!0)}}),$=r({__name:`Teleport`,props:{to:{type:null,required:!1,default:`body`},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(e){let t=i();return(e,n)=>C(t)||e.forceMount?(v(),o(S,{key:0,to:e.to,disabled:e.disabled,defer:e.defer},[y(e.$slots,`default`)],8,[`to`,`disabled`,`defer`])):N(`v-if`,!0)}}),fe=r({__name:`DialogPortal`,props:{to:{type:null,required:!1},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(e){let t=e;return(e,n)=>(v(),o(C($),te(ee(t)),{default:M(()=>[y(e.$slots,`default`)]),_:3},16))}}),pe=r({__name:`DialogTitle`,props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:`h2`}},setup(e){let t=e,n=I();return l(),(e,r)=>(v(),o(C(T),p(t,{id:C(n).titleId}),{default:M(()=>[y(e.$slots,`default`)]),_:3},16,[`id`]))}});export{R as _,le as a,G as c,re as d,X as f,z as g,W as h,de as i,J as l,ae as m,fe as n,Q as o,oe as p,$ as r,Y as s,pe as t,K as u};