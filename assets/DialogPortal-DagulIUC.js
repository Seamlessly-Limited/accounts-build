import{n as e,t}from"./useHideOthers-8j3pZZC2.js";import{t as n}from"./useId-C9uHTJK1.js";import{n as r,t as i}from"./Teleport-CO7T90ZX.js";import{c as a}from"./utils-1j6W-LC4.js";import{Aa as o,Gi as s,Hr as c,Ir as l,Ma as u,Oa as d,Pr as f,Ri as p,Rr as m,Ui as h,Ur as g,Yr as _,Zi as v,aa as y,di as b,ea as x,ga as S,na as C,qi as w,ui as T,wa as E,zi as D}from"./index-BW6FH5S4.js";var[O,k]=b(`DialogRoot`),A=s({inheritAttrs:!1,__name:`DialogRoot`,props:{open:{type:Boolean,required:!1,default:void 0},defaultOpen:{type:Boolean,required:!1,default:!1},modal:{type:Boolean,required:!1,default:!0}},emits:[`update:open`],setup(e,{emit:t}){let n=e,r=_(n,`open`,t,{defaultValue:n.defaultOpen,passive:n.open===void 0}),i=E(),a=E(),{modal:s}=d(n);return k({open:r,modal:s,openModal:()=>{r.value=!0},onOpenChange:e=>{r.value=e},onOpenToggle:()=>{r.value=!r.value},contentId:``,titleId:``,descriptionId:``,triggerElement:i,contentElement:a}),(e,t)=>y(e.$slots,`default`,{open:o(r),close:()=>r.value=!1})}}),j=s({__name:`DialogClose`,props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:`button`}},setup(e){let t=e;c();let n=O();return(e,r)=>(C(),p(o(l),v(t,{type:e.as===`button`?`button`:void 0,onClick:r[0]||=e=>o(n).onOpenChange(!1)}),{default:S(()=>[y(e.$slots,`default`)]),_:3},16,[`type`]))}}),M=s({__name:`DialogContentImpl`,props:{forceMount:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:[`escapeKeyDown`,`pointerDownOutside`,`focusOutside`,`interactOutside`,`openAutoFocus`,`closeAutoFocus`],setup(e,{emit:t}){let i=e,s=t,l=O(),{forwardRef:u,currentElement:d}=c();return l.titleId||=n(void 0,`reka-dialog-title`),l.descriptionId||=n(void 0,`reka-dialog-description`),x(()=>{l.contentElement=d,T()!==document.body&&(l.triggerElement.value=T())}),(e,t)=>(C(),p(o(r),{"as-child":``,loop:``,trapped:i.trapFocus,onMountAutoFocus:t[5]||=e=>s(`openAutoFocus`,e),onUnmountAutoFocus:t[6]||=e=>s(`closeAutoFocus`,e)},{default:S(()=>[h(o(f),v({id:o(l).contentId,ref:o(u),as:e.as,"as-child":e.asChild,"disable-outside-pointer-events":e.disableOutsidePointerEvents,role:`dialog`,"aria-describedby":o(l).descriptionId,"aria-labelledby":o(l).titleId,"data-state":o(a)(o(l).open.value)},e.$attrs,{onDismiss:t[0]||=e=>o(l).onOpenChange(!1),onEscapeKeyDown:t[1]||=e=>s(`escapeKeyDown`,e),onFocusOutside:t[2]||=e=>s(`focusOutside`,e),onInteractOutside:t[3]||=e=>s(`interactOutside`,e),onPointerDownOutside:t[4]||=e=>s(`pointerDownOutside`,e)}),{default:S(()=>[y(e.$slots,`default`)]),_:3},16,[`id`,`as`,`as-child`,`disable-outside-pointer-events`,`aria-describedby`,`aria-labelledby`,`data-state`])]),_:3},8,[`trapped`]))}}),N=s({__name:`DialogContentModal`,props:{forceMount:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:[`escapeKeyDown`,`pointerDownOutside`,`focusOutside`,`interactOutside`,`openAutoFocus`,`closeAutoFocus`],setup(e,{emit:n}){let r=e,i=n,a=O(),s=g(i),{forwardRef:l,currentElement:u}=c();return t(u),(e,t)=>(C(),p(M,v({...r,...o(s)},{ref:o(l),"trap-focus":o(a).open.value,"disable-outside-pointer-events":!0,onCloseAutoFocus:t[0]||=e=>{e.defaultPrevented||(e.preventDefault(),o(a).triggerElement.value?.focus())},onPointerDownOutside:t[1]||=e=>{let t=e.detail.originalEvent,n=t.button===0&&t.ctrlKey===!0;(t.button===2||n)&&e.preventDefault()},onFocusOutside:t[2]||=e=>{e.preventDefault()}}),{default:S(()=>[y(e.$slots,`default`)]),_:3},16,[`trap-focus`]))}}),P=s({__name:`DialogContentNonModal`,props:{forceMount:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:[`escapeKeyDown`,`pointerDownOutside`,`focusOutside`,`interactOutside`,`openAutoFocus`,`closeAutoFocus`],setup(e,{emit:t}){let n=e,r=g(t);c();let i=O(),a=E(!1),s=E(!1);return(e,t)=>(C(),p(M,v({...n,...o(r)},{"trap-focus":!1,"disable-outside-pointer-events":!1,onCloseAutoFocus:t[0]||=e=>{e.defaultPrevented||(a.value||o(i).triggerElement.value?.focus(),e.preventDefault()),a.value=!1,s.value=!1},onInteractOutside:t[1]||=e=>{e.defaultPrevented||(a.value=!0,e.detail.originalEvent.type===`pointerdown`&&(s.value=!0));let t=e.target;o(i).triggerElement.value?.contains(t)&&e.preventDefault(),e.detail.originalEvent.type===`focusin`&&s.value&&e.preventDefault()}}),{default:S(()=>[y(e.$slots,`default`)]),_:3},16))}}),F=s({__name:`DialogContent`,props:{forceMount:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:[`escapeKeyDown`,`pointerDownOutside`,`focusOutside`,`interactOutside`,`openAutoFocus`,`closeAutoFocus`],setup(e,{emit:t}){let n=e,r=t,i=O(),a=g(r),{forwardRef:s}=c();return(e,t)=>(C(),p(o(m),{present:e.forceMount||o(i).open.value},{default:S(()=>[o(i).modal.value?(C(),p(N,v({key:0,ref:o(s)},{...n,...o(a),...e.$attrs}),{default:S(()=>[y(e.$slots,`default`)]),_:3},16)):(C(),p(P,v({key:1,ref:o(s)},{...n,...o(a),...e.$attrs}),{default:S(()=>[y(e.$slots,`default`)]),_:3},16))]),_:3},8,[`present`]))}}),I=s({__name:`DialogOverlayImpl`,props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(t){let n=O();return e(!0),c(),(e,t)=>(C(),p(o(l),{as:e.as,"as-child":e.asChild,"data-state":o(n).open.value?`open`:`closed`,style:{"pointer-events":`auto`}},{default:S(()=>[y(e.$slots,`default`)]),_:3},8,[`as`,`as-child`,`data-state`]))}}),L=s({__name:`DialogOverlay`,props:{forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){let t=O(),{forwardRef:n}=c();return(e,r)=>o(t)?.modal.value?(C(),p(o(m),{key:0,present:e.forceMount||o(t).open.value},{default:S(()=>[h(I,v(e.$attrs,{ref:o(n),as:e.as,"as-child":e.asChild}),{default:S(()=>[y(e.$slots,`default`)]),_:3},16,[`as`,`as-child`])]),_:3},8,[`present`])):D(`v-if`,!0)}}),R=s({__name:`DialogPortal`,props:{to:{type:null,required:!1},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(e){let t=e;return(e,n)=>(C(),p(o(i),u(w(t)),{default:S(()=>[y(e.$slots,`default`)]),_:3},16))}});export{A as a,j as i,L as n,O as o,F as r,R as t};