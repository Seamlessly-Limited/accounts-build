import{mi as e,si as t}from"./index-CTHZVx0Q.js";function n(n){let r=t(``,1e3);return{search:r,handleTypeaheadSearch:(t,a)=>{if(r.value+=t,n)n(t);else{let t=e(),n=a.map(e=>({...e,textValue:e.value?.textValue??e.ref.textContent?.trim()??``})),o=n.find(e=>e.ref===t),s=n.map(e=>e.textValue),c=i(s,r.value,o?.textValue),l=n.find(e=>e.textValue===c);return l&&l.ref.focus(),l?.ref}},resetTypeahead:()=>{r.value=``}}}function r(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function i(e,t,n){let i=t.length>1&&Array.from(t).every(e=>e===t[0])?t[0]:t,a=n?e.indexOf(n):-1,o=r(e,Math.max(a,0));i.length===1&&(o=o.filter(e=>e!==n));let s=o.find(e=>e.toLowerCase().startsWith(i.toLowerCase()));return s===n?void 0:s}export{n as t};