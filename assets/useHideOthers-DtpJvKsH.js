import{t as e}from"./ConfigProvider-CD3MJD7H.js";import{Bt as t,G as n,I as r,K as i,L as a,Lt as o,St as s,Xt as c,Z as l,ln as u,q as d}from"./index-DRwhOcbi.js";function f(e){if(typeof e!=`object`||!e)return!1;let t=Object.getPrototypeOf(e);return t!==null&&t!==Object.prototype&&Object.getPrototypeOf(t)!==null||Symbol.iterator in e?!1:Symbol.toStringTag in e?Object.prototype.toString.call(e)===`[object Module]`:!0}function p(e,t,n=`.`,r){if(!f(t))return p(e,{},n,r);let i=Object.assign({},t);for(let t in e){if(t===`__proto__`||t===`constructor`)continue;let a=e[t];a!=null&&(r&&r(i,t,a,n)||(Array.isArray(a)&&Array.isArray(i[t])?i[t]=[...a,...i[t]]:f(a)&&f(i[t])?i[t]=p(a,i[t],(n?`${n}.`:``)+t.toString(),r):i[t]=a))}return i}function m(e){return(...t)=>t.reduce((t,n)=>p(t,n,``,e),{})}var h=m(),g=n(()=>{let t=u(new Map),n=u(),r=s(()=>{for(let e of t.value.values())if(e)return!0;return!1}),l=e({scrollBody:u(!0)}),f=null,p=()=>{document.body.style.paddingRight=``,document.body.style.marginRight=``,document.body.style.pointerEvents=``,document.documentElement.style.removeProperty(`--scrollbar-width`),document.body.style.overflow=n.value??``,d&&f?.(),n.value=void 0};return c(r,(e,t)=>{if(!i)return;if(!e){t&&p();return}n.value===void 0&&(n.value=document.body.style.overflow);let r=window.innerWidth-document.documentElement.clientWidth,s={padding:r,margin:0},c=l.scrollBody?.value?typeof l.scrollBody.value==`object`?h({padding:l.scrollBody.value.padding===!0?r:l.scrollBody.value.padding,margin:l.scrollBody.value.margin===!0?r:l.scrollBody.value.margin},s):s:{padding:0,margin:0};r>0&&(document.body.style.paddingRight=typeof c.padding==`number`?`${c.padding}px`:String(c.padding),document.body.style.marginRight=typeof c.margin==`number`?`${c.margin}px`:String(c.margin),document.documentElement.style.setProperty(`--scrollbar-width`,`${r}px`),document.body.style.overflow=`hidden`),d&&(f=a(document,`touchmove`,e=>y(e),{passive:!1})),o(()=>{document.body.style.pointerEvents=`none`,document.body.style.overflow=`hidden`})},{immediate:!0,flush:`sync`}),t});function _(e){let t=Math.random().toString(36).substring(2,7),n=g();n.value.set(t,e??!1);let r=s({get:()=>n.value.get(t)??!1,set:e=>n.value.set(t,e)});return l(()=>{n.value.delete(t)}),r}function v(e){let t=window.getComputedStyle(e);if(t.overflowX===`scroll`||t.overflowY===`scroll`||t.overflowX===`auto`&&e.clientWidth<e.scrollWidth||t.overflowY===`auto`&&e.clientHeight<e.scrollHeight)return!0;{let t=e.parentNode;return!(t instanceof Element)||t.tagName===`BODY`?!1:v(t)}}function y(e){let t=e||window.event,n=t.target;return n instanceof Element&&v(n)?!1:t.touches.length>1?!0:(t.preventDefault&&t.cancelable&&t.preventDefault(),!1)}var b=function(e){return typeof document>`u`?null:(Array.isArray(e)?e[0]:e).ownerDocument.body},x=new WeakMap,S=new WeakMap,C={},w=0,T=function(e){return e&&(e.host||T(e.parentNode))},E=function(e,t){return t.map(function(t){if(e.contains(t))return t;var n=T(t);return n&&e.contains(n)?n:(console.error(`aria-hidden`,t,`in not contained inside`,e,`. Doing nothing`),null)}).filter(function(e){return!!e})},D=function(e,t,n,r){var i=E(t,Array.isArray(e)?e:[e]);C[n]||(C[n]=new WeakMap);var a=C[n],o=[],s=new Set,c=new Set(i),l=function(e){!e||s.has(e)||(s.add(e),l(e.parentNode))};i.forEach(l);var u=function(e){!e||c.has(e)||Array.prototype.forEach.call(e.children,function(e){if(s.has(e))u(e);else try{var t=e.getAttribute(r),i=t!==null&&t!==`false`,c=(x.get(e)||0)+1,l=(a.get(e)||0)+1;x.set(e,c),a.set(e,l),o.push(e),c===1&&i&&S.set(e,!0),l===1&&e.setAttribute(n,`true`),i||e.setAttribute(r,`true`)}catch(t){console.error(`aria-hidden: cannot operate on `,e,t)}})};return u(t),s.clear(),w++,function(){o.forEach(function(e){var t=x.get(e)-1,i=a.get(e)-1;x.set(e,t),a.set(e,i),t||(S.has(e)||e.removeAttribute(r),S.delete(e)),i||e.removeAttribute(n)}),w--,w||(x=new WeakMap,x=new WeakMap,S=new WeakMap,C={})}},O=function(e,t,n){n===void 0&&(n=`data-aria-hidden`);var r=Array.from(Array.isArray(e)?e:[e]),i=t||b(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll(`[aria-live], script`))),D(r,i,n,`aria-hidden`)):function(){return null}};function k(e){let n;c(()=>r(e),e=>{e?n=O(e):n&&n()}),t(()=>{n&&n()})}export{_ as n,k as t};