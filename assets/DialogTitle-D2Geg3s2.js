import{n as e,t}from"./useHideOthers-CSWJCzqR.js";import{t as n}from"./useId-D_f_Mvzd.js";import{B as r,C as i,D as a,Dt as o,Et as s,G as c,It as l,Jt as u,N as d,Nt as f,P as p,Pt as m,Qt as h,R as g,Rt as _,S as v,St as y,T as b,U as x,Vt as S,b as C,et as w,fn as T,in as ee,k as E,kt as D,mn as O,on as k,tt as A,un as j,v as M,vt as N,w as te,x as P,xt as F,y as I}from"./index-BQW5AyZv.js";var[L,R]=A(`DialogRoot`),z=o({inheritAttrs:!1,__name:`DialogRoot`,props:{open:{type:Boolean,required:!1,default:void 0},defaultOpen:{type:Boolean,required:!1,default:!1},modal:{type:Boolean,required:!1,default:!0}},emits:[`update:open`],setup(e,{emit:t}){let n=e,i=r(n,`open`,t,{defaultValue:n.defaultOpen,passive:n.open===void 0}),a=k(),o=k(),{modal:s}=j(n);return R({open:i,modal:s,openModal:()=>{i.value=!0},onOpenChange:e=>{i.value=e},onOpenToggle:()=>{i.value=!i.value},contentId:``,titleId:``,descriptionId:``,triggerElement:a,contentElement:o}),(e,t)=>S(e.$slots,`default`,{open:T(i),close:()=>i.value=!1})}}),B=o({__name:`DialogClose`,props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:`button`}},setup(e){let t=e;d();let n=L();return(e,r)=>(_(),F(T(a),f(t,{type:e.as===`button`?`button`:void 0,onClick:r[0]||=e=>T(n).onOpenChange(!1)}),{default:h(()=>[S(e.$slots,`default`)]),_:3},16,[`type`]))}}),V=x(()=>k([]));function H(){let e=V();return{add(t){let n=e.value[0];t!==n&&n?.pause(),e.value=U(e.value,t),e.value.unshift(t)},remove(t){e.value=U(e.value,t),e.value[0]?.resume()}}}function U(e,t){let n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function W(e){return e.filter(e=>e.tagName!==`A`)}var G=o({__name:`FocusScope`,props:{loop:{type:Boolean,required:!1,default:!1},trapped:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:[`mountAutoFocus`,`unmountAutoFocus`],setup(e,{emit:t}){let n=e,r=t,{currentRef:o,currentElement:s}=d(),l=k(null),f=H(),p=ee({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}});u(e=>{if(!c)return;let t=s.value;if(!n.trapped)return;function r(e){if(p.paused||!t)return;let n=e.target;t.contains(n)?l.value=n:P(l.value,{select:!0})}function i(e){if(p.paused||!t)return;let n=e.relatedTarget;n!==null&&(t.contains(n)||P(l.value,{select:!0}))}function a(e){t.contains(l.value)||P(t)}document.addEventListener(`focusin`,r),document.addEventListener(`focusout`,i);let o=new MutationObserver(a);t&&o.observe(t,{childList:!0,subtree:!0}),e(()=>{document.removeEventListener(`focusin`,r),document.removeEventListener(`focusout`,i),o.disconnect()})}),u(async e=>{let t=s.value;if(await m(),!t)return;f.add(p);let n=w();if(!t.contains(n)){let e=new CustomEvent(M,C);t.addEventListener(M,e=>r(`mountAutoFocus`,e)),t.dispatchEvent(e),e.defaultPrevented||(v(W(i(t)),{select:!0}),w()===n&&P(t))}e(()=>{t.removeEventListener(M,e=>r(`mountAutoFocus`,e));let e=new CustomEvent(I,C),i=e=>{r(`unmountAutoFocus`,e)};t.addEventListener(I,i),t.dispatchEvent(e),setTimeout(()=>{e.defaultPrevented||P(n??document.body,{select:!0}),t.removeEventListener(I,i),f.remove(p)},0)})});function g(e){if(!n.loop&&!n.trapped||p.paused)return;let t=e.key===`Tab`&&!e.altKey&&!e.ctrlKey&&!e.metaKey,r=w();if(t&&r){let t=e.currentTarget,[i,a]=te(t);i&&a?!e.shiftKey&&r===a?(e.preventDefault(),n.loop&&P(i,{select:!0})):e.shiftKey&&r===i&&(e.preventDefault(),n.loop&&P(a,{select:!0})):r===t&&e.preventDefault()}}return(e,t)=>(_(),F(T(a),{ref_key:`currentRef`,ref:o,tabindex:`-1`,"as-child":e.asChild,as:e.as,onKeydown:g},{default:h(()=>[S(e.$slots,`default`)]),_:3},8,[`as-child`,`as`]))}}),K=`menu.itemSelect`,q=[`Enter`,` `],J=[`ArrowDown`,`PageUp`,`Home`],Y=[`ArrowUp`,`PageDown`,`End`],X=[...J,...Y];[...q],[...q];function Z(e){return e?`open`:`closed`}function ne(e){let t=w();for(let n of e)if(n===t||(n.focus(),w()!==t))return}function re(e,t){let{x:n,y:r}=e,i=!1;for(let e=0,a=t.length-1;e<t.length;a=e++){let o=t[e].x,s=t[e].y,c=t[a].x,l=t[a].y;s>r!=l>r&&n<(c-o)*(r-s)/(l-s)+o&&(i=!i)}return i}function ie(e,t){if(!t)return!1;let n={x:e.clientX,y:e.clientY};return re(n,t)}function ae(e){return e.pointerType===`mouse`}var Q=o({__name:`DialogContentImpl`,props:{forceMount:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:[`escapeKeyDown`,`pointerDownOutside`,`focusOutside`,`interactOutside`,`openAutoFocus`,`closeAutoFocus`],setup(e,{emit:t}){let r=e,i=t,a=L(),{forwardRef:o,currentElement:c}=d();return a.titleId||=n(void 0,`reka-dialog-title`),a.descriptionId||=n(void 0,`reka-dialog-description`),l(()=>{a.contentElement=c,w()!==document.body&&(a.triggerElement.value=w())}),(e,t)=>(_(),F(T(G),{"as-child":``,loop:``,trapped:r.trapFocus,onMountAutoFocus:t[5]||=e=>i(`openAutoFocus`,e),onUnmountAutoFocus:t[6]||=e=>i(`closeAutoFocus`,e)},{default:h(()=>[s(T(b),f({id:T(a).contentId,ref:T(o),as:e.as,"as-child":e.asChild,"disable-outside-pointer-events":e.disableOutsidePointerEvents,role:`dialog`,"aria-describedby":T(a).descriptionId,"aria-labelledby":T(a).titleId,"data-state":T(Z)(T(a).open.value)},e.$attrs,{onDismiss:t[0]||=e=>T(a).onOpenChange(!1),onEscapeKeyDown:t[1]||=e=>i(`escapeKeyDown`,e),onFocusOutside:t[2]||=e=>i(`focusOutside`,e),onInteractOutside:t[3]||=e=>i(`interactOutside`,e),onPointerDownOutside:t[4]||=e=>i(`pointerDownOutside`,e)}),{default:h(()=>[S(e.$slots,`default`)]),_:3},16,[`id`,`as`,`as-child`,`disable-outside-pointer-events`,`aria-describedby`,`aria-labelledby`,`data-state`])]),_:3},8,[`trapped`]))}}),oe=o({__name:`DialogContentModal`,props:{forceMount:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:[`escapeKeyDown`,`pointerDownOutside`,`focusOutside`,`interactOutside`,`openAutoFocus`,`closeAutoFocus`],setup(e,{emit:n}){let r=e,i=n,a=L(),o=p(i),{forwardRef:s,currentElement:c}=d();return t(c),(e,t)=>(_(),F(Q,f({...r,...T(o)},{ref:T(s),"trap-focus":T(a).open.value,"disable-outside-pointer-events":!0,onCloseAutoFocus:t[0]||=e=>{e.defaultPrevented||(e.preventDefault(),T(a).triggerElement.value?.focus())},onPointerDownOutside:t[1]||=e=>{let t=e.detail.originalEvent,n=t.button===0&&t.ctrlKey===!0;(t.button===2||n)&&e.preventDefault()},onFocusOutside:t[2]||=e=>{e.preventDefault()}}),{default:h(()=>[S(e.$slots,`default`)]),_:3},16,[`trap-focus`]))}}),se=o({__name:`DialogContentNonModal`,props:{forceMount:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:[`escapeKeyDown`,`pointerDownOutside`,`focusOutside`,`interactOutside`,`openAutoFocus`,`closeAutoFocus`],setup(e,{emit:t}){let n=e,r=p(t);d();let i=L(),a=k(!1),o=k(!1);return(e,t)=>(_(),F(Q,f({...n,...T(r)},{"trap-focus":!1,"disable-outside-pointer-events":!1,onCloseAutoFocus:t[0]||=e=>{e.defaultPrevented||(a.value||T(i).triggerElement.value?.focus(),e.preventDefault()),a.value=!1,o.value=!1},onInteractOutside:t[1]||=e=>{e.defaultPrevented||(a.value=!0,e.detail.originalEvent.type===`pointerdown`&&(o.value=!0));let t=e.target;T(i).triggerElement.value?.contains(t)&&e.preventDefault(),e.detail.originalEvent.type===`focusin`&&o.value&&e.preventDefault()}}),{default:h(()=>[S(e.$slots,`default`)]),_:3},16))}}),ce=o({__name:`DialogContent`,props:{forceMount:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:[`escapeKeyDown`,`pointerDownOutside`,`focusOutside`,`interactOutside`,`openAutoFocus`,`closeAutoFocus`],setup(e,{emit:t}){let n=e,r=t,i=L(),a=p(r),{forwardRef:o}=d();return(e,t)=>(_(),F(T(E),{present:e.forceMount||T(i).open.value},{default:h(()=>[T(i).modal.value?(_(),F(oe,f({key:0,ref:T(o)},{...n,...T(a),...e.$attrs}),{default:h(()=>[S(e.$slots,`default`)]),_:3},16)):(_(),F(se,f({key:1,ref:T(o)},{...n,...T(a),...e.$attrs}),{default:h(()=>[S(e.$slots,`default`)]),_:3},16))]),_:3},8,[`present`]))}}),le=o({__name:`DialogDescription`,props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:`p`}},setup(e){let t=e;d();let n=L();return(e,r)=>(_(),F(T(a),f(t,{id:T(n).descriptionId}),{default:h(()=>[S(e.$slots,`default`)]),_:3},16,[`id`]))}}),ue=o({__name:`DialogOverlayImpl`,props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(t){let n=L();return e(!0),d(),(e,t)=>(_(),F(T(a),{as:e.as,"as-child":e.asChild,"data-state":T(n).open.value?`open`:`closed`,style:{"pointer-events":`auto`}},{default:h(()=>[S(e.$slots,`default`)]),_:3},8,[`as`,`as-child`,`data-state`]))}}),de=o({__name:`DialogOverlay`,props:{forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){let t=L(),{forwardRef:n}=d();return(e,r)=>T(t)?.modal.value?(_(),F(T(E),{key:0,present:e.forceMount||T(t).open.value},{default:h(()=>[s(ue,f(e.$attrs,{ref:T(n),as:e.as,"as-child":e.asChild}),{default:h(()=>[S(e.$slots,`default`)]),_:3},16,[`as`,`as-child`])]),_:3},8,[`present`])):y(`v-if`,!0)}}),$=o({__name:`Teleport`,props:{to:{type:null,required:!1,default:`body`},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(e){let t=g();return(e,n)=>T(t)||e.forceMount?(_(),F(N,{key:0,to:e.to,disabled:e.disabled,defer:e.defer},[S(e.$slots,`default`)],8,[`to`,`disabled`,`defer`])):y(`v-if`,!0)}}),fe=o({__name:`DialogPortal`,props:{to:{type:null,required:!1},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(e){let t=e;return(e,n)=>(_(),F(T($),O(D(t)),{default:h(()=>[S(e.$slots,`default`)]),_:3},16))}}),pe=o({__name:`DialogTitle`,props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:`h2`}},setup(e){let t=e,n=L();return d(),(e,r)=>(_(),F(T(a),f(t,{id:T(n).titleId}),{default:h(()=>[S(e.$slots,`default`)]),_:3},16,[`id`]))}});export{z as _,le as a,K as c,ne as d,Z as f,B as g,G as h,de as i,Y as l,ie as m,fe as n,ce as o,ae as p,$ as r,X as s,pe as t,q as u};