import"./Label-BsQm4x39.js";import{Ea as e,Ei as t,Fi as n,Li as r,Mi as i,Pi as a,Ri as o,Zi as s,a as c,d as l,da as u,i as d,s as f,ta as p}from"./index-CHNvwQRL.js";import{n as m}from"./button-DSlecn3R.js";import{t as h}from"./Input-C1gBbhGk.js";import{t as g}from"./Card-DyXAPDF3.js";import{t as _}from"./CardContent-fQrFfeQu.js";import{t as v}from"./CardDescription-DtYIOH3F.js";import{n as y,t as b}from"./CardTitle-CU9hS0eZ.js";import{t as x}from"./BackgroundAnimation-DnlEY4kt.js";import{t as S}from"./Label--GHB7iKy.js";var C={name:`PasswordResetCompleteView`,components:{Card:g,CardHeader:y,CardTitle:b,CardDescription:v,CardContent:_,Button:m,Input:h,Label:S,BackgroundAnimation:x},data(){return{loading:!1,password:``,confirmPassword:``}},async mounted(){try{let{token:e}=await l.IndexedDB.get(`SeamlesslyDB`,`UserStore`,`passwordResetAuthorization`)}catch{this.$router.push(`/password-reset`)}},methods:{async changePassword(){this.loading=!0;let e=c();try{await f.completePasswordReset(this.password),e.toast({message:`Your new password is set.<br/>Login to your account.`,duration:5e3}),setTimeout(()=>{this.$router.push(`/login`)},3e3)}catch(t){e.toast({message:t.message,duration:5e3,variant:`error`})}this.loading=!1}}},w={class:`min-h-screen flex items-center justify-center relative bg-stone-100 overflow-hidden`},T={class:`grid grid-cols-1 md:grid-cols-2 gap-4`},E={class:`flex justify-between items-center`},D={class:`flex items-center gap-2 mt-2`},O={class:`flex justify-between items-center`},k={class:`flex items-center gap-2 mt-2`},A={class:`flex justify-end`},j={key:0},M={key:1};function N(c,l,d,f,m,h){let g=p(`BackgroundAnimation`),_=p(`CardTitle`),v=p(`CardDescription`),y=p(`CardHeader`),b=p(`Label`),x=p(`Input`),S=p(`Button`),C=p(`CardContent`),N=p(`Card`);return s(),n(`div`,w,[o(g),o(N,{class:`relative z-10 w-full max-w-3xl rounded-2xl shadow-sm border-solid border-slate-50 backdrop-blur bg-white/80`},{default:u(()=>[o(y,{class:`space-y-2`},{default:u(()=>[o(_,{class:`text-2xl font-semibold`},{default:u(()=>[...l[3]||=[r(`Secure your account`,-1)]]),_:1}),o(v,null,{default:u(()=>[...l[4]||=[r(`Set a stronger password to protect your account.`,-1)]]),_:1})]),_:1}),o(C,null,{default:u(()=>[i(`form`,{onSubmit:l[2]||=t((...e)=>h.changePassword&&h.changePassword(...e),[`prevent`]),class:`space-y-6`},[i(`div`,T,[i(`div`,null,[i(`div`,E,[o(b,{for:`password`},{default:u(()=>[...l[5]||=[r(`Password`,-1)]]),_:1}),i(`i`,{class:e([`fa`,m.password.length>7?`text-green-600 fa-check-circle`:``])},null,2)]),i(`div`,D,[o(x,{id:`password`,modelValue:m.password,"onUpdate:modelValue":l[0]||=e=>m.password=e,type:`password`,required:``,placeholder:`********`,disabled:m.loading,class:`flex-1 rounded-full`},null,8,[`modelValue`,`disabled`])])]),i(`div`,null,[i(`div`,O,[o(b,{for:`confirmPassword`},{default:u(()=>[...l[6]||=[r(`Confirm Password`,-1)]]),_:1}),m.confirmPassword?(s(),n(`i`,{key:0,class:e([`fa`,m.password===m.confirmPassword?`text-green-600 fa-check-circle`:`text-gray-400 fa-times-circle`])},null,2)):a(``,!0)]),i(`div`,k,[o(x,{id:`confirmPassword`,modelValue:m.confirmPassword,"onUpdate:modelValue":l[1]||=e=>m.confirmPassword=e,type:`password`,required:``,placeholder:`********`,disabled:m.loading,class:`flex-1 rounded-full`},null,8,[`modelValue`,`disabled`])])])]),l[7]||=i(`div`,{class:`space-y-2 text-gray-800`},[i(`p`,{class:`font-medium`},`Please follow this guide for a strong password:`),i(`ul`,{class:`list-decimal list-inside text-sm space-y-1`},[i(`li`,null,`Use two special characters (examples: #, @, â‚¦, &)`),i(`li`,null,`Use a minimum of eight (8) characters`),i(`li`,null,`Use at least one (1) number`),i(`li`,null,`Change it often`)])],-1),i(`div`,A,[o(S,{type:`submit`,class:`rounded-full bg-black text-white hover:bg-gray-800`,disabled:!m.password||m.password!==m.confirmPassword||m.loading},{default:u(()=>[m.loading?(s(),n(`span`,M,`Processing...`)):(s(),n(`span`,j,`Complete`))]),_:1},8,[`disabled`])])],32)]),_:1})]),_:1})])}var P=d(C,[[`render`,N]]);export{P as default};