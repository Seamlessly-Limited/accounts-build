import"./Label-BQWlwCJI.js";import{Bi as e,Bn as t,Hi as n,It as r,Li as i,Ln as a,Ni as o,Ri as s,Ui as c,Yn as l,_n as u,a as d,d as f,ga as p,i as m,ja as h,ji as g,na as _,oa as v,s as y,vn as b,wi as x,zi as S}from"./index-BW6FH5S4.js";import{t as C}from"./Input-AKTRhZx5.js";import{t as w}from"./button-BIS6kOZQ.js";import{t as T}from"./BackgroundAnimation-D58OrQ52.js";import{t as E}from"./Card-DL4aOVo_.js";import{t as D}from"./CardContent-DCQKa7iN.js";import{n as O,r as k,t as A}from"./CardTitle-DOurhy1D.js";import{t as j}from"./Label-CWz-ReQU.js";var M={components:{Card:E,CardHeader:O,CardTitle:A,CardDescription:k,CardContent:D,Button:w,Input:C,Label:j,BackgroundAnimation:T,Check:l,CheckCircle2:t,XCircle:a,Eye:u,EyeOff:b,Loader2:r},data(){return{loading:!1,success:!1,showPassword:!1,password:``,confirmPassword:``}},computed:{hasMinLength(){return this.password.length>=8},hasNumber(){return/\d/.test(this.password)},hasSpecialChars(){let e=this.password.match(/[!@#$%^&*(),.?":{}|<>â‚¦]/g);return e&&e.length>=2},passwordsMatch(){return this.password===this.confirmPassword},canSubmit(){return this.hasMinLength&&this.hasNumber&&this.hasSpecialChars&&this.passwordsMatch&&!this.loading}},async mounted(){try{await f.IndexedDB.get(`SeamlesslyDB`,`UserStore`,`passwordResetAuthorization`)}catch{this.$router.push(`/password-reset`)}},methods:{async changePassword(){if(!this.canSubmit)return;this.loading=!0;let e=d();try{await y.completePasswordReset(this.password),this.success=!0,await f.IndexedDB.delete(`SeamlesslyDB`,`UserStore`,`passwordResetAuthorization`),setTimeout(()=>{this.$router.push(`/login`)},2300)}catch(t){e.toast({message:t.message,duration:5e3,variant:`error`}),this.loading=!1}}}},N={class:`min-h-screen flex items-center justify-center relative bg-stone-100 overflow-hidden`},P={key:0,class:`p-12 text-center space-y-4 animate-in fade-in zoom-in duration-500`},F={class:`flex justify-center`},I={class:`h-20 w-20 rounded-full bg-blue-100 flex items-center justify-center text-blue-600`},L={key:1},R={class:`grid grid-cols-1 md:grid-cols-2 gap-6`},z={class:`space-y-2`},B={class:`flex justify-between items-center`},V={class:`relative`},H={class:`space-y-2`},U={class:`flex justify-between items-center`},W={key:0},G={class:`p-5 rounded-2xl bg-gray-50/50 border border-gray-100 space-y-4`},K={class:`grid grid-cols-1 sm:grid-cols-2 gap-x-6 gap-y-3`},q={class:`flex justify-end pt-2`};function J(t,r,a,l,u,d){let f=v(`BackgroundAnimation`),m=v(`Check`),y=v(`CardTitle`),b=v(`CardDescription`),C=v(`CardHeader`),w=v(`Label`),T=v(`CheckCircle2`),E=v(`Input`),D=v(`Eye`),O=v(`EyeOff`),k=v(`XCircle`),A=v(`Loader2`),j=v(`Button`),M=v(`CardContent`),J=v(`Card`);return _(),e(`div`,N,[c(f),c(J,{class:`relative z-10 w-full max-w-2xl rounded-2xl shadow-sm border-solid border-slate-50 backdrop-blur bg-white/80 transition-all duration-500`},{default:p(()=>[u.success?(_(),e(`div`,P,[i(`div`,F,[i(`div`,I,[c(m,{class:`h-10 w-10`})])]),r[4]||=i(`div`,{class:`space-y-2`},[i(`h2`,{class:`text-3xl font-bold text-gray-900`},`Securely Updated`),i(`p`,{class:`text-gray-500 text-lg`},`Your password has been reset successfully. Redirecting to login...`)],-1),r[5]||=i(`div`,{class:`pt-8 max-w-xs mx-auto`},[i(`div`,{class:`h-1.5 w-full bg-gray-100 rounded-full overflow-hidden`},[i(`div`,{class:`h-full bg-black animate-progress-fast`})])],-1)])):(_(),e(`div`,L,[c(C,{class:`space-y-2`},{default:p(()=>[c(y,{class:`text-2xl font-semibold`},{default:p(()=>[...r[6]||=[n(`Secure your account`,-1)]]),_:1}),c(b,null,{default:p(()=>[...r[7]||=[n(`Set a stronger password to protect your account.`,-1)]]),_:1})]),_:1}),c(M,null,{default:p(()=>[i(`form`,{onSubmit:r[3]||=g((...e)=>d.changePassword&&d.changePassword(...e),[`prevent`]),class:`space-y-6 pt-6`},[i(`div`,R,[i(`div`,z,[i(`div`,B,[c(w,{for:`password`,class:`text-gray-700`},{default:p(()=>[...r[8]||=[n(`New Password`,-1)]]),_:1}),c(x,{name:`fade`},{default:p(()=>[d.hasMinLength&&d.hasNumber&&d.hasSpecialChars?(_(),s(T,{key:0,class:`h-4 w-4 text-blue-600`})):S(``,!0)]),_:1})]),i(`div`,V,[c(E,{id:`password`,modelValue:u.password,"onUpdate:modelValue":r[0]||=e=>u.password=e,type:u.showPassword?`text`:`password`,required:``,placeholder:`********`,disabled:u.loading,class:`pr-10 border-gray-200 focus:ring-black focus:border-black transition-all`},null,8,[`modelValue`,`type`,`disabled`]),i(`button`,{type:`button`,onClick:r[1]||=e=>u.showPassword=!u.showPassword,class:`absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors`},[u.showPassword?(_(),s(O,{key:1,class:`h-4 w-4`})):(_(),s(D,{key:0,class:`h-4 w-4`}))])])]),i(`div`,H,[i(`div`,U,[c(w,{for:`confirmPassword`,class:`text-gray-700`},{default:p(()=>[...r[9]||=[n(`Confirm Password`,-1)]]),_:1}),c(x,{name:`fade`},{default:p(()=>[u.confirmPassword?(_(),e(`div`,W,[d.passwordsMatch?(_(),s(T,{key:0,class:`h-4 w-4 text-blue-600`})):(_(),s(k,{key:1,class:`h-4 w-4 text-red-400`}))])):S(``,!0)]),_:1})]),c(E,{id:`confirmPassword`,modelValue:u.confirmPassword,"onUpdate:modelValue":r[2]||=e=>u.confirmPassword=e,type:`password`,required:``,placeholder:`********`,disabled:u.loading,class:`border-gray-200 focus:ring-black focus:border-black transition-all`},null,8,[`modelValue`,`disabled`])])]),i(`div`,G,[r[14]||=i(`p`,{class:`text-sm font-semibold text-gray-900`},`Password strength checklist:`,-1),i(`div`,K,[i(`div`,{class:h([`flex items-center gap-2.5 transition-all duration-300`,d.hasMinLength?`text-blue-600`:`text-gray-400`])},[c(T,{class:h([`h-4 w-4 shrink-0 transition-transform`,{"scale-110":d.hasMinLength}])},null,8,[`class`]),r[10]||=i(`span`,{class:`text-xs font-medium`},`At least 8 characters`,-1)],2),i(`div`,{class:h([`flex items-center gap-2.5 transition-all duration-300`,d.hasNumber?`text-blue-600`:`text-gray-400`])},[c(T,{class:h([`h-4 w-4 shrink-0 transition-transform`,{"scale-110":d.hasNumber}])},null,8,[`class`]),r[11]||=i(`span`,{class:`text-xs font-medium`},`At least one number`,-1)],2),i(`div`,{class:h([`flex items-center gap-2.5 transition-all duration-300`,d.hasSpecialChars?`text-blue-600`:`text-gray-400`])},[c(T,{class:h([`h-4 w-4 shrink-0 transition-transform`,{"scale-110":d.hasSpecialChars}])},null,8,[`class`]),r[12]||=i(`span`,{class:`text-xs font-medium`},`Two special symbols (!@#...)`,-1)],2),i(`div`,{class:h([`flex items-center gap-2.5 transition-all duration-300`,d.passwordsMatch&&u.password?`text-blue-600`:`text-gray-400`])},[c(T,{class:h([`h-4 w-4 shrink-0 transition-transform`,{"scale-110":d.passwordsMatch&&u.password}])},null,8,[`class`]),r[13]||=i(`span`,{class:`text-xs font-medium`},`Passwords match`,-1)],2)])]),i(`div`,q,[c(j,{type:`submit`,class:`rounded-full px-10 bg-black text-white hover:bg-gray-800 transition-all active:scale-95 disabled:opacity-30 disabled:pointer-events-none`,disabled:!d.canSubmit},{default:p(()=>[u.loading?(_(),e(o,{key:1},[c(A,{class:`h-4 w-4 animate-spin mr-2`}),r[15]||=n(` Processing... `,-1)],64)):(_(),e(o,{key:0},[n(` Update Password `)],64))]),_:1},8,[`disabled`])])],32)]),_:1})]))]),_:1})])}var Y=m(M,[[`render`,J],[`__scopeId`,`data-v-95cd93fa`]]);export{Y as default};