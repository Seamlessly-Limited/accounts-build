import{a as e,i as t,r as n}from"./utils-ZiIksPq3.js";import{t as r}from"./useId-xsRq2HUO.js";import{n as i}from"./RovingFocusGroup-DP1d2R7c.js";import{Bt as a,Dt as o,Ht as s,Mt as c,Nt as l,O as u,Tt as d,Ut as f,Wt as p,in as m,qt as h,v as g,vn as _}from"./index-BNQA11Dp.js";var v=l({__name:`RovingFocusItem`,props:{tabStopId:{type:String,required:!1},focusable:{type:Boolean,required:!1,default:!0},active:{type:Boolean,required:!1},allowShiftKey:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:`span`}},setup(l){let v=l,y=i(),b=r(),x=d(()=>v.tabStopId||b),S=d(()=>y.currentTabStopId.value===x.value),{getItems:C,CollectionItem:w}=g();s(()=>{v.focusable&&y.onFocusableItemAdd()}),f(()=>{v.focusable&&y.onFocusableItemRemove()});function T(r){if(r.key===`Tab`&&r.shiftKey){y.onItemShiftTab();return}if(r.target!==r.currentTarget)return;let i=t(r,y.orientation.value,y.dir.value);if(i!==void 0){if(r.metaKey||r.ctrlKey||r.altKey||!v.allowShiftKey&&r.shiftKey)return;r.preventDefault();let t=[...C().map(e=>e.ref).filter(e=>e.dataset.disabled!==``)];if(i===`last`)t.reverse();else if(i===`prev`||i===`next`){i===`prev`&&t.reverse();let n=t.indexOf(r.currentTarget);t=y.loop.value?e(t,n+1):t.slice(n+1)}a(()=>n(t))}}return(e,t)=>(p(),o(_(w),null,{default:m(()=>[c(_(u),{tabindex:S.value?0:-1,"data-orientation":_(y).orientation.value,"data-active":e.active?``:void 0,"data-disabled":e.focusable?void 0:``,as:e.as,"as-child":e.asChild,onMousedown:t[0]||=t=>{e.focusable?_(y).onItemFocus(x.value):t.preventDefault()},onFocus:t[1]||=e=>_(y).onItemFocus(x.value),onKeydown:T},{default:m(()=>[h(e.$slots,`default`)]),_:3},8,[`tabindex`,`data-orientation`,`data-active`,`data-disabled`,`as`,`as-child`])]),_:3}))}});export{v as t};