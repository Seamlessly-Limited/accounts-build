import{t as e}from"./useId-C9uHTJK1.js";import{a as t,i as n,r}from"./utils-d0L3vlW4.js";import{n as i}from"./RovingFocusGroup-Dae6_7oN.js";import{Aa as a,Er as o,Gi as s,Ii as c,Ir as l,Qi as u,Ri as d,Ui as f,aa as p,ea as m,ga as h,na as g,ta as _}from"./index-BW6FH5S4.js";var v=s({__name:`RovingFocusItem`,props:{tabStopId:{type:String,required:!1},focusable:{type:Boolean,required:!1,default:!0},active:{type:Boolean,required:!1},allowShiftKey:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:`span`}},setup(s){let v=s,y=i(),b=e(),x=c(()=>v.tabStopId||b),S=c(()=>y.currentTabStopId.value===x.value),{getItems:C,CollectionItem:w}=o();m(()=>{v.focusable&&y.onFocusableItemAdd()}),_(()=>{v.focusable&&y.onFocusableItemRemove()});function T(e){if(e.key===`Tab`&&e.shiftKey){y.onItemShiftTab();return}if(e.target!==e.currentTarget)return;let i=n(e,y.orientation.value,y.dir.value);if(i!==void 0){if(e.metaKey||e.ctrlKey||e.altKey||!v.allowShiftKey&&e.shiftKey)return;e.preventDefault();let n=[...C().map(e=>e.ref).filter(e=>e.dataset.disabled!==``)];if(i===`last`)n.reverse();else if(i===`prev`||i===`next`){i===`prev`&&n.reverse();let r=n.indexOf(e.currentTarget);n=y.loop.value?t(n,r+1):n.slice(r+1)}u(()=>r(n))}}return(e,t)=>(g(),d(a(w),null,{default:h(()=>[f(a(l),{tabindex:S.value?0:-1,"data-orientation":a(y).orientation.value,"data-active":e.active?``:void 0,"data-disabled":e.focusable?void 0:``,as:e.as,"as-child":e.asChild,onMousedown:t[0]||=t=>{e.focusable?a(y).onItemFocus(x.value):t.preventDefault()},onFocus:t[1]||=e=>a(y).onItemFocus(x.value),onKeydown:T},{default:h(()=>[p(e.$slots,`default`)]),_:3},8,[`tabindex`,`data-orientation`,`data-active`,`data-disabled`,`as`,`as-child`])]),_:3}))}});export{v as t};