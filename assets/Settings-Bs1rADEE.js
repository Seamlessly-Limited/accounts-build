import"./useFormControl-DvkL6jNJ.js";import"./useNonce-BMN6rGol.js";import"./nullish-CfjOSA4G.js";import"./CheckboxIndicator-BI1DZyat.js";import"./useArrowNavigation-siWGBYoD.js";import"./ConfigProvider-COTvgjgS.js";import"./useHideOthers-DDpiFsmm.js";import"./useDirection-D13jZBr-.js";import"./PopperAnchor-D24J2rYd.js";import"./useId-Cbz22I98.js";import"./PopperContent-C4v9BcUF.js";import"./useTypeahead-m4pU0-pP.js";import"./DialogPortal-DIyf6CsR.js";import"./Teleport-BgQd8kcT.js";import"./utils-B7nnpTSD.js";import"./DialogTitle-BUgZPGK9.js";import"./AvatarImage-Z6nQOR8p.js";import"./utils-DPCF9wwr.js";import"./RovingFocusGroup-C_eVAqgr.js";import"./RovingFocusItem-J1kH07XU.js";import"./VisuallyHiddenInput-Cjn1nZPy.js";import"./Label-Nwra6Wd2.js";import"./SelectViewport-BEIerl6o.js";import{t as e}from"./SelectGroup-BefQcyG1.js";import{a as t,i as n,n as r,r as i,t as a}from"./tabs-siosCzCP.js";import"./Team-DdSRMP2F.js";import{Di as o,Gi as s,Ni as c,Oi as l,Pi as u,Sa as d,Si as f,Ta as p,Yi as m,ca as h,ha as g,i as _,ji as v,ki as y,m as b,n as x,o as S,qi as C,r as w,sa as T,wi as E,xa as D,xi as ee,yi as O}from"./index-DYsAJfvN.js";import"./DialogContent-BldpPBwW.js";import"./DialogTitle-g0gXcd15.js";import"./DialogFooter-DKtkETD-.js";import{t as k}from"./Input-CVPFaPt_.js";import{t as A}from"./button-JGcPCTN0.js";import"./avatar-CYYAu0x9.js";import{t as j}from"./OrganisationService-D38rEkkS.js";import{t as M}from"./Card-Dxwe4kgH.js";import{t as N}from"./Card-B2Jpc861.js";import"./CardContent-VS5bSOkZ.js";import"./CardTitle-ZgMFQxsB.js";import"./form-b-p6krCg.js";import{t as P}from"./Label-D_0LiB9C.js";import{a as F,i as I,n as L,r as R,t as z}from"./SelectValue-BTSASMeG.js";import{t as te}from"./badge-D0SwtQcn.js";import{t as B}from"./Billing-DH_NatkI.js";import"./Checkbox-Bmkx-qUG.js";var V={class:`w-full pb-7 block justify-center`},H={class:`grid grid-cols-1 md:grid-cols-1 gap-12 pt-0 max-w-2xl w-full mx-auto`},U={class:`flex justify-end`},W={key:0},G={key:1},K=_({__name:`Profile`,setup(e){let t=g({id:null,name:``,type:``,tin:``,cac_no:``,country:``,state:``,website:``,industry:``}),n=g([]),r=g([]),i=g([{label:`Agriculture`,value:`agriculture`},{label:`Manufacturing`,value:`manufacturing`},{label:`Finance & Insurance`,value:`finance`},{label:`Technology`,value:`technology`},{label:`Healthcare`,value:`healthcare`},{label:`Real Estate`,value:`real_estate`},{label:`Education`,value:`education`},{label:`Hospitality`,value:`hospitality`}]),a=g(!1),o=g(!1);s(async()=>{await d(),await f()});async function d(){try{t.value=await j.getById(`current`)||{}}catch{b({title:`Error`,description:`Failed to load organisation`})}}async function f(){let e=window.configurations.countries;e&&Array.isArray(e)&&(n.value=e.map(e=>({label:e.name||e,value:e.code||e.name||e})))}async function h(e){if(e){o.value=!0;try{r.value=((await(await fetch(`https://countriesnow.space/api/v0.1/countries/states`,{method:`POST`,headers:{"Content-Type":`application/json`},body:JSON.stringify({country:e})})).json()).data?.states||[]).map(e=>({label:e.name,value:e.name}))||[]}catch{b({title:`Error`,description:`Unable to load states. Please try again.`})}finally{o.value=!1}}}async function _(){a.value=!0;try{let e=await j.update(t.value.id,t.value);b({title:`Organisation Updated`,description:`${e.name} has been saved successfully.`})}catch(e){b({title:`Error`,description:e.message||`Failed to save organisation.`})}finally{a.value=!1}}return(e,s)=>(C(),v(`div`,V,[l(`div`,H,[l(`div`,null,[u(D(P),{for:`name`},{default:T(()=>[...s[5]||=[c(`Legal Name`,-1)]]),_:1}),u(D(k),{id:`name`,modelValue:t.value.name,"onUpdate:modelValue":s[0]||=e=>t.value.name=e,placeholder:`Registered name`,class:`rounded-full mt-2`},null,8,[`modelValue`])]),l(`div`,null,[u(D(P),{for:`industry`},{default:T(()=>[...s[6]||=[c(`Industry / Category`,-1)]]),_:1}),u(D(F),{modelValue:t.value.industry,"onUpdate:modelValue":s[1]||=e=>t.value.industry=e},{default:T(()=>[u(D(L),{id:`industry`,class:`rounded-full mt-2`},{default:T(()=>[u(D(z),{placeholder:`Select industry`})]),_:1}),u(D(I),null,{default:T(()=>[(C(!0),v(E,null,m(i.value,e=>(C(),y(D(R),{key:e.value,value:e.label},{default:T(()=>[c(p(e.label),1)]),_:2},1032,[`value`]))),128))]),_:1})]),_:1},8,[`modelValue`])]),l(`div`,null,[u(D(P),{for:`country`},{default:T(()=>[...s[7]||=[c(`Country`,-1)]]),_:1}),u(D(F),{modelValue:t.value.country,"onUpdate:modelValue":[s[2]||=e=>t.value.country=e,h]},{default:T(()=>[u(D(L),{id:`country`,class:`rounded-full mt-2`},{default:T(()=>[u(D(z),{placeholder:`Select country`})]),_:1}),u(D(I),null,{default:T(()=>[(C(!0),v(E,null,m(n.value,e=>(C(),y(D(R),{key:e.value,value:e.label},{default:T(()=>[c(p(e.label),1)]),_:2},1032,[`value`]))),128))]),_:1})]),_:1},8,[`modelValue`])]),l(`div`,null,[u(D(P),{for:`state`},{default:T(()=>[...s[8]||=[c(`State / County`,-1)]]),_:1}),u(D(F),{modelValue:t.value.state,"onUpdate:modelValue":s[3]||=e=>t.value.state=e},{default:T(()=>[u(D(L),{id:`state`,class:`rounded-full mt-2`,disabled:o.value},{default:T(()=>[u(D(z),{placeholder:`Select state`})]),_:1},8,[`disabled`]),u(D(I),null,{default:T(()=>[(C(!0),v(E,null,m(r.value,e=>(C(),y(D(R),{key:e.value,value:e.label},{default:T(()=>[c(p(e.label),1)]),_:2},1032,[`value`]))),128))]),_:1})]),_:1},8,[`modelValue`])]),l(`div`,null,[u(D(P),{for:`website`},{default:T(()=>[...s[9]||=[c(`Website (optional)`,-1)]]),_:1}),u(D(k),{id:`website`,modelValue:t.value.website,"onUpdate:modelValue":s[4]||=e=>t.value.website=e,placeholder:`https://yourbusiness.com`,class:`rounded-full mt-2`},null,8,[`modelValue`])]),l(`div`,U,[u(D(A),{class:`rounded-full px-8`,disabled:a.value,onClick:_},{default:T(()=>[a.value?(C(),v(`span`,G,`Processing...`)):(C(),v(`span`,W,`Save Changes`))]),_:1},8,[`disabled`])])])]))}},[[`__scopeId`,`data-v-8336469e`]]),q={async fetchUserComplianceData(e){return await S.get(`me/compliances/${e}`,{authorizeRequest:!0})},async saveComplianceData(e,t,n){return await S.patch(`me/compliances/${e}/${n}`,{authorizeRequest:!0,data:{complianceData:t}})},async getFrameworks(){return[{id:1,name:`CAMA 2020`,description:`Companies and Allied Matters Act`,policyLevel:`federal`,longDescription:`The Companies and Allied Matters Act (CAMA) 2020 is the principal legislation governing the formation and management of companies in Nigeria.`},{id:2,name:`Finance Act 2023`,description:`Annual Finance Act amendments`,policyLevel:`federal`,longDescription:`The Finance Act 2023 introduces changes to various tax laws to support the implementation of the federal budget.`},{id:3,name:`Lagos State Revenue Law`,description:`State internal revenue regulations`,policyLevel:`state`,longDescription:`Governs the collection of taxes and revenues in Lagos State.`}]},async getRegistration(e=`current`){return(await S.get(`organisations/${e}/compliance/registration`,{authorizeRequest:!0})).data||{}},async updateRegistration(e,t=`current`){return(await S.put(`organisations/${t}/compliance/registration`,{authorizeRequest:!0,data:e})).data}},J={class:`w-full`},Y={class:`border border-gray-200 rounded-2xl p-6 bg-white`},X={class:`grid grid-cols-1 md:grid-cols-2 gap-6`},Z={class:`mt-8 text-right`},Q={key:0},ne={key:1},re={class:`flex flex-col lg:flex-row gap-6`},ie={class:`flex-1 space-y-6`},ae={class:`text-lg font-semibold text-slate-800 mb-3 capitalize`},oe={class:`grid grid-cols-1 sm:grid-cols-2 gap-4`},se={class:`flex justify-between items-start`},ce={class:`font-semibold text-slate-800`},le={class:`text-sm text-slate-600 mb-3`},ue={class:`w-full lg:w-80 xl:w-96 border border-gray-200 rounded-2xl bg-white flex flex-col`},de={class:`font-semibold text-slate-800 mb-2`},fe={class:`text-sm text-slate-600 leading-relaxed whitespace-pre-line`},pe={class:`flex-1 overflow-y-auto space-y-3`},me={class:`mt-4 flex gap-2`},$={__name:`TrustCentre`,setup(e){let r=g(`registrations`),_=g(`overview`),x=g(!1),S=g({nationalTaxId:``,stateTaxId:``,businessRegId:``,notes:``}),w=g([]),j=g(null),M=g([]),F=g(``),I=o(()=>{let e={};return w.value.forEach(t=>{let n=t.policyLevel||`general`;e[n]||(e[n]=[]),e[n].push(t)}),e});s(async()=>{await L(),await R()});async function L(){try{w.value=await q.getFrameworks()}catch{b({title:`Error`,description:`Unable to load frameworks`})}}async function R(){try{let e=await q.getRegistration();Object.assign(S.value,e)}catch{}}async function z(){x.value=!0;try{await q.updateRegistration(S.value),b({title:`Saved`,description:`Compliance credentials updated.`})}catch(e){b({title:`Error`,description:e.message||`Failed to save credentials`})}finally{x.value=!1}}function B(e){j.value=e,_.value=`overview`}async function V(){if(!F.value.trim())return;let e={id:Date.now(),role:`user`,content:F.value};M.value.push(e),F.value=``,setTimeout(()=>{M.value.push({id:Date.now()+1,role:`assistant`,content:`This framework covers your obligations under the `+(j.value?.name||`selected policy`)+` and includes compliance filing schedules, due dates, and exemptions.`})},800)}return(e,o)=>(C(),v(`div`,J,[u(D(t),{modelValue:r.value,"onUpdate:modelValue":o[6]||=e=>r.value=e,class:`w-full`},{default:T(()=>[u(D(i),{class:`mb-6 flex gap-2`},{default:T(()=>[u(D(a),{value:`registrations`,class:`rounded-full px-6 py-2`},{default:T(()=>[...o[7]||=[c(`Registrations`,-1)]]),_:1}),u(D(a),{value:`frameworks`,class:`rounded-full px-6 py-2`},{default:T(()=>[...o[8]||=[c(`Tax Frameworks`,-1)]]),_:1})]),_:1}),u(D(n),{value:`registrations`},{default:T(()=>[l(`div`,Y,[o[13]||=l(`h2`,{class:`text-lg font-semibold text-slate-800 mb-6`},`Registration Credentials`,-1),l(`div`,X,[l(`div`,null,[u(D(P),{for:`nationalTaxId`},{default:T(()=>[...o[9]||=[c(`National Tax Identifier`,-1)]]),_:1}),u(D(k),{id:`nationalTaxId`,modelValue:S.value.nationalTaxId,"onUpdate:modelValue":o[0]||=e=>S.value.nationalTaxId=e,placeholder:`Enter your national tax identifier`,class:`rounded-full mt-2`},null,8,[`modelValue`])]),l(`div`,null,[u(D(P),{for:`stateTaxId`},{default:T(()=>[...o[10]||=[c(`State Tax Identifier`,-1)]]),_:1}),u(D(k),{id:`stateTaxId`,modelValue:S.value.stateTaxId,"onUpdate:modelValue":o[1]||=e=>S.value.stateTaxId=e,placeholder:`Enter your state tax identifier`,class:`rounded-full mt-2`},null,8,[`modelValue`])]),l(`div`,null,[u(D(P),{for:`businessRegId`},{default:T(()=>[...o[11]||=[c(`Registration Identifier`,-1)]]),_:1}),u(D(k),{id:`businessRegId`,modelValue:S.value.businessRegId,"onUpdate:modelValue":o[2]||=e=>S.value.businessRegId=e,placeholder:`Enter your official registration identifier`,class:`rounded-full mt-2`},null,8,[`modelValue`])]),l(`div`,null,[u(D(P),{for:`additionalNotes`},{default:T(()=>[...o[12]||=[c(`Additional Notes (optional)`,-1)]]),_:1}),h(l(`textarea`,{id:`additionalNotes`,"onUpdate:modelValue":o[3]||=e=>S.value.notes=e,rows:`3`,class:`w-full rounded-2xl border-gray-300 focus:ring-2 focus:ring-blue-500 mt-2 p-3`,placeholder:`Provide any relevant compliance remarks...`},null,512),[[O,S.value.notes]])])]),l(`div`,Z,[u(D(A),{class:`rounded-full px-8`,onClick:z,disabled:x.value},{default:T(()=>[x.value?(C(),v(`span`,ne,`Processing...`)):(C(),v(`span`,Q,`Save Credentials`))]),_:1},8,[`disabled`])])])]),_:1}),u(D(n),{value:`frameworks`},{default:T(()=>[l(`div`,re,[l(`div`,ie,[(C(!0),v(E,null,m(I.value,(e,t)=>(C(),v(`div`,{key:t},[l(`h3`,ae,p(t)+` Frameworks`,1),l(`div`,oe,[(C(!0),v(E,null,m(e,e=>(C(),y(D(N),{key:e.id,class:`p-5 border border-gray-200 hover:border-slate-800 transition rounded-xl`},{default:T(()=>[l(`div`,se,[l(`div`,null,[l(`h4`,ce,p(e.name),1),l(`p`,le,p(e.description),1),u(D(te),{variant:`secondary`,class:`rounded-full text-xs`},{default:T(()=>[c(p(e.policyLevel),1)]),_:2},1024)]),u(D(A),{variant:`outline`,size:`sm`,class:`rounded-full`,onClick:t=>B(e)},{default:T(()=>[...o[14]||=[c(` View `,-1)]]),_:1},8,[`onClick`])])]),_:2},1024))),128))])]))),128))]),l(`div`,ue,[u(D(t),{modelValue:_.value,"onUpdate:modelValue":o[5]||=e=>_.value=e,class:`flex-1 flex flex-col`},{default:T(()=>[u(D(i),{class:`flex justify-around p-2 border-b border-gray-100`},{default:T(()=>[u(D(a),{value:`overview`,class:`rounded-full px-4 py-1 text-sm`},{default:T(()=>[...o[15]||=[c(`Overview`,-1)]]),_:1}),u(D(a),{value:`ask`,class:`rounded-full px-4 py-1 text-sm`},{default:T(()=>[...o[16]||=[c(`Ask AI`,-1)]]),_:1})]),_:1}),u(D(n),{value:`overview`,class:`flex-1 p-4 overflow-y-auto`},{default:T(()=>[l(`h4`,de,p(j.value?.name||`No Framework Selected`),1),l(`p`,fe,p(j.value?.longDescription||`Select a tax framework from the left to view details and guidance.`),1)]),_:1}),u(D(n),{value:`ask`,class:`flex-1 p-4 flex flex-col`},{default:T(()=>[l(`div`,pe,[(C(!0),v(E,null,m(M.value,e=>(C(),v(`div`,{key:e.id,class:d([`text-sm p-3 rounded-xl`,e.role===`user`?`bg-blue-100 text-slate-800 self-end`:`bg-gray-100 text-slate-700 self-start`])},p(e.content),3))),128))]),l(`div`,me,[u(D(k),{modelValue:F.value,"onUpdate:modelValue":o[4]||=e=>F.value=e,placeholder:`Ask about tax obligations...`,class:`rounded-full flex-1`,onKeydown:ee(f(V,[`prevent`]),[`enter`])},null,8,[`modelValue`,`onKeydown`]),u(D(A),{class:`rounded-full`,onClick:V},{default:T(()=>[...o[17]||=[c(`Send`,-1)]]),_:1})])]),_:1})]),_:1},8,[`modelValue`])])])]),_:1})]),_:1},8,[`modelValue`])]))}},he={class:`rounded-sm`},ge={class:`container mx-auto py-5 relative`},_e={class:`flex justify-center`},ve={class:`flex flex-col md:flex-row gap-8 space-y-6`},ye={class:`flex-1`},be={class:`flex flex-col gap-8`},xe={class:`block md:hidden mb-6`},Se=_({__name:`Settings`,setup(i){w(),x();let o=g(`general`);return(i,s)=>(C(),v(`div`,he,[l(`div`,ge,[l(`div`,_e,[u(D(M),{class:`w-full p-8 shadow-none border-none bg-transparent rounded-2xl min-h-[80vh]`},{default:T(()=>[l(`div`,ve,[l(`div`,ye,[s[10]||=l(`div`,{class:`flex flex-col sm:flex-row sm:justify-between w-full`},[l(`div`,null,[l(`h1`,{class:`text-2xl font-bold text-slate-800`},`Organisation Settings`),l(`p`,{class:`text-sm text-slate-600`},`Manage your organisation profile, team, and preferences`)])],-1),l(`div`,be,[l(`div`,xe,[u(D(F),{modelValue:o.value,"onUpdate:modelValue":s[0]||=e=>o.value=e},{default:T(()=>[u(D(L),{class:`w-full border rounded-xl py-2 px-3 text-sm`},{default:T(()=>[u(D(z),{placeholder:`Select section`})]),_:1}),u(D(I),null,{default:T(()=>[u(D(e),null,{default:T(()=>[u(D(R),{value:`general`},{default:T(()=>[...s[2]||=[c(`General`,-1)]]),_:1}),u(D(R),{value:`billing`},{default:T(()=>[...s[3]||=[c(`Billing`,-1)]]),_:1}),u(D(R),{value:`trust-centre`},{default:T(()=>[...s[4]||=[c(`Trust Centre`,-1)]]),_:1})]),_:1})]),_:1})]),_:1},8,[`modelValue`])]),u(D(t),{modelValue:o.value,"onUpdate:modelValue":s[1]||=e=>o.value=e,"default-value":`general`,class:`mb-6 grid`},{default:T(()=>[s[8]||=l(`hr`,{class:`h-1 bg-slate-50 mt-10 mb-1 opacity-20`},null,-1),u(D(r),{class:`rounded-full bg-stone-100 text-blue-950 px-0.5 py-0.5 w-fit`},{default:T(()=>[u(D(a),{value:`general`,class:`px-4 py-1 rounded-full data-[state=active]:bg-stone-50 data-[state=active]:text-blue-950`},{default:T(()=>[...s[5]||=[c(` General `,-1)]]),_:1}),u(D(a),{value:`billing`,class:`px-4 py-1 rounded-full data-[state=active]:bg-stone-50 data-[state=active]:text-blue-950`},{default:T(()=>[...s[6]||=[c(` Billing `,-1)]]),_:1}),u(D(a),{value:`trust-centre`,class:`px-4 py-1 rounded-full data-[state=active]:bg-stone-50 data-[state=active]:text-blue-950`},{default:T(()=>[...s[7]||=[c(` Trust Centre `,-1)]]),_:1})]),_:1}),s[9]||=l(`hr`,{class:`h-1 bg-slate-50 mb-10 mt-2 opacity-30`},null,-1),u(D(n),{value:`general`,class:`mt-0`},{default:T(()=>[u(K)]),_:1}),u(D(n),{value:`billing`,class:`mt-0`},{default:T(()=>[u(B)]),_:1}),u(D(n),{value:`trust-centre`,class:`mt-0`},{default:T(()=>[u($)]),_:1})]),_:1},8,[`modelValue`])])])])]),_:1})])])]))}},[[`__scopeId`,`data-v-a5eda648`]]);export{Se as default};