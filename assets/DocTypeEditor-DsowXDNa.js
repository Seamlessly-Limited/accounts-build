import "./useFormControl-Dnp3iC5X.js"; import "./useNonce-CnEoXn07.js"; import "./nullish-CfjOSA4G.js"; import "./CheckboxIndicator-CPem_8FL.js"; import "./useArrowNavigation-siWGBYoD.js"; import "./ConfigProvider-Ckl6KgMj.js"; import "./useHideOthers-L15EfXxs.js"; import "./useDirection-B1kSZwKq.js"; import "./PopperAnchor-Sq61S0mP.js"; import "./useId-Da-MS2me.js"; import "./PopperContent-b6gGwF_E.js"; import "./useTypeahead---iVCXRs.js"; import "./Teleport-BJpx-KiC.js"; import "./utils-BpsHH13c.js"; import "./utils-BFR0tnUV.js"; import "./RovingFocusGroup-BhwVgyO_.js"; import "./RovingFocusItem-DP4RL6Sr.js"; import "./VisuallyHiddenInput-B3HVdvGc.js"; import "./DropdownMenuTrigger-BH9p6Bti.js"; import "./DropdownMenuLabel-KcuU36aY.js"; import "./MenuSeparator-FLBLb_HD.js"; import "./DropdownMenuSeparator-3oAyQvzW.js"; import "./Label-BsQm4x39.js"; import "./SelectViewport-BHDGvtQj.js"; import { a as e, i as t, r as n, t as r } from "./tabs-B4YTpODo.js"; import { $ as i, $i as a, $t as o, An as ee, At as s, B as te, Ci as ne, Ea as c, Ei as l, En as u, Fi as d, Ft as f, Gt as re, Hn as p, I as ie, Jt as ae, L as m, Li as h, Mi as g, Mt as oe, N as se, Ni as _, Nt as v, Oa as ce, Oi as y, Pi as b, Pt as le, Qn as x, R as S, Ri as C, Rt as ue, St as de, Ta as w, Tn as fe, V as pe, Vn as T, Vt as E, W as me, Wn as he, Xn as ge, Yi as _e, Yt as D, Zi as O, Zn as ve, _n as k, _t as ye, a as be, ar as A, at as xe, b as Se, bn as Ce, bt as we, ct as Te, da as j, dr as Ee, dt as De, en as Oe, fa as ke, ht as Ae, i as M, j as N, ji as P, ka as F, kn as je, kt as Me, mn as Ne, mt as Pe, na as I, nn as Fe, nr as L, o as R, pn as Ie, r as Le, rn as Re, rr as ze, sr as Be, un as Ve, w as He, wt as Ue, x as We, xt as Ge, ya as z, yt as Ke } from "./index-CHNvwQRL.js"; import { t as qe } from "./WorkspaceStore-Djee2ZJb.js"; import { t as B } from "./Input-i1kcrjFD.js"; import { i as Je, n as V, r as Ye, t as Xe } from "./DropdownMenuTrigger-DB_AyFT1.js"; import { t as H } from "./DropdownMenuLabel-Cad6O9w2.js"; import { t as Ze } from "./DropdownMenuSeparator-COnwGw4L.js"; import { n as U } from "./button-DSlecn3R.js"; import { t as W } from "./Input-C1gBbhGk.js"; import { t as Qe } from "./Textarea-cnn7tihP.js"; import { t as G } from "./Card-DyXAPDF3.js"; import { t as K } from "./Label--GHB7iKy.js"; import { t as q } from "./Checkbox-CatEzFBT.js"; import { n as $e, t as et } from "./purify.es-CrZVVHqb.js"; import { a as J, i as Y, n as X, r as Z, t as Q } from "./SelectValue-DyPaSYfc.js"; import { a as tt, i as nt, n as rt, r as it, t as at } from "./SelectValue-C8x3HZX3.js"; const $ = { DATA: { label: `Short Text`, icon: `Type`, category: `text`, dbType: `VARCHAR(255)`, description: `Single line text input` }, TEXT: { label: `Long Text`, icon: `AlignLeft`, category: `text`, dbType: `TEXT`, description: `Multi-line text area` }, SMALL_TEXT: { label: `Small Text`, icon: `Text`, category: `text`, dbType: `VARCHAR(500)`, description: `Short multi-line text` }, LONG_TEXT: { label: `Rich Text`, icon: `FileText`, category: `text`, dbType: `TEXT`, description: `Long text with larger UI` }, INT: { label: `Integer`, icon: `Hash`, category: `number`, dbType: `BIGINT`, description: `Whole number` }, FLOAT: { label: `Decimal`, icon: `Calculator`, category: `number`, dbType: `DOUBLE PRECISION`, description: `Decimal number` }, CURRENCY: { label: `Currency`, icon: `DollarSign`, category: `number`, dbType: `DECIMAL(19,4)`, description: `Money with 4 decimal places` }, PERCENT: { label: `Percent`, icon: `Percent`, category: `number`, dbType: `DECIMAL(5,2)`, description: `Percentage (0-100)` }, DATE: { label: `Date`, icon: `Calendar`, category: `datetime`, dbType: `DATE`, description: `Date picker` }, DATETIME: { label: `Date & Time`, icon: `CalendarClock`, category: `datetime`, dbType: `TIMESTAMP`, description: `Date and time picker` }, TIME: { label: `Time`, icon: `Clock`, category: `datetime`, dbType: `TIME`, description: `Time picker` }, DURATION: { label: `Duration`, icon: `Timer`, category: `datetime`, dbType: `BIGINT`, description: `Duration in seconds` }, CHECKBOX: { label: `Checkbox`, icon: `CheckSquare`, category: `choice`, dbType: `BOOLEAN`, description: `Yes/No checkbox` }, SELECT: { label: `Select`, icon: `List`, category: `choice`, dbType: `VARCHAR(255)`, description: `Single select dropdown`, requiresOptions: !0 }, MULTI_SELECT: { label: `Multi Select`, icon: `ListChecks`, category: `choice`, dbType: `JSONB`, description: `Multiple selection` }, LINK: { label: `Link`, icon: `Link2`, category: `relationship`, dbType: `VARCHAR(255)`, description: `Link to another DocType`, requiresOptions: !0, optionsLabel: `Target DocType` }, TABLE: { label: `Table`, icon: `Table`, category: `relationship`, dbType: null, description: `Child table`, requiresOptions: !0, optionsLabel: `Child DocType` }, ATTACH: { label: `Attachment`, icon: `Paperclip`, category: `file`, dbType: `VARCHAR(500)`, description: `File attachment` }, ATTACH_IMAGE: { label: `Image`, icon: `Image`, category: `file`, dbType: `VARCHAR(500)`, description: `Image attachment` }, SIGNATURE: { label: `Signature`, icon: `PenTool`, category: `file`, dbType: `TEXT`, description: `Signature capture` }, PHONE: { label: `Phone`, icon: `Phone`, category: `contact`, dbType: `VARCHAR(50)`, description: `Phone number` }, EMAIL: { label: `Email`, icon: `Mail`, category: `contact`, dbType: `VARCHAR(255)`, description: `Email address` }, COLOR: { label: `Color`, icon: `Palette`, category: `special`, dbType: `VARCHAR(20)`, description: `Hex color picker` }, JSON: { label: `JSON`, icon: `Braces`, category: `special`, dbType: `JSONB`, description: `Arbitrary JSON data` }, PASSWORD: { label: `Password`, icon: `Lock`, category: `special`, dbType: `VARCHAR(255)`, description: `Masked password input` }, READ_ONLY: { label: `Read Only`, icon: `Eye`, category: `special`, dbType: null, description: `Display only, no storage` }, HTML: { label: `HTML`, icon: `Code`, category: `special`, dbType: `TEXT`, description: `Rich HTML content` }, GEOLOCATION: { label: `Geolocation`, icon: `MapPin`, category: `special`, dbType: `JSONB`, description: `Lat/Lng coordinates` }, SECTION_BREAK: { label: `Section Break`, icon: `Minus`, category: `layout`, dbType: null, description: `Section separator`, isLayout: !0 }, COLUMN_BREAK: { label: `Column Break`, icon: `Columns`, category: `layout`, dbType: null, description: `Column separator`, isLayout: !0 }, TAB_BREAK: { label: `Tab Break`, icon: `LayoutGrid`, category: `layout`, dbType: null, description: `Tab separator`, isLayout: !0 } }, ot = { text: { label: `Text`, icon: `Type` }, number: { label: `Number`, icon: `Hash` }, datetime: { label: `Date & Time`, icon: `Calendar` }, choice: { label: `Choice`, icon: `List` }, relationship: { label: `Relationship`, icon: `Link2` }, file: { label: `File`, icon: `Paperclip` }, contact: { label: `Contact`, icon: `User` }, special: { label: `Special`, icon: `Sparkles` }, layout: { label: `Layout`, icon: `LayoutGrid` } }, st = [{ value: `CRM`, label: `CRM`, icon: `Users`, color: `#3B82F6` }, { value: `Selling`, label: `Selling`, icon: `TrendingUp`, color: `#10B981` }, { value: `Billing`, label: `Billing`, icon: `Receipt`, color: `#3B82F6` }, { value: `Buying`, label: `Buying`, icon: `ShoppingBag`, color: `#8B5CF6` }, { value: `Stock`, label: `Stock`, icon: `Package`, color: `#F97316` }, { value: `Accounting`, label: `Accounting`, icon: `BookOpen`, color: `#10B981` }, { value: `System`, label: `System`, icon: `Settings`, color: `#6366F1` }], ct = [{ value: `AUTO_INCREMENT`, label: `Auto Increment`, description: `Sequential numbers (e.g., 00001, 00002)` }, { value: `UUID`, label: `UUID`, description: `Random unique identifier` }], lt = { name: ``, module: `CRM`, description: ``, documentation: ``, icon: `File`, color: `#3B82F6`, isChild: !1, isSubmittable: !1, isSingle: !1, trackChanges: !0, hasId: !0, idPrefix: ``, idSuffix: ``, idMinLength: 5, idGenerationStrategy: `AUTO_INCREMENT`, titleField: `name`, searchFields: ``, sortField: `created_at`, sortOrder: `DESC`, fields: [] }, ut = { fieldname: ``, label: ``, fieldtype: `DATA`, options: ``, reqd: !1, is_unique: !1, default_value: ``, hidden: !1, read_only: !1, in_list_view: !1, in_filter: !1, search_index: !1, placeholder: ``, description: `` }; function dt() { let e = {}; for (let [t, n] of Object.entries($)) e[n.category] || (e[n.category] = []), e[n.category].push({ type: t, ...n }); return e } function ft(e) { return e.toLowerCase().replace(/[^a-z0-9\s]/g, ``).replace(/\s+/g, `_`).substring(0, 63) } var pt = { class: `flex items-center justify-between mb-4` }, mt = { key: 0, class: `border-2 shadow-md border-gray-200 rounded-lg p-8 text-center` }, ht = { key: 0, class: `text-sm text-gray-400` }, gt = { key: 1, class: `text-sm text-gray-400` }, _t = { key: 1, class: `space-y-2` }, vt = [`onClick`], yt = { class: `flex-1 min-w-0` }, bt = { class: `flex items-center gap-2` }, xt = { class: `font-medium truncate` }, St = { key: 0, class: `text-red-500 text-xs` }, Ct = { class: `flex items-center gap-2 text-xs text-gray-500` }, wt = { class: `bg-gray-100 px-1 rounded` }, Tt = { class: `px-1.5 py-0.5 bg-gray-100 rounded` }, Et = { key: 0, class: `p-4 border-t bg-gray-50/50 space-y-4` }, Dt = { class: `grid grid-cols-2 gap-4` }, Ot = { class: `space-y-1.5` }, kt = { class: `space-y-1.5` }, At = { key: 0, class: `col-span-2 space-y-1.5` }, jt = { key: 1, class: `space-y-1.5 flex-1` }, Mt = { key: 2, class: `space-y-1.5` }, Nt = { class: `col-span-2 pt-4 border-t` }, Pt = { class: `grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4` }, Ft = { class: `col-span-2 space-y-1.5` }, It = {
    __name: `FieldBuilder`, props: { modelValue: { type: Array, default: () => [] }, availableDocTypes: { type: Array, default: () => [] }, disabled: { type: Boolean, default: !1 } }, emits: [`update:modelValue`], setup(e, { emit: t }) {
        let n = e, r = t, i = z(null), o = { Type: N, AlignLeft: S, Text: S, Hash: ae, Calculator: x, DollarSign: Ce, Percent: Ae, Calendar: ge, CalendarClock: ve, Clock: ee, Timer: m, CheckSquare: me, List: le, ListChecks: f, Link2: ue, Table: te, Paperclip: Ke, Image: re, PenTool: ye, Phone: Pe, Mail: s, Palette: Ge, Braces: L, Lock: oe, Eye: Ie, Code: je, Minus: Ue, Columns: u, LayoutGrid: E, MapPin: Me }, ne = { text: `bg-blue-500`, number: `bg-green-500`, datetime: `bg-purple-500`, choice: `bg-orange-500`, relationship: `bg-pink-500`, file: `bg-yellow-500`, contact: `bg-cyan-500`, special: `bg-gray-500`, layout: `bg-slate-400` }, se = [{ key: `reqd`, label: `Required` }, { key: `in_list_view`, label: `Show in List` }, { key: `in_filter`, label: `Filterable` }, { key: `search_index`, label: `Indexed` }, { key: `is_unique`, label: `Unique` }, { key: `hidden`, label: `Hidden` }, { key: `read_only`, label: `Read Only` }], v = new WeakMap, ce = 0, de = P(() => dt()), fe = se; function pe(e) { return v.has(e) || v.set(e, `f-${++ce}`), v.get(e) } function _e(e) { let t = $[e]?.category; return ne[t] || `bg-gray-500` } function k(e) { return $[e] || null } function be(e) { let t = { ...ut, fieldtype: e, fieldname: ``, label: `` }; r(`update:modelValue`, [...n.modelValue, t]), i.value = n.modelValue.length } function A(e) { let t = [...n.modelValue]; t.splice(e, 1), r(`update:modelValue`, t), i.value === e ? i.value = null : i.value > e && i.value-- } function xe(e, t) { let a = e + t; if (a < 0 || a >= n.modelValue.length) return; let o = [...n.modelValue], [ee] = o.splice(e, 1); o.splice(a, 0, ee), r(`update:modelValue`, o), i.value === e ? i.value = a : i.value === a && (i.value = e) } function Se(e) { i.value = i.value === e ? null : e } function we(e) { !e.fieldname && e.label && (e.fieldname = ft(e.label)) } return (t, n) => (O(), _(w(G), { class: `p-6 bg-white/80` }, {
            default: j(() => [g(`div`, pt, [n[4] ||= g(`div`, null, [g(`h3`, { class: `font-semibold text-lg` }, `Fields`), g(`p`, { class: `text-sm text-gray-500` }, `Define the data structure for this DocType`)], -1), e.disabled ? b(``, !0) : (O(), _(w(Je), { key: 0 }, { default: j(() => [C(w(Xe), { asChild: `` }, { default: j(() => [C(w(U), { class: `rounded-full` }, { default: j(() => [C(w(De), { class: `w-4 h-4 mr-2` }), n[2] ||= h(` Add Field `, -1)]), _: 1 })]), _: 1 }), C(w(Ye), { class: `w-56 overflow-y-scroll max-h-[400px]`, style: { "scrollbar-width": `none` } }, { default: j(() => [C(w(H), null, { default: j(() => [...n[3] ||= [h(`Field Type`, -1)]]), _: 1 }), C(w(Ze)), (O(!0), d(y, null, a(de.value, (e, t) => (O(), d(y, { key: t }, [C(w(H), { class: `text-xs text-gray-400 uppercase` }, { default: j(() => [h(F(w(ot)[t]?.label || t), 1)]), _: 2 }, 1024), (O(!0), d(y, null, a(e, e => (O(), _(w(V), { key: e.type, onClick: t => be(e.type) }, { default: j(() => [(O(), _(I(o[e.icon]), { class: `w-4 h-4 mr-2` })), h(` ` + F(e.label), 1)]), _: 2 }, 1032, [`onClick`]))), 128)), C(w(Ze))], 64))), 128))]), _: 1 })]), _: 1 }))]), e.modelValue.length === 0 ? (O(), d(`div`, mt, [C(w(le), { class: `w-12 h-12 mx-auto text-gray-300 mb-3` }), n[5] ||= g(`p`, { class: `text-gray-500` }, `No fields defined yet`, -1), e.disabled ? (O(), d(`p`, gt, `This DocType has no fields and is read-only.`)) : (O(), d(`p`, ht, `Click "Add Field" to start building your DocType`))])) : (O(), d(`div`, _t, [(O(!0), d(y, null, a(e.modelValue, (t, r) => (O(), d(`div`, { key: pe(t), class: c([`border border-gray-200 rounded-lg bg-white transition-all overflow-hidden`, { "ring-2 ring-blue-500 shadow-md scale-[1.01] z-10": i.value === r }]) }, [g(`div`, { class: `flex items-center gap-3 p-3 cursor-pointer hover:bg-gray-50`, onClick: e => Se(r) }, [g(`div`, { class: `cursor-grab text-gray-400 hover:text-gray-600`, onMousedown: n[0] ||= l(() => { }, [`stop`]) }, [C(w(D), { class: `w-4 h-4` })], 32), g(`div`, { class: c([`w-8 h-8 rounded flex items-center justify-center transition-colors`, _e(t.fieldtype)]) }, [(O(), _(I(o[w($)[t.fieldtype]?.icon || `Type`]), { class: `w-4 h-4 text-white` }))], 2), g(`div`, yt, [g(`div`, bt, [g(`span`, xt, F(t.label || `Untitled Field`), 1), t.reqd ? (O(), d(`span`, St, `*`)) : b(``, !0)]), g(`div`, Ct, [g(`code`, wt, F(t.fieldname || `...`), 1), g(`span`, Tt, F(w($)[t.fieldtype]?.label || t.fieldtype), 1)])]), e.disabled ? b(``, !0) : (O(), d(`div`, { key: 0, class: `flex items-center gap-1`, onClick: n[1] ||= l(() => { }, [`stop`]) }, [C(w(U), { variant: `ghost`, size: `sm`, onClick: e => xe(r, -1), disabled: r === 0, class: `h-8 w-8 p-0` }, { default: j(() => [C(w(T), { class: `w-4 h-4` })]), _: 1 }, 8, [`onClick`, `disabled`]), C(w(U), { variant: `ghost`, size: `sm`, onClick: e => xe(r, 1), disabled: r === e.modelValue.length - 1, class: `h-8 w-8 p-0` }, { default: j(() => [C(w(he), { class: `w-4 h-4` })]), _: 1 }, 8, [`onClick`, `disabled`]), C(w(U), { variant: `ghost`, size: `sm`, class: `text-red-500 hover:text-red-600 hover:bg-red-50 h-8 w-8 p-0`, onClick: e => A(r) }, { default: j(() => [C(w(ie), { class: `w-4 h-4` })]), _: 1 }, 8, [`onClick`])])), C(w(p), { class: c([`w-4 h-4 text-gray-400 transition-transform`, { "rotate-90": i.value === r }]) }, null, 8, [`class`])], 8, vt), i.value === r ? (O(), d(`div`, Et, [g(`div`, Dt, [g(`div`, Ot, [C(w(K), null, { default: j(() => [...n[6] ||= [h(`Label *`, -1)]]), _: 1 }), C(w(W), { modelValue: t.label, "onUpdate:modelValue": e => t.label = e, placeholder: `Display label`, onInput: e => we(t), disabled: e.disabled }, null, 8, [`modelValue`, `onUpdate:modelValue`, `onInput`, `disabled`])]), g(`div`, kt, [C(w(K), null, { default: j(() => [...n[7] ||= [h(`Field Name *`, -1)]]), _: 1 }), C(w(W), { modelValue: t.fieldname, "onUpdate:modelValue": e => t.fieldname = e, placeholder: `database_column_name`, class: `font-mono text-sm` }, null, 8, [`modelValue`, `onUpdate:modelValue`]), n[8] ||= g(`p`, { class: `text-xs text-gray-400` }, `Lowercase with underscores`, -1)]), k(t.fieldtype) ? (O(), d(y, { key: 0 }, [k(t.fieldtype)?.requiresOptions ? (O(), d(`div`, At, [C(w(K), null, { default: j(() => [h(F(k(t.fieldtype)?.optionsLabel || `Options`) + ` *`, 1)]), _: 2 }, 1024), [`SELECT`, `MULTI_SELECT`].includes(t.fieldtype) ? (O(), _(w(Qe), {
                key: 0, modelValue: t.options, "onUpdate:modelValue": e => t.options = e, placeholder: `Option 1
Option 2
Option 3`, class: `font-mono text-sm`, rows: `3`
            }, null, 8, [`modelValue`, `onUpdate:modelValue`])) : (O(), _(w(tt), { key: 1, modelValue: t.options, "onUpdate:modelValue": e => t.options = e, disabled: e.disabled }, { default: j(() => [C(w(rt), { class: `bg-white` }, { default: j(() => [C(w(at), { placeholder: `Select DocType` })]), _: 1 }), C(w(nt), null, { default: j(() => [(O(!0), d(y, null, a(e.availableDocTypes, e => (O(), _(w(it), { key: e, value: e }, { default: j(() => [h(F(e), 1)]), _: 2 }, 1032, [`value`]))), 128))]), _: 1 })]), _: 1 }, 8, [`modelValue`, `onUpdate:modelValue`, `disabled`]))])) : b(``, !0), k(t.fieldtype)?.isLayout ? b(``, !0) : (O(), d(`div`, jt, [C(w(K), null, { default: j(() => [...n[9] ||= [h(`Default Value`, -1)]]), _: 1 }), C(w(W), { modelValue: t.default_value, "onUpdate:modelValue": e => t.default_value = e, placeholder: `Default value`, disabled: e.disabled }, null, 8, [`modelValue`, `onUpdate:modelValue`, `disabled`])])), [`DATA`, `TEXT`, `SMALL_TEXT`, `LONG_TEXT`, `PHONE`, `EMAIL`].includes(t.fieldtype) ? (O(), d(`div`, Mt, [C(w(K), null, { default: j(() => [...n[10] ||= [h(`Placeholder`, -1)]]), _: 1 }), C(w(W), { modelValue: t.placeholder, "onUpdate:modelValue": e => t.placeholder = e, placeholder: `Placeholder text`, disabled: e.disabled }, null, 8, [`modelValue`, `onUpdate:modelValue`, `disabled`])])) : b(``, !0)], 64)) : b(``, !0), g(`div`, Nt, [g(`div`, Pt, [(O(!0), d(y, null, a(w(fe), n => (O(), d(`div`, { key: n.key, class: `flex items-center space-x-2` }, [C(w(q), { checked: t[n.key], "onUpdate:checked": e => t[n.key] = e, disabled: e.disabled }, null, 8, [`checked`, `onUpdate:checked`, `disabled`]), C(w(K), { class: `text-sm font-normal cursor-pointer` }, { default: j(() => [h(F(n.label), 1)]), _: 2 }, 1024)]))), 128))])]), g(`div`, Ft, [C(w(K), null, { default: j(() => [...n[11] ||= [h(`Help Text`, -1)]]), _: 1 }), C(w(W), { modelValue: t.description, "onUpdate:modelValue": e => t.description = e, placeholder: `Help text shown below the field`, disabled: e.disabled }, null, 8, [`modelValue`, `onUpdate:modelValue`, `disabled`])])])])) : b(``, !0)], 2))), 128))]))]), _: 1
        }))
    }
}, Lt = { class: `h-full flex flex-col bg-[radial-gradient(ellipse_at_top,_var(--tw-gradient-stops))] to-slate-100/50 from-stone-100/60 from-5%` }, Rt = { class: `flex-none px-6 py-4 bg-white border-b border-gray-200 flex items-center justify-between sticky top-0 z-10` }, zt = { class: `flex items-center space-x-4` }, Bt = { class: `text-xl font-bold text-gray-900 mt-1` }, Vt = { class: `flex items-center space-x-3` }, Ht = { key: 0, class: `flex-none px-6 py-2 bg-slate-50 border-b border-slate-200 flex items-center justify-center gap-2 text-slate-600 text-sm font-medium` }, Ut = { key: 1, class: `flex-none px-6 py-2 bg-amber-50 border-b border-amber-100 flex items-center justify-center gap-2 text-amber-800 text-sm font-medium` }, Wt = { class: `flex-1 overflow-hidden flex` }, Gt = { class: `flex-1 overflow-auto p-6` }, Kt = { key: 0, class: `flex justify-center items-center h-64` }, qt = { key: 1, class: `max-w-4xl mx-auto space-y-6` }, Jt = { class: `flex justify-center mb-8` }, Yt = { class: `grid grid-cols-2 gap-6` }, Xt = { class: `col-span-2 md:col-span-1` }, Zt = { class: `col-span-2 md:col-span-1` }, Qt = { key: 0, class: `text-xs text-amber-600 mt-1` }, $t = { class: `col-span-2` }, en = { key: 0, class: `flex items-center gap-2` }, tn = { class: `flex items-center gap-2` }, nn = { class: `flex items-center gap-2 mt-1.5` }, rn = [`disabled`], an = { class: `col-span-2 pt-4 border-t` }, on = { class: `grid grid-cols-2 md:grid-cols-4 gap-4 mt-3` }, sn = { class: `flex items-center space-x-2` }, cn = { class: `flex items-center space-x-2` }, ln = { class: `flex items-center space-x-2` }, un = { key: 0, class: `col-span-2` }, dn = { class: `space-y-6` }, fn = { class: `flex items-center space-x-2` }, pn = { key: 0, class: `grid grid-cols-2 gap-6 pt-4 border-t` }, mn = { class: `col-span-2 p-4 bg-gray-50 rounded-lg` }, hn = { class: `font-mono text-lg mt-1` }, gn = { class: `grid grid-cols-2 gap-6` }, _n = { class: `space-y-6` }, vn = { class: `flex items-center space-x-2` }, yn = { key: 0, class: `pt-4 border-t space-y-4` }, bn = { class: `p-4 bg-blue-50 rounded-lg` }, xn = { class: `flex items-center gap-2 mt-2 text-sm` }, Sn = { class: `space-y-4` }, Cn = { class: `flex items-center gap-2` }, wn = { key: 0 }, Tn = [`innerHTML`], En = { key: 0, class: `w-96 border-l bg-gray-900 text-gray-100 overflow-auto` }, Dn = { class: `p-4 border-b border-gray-700 flex items-center justify-between` }, On = { class: `p-4 text-xs overflow-auto` }, kn = { key: 1, class: `w-96 border-l bg-white overflow-auto` }, An = { class: `p-4 border-b border-gray-200 flex items-center justify-between` }, jn = { class: `flex items-center gap-2` }, Mn = { class: `p-4` }, Nn = [`innerHTML`], Pn = { key: 1, class: `text-center py-8` }, Fn = { __name: `DocTypeEditor`, props: { doctype: { type: String, default: `DocType` }, name: { type: String, default: null }, isNew: { type: Boolean, default: !0 } }, setup(l) { let u = l; Le(); let f = be().toast, p = qe(), ie = z(!1), m = z(!1), x = z({ ...lt }), S = z(`general`), T = z(!1), E = z(!1), he = z([]), D = z(!1), ve = P(() => { if (!x.value.documentation) return `<p class="text-gray-400 italic">No documentation yet.</p>`; let e = $e.parse(x.value.documentation); return et.sanitize(e) }), ye = { FileCode: Ve, FileText: Re, Users: He, Package: de, Receipt: Te, Box: ze, Store: pe, Truck: se, BookOpen: A, Bell: Be, Mail: s, Lock: oe, File: Fe, Folder: Oe, Calendar: ge, Clock: ee, DollarSign: Ce, Percent: Ae, CheckSquare: me, Link2: ue, Table: te, Paperclip: Ke, Image: re, Phone: Pe, Palette: Ge, Code: je, MapPin: Me, Settings: i, List: le, Hash: ae, Layout: we, GitBranch: o }, De = `FileText.Users.Package.Receipt.Box.Store.Truck.BookOpen.Bell.Mail.Lock.File.Folder.Calendar.Clock.DollarSign.Percent.CheckSquare.Link2.Table.Paperclip.Image.Phone.Palette.Code.MapPin.Settings`.split(`.`), M = P(() => x.value.module === `System`), N = P(() => x.value.organisation !== null && x.value.organisation !== void 0), L = P(() => M.value && !N.value && !u.isNew), Ue = P(() => st.filter(e => e.value !== `System` || x.value.module === `System`)), H = P(() => (x.value.fields || []).filter(e => ![`SECTION_BREAK`, `COLUMN_BREAK`, `TAB_BREAK`, `TABLE`].includes(e.fieldtype))), W = P(() => { let e = x.value.idPrefix || ``, t = x.value.idSuffix || ``, n = x.value.idMinLength || 5, r = x.value.idGenerationStrategy === `UUID` ? `a1b2c3d4` : `1`.padStart(n, `0`); return `${e}${r}${t}` }), tt = P(() => { let e = { ...x.value }; return e.tableName || delete e.tableName, e.parentDocType || delete e.parentDocType, e.idPrefix || delete e.idPrefix, e.idSuffix || delete e.idSuffix, JSON.stringify(e, null, 2) }); async function nt() { if (u.isNew) { let e = p.openTabs.find(e => e.id === p.activeTabId); e?.data && (x.value = { ...lt, ...e.data }); return } try { let e = await R.get(`/org/doctypes/${encodeURIComponent(u.name)}`, { authorizeRequest: !0, organisationAware: !0 }), t = e?.data || e; x.value = { ...lt, ...t, fields: t.fields || [] } } catch (e) { f({ message: e.message || `Failed to load DocType`, variant: `error` }) } finally { ie.value = !1 } } async function rt() { try { he.value = ((await R.get(`/org/doctypes`, { authorizeRequest: !0, organisationAware: !0 }))?.data || []).filter(e => !e.is_child).map(e => e.name) } catch (e) { console.warn(`Failed to load DocTypes:`, e) } } async function it() { if (!x.value.name?.trim()) { f({ message: `DocType name is required`, variant: `error` }), S.value = `general`; return } if (!x.value.module) { f({ message: `Module is required`, variant: `error` }), S.value = `general`; return } m.value = !0; try { let e = { name: x.value.name, module: x.value.module, description: x.value.description, icon: x.value.icon, color: x.value.color, is_child: x.value.isChild, parent_doctype: x.value.parentDocType, is_submittable: x.value.isSubmittable, is_single: x.value.isSingle, track_changes: x.value.trackChanges, has_id: x.value.hasId, id_prefix: x.value.idPrefix, id_suffix: x.value.idSuffix, id_min_length: x.value.idMinLength, id_generation_strategy: x.value.idGenerationStrategy, title_field: x.value.titleField, search_fields: x.value.searchFields, sort_field: x.value.sortField, sort_order: x.value.sortOrder, documentation: x.value.documentation, fields: x.value.fields.map((e, t) => ({ ...e, idx: t })) }; await R.post(`/org/doctypes`, { data: e, authorizeRequest: !0, organisationAware: !0 }), u.isNew ? (f({ message: `DocType "${x.value.name}" created successfully`, variant: `success` }), p.closeTab(`doctype-form-DocType-new`), p.openTab({ id: `doctype-${x.value.name.toLowerCase().replace(/\s+/g, `-`)}`, title: x.value.name, icon: x.value.icon || `FileText`, type: `doctype`, doctype: x.value.name, closable: !0 })) : (f({ message: `DocType "${x.value.name}" updated`, variant: `success` }), nt()) } catch (e) { f({ message: e.message || `Failed to save DocType`, variant: `error` }) } finally { m.value = !1 } } async function at() { let e = JSON.parse(JSON.stringify(x.value.fields)), t = x.value.module === `System` ? `CRM` : x.value.module; p.openTab({ id: `doctype-form-DocType-new-${Date.now()}`, title: `New DocType (Copy)`, icon: x.value.icon || `FileCode`, type: `doctype-form`, doctype: `DocType`, isNew: !0, closable: !0, data: { ...x.value, name: `${x.value.name} Copy`, module: t, fields: e } }) } function $() { T.value = !T.value, T.value && (E.value = !1) } function ot() { E.value = !E.value, E.value && (T.value = !1) } async function ut() { try { await navigator.clipboard.writeText(tt.value), f({ message: `JSON copied to clipboard`, variant: `success` }) } catch { f({ message: `Failed to copy`, variant: `error` }) } } async function dt() { if (confirm(`Are you sure you want to reset this DocType to its system default? All your customizations will be lost.`)) try { await R.delete(`/org/doctypes/${encodeURIComponent(u.name)}`, { authorizeRequest: !0, organisationAware: !0 }), f({ message: `DocType reset to default`, variant: `success` }), nt() } catch (e) { f({ message: e.message || `Failed to reset DocType`, variant: `error` }) } } return _e(() => { nt(), rt() }), (ee, s) => (O(), d(`div`, Lt, [g(`header`, Rt, [g(`div`, zt, [g(`div`, { class: `w-10 h-10 rounded-xl flex items-center justify-center`, style: ce({ backgroundColor: x.value.color || `#6366F1` }) }, [(O(), _(I(ye[x.value.icon] || w(Ve)), { class: `w-5 h-5 text-white` }))], 4), g(`div`, null, [s[26] ||= g(`span`, { class: `text-xs text-gray-500 uppercase tracking-wide` }, `DocType Builder`, -1), g(`h1`, Bt, F(l.isNew ? `New DocType` : x.value.name), 1)])]), g(`div`, Vt, [N.value ? (O(), _(w(U), { key: 0, variant: `outline`, class: `rounded-full`, onClick: dt }, { default: j(() => [C(w(xe), { class: `w-4 h-4 mr-2` }), s[27] ||= h(` Reset to Default `, -1)]), _: 1 })) : b(``, !0), C(w(Je), null, { default: j(() => [C(w(Xe), { asChild: `` }, { default: j(() => [C(w(U), { variant: `outline`, class: `rounded-full w-9 h-9 p-0` }, { default: j(() => [C(w(k), { class: `w-4 h-4` })]), _: 1 })]), _: 1 }), C(w(Ye), { align: `end` }, { default: j(() => [C(w(V), { onClick: $ }, { default: j(() => [T.value ? (O(), _(w(Ne), { key: 1, class: `w-4 h-4 mr-2` })) : (O(), _(w(Ie), { key: 0, class: `w-4 h-4 mr-2` })), h(` ` + F(T.value ? `Hide JSON Preview` : `Show JSON Preview`), 1)]), _: 1 }), C(w(V), { onClick: ot }, { default: j(() => [C(w(A), { class: `w-4 h-4 mr-2` }), h(` ` + F(E.value ? `Hide Documentation` : `Show Documentation`), 1)]), _: 1 }), !l.isNew && !M.value ? (O(), _(w(Ze), { key: 0 })) : b(``, !0), !l.isNew && !M.value ? (O(), _(w(V), { key: 1, onClick: at }, { default: j(() => [C(w(fe), { class: `w-4 h-4 mr-2` }), s[28] ||= h(` Duplicate DocType `, -1)]), _: 1 })) : b(``, !0)]), _: 1 })]), _: 1 }), !L.value || l.isNew ? (O(), _(w(U), { key: 1, onClick: it, disabled: m.value, class: `rounded-full` }, { default: j(() => [m.value ? (O(), _(w(v), { key: 0, class: `w-4 h-4 animate-spin mr-2` })) : b(``, !0), h(` ` + F(l.isNew ? `Create DocType` : `Save Changes`), 1)]), _: 1 }, 8, [`disabled`])) : b(``, !0)])]), M.value && !N.value && !l.isNew ? (O(), d(`div`, Ht, [C(w(oe), { class: `w-4 h-4` }), s[29] ||= h(` System DocType. This definition is read-only and managed by the platform. `, -1)])) : b(``, !0), N.value ? (O(), d(`div`, Ut, [C(w(Se), { class: `w-4 h-4` }), s[30] ||= h(` Active Override. You are using a customized version of this DocType. `, -1)])) : b(``, !0), g(`div`, Wt, [g(`div`, Gt, [ie.value ? (O(), d(`div`, Kt, [...s[31] ||= [g(`div`, { class: `animate-spin rounded-full h-8 w-8 border-b-2 border-black` }, null, -1)]])) : (O(), d(`div`, qt, [C(w(e), { modelValue: S.value, "onUpdate:modelValue": s[24] ||= e => S.value = e, class: `w-full` }, { default: j(() => [g(`div`, Jt, [C(w(n), { class: `rounded-full bg-stone-50/80 flex w-fit shadow-sm border border-slate-200/50 px-0 py-0` }, { default: j(() => [C(w(r), { value: `general`, class: `px-6 py-1.5 rounded-full data-[state=active]:bg-white data-[state=active]:text-slate-900 data-[state=active]:shadow-sm transition-all duration-200` }, { default: j(() => [C(w(i), { class: `w-4 h-4 mr-2` }), s[32] ||= h(` General `, -1)]), _: 1 }), C(w(r), { value: `fields`, class: `px-6 py-1.5 rounded-full data-[state=active]:bg-white data-[state=active]:text-slate-900 data-[state=active]:shadow-sm transition-all duration-200` }, { default: j(() => [C(w(le), { class: `w-4 h-4 mr-2` }), s[33] ||= h(` Fields `, -1)]), _: 1 }), C(w(r), { value: `naming`, class: `px-6 py-1.5 rounded-full data-[state=active]:bg-white data-[state=active]:text-slate-900 data-[state=active]:shadow-sm transition-all duration-200` }, { default: j(() => [C(w(ae), { class: `w-4 h-4 mr-2` }), s[34] ||= h(` ID Config `, -1)]), _: 1 }), C(w(r), { value: `display`, class: `px-6 py-1.5 rounded-full data-[state=active]:bg-white data-[state=active]:text-slate-900 data-[state=active]:shadow-sm transition-all duration-200` }, { default: j(() => [C(w(we), { class: `w-4 h-4 mr-2` }), s[35] ||= h(` Display `, -1)]), _: 1 }), C(w(r), { value: `workflow`, class: `px-6 py-1.5 rounded-full data-[state=active]:bg-white data-[state=active]:text-slate-900 data-[state=active]:shadow-sm transition-all duration-200` }, { default: j(() => [C(w(o), { class: `w-4 h-4 mr-2` }), s[36] ||= h(` Workflow `, -1)]), _: 1 }), C(w(r), { value: `documentation`, class: `px-6 py-1.5 rounded-full data-[state=active]:bg-white data-[state=active]:text-slate-900 data-[state=active]:shadow-sm transition-all duration-200` }, { default: j(() => [C(w(A), { class: `w-4 h-4 mr-2` }), s[37] ||= h(` Documentation `, -1)]), _: 1 })]), _: 1 })]), C(w(t), { value: `general`, class: `mt-6` }, { default: j(() => [C(w(G), { class: `p-6 bg-white/80` }, { default: j(() => [g(`div`, Yt, [g(`div`, Xt, [C(w(K), { for: `name` }, { default: j(() => [...s[38] ||= [h(`DocType Name *`, -1)]]), _: 1 }), C(w(B), { id: `name`, modelValue: x.value.name, "onUpdate:modelValue": s[0] ||= e => x.value.name = e, placeholder: `e.g., Customer, Invoice`, class: `mt-1.5`, disabled: !l.isNew || L.value }, null, 8, [`modelValue`, `disabled`]), s[39] ||= g(`p`, { class: `text-xs text-gray-500 mt-1` }, `Unique identifier. Cannot be changed after creation.`, -1)]), g(`div`, Zt, [C(w(K), { for: `module` }, { default: j(() => [...s[40] ||= [h(`Module *`, -1)]]), _: 1 }), C(w(J), { modelValue: x.value.module, "onUpdate:modelValue": s[1] ||= e => x.value.module = e, disabled: L.value }, { default: j(() => [C(w(X), { class: `mt-1.5 bg-white` }, { default: j(() => [C(w(Q), { placeholder: `Select module` })]), _: 1 }), C(w(Y), null, { default: j(() => [(O(!0), d(y, null, a(Ue.value, e => (O(), _(w(Z), { key: e.value, value: e.value }, { default: j(() => [h(F(e.label), 1)]), _: 2 }, 1032, [`value`]))), 128))]), _: 1 })]), _: 1 }, 8, [`modelValue`, `disabled`]), x.value.module === `System` && l.isNew ? (O(), d(`p`, Qt, ` Warning: DocTypes in the "System" module become immutable after creation. `)) : b(``, !0)]), g(`div`, $t, [C(w(K), { for: `description` }, { default: j(() => [...s[41] ||= [h(`Description`, -1)]]), _: 1 }), C(w(Qe), { id: `description`, modelValue: x.value.description, "onUpdate:modelValue": s[2] ||= e => x.value.description = e, placeholder: `Brief description of this DocType`, class: `mt-1.5`, rows: `2`, disabled: L.value }, null, 8, [`modelValue`, `disabled`])]), g(`div`, null, [C(w(K), { for: `icon` }, { default: j(() => [...s[42] ||= [h(`Icon`, -1)]]), _: 1 }), C(w(J), { modelValue: x.value.icon, "onUpdate:modelValue": s[3] ||= e => x.value.icon = e, disabled: L.value }, { default: j(() => [C(w(X), { class: `mt-1.5 bg-white` }, { default: j(() => [C(w(Q), { placeholder: `Select icon` }, { default: j(() => [x.value.icon ? (O(), d(`div`, en, [(O(), _(I(ye[x.value.icon]), { class: `w-4 h-4` })), h(` ` + F(x.value.icon), 1)])) : b(``, !0)]), _: 1 })]), _: 1 }), C(w(Y), { class: `max-h-60` }, { default: j(() => [(O(), d(y, null, a(De, e => C(w(Z), { key: e, value: e }, { default: j(() => [g(`div`, tn, [(O(), _(I(ye[e]), { class: `w-4 h-4` })), h(` ` + F(e), 1)])]), _: 2 }, 1032, [`value`])), 64))]), _: 1 })]), _: 1 }, 8, [`modelValue`, `disabled`])]), g(`div`, null, [C(w(K), { for: `color` }, { default: j(() => [...s[43] ||= [h(`Color`, -1)]]), _: 1 }), g(`div`, nn, [ke(g(`input`, { type: `color`, "onUpdate:modelValue": s[4] ||= e => x.value.color = e, class: `w-10 h-10 rounded border cursor-pointer`, disabled: L.value }, null, 8, rn), [[ne, x.value.color]]), C(w(B), { modelValue: x.value.color, "onUpdate:modelValue": s[5] ||= e => x.value.color = e, placeholder: `#3B82F6`, class: `flex-1`, disabled: L.value }, null, 8, [`modelValue`, `disabled`])])]), g(`div`, an, [C(w(K), { class: `text-base font-semibold` }, { default: j(() => [...s[44] ||= [h(`Behavior`, -1)]]), _: 1 }), g(`div`, on, [g(`div`, sn, [C(w(q), { id: `isChild`, checked: x.value.isChild, "onUpdate:checked": s[6] ||= e => x.value.isChild = e, disabled: L.value }, null, 8, [`checked`, `disabled`]), C(w(K), { for: `isChild`, class: `text-sm` }, { default: j(() => [...s[45] ||= [h(`Child Table`, -1)]]), _: 1 })]), g(`div`, cn, [C(w(q), { id: `isSingle`, checked: x.value.isSingle, "onUpdate:checked": s[7] ||= e => x.value.isSingle = e, disabled: L.value }, null, 8, [`checked`, `disabled`]), C(w(K), { for: `isSingle`, class: `text-sm` }, { default: j(() => [...s[46] ||= [h(`Single Record`, -1)]]), _: 1 })]), g(`div`, ln, [C(w(q), { id: `trackChanges`, checked: x.value.trackChanges, "onUpdate:checked": s[8] ||= e => x.value.trackChanges = e, disabled: L.value }, null, 8, [`checked`, `disabled`]), C(w(K), { for: `trackChanges`, class: `text-sm` }, { default: j(() => [...s[47] ||= [h(`Track Changes`, -1)]]), _: 1 })])])]), x.value.isChild ? (O(), d(`div`, un, [C(w(K), { for: `parentDocType` }, { default: j(() => [...s[48] ||= [h(`Parent DocType *`, -1)]]), _: 1 }), C(w(J), { modelValue: x.value.parentDocType, "onUpdate:modelValue": s[9] ||= e => x.value.parentDocType = e, disabled: L.value }, { default: j(() => [C(w(X), { class: `mt-1.5 bg-white` }, { default: j(() => [C(w(Q), { placeholder: `Select parent DocType` })]), _: 1 }), C(w(Y), null, { default: j(() => [(O(!0), d(y, null, a(he.value, e => (O(), _(w(Z), { key: e, value: e }, { default: j(() => [h(F(e), 1)]), _: 2 }, 1032, [`value`]))), 128))]), _: 1 })]), _: 1 }, 8, [`modelValue`, `disabled`])])) : b(``, !0)])]), _: 1 })]), _: 1 }), C(w(t), { value: `fields`, class: `mt-6` }, { default: j(() => [C(It, { modelValue: x.value.fields, "onUpdate:modelValue": s[10] ||= e => x.value.fields = e, availableDocTypes: he.value, disabled: L.value }, null, 8, [`modelValue`, `availableDocTypes`, `disabled`])]), _: 1 }), C(w(t), { value: `naming`, class: `mt-6` }, { default: j(() => [C(w(G), { class: `p-6 bg-white/80` }, { default: j(() => [g(`div`, dn, [g(`div`, fn, [C(w(q), { id: `hasId`, checked: x.value.hasId, "onUpdate:checked": s[11] ||= e => x.value.hasId = e, disabled: L.value }, null, 8, [`checked`, `disabled`]), C(w(K), { for: `hasId` }, { default: j(() => [...s[49] ||= [h(`Generate Human-Readable ID`, -1)]]), _: 1 })]), x.value.hasId ? (O(), d(`div`, pn, [g(`div`, null, [C(w(K), { for: `idPrefix` }, { default: j(() => [...s[50] ||= [h(`ID Prefix`, -1)]]), _: 1 }), C(w(B), { id: `idPrefix`, modelValue: x.value.idPrefix, "onUpdate:modelValue": s[12] ||= e => x.value.idPrefix = e, placeholder: `e.g., INV-, CUST-`, class: `mt-1.5`, disabled: L.value }, null, 8, [`modelValue`, `disabled`])]), g(`div`, null, [C(w(K), { for: `idSuffix` }, { default: j(() => [...s[51] ||= [h(`ID Suffix`, -1)]]), _: 1 }), C(w(B), { id: `idSuffix`, modelValue: x.value.idSuffix, "onUpdate:modelValue": s[13] ||= e => x.value.idSuffix = e, placeholder: `e.g., -2024`, class: `mt-1.5`, disabled: L.value }, null, 8, [`modelValue`, `disabled`])]), g(`div`, null, [C(w(K), { for: `idMinLength` }, { default: j(() => [...s[52] ||= [h(`Padding Length`, -1)]]), _: 1 }), C(w(B), { id: `idMinLength`, modelValue: x.value.idMinLength, "onUpdate:modelValue": s[14] ||= e => x.value.idMinLength = e, modelModifiers: { number: !0 }, type: `number`, min: `0`, max: `20`, class: `mt-1.5`, disabled: L.value }, null, 8, [`modelValue`, `disabled`]), s[53] ||= g(`p`, { class: `text-xs text-gray-500 mt-1` }, `Zero-pad numbers to this length (e.g., 5 → 00001)`, -1)]), g(`div`, null, [C(w(K), { for: `idGenerationStrategy` }, { default: j(() => [...s[54] ||= [h(`Generation Strategy`, -1)]]), _: 1 }), C(w(J), { modelValue: x.value.idGenerationStrategy, "onUpdate:modelValue": s[15] ||= e => x.value.idGenerationStrategy = e, disabled: L.value }, { default: j(() => [C(w(X), { class: `mt-1.5 bg-white` }, { default: j(() => [C(w(Q))]), _: 1 }), C(w(Y), null, { default: j(() => [(O(!0), d(y, null, a(w(ct), e => (O(), _(w(Z), { key: e.value, value: e.value }, { default: j(() => [h(F(e.label), 1)]), _: 2 }, 1032, [`value`]))), 128))]), _: 1 })]), _: 1 }, 8, [`modelValue`, `disabled`])]), g(`div`, mn, [C(w(K), { class: `text-sm text-gray-600` }, { default: j(() => [...s[55] ||= [h(`Preview`, -1)]]), _: 1 }), g(`p`, hn, F(W.value), 1)])])) : b(``, !0)])]), _: 1 })]), _: 1 }), C(w(t), { value: `display`, class: `mt-6` }, { default: j(() => [C(w(G), { class: `p-6 bg-white/80` }, { default: j(() => [g(`div`, gn, [g(`div`, null, [C(w(K), { for: `titleField` }, { default: j(() => [...s[56] ||= [h(`Title Field`, -1)]]), _: 1 }), C(w(J), { modelValue: x.value.titleField, "onUpdate:modelValue": s[16] ||= e => x.value.titleField = e, disabled: L.value }, { default: j(() => [C(w(X), { class: `mt-1.5 bg-white` }, { default: j(() => [C(w(Q), { placeholder: `Select field for title` })]), _: 1 }), C(w(Y), null, { default: j(() => [C(w(Z), { value: `name` }, { default: j(() => [...s[57] ||= [h(`name (default)`, -1)]]), _: 1 }), (O(!0), d(y, null, a(H.value, e => (O(), _(w(Z), { key: e.fieldname, value: e.fieldname }, { default: j(() => [h(F(e.label) + ` (` + F(e.fieldname) + `) `, 1)]), _: 2 }, 1032, [`value`]))), 128))]), _: 1 })]), _: 1 }, 8, [`modelValue`, `disabled`]), s[58] ||= g(`p`, { class: `text-xs text-gray-500 mt-1` }, `Field displayed as the document title`, -1)]), g(`div`, null, [C(w(K), { for: `searchFields` }, { default: j(() => [...s[59] ||= [h(`Search Fields`, -1)]]), _: 1 }), C(w(B), { id: `searchFields`, modelValue: x.value.searchFields, "onUpdate:modelValue": s[17] ||= e => x.value.searchFields = e, placeholder: `e.g., name,email,phone`, class: `mt-1.5`, disabled: L.value }, null, 8, [`modelValue`, `disabled`]), s[60] ||= g(`p`, { class: `text-xs text-gray-500 mt-1` }, `Comma-separated field names for search`, -1)]), g(`div`, null, [C(w(K), { for: `sortField` }, { default: j(() => [...s[61] ||= [h(`Default Sort Field`, -1)]]), _: 1 }), C(w(J), { modelValue: x.value.sortField, "onUpdate:modelValue": s[18] ||= e => x.value.sortField = e, disabled: L.value }, { default: j(() => [C(w(X), { class: `mt-1.5 bg-white` }, { default: j(() => [C(w(Q), { placeholder: `Select sort field` })]), _: 1 }), C(w(Y), null, { default: j(() => [C(w(Z), { value: `created_at` }, { default: j(() => [...s[62] ||= [h(`Created At`, -1)]]), _: 1 }), C(w(Z), { value: `updated_at` }, { default: j(() => [...s[63] ||= [h(`Updated At`, -1)]]), _: 1 }), C(w(Z), { value: `name` }, { default: j(() => [...s[64] ||= [h(`Name`, -1)]]), _: 1 }), (O(!0), d(y, null, a(H.value, e => (O(), _(w(Z), { key: e.fieldname, value: e.fieldname }, { default: j(() => [h(F(e.label) + ` (` + F(e.fieldname) + `) `, 1)]), _: 2 }, 1032, [`value`]))), 128))]), _: 1 })]), _: 1 }, 8, [`modelValue`, `disabled`])]), g(`div`, null, [C(w(K), { for: `sortOrder` }, { default: j(() => [...s[65] ||= [h(`Sort Order`, -1)]]), _: 1 }), C(w(J), { modelValue: x.value.sortOrder, "onUpdate:modelValue": s[19] ||= e => x.value.sortOrder = e, disabled: L.value }, { default: j(() => [C(w(X), { class: `mt-1.5 bg-white` }, { default: j(() => [C(w(Q))]), _: 1 }), C(w(Y), null, { default: j(() => [C(w(Z), { value: `DESC` }, { default: j(() => [...s[66] ||= [h(`Descending (newest first)`, -1)]]), _: 1 }), C(w(Z), { value: `ASC` }, { default: j(() => [...s[67] ||= [h(`Ascending (oldest first)`, -1)]]), _: 1 })]), _: 1 })]), _: 1 }, 8, [`modelValue`, `disabled`])])])]), _: 1 })]), _: 1 }), C(w(t), { value: `workflow`, class: `mt-6` }, { default: j(() => [C(w(G), { class: `p-6 bg-white/80` }, { default: j(() => [g(`div`, _n, [g(`div`, vn, [C(w(q), { id: `isSubmittable`, checked: x.value.isSubmittable, "onUpdate:checked": s[20] ||= e => x.value.isSubmittable = e, disabled: L.value }, null, 8, [`checked`, `disabled`]), C(w(K), { for: `isSubmittable`, class: `text-base` }, { default: j(() => [...s[68] ||= [h(`Enable Submission Workflow`, -1)]]), _: 1 })]), s[73] ||= g(`p`, { class: `text-sm text-gray-600` }, ` When enabled, documents follow a Draft → Submitted → Cancelled lifecycle. Submitted documents cannot be edited. `, -1), x.value.isSubmittable ? (O(), d(`div`, yn, [g(`div`, bn, [s[72] ||= g(`h4`, { class: `font-medium text-blue-900` }, `Workflow States`, -1), g(`div`, xn, [s[69] ||= g(`span`, { class: `px-2 py-1 bg-gray-200 rounded` }, `Draft (0)`, -1), C(w(Ee), { class: `w-4 h-4 text-gray-400` }), s[70] ||= g(`span`, { class: `px-2 py-1 bg-green-200 rounded` }, `Submitted (1)`, -1), C(w(Ee), { class: `w-4 h-4 text-gray-400` }), s[71] ||= g(`span`, { class: `px-2 py-1 bg-red-200 rounded` }, `Cancelled (2)`, -1)])])])) : b(``, !0)])]), _: 1 })]), _: 1 }), C(w(t), { value: `documentation`, class: `mt-6` }, { default: j(() => [C(w(G), { class: `p-6 bg-white/80` }, { default: j(() => [g(`div`, Sn, [g(`div`, Cn, [g(`button`, { onClick: s[21] ||= e => D.value = !1, class: c([`px-3 py-1.5 text-sm font-medium rounded-full transition-colors`, D.value ? `bg-gray-100 text-gray-600 hover:bg-gray-200` : `bg-black text-white`]) }, ` Edit `, 2), g(`button`, { onClick: s[22] ||= e => D.value = !0, class: c([`px-3 py-1.5 text-sm font-medium rounded-full transition-colors`, D.value ? `bg-black text-white` : `bg-gray-100 text-gray-600 hover:bg-gray-200`]) }, ` Preview `, 2)]), D.value ? (O(), d(`div`, { key: 1, class: `prose prose-sm max-w-none min-h-[400px] p-4 bg-gray-50 rounded-lg border`, innerHTML: ve.value }, null, 8, Tn)) : (O(), d(`div`, wn, [C(w(Qe), { modelValue: x.value.documentation, "onUpdate:modelValue": s[23] ||= e => x.value.documentation = e, placeholder: `Write documentation in Markdown...`, class: `font-mono text-sm min-h-[400px]`, disabled: L.value }, null, 8, [`modelValue`, `disabled`]), s[74] ||= g(`p`, { class: `text-xs text-gray-500 mt-2` }, ` Use Markdown formatting. Tables, code blocks, and links are supported. `, -1)]))])]), _: 1 })]), _: 1 })]), _: 1 }, 8, [`modelValue`])]))]), T.value ? (O(), d(`div`, En, [g(`div`, Dn, [s[75] ||= g(`span`, { class: `font-medium` }, `JSON Preview`, -1), C(w(U), { variant: `ghost`, size: `sm`, onClick: ut, class: `text-gray-300 hover:text-white` }, { default: j(() => [C(w(fe), { class: `w-4 h-4` })]), _: 1 })]), g(`pre`, On, [g(`code`, null, F(tt.value), 1)])])) : b(``, !0), E.value ? (O(), d(`div`, kn, [g(`div`, An, [g(`div`, jn, [C(w(A), { class: `w-4 h-4 text-gray-500` }), s[76] ||= g(`span`, { class: `font-medium text-gray-900` }, `Documentation`, -1)]), C(w(U), { variant: `ghost`, size: `sm`, onClick: s[25] ||= e => E.value = !1, class: `text-gray-400 hover:text-gray-600` }, { default: j(() => [C(w(We), { class: `w-4 h-4` })]), _: 1 })]), g(`div`, Mn, [x.value.documentation ? (O(), d(`div`, { key: 0, class: `prose prose-sm max-w-none`, innerHTML: ve.value }, null, 8, Nn)) : (O(), d(`div`, Pn, [C(w(A), { class: `w-12 h-12 mx-auto text-gray-300 mb-3` }), s[77] ||= g(`p`, { class: `text-gray-500` }, `No documentation yet`, -1), s[78] ||= g(`p`, { class: `text-sm text-gray-400 mt-1` }, `Add documentation in the Documentation tab`, -1)]))])])) : b(``, !0)])])) } }, In = M(Fn, [[`__scopeId`, `data-v-b330f6c3`]]); export { In as default };