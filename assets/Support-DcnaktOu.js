import"./useNonce-Vl2Sb9LF.js";import"./ConfigProvider-Cwcb-esP.js";import"./useDirection-DpFczioB.js";import{a as e,i as t,n,o as r,r as i,t as a}from"./paperclip-TsiROq0L.js";import{t as ee}from"./send-B43Q_ciz.js";import{At as o,Ct as s,Et as c,It as l,Ot as u,Tt as d,Ut as f,Vt as p,Wt as m,gn as h,gt as g,h as _,hn as v,kt as y,ln as b,lt as x,m as S,p as C,r as w,sn as T,tn as E,wt as D,yn as O,yt as k}from"./index-Du2czi9R.js";import{t as A}from"./Input-BoBIN1Do.js";import{t as j}from"./button-B9kMoAqM.js";import{t as te}from"./Card-FrBmkbtK.js";import{t as ne}from"./CardContent-D9pZntMi.js";import{t as M}from"./badge-DJ-9zaYA.js";import{t as re}from"./Textarea-C7x-KOrZ.js";var N=S(`message-square`,[[`path`,{d:`M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z`,key:`18887p`}]]),P=o({__name:`ScrollBar`,props:{orientation:{default:`vertical`},forceMount:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(e){let n=e,r=x(n,`class`);return(a,ee)=>(p(),D(v(t),l(v(r),{class:v(_)(`flex touch-none select-none transition-colors`,e.orientation===`vertical`&&`h-full w-2.5 border-l border-l-transparent p-px`,e.orientation===`horizontal`&&`h-2.5 flex-col border-t border-t-transparent p-px`,n.class)}),{default:E(()=>[y(v(i),{class:`relative flex-1 rounded-full bg-border`})]),_:1},16,[`class`]))}}),F=o({__name:`ScrollArea`,props:{type:{},dir:{},scrollHideDelay:{},asChild:{type:Boolean},as:{},class:{}},setup(t){let i=t,a=x(i,`class`);return(t,ee)=>(p(),D(v(r),l(v(a),{class:v(_)(`relative overflow-hidden`,i.class)}),{default:E(()=>[y(v(n),{class:`h-full w-full rounded-[inherit]`},{default:E(()=>[m(t.$slots,`default`)]),_:3}),y(P),y(v(e))]),_:3},16,[`class`]))}}),I={class:`flex h-full border border-slate-100 rounded-sm bg-background mt-12`},L={class:`w-80 border-r border-slate-100 flex flex-col`},R={class:`p-4 border-b`},z={class:`flex items-center justify-between mb-4`},B={class:`flex items-center gap-2 mb-2`},V={class:`flex items-center gap-2 text-sm cursor-pointer text-muted-foreground hover:text-foreground`},H={key:0,class:`space-y-1`},U={class:`truncate flex-1`},W={class:`flex gap-2 pt-2`},G={class:`p-2 space-y-2`},K=[`onClick`],q={class:`flex items-start justify-between mb-2`},J={class:`font-medium text-sm line-clamp-1 flex-1`},ie={class:`text-xs text-muted-foreground line-clamp-2 mb-2`},Y={class:`flex items-center justify-between text-xs text-muted-foreground`},ae={key:0,class:`flex-1 flex flex-col`},oe={class:`p-4 border-b flex items-center justify-between`},se={class:`font-semibold`},ce={class:`text-sm text-muted-foreground`},le={class:`space-y-4`},ue={class:`text-sm`},de={key:0,class:`mt-2 space-y-1`},fe={class:`flex-1`},pe={class:`text-muted-foreground`},me={class:`text-xs opacity-70 mt-1`},he={class:`p-4 border-t`},ge={class:`flex gap-2`},X={key:1,class:`flex-1 flex items-center justify-center text-muted-foreground`},_e={class:`text-center`},Z=w(o({__name:`Support`,setup(e){let t=b([{id:`1`,title:`Login issues`,status:`OPEN`,lastMessage:`Having trouble logging in since yesterday`,createdAt:new Date(`2024-01-15`),messages:[{id:`1`,text:`Having trouble logging in since yesterday`,sender:`user`,timestamp:new Date(`2024-01-15T10:30:00`)},{id:`2`,text:`We are looking into this issue. Can you try resetting your password?`,sender:`support`,timestamp:new Date(`2024-01-15T11:15:00`)}]},{id:`2`,title:`Payment failed`,status:`PENDING`,lastMessage:`Payment processing failed multiple times`,createdAt:new Date(`2024-01-14`),messages:[{id:`1`,text:`Payment processing failed multiple times`,sender:`user`,timestamp:new Date(`2024-01-14T14:20:00`)}]},{id:`3`,title:`Feature request`,status:`RESOLVED`,lastMessage:`Thank you for the suggestion!`,createdAt:new Date(`2024-01-10`),messages:[{id:`1`,text:`Would love to see dark mode in the app`,sender:`user`,timestamp:new Date(`2024-01-10T09:45:00`)},{id:`2`,text:`Thank you for the suggestion! We have added this to our roadmap.`,sender:`support`,timestamp:new Date(`2024-01-10T10:30:00`)}]}]),n=b(null),r=b(!1),i=b(``),o=b([]),l=T({title:``,message:``,attachments:[]}),m=()=>[...t.value].sort((e,t)=>new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()),_=e=>{n.value=e,r.value=!1},x=()=>{r.value=!0,n.value=null,S()},S=()=>{l.title=``,l.message=``,l.attachments=[],o.value=[]},w=()=>{if(!l.title.trim()||!l.message.trim())return;let e={id:Date.now().toString(),title:l.title,status:`OPEN`,lastMessage:l.message,createdAt:new Date,messages:[{id:`1`,text:l.message,sender:`user`,timestamp:new Date,attachments:o.value.map(e=>({id:Math.random().toString(36).substr(2,9),name:e.name,size:ye(e.size),type:e.type}))}]};t.value.unshift(e),n.value=e,r.value=!1,S()},P=()=>{if(!i.value.trim()||!n.value)return;let e={id:Math.random().toString(36).substr(2,9),text:i.value,sender:`user`,timestamp:new Date};n.value.messages.push(e),n.value.lastMessage=i.value,i.value=``},Z=e=>{let t=e.target;t.files&&(o.value=Array.from(t.files))},ve=e=>{o.value.splice(e,1)},ye=e=>{if(e===0)return`0 Bytes`;let t=1024,n=[`Bytes`,`KB`,`MB`,`GB`],r=Math.floor(Math.log(e)/Math.log(t));return parseFloat((e/t**+r).toFixed(2))+` `+n[r]},Q=e=>{switch(e){case`OPEN`:return`default`;case`PENDING`:return`secondary`;case`RESOLVED`:return`outline`;default:return`default`}},$=e=>new Intl.DateTimeFormat(`en-US`,{month:`short`,day:`numeric`,hour:`2-digit`,minute:`2-digit`}).format(e);return(e,t)=>(p(),c(`div`,I,[s(`div`,L,[s(`div`,R,[s(`div`,z,[t[5]||=s(`h2`,{class:`text-lg font-semibold`},`Support Conversations`,-1),y(v(j),{onClick:x,size:`sm`,class:`flex items-center gap-2 px-3 rounded-full`},{default:E(()=>[...t[4]||=[u(` New `,-1)]]),_:1})]),r.value?(p(),D(v(te),{key:0,class:`mb-4`},{default:E(()=>[y(v(ne),{class:`p-4 space-y-3`},{default:E(()=>[y(v(A),{modelValue:l.title,"onUpdate:modelValue":t[0]||=e=>l.title=e,placeholder:`Issue title`,class:`w-full`},null,8,[`modelValue`]),y(v(re),{modelValue:l.message,"onUpdate:modelValue":t[1]||=e=>l.message=e,placeholder:`Describe your issue...`,class:`min-h-[80px] resize-vertical`},null,8,[`modelValue`]),s(`div`,null,[s(`div`,B,[s(`label`,V,[y(v(a),{class:`w-4 h-4`}),t[6]||=u(` Attach files `,-1),s(`input`,{type:`file`,multiple:``,class:`hidden`,onChange:Z},null,32)])]),o.value.length?(p(),c(`div`,H,[(p(!0),c(k,null,f(o.value,(e,t)=>(p(),c(`div`,{key:t,class:`flex items-center justify-between p-2 text-sm bg-muted rounded`},[s(`span`,U,O(e.name),1),y(v(j),{variant:`ghost`,size:`sm`,onClick:e=>ve(t),class:`h-6 w-6 p-0 hover:bg-destructive hover:text-destructive-foreground`},{default:E(()=>[y(v(C),{class:`w-3 h-3`})]),_:1},8,[`onClick`])]))),128))])):d(``,!0)]),s(`div`,W,[y(v(j),{onClick:w,disabled:!l.title.trim()||!l.message.trim(),class:`flex-1`},{default:E(()=>[...t[7]||=[u(` Start Conversation `,-1)]]),_:1},8,[`disabled`]),y(v(j),{variant:`outline`,onClick:t[2]||=e=>r.value=!1},{default:E(()=>[...t[8]||=[u(` Cancel `,-1)]]),_:1})])]),_:1})]),_:1})):d(``,!0)]),y(v(F),{class:`flex-1`},{default:E(()=>[s(`div`,G,[(p(!0),c(k,null,f(m(),e=>(p(),c(`div`,{key:e.id,onClick:t=>_(e),class:h([`p-3 rounded-lg border cursor-pointer transition-colors hover:bg-accent/50`,n.value?.id===e.id?`bg-accent border-primary`:`bg-background`])},[s(`div`,q,[s(`h3`,J,O(e.title),1),y(v(M),{variant:Q(e.status),class:`text-xs ml-2 shrink-0`},{default:E(()=>[u(O(e.status),1)]),_:2},1032,[`variant`])]),s(`p`,ie,O(e.lastMessage),1),s(`div`,Y,[s(`span`,null,O($(e.createdAt)),1),y(v(N),{class:`w-3 h-3`})])],10,K))),128))])]),_:1})]),n.value?(p(),c(`div`,ae,[s(`div`,oe,[s(`div`,null,[s(`h3`,se,O(n.value.title),1),s(`p`,ce,` Created `+O($(n.value.createdAt)),1)]),y(v(M),{variant:Q(n.value.status)},{default:E(()=>[u(O(n.value.status),1)]),_:1},8,[`variant`])]),y(v(F),{class:`flex-1 p-4`},{default:E(()=>[s(`div`,le,[(p(!0),c(k,null,f(n.value.messages,e=>(p(),c(`div`,{key:e.id,class:h([`flex max-w-[80%]`,e.sender===`user`?`ml-auto justify-end`:`mr-auto`])},[s(`div`,{class:h([`rounded-lg px-4 py-2`,e.sender===`user`?`bg-primary text-primary-foreground`:`bg-muted`])},[s(`p`,ue,O(e.text),1),e.attachments?(p(),c(`div`,de,[(p(!0),c(k,null,f(e.attachments,e=>(p(),c(`div`,{key:e.id,class:`flex items-center gap-2 p-2 bg-background/50 rounded text-xs`},[y(v(a),{class:`w-3 h-3`}),s(`span`,fe,O(e.name),1),s(`span`,pe,O(e.size),1)]))),128))])):d(``,!0),s(`p`,me,O($(e.timestamp)),1)],2)],2))),128))])]),_:1}),s(`div`,he,[s(`div`,ge,[y(v(A),{modelValue:i.value,"onUpdate:modelValue":t[3]||=e=>i.value=e,placeholder:`Type your message...`,onKeypress:g(P,[`enter`]),class:`flex-1 rounded-full`},null,8,[`modelValue`]),y(v(j),{onClick:P,disabled:!i.value.trim(),class:`rounded-full`},{default:E(()=>[y(v(ee),{class:`w-4 h-4`})]),_:1},8,[`disabled`])])])])):(p(),c(`div`,X,[s(`div`,_e,[y(v(N),{class:`w-12 h-12 mx-auto mb-4 opacity-50`}),t[9]||=s(`p`,null,`Select a conversation or start a new one`,-1)])]))]))}}),[[`__scopeId`,`data-v-3e6cc9d0`]]);export{Z as default};