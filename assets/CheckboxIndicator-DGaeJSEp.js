import{B as e,D as t,F as n,G as r,I as i,R as a,T as o,U as s,_t as c,b as l,d as u,et as d,f,v as p,x as m,z as h}from"./index-4ZmatjLT.js";import{n as g,t as _}from"./nullish-BN9Uk3IV.js";import{l as v,r as y}from"./VisuallyHidden-BMoChTfG.js";import{n as b}from"./dist-1hay9DAo.js";import{t as x,u as S}from"./useForwardExpose-6sUiVR1u.js";import{t as C}from"./useFormControl-GZWYQUly.js";import{t as w}from"./Presence-DhIft7SO.js";import{t as T}from"./Collection-BIkV4l9P.js";import{a as E,i as D,r as O}from"./utils-CbxMYbTF.js";import{n as k}from"./RovingFocusGroup-CgZQUkUM.js";import{t as A}from"./VisuallyHiddenInput-DWGggc4t.js";function j(e,t){return _(e)?!1:Array.isArray(e)?e.some(e=>g(e,t)):g(e,t)}var M=t({__name:`RovingFocusItem`,props:{tabStopId:{type:String,required:!1},focusable:{type:Boolean,required:!1,default:!0},active:{type:Boolean,required:!1},allowShiftKey:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:`span`}},setup(t){let n=t,r=k(),u=y(),f=p(()=>n.tabStopId||u),m=p(()=>r.currentTabStopId.value===f.value),{getItems:g,CollectionItem:_}=T();a(()=>{n.focusable&&r.onFocusableItemAdd()}),h(()=>{n.focusable&&r.onFocusableItemRemove()});function v(e){if(e.key===`Tab`&&e.shiftKey){r.onItemShiftTab();return}if(e.target!==e.currentTarget)return;let t=D(e,r.orientation.value,r.dir.value);if(t!==void 0){if(e.metaKey||e.ctrlKey||e.altKey||!n.allowShiftKey&&e.shiftKey)return;e.preventDefault();let a=[...g().map(e=>e.ref).filter(e=>e.dataset.disabled!==``)];if(t===`last`)a.reverse();else if(t===`prev`||t===`next`){t===`prev`&&a.reverse();let n=a.indexOf(e.currentTarget);a=r.loop.value?E(a,n+1):a.slice(n+1)}i(()=>O(a))}}return(t,n)=>(e(),l(c(_),null,{default:d(()=>[o(c(b),{tabindex:m.value?0:-1,"data-orientation":c(r).orientation.value,"data-active":t.active?``:void 0,"data-disabled":t.focusable?void 0:``,as:t.as,"as-child":t.asChild,onMousedown:n[0]||=e=>{t.focusable?c(r).onItemFocus(f.value):e.preventDefault()},onFocus:n[1]||=e=>c(r).onItemFocus(f.value),onKeydown:v},{default:d(()=>[s(t.$slots,`default`)]),_:3},8,[`tabindex`,`data-orientation`,`data-active`,`data-disabled`,`as`,`as-child`])]),_:3}))}}),[N,P]=v(`CheckboxGroupRoot`);function F(e){return e===`indeterminate`}function I(e){return F(e)?`indeterminate`:e?`checked`:`unchecked`}var[L,R]=v(`CheckboxRoot`),z=t({inheritAttrs:!1,__name:`CheckboxRoot`,props:{defaultValue:{type:[Boolean,String],required:!1},modelValue:{type:[Boolean,String,null],required:!1,default:void 0},disabled:{type:Boolean,required:!1},value:{type:null,required:!1,default:`on`},id:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:`button`},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:[`update:modelValue`],setup(t,{emit:i}){let a=t,o=i,{forwardRef:h,currentElement:v}=x(),y=N(null),w=S(a,`modelValue`,o,{defaultValue:a.defaultValue,passive:a.modelValue===void 0}),T=p(()=>y?.disabled.value||a.disabled),E=p(()=>_(y?.modelValue.value)?w.value===`indeterminate`?`indeterminate`:w.value:j(y.modelValue.value,a.value));function D(){if(_(y?.modelValue.value))w.value=F(w.value)?!0:!w.value;else{let e=[...y.modelValue.value||[]];if(j(e,a.value)){let t=e.findIndex(e=>g(e,a.value));e.splice(t,1)}else e.push(a.value);y.modelValue.value=e}}let O=C(v),k=p(()=>a.id&&v.value?document.querySelector(`[for="${a.id}"]`)?.innerText:void 0);return R({disabled:T,state:E}),(t,i)=>(e(),l(r(c(y)?.rovingFocus.value?c(M):c(b)),n(t.$attrs,{id:t.id,ref:c(h),role:`checkbox`,"as-child":t.asChild,as:t.as,type:t.as===`button`?`button`:void 0,"aria-checked":c(F)(E.value)?`mixed`:E.value,"aria-required":t.required,"aria-label":t.$attrs[`aria-label`]||k.value,"data-state":c(I)(E.value),"data-disabled":T.value?``:void 0,disabled:T.value,focusable:c(y)?.rovingFocus.value?!T.value:void 0,onKeydown:u(f(()=>{},[`prevent`]),[`enter`]),onClick:D}),{default:d(()=>[s(t.$slots,`default`,{modelValue:c(w),state:E.value}),c(O)&&t.name&&!c(y)?(e(),l(c(A),{key:0,type:`checkbox`,checked:!!E.value,name:t.name,value:t.value,disabled:T.value,required:t.required},null,8,[`checked`,`name`,`value`,`disabled`,`required`])):m(`v-if`,!0)]),_:3},16,[`id`,`as-child`,`as`,`type`,`aria-checked`,`aria-required`,`aria-label`,`data-state`,`data-disabled`,`disabled`,`focusable`,`onKeydown`]))}}),B=t({__name:`CheckboxIndicator`,props:{forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:`span`}},setup(t){let{forwardRef:r}=x(),i=L();return(t,a)=>(e(),l(c(w),{present:t.forceMount||c(F)(c(i).state.value)||c(i).state.value===!0},{default:d(()=>[o(c(b),n({ref:c(r),"data-state":c(I)(c(i).state.value),"data-disabled":c(i).disabled.value?``:void 0,style:{pointerEvents:`none`},"as-child":t.asChild,as:t.as},t.$attrs),{default:d(()=>[s(t.$slots,`default`)]),_:3},16,[`data-state`,`data-disabled`,`as-child`,`as`])]),_:3},8,[`present`]))}});export{z as n,B as t};