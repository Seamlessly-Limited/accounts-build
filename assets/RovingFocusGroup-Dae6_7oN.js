import{t as e}from"./useDirection-CkCaHLjJ.js";import{n as t,r as n,t as r}from"./utils-d0L3vlW4.js";import{Aa as i,Er as a,Gi as o,Ir as s,Oa as c,Ri as l,Ui as u,Yr as d,aa as f,di as p,ga as m,na as h,wa as g}from"./index-BW6FH5S4.js";var[_,v]=p(`RovingFocusGroup`),y=o({__name:`RovingFocusGroup`,props:{orientation:{type:String,required:!1,default:void 0},dir:{type:String,required:!1},loop:{type:Boolean,required:!1,default:!1},currentTabStopId:{type:[String,null],required:!1},defaultCurrentTabStopId:{type:String,required:!1},preventScrollOnEntryFocus:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:[`entryFocus`,`update:currentTabStopId`],setup(o,{expose:p,emit:_}){let y=o,b=_,{loop:x,orientation:S,dir:C}=c(y),w=e(C),T=d(y,`currentTabStopId`,b,{defaultValue:y.defaultCurrentTabStopId,passive:y.currentTabStopId===void 0}),E=g(!1),D=g(!1),O=g(0),{getItems:k,CollectionSlot:A}=a({isProvider:!0});function j(e){let i=!D.value;if(e.currentTarget&&e.target===e.currentTarget&&i&&!E.value){let i=new CustomEvent(r,t);if(e.currentTarget.dispatchEvent(i),b(`entryFocus`,i),!i.defaultPrevented){let e=k().map(e=>e.ref).filter(e=>e.dataset.disabled!==``),t=e.find(e=>e.getAttribute(`data-active`)===``),r=e.find(e=>e.getAttribute(`data-highlighted`)===``),i=e.find(e=>e.id===T.value),a=[t,r,i,...e].filter(Boolean);n(a,y.preventScrollOnEntryFocus)}}D.value=!1}function M(){setTimeout(()=>{D.value=!1},1)}return p({getItems:k}),v({loop:x,dir:w,orientation:S,currentTabStopId:T,onItemFocus:e=>{T.value=e},onItemShiftTab:()=>{E.value=!0},onFocusableItemAdd:()=>{O.value++},onFocusableItemRemove:()=>{O.value--}}),(e,t)=>(h(),l(i(A),null,{default:m(()=>[u(i(s),{tabindex:E.value||O.value===0?-1:0,"data-orientation":i(S),as:e.as,"as-child":e.asChild,dir:i(w),style:{outline:`none`},onMousedown:t[0]||=e=>D.value=!0,onMouseup:M,onFocus:j,onBlur:t[1]||=e=>E.value=!1},{default:m(()=>[f(e.$slots,`default`)]),_:3},8,[`tabindex`,`data-orientation`,`as`,`as-child`,`dir`])]),_:3}))}});export{_ as n,y as t};