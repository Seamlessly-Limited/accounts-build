import{t as e}from"./ohash.D__AXeF1-CGofPpTT.js";import{t}from"./nullish-CfjOSA4G.js";import{t as n}from"./useFormControl-DpqXf6v7.js";import{t as r}from"./useId-Dh9pzOl8.js";import{a as i,i as a,r as o}from"./utils-BBWnFzkv.js";import{n as s}from"./RovingFocusGroup-Bxvs5vzj.js";import{t as c}from"./VisuallyHiddenInput-C4chlUyE.js";import{At as l,Bt as u,Ct as d,F as f,H as p,It as m,Kt as h,Lt as g,Ot as _,Vt as v,Wt as y,gt as b,hn as x,ht as S,j as C,k as w,rt as T,tn as E,wt as D,xt as O,y as k,zt as A}from"./index-DUYI2_g5.js";function j(n,r){return t(n)?!1:Array.isArray(n)?n.some(t=>e(t,r)):e(n,r)}var M=l({__name:`RovingFocusItem`,props:{tabStopId:{type:String,required:!1},focusable:{type:Boolean,required:!1,default:!0},active:{type:Boolean,required:!1},allowShiftKey:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:`span`}},setup(e){let t=e,n=s(),c=r(),l=O(()=>t.tabStopId||c),f=O(()=>n.currentTabStopId.value===l.value),{getItems:p,CollectionItem:m}=k();A(()=>{t.focusable&&n.onFocusableItemAdd()}),u(()=>{t.focusable&&n.onFocusableItemRemove()});function h(e){if(e.key===`Tab`&&e.shiftKey){n.onItemShiftTab();return}if(e.target!==e.currentTarget)return;let r=a(e,n.orientation.value,n.dir.value);if(r!==void 0){if(e.metaKey||e.ctrlKey||e.altKey||!t.allowShiftKey&&e.shiftKey)return;e.preventDefault();let a=[...p().map(e=>e.ref).filter(e=>e.dataset.disabled!==``)];if(r===`last`)a.reverse();else if(r===`prev`||r===`next`){r===`prev`&&a.reverse();let t=a.indexOf(e.currentTarget);a=n.loop.value?i(a,t+1):a.slice(t+1)}g(()=>o(a))}}return(e,t)=>(v(),d(x(m),null,{default:E(()=>[_(x(w),{tabindex:f.value?0:-1,"data-orientation":x(n).orientation.value,"data-active":e.active?``:void 0,"data-disabled":e.focusable?void 0:``,as:e.as,"as-child":e.asChild,onMousedown:t[0]||=t=>{e.focusable?x(n).onItemFocus(l.value):t.preventDefault()},onFocus:t[1]||=e=>x(n).onItemFocus(l.value),onKeydown:h},{default:E(()=>[y(e.$slots,`default`)]),_:3},8,[`tabindex`,`data-orientation`,`data-active`,`data-disabled`,`as`,`as-child`])]),_:3}))}}),[N,P]=T(`CheckboxGroupRoot`);function F(e){return e===`indeterminate`}function I(e){return F(e)?`indeterminate`:e?`checked`:`unchecked`}var[L,R]=T(`CheckboxRoot`),z=l({inheritAttrs:!1,__name:`CheckboxRoot`,props:{defaultValue:{type:[Boolean,String],required:!1},modelValue:{type:[Boolean,String,null],required:!1,default:void 0},disabled:{type:Boolean,required:!1},value:{type:null,required:!1,default:`on`},id:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:`button`},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:[`update:modelValue`],setup(r,{emit:i}){let a=r,o=i,{forwardRef:s,currentElement:l}=f(),u=N(null),g=p(a,`modelValue`,o,{defaultValue:a.defaultValue,passive:a.modelValue===void 0}),_=O(()=>u?.disabled.value||a.disabled),C=O(()=>t(u?.modelValue.value)?g.value===`indeterminate`?`indeterminate`:g.value:j(u.modelValue.value,a.value));function T(){if(t(u?.modelValue.value))g.value=F(g.value)?!0:!g.value;else{let t=[...u.modelValue.value||[]];if(j(t,a.value)){let n=t.findIndex(t=>e(t,a.value));t.splice(n,1)}else t.push(a.value);u.modelValue.value=t}}let k=n(l),A=O(()=>a.id&&l.value?document.querySelector(`[for="${a.id}"]`)?.innerText:void 0);return R({disabled:_,state:C}),(e,t)=>(v(),d(h(x(u)?.rovingFocus.value?x(M):x(w)),m(e.$attrs,{id:e.id,ref:x(s),role:`checkbox`,"as-child":e.asChild,as:e.as,type:e.as===`button`?`button`:void 0,"aria-checked":x(F)(C.value)?`mixed`:C.value,"aria-required":e.required,"aria-label":e.$attrs[`aria-label`]||A.value,"data-state":x(I)(C.value),"data-disabled":_.value?``:void 0,disabled:_.value,focusable:x(u)?.rovingFocus.value?!_.value:void 0,onKeydown:S(b(()=>{},[`prevent`]),[`enter`]),onClick:T}),{default:E(()=>[y(e.$slots,`default`,{modelValue:x(g),state:C.value}),x(k)&&e.name&&!x(u)?(v(),d(x(c),{key:0,type:`checkbox`,checked:!!C.value,name:e.name,value:e.value,disabled:_.value,required:e.required},null,8,[`checked`,`name`,`value`,`disabled`,`required`])):D(`v-if`,!0)]),_:3},16,[`id`,`as-child`,`as`,`type`,`aria-checked`,`aria-required`,`aria-label`,`data-state`,`data-disabled`,`disabled`,`focusable`,`onKeydown`]))}}),B=l({__name:`CheckboxIndicator`,props:{forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:`span`}},setup(e){let{forwardRef:t}=f(),n=L();return(e,r)=>(v(),d(x(C),{present:e.forceMount||x(F)(x(n).state.value)||x(n).state.value===!0},{default:E(()=>[_(x(w),m({ref:x(t),"data-state":x(I)(x(n).state.value),"data-disabled":x(n).disabled.value?``:void 0,style:{pointerEvents:`none`},"as-child":e.asChild,as:e.as},e.$attrs),{default:E(()=>[y(e.$slots,`default`)]),_:3},16,[`data-state`,`data-disabled`,`as-child`,`as`])]),_:3},8,[`present`]))}});export{z as n,M as r,B as t};