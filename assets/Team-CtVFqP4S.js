import{o as e,s as t}from"./utils-Cb55IaNq.js";import{t as n}from"./useArrowNavigation-siWGBYoD.js";import{t as r}from"./useDirection-DpFczioB.js";import{a as i,i as a,n as o,r as s,t as c}from"./SelectValue-DkkNj2UZ.js";import{t as l}from"./useId-CKDl4U8b.js";import{t as u}from"./VisuallyHiddenInput-EVOIdqSa.js";import{t as d}from"./SelectGroup-jkw9yXmK.js";import{a as ee,i as te,n as ne,t as re}from"./tabs-D6MYdXij.js";import{i as f,r as p}from"./avatar-DrT6DSO3.js";import{t as ie}from"./user-plus-0p2XONmx.js";import{At as m,B as h,Ct as g,D as _,Et as v,It as y,L as b,Lt as x,M as S,N as C,Ot as w,St as T,Tt as E,Ut as D,Vt as O,Wt as k,_ as A,_t as ae,gn as oe,gt as j,h as M,hn as N,i as se,j as P,kt as F,ln as I,lt as L,m as R,nt as z,p as ce,pn as B,r as le,tn as V,wt as H,yn as U,yt as ue,zt as de}from"./index-Du2czi9R.js";import{t as fe}from"./Input-BoBIN1Do.js";import{t as W}from"./button-B9kMoAqM.js";import{t as G}from"./OrganisationService-DGbWQj7B.js";import{a as K,i as q,n as J,o as Y,r as X,t as Z}from"./DialogTitle-C6WKHeiB.js";import{a as pe,i as me,n as he,o as ge,t as _e}from"./form-B6HG63aO.js";import{t as Q}from"./Label-C7Xl7GdX.js";import{t as ve}from"./badge-DJ-9zaYA.js";import{t as ye}from"./Checkbox-CMuMpURe.js";var[$,be]=z(`TagsInputRoot`),xe=m({__name:`TagsInputRoot`,props:{modelValue:{type:[Array,null],required:!1},defaultValue:{type:Array,required:!1,default:()=>[]},addOnPaste:{type:Boolean,required:!1},addOnTab:{type:Boolean,required:!1},addOnBlur:{type:Boolean,required:!1},duplicate:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},delimiter:{type:null,required:!1,default:`,`},dir:{type:String,required:!1},max:{type:Number,required:!1,default:0},id:{type:String,required:!1},convertValue:{type:Function,required:!1},displayValue:{type:Function,required:!1,default:e=>e.toString()},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:[`update:modelValue`,`invalid`,`addTag`,`removeTag`],setup(t,{emit:i}){let a=t,o=i,{addOnPaste:s,disabled:c,delimiter:l,max:d,id:ee,dir:te,addOnBlur:ne,addOnTab:re}=B(a),f=r(te),p=h(a,`modelValue`,o,{defaultValue:a.defaultValue,passive:!0,deep:!0}),{forwardRef:ie,currentElement:m}=C(),{focused:g}=b(m),v=e(m),{getItems:y,CollectionSlot:x}=A({isProvider:!0}),S=I(),w=I(!1),D=T(()=>Array.isArray(p.value)?[...p.value]:[]);function ae(e){if(e!==-1){let t=y().filter(e=>e.ref.dataset.disabled!==``);p.value=p.value.filter((t,n)=>n!==e),o(`removeTag`,t[e].value)}}return be({modelValue:p,onAddValue:e=>{let t=[...D.value],n=t.length>0&&typeof t[0]==`object`,r=t.length>0&&typeof a.defaultValue[0]==`object`;if((n||r)&&typeof a.convertValue!=`function`)throw Error("You must provide a `convertValue` function when using objects as values.");let i=a.convertValue?a.convertValue(e):e;if(t.length>=d.value&&d.value)return o(`invalid`,i),!1;if(a.duplicate)return p.value=[...t,i],o(`addTag`,i),!0;if(t.includes(i))w.value=!0;else return p.value=[...t,i],o(`addTag`,i),!0;return o(`invalid`,i),!1},onRemoveValue:ae,onInputKeydown:e=>{let t=e.target,r=y().map(e=>e.ref).filter(e=>e.dataset.disabled!==``);if(!r.length)return;let i=r.at(-1);switch(e.key){case`Delete`:case`Backspace`:if(t.selectionStart!==0||t.selectionEnd!==0)break;if(S.value){let t=r.findIndex(e=>e===S.value);ae(t),S.value=S.value===i?r.at(t-1):r.at(t+1),e.preventDefault()}else e.key===`Backspace`&&(S.value=i,e.preventDefault());break;case`Home`:case`End`:case`ArrowRight`:case`ArrowLeft`:{let a=e.key===`ArrowRight`&&f.value===`ltr`||e.key===`ArrowLeft`&&f.value===`rtl`,o=!a;if(t.selectionStart!==0||t.selectionEnd!==0)break;if(o&&!S.value)S.value=i,e.preventDefault();else if(a&&i&&S.value===i)S.value=void 0,e.preventDefault();else if(S.value){let t=n(e,S.value,void 0,{itemsArray:r,loop:!1,dir:f.value});t&&(S.value=t),e.preventDefault()}break}case`ArrowUp`:case`ArrowDown`:S.value&&e.preventDefault();break;default:S.value=void 0}},selectedElement:S,isInvalidInput:w,addOnPaste:s,addOnBlur:ne,addOnTab:re,dir:f,disabled:c,delimiter:l,max:d,id:ee,displayValue:a.displayValue}),(e,t)=>(O(),H(N(x),null,{default:V(()=>[F(N(_),{ref:N(ie),dir:N(f),as:e.as,"as-child":e.asChild,"data-invalid":w.value?``:void 0,"data-disabled":N(c)?``:void 0,"data-focused":N(g)?``:void 0},{default:V(()=>[k(e.$slots,`default`,{modelValue:N(p)}),N(v)&&e.name?(O(),H(N(u),{key:0,name:e.name,value:N(p),required:e.required,disabled:N(c)},null,8,[`name`,`value`,`required`,`disabled`])):E(`v-if`,!0)]),_:3},8,[`dir`,`as`,`as-child`,`data-invalid`,`data-disabled`,`data-focused`])]),_:3}))}}),Se=m({__name:`TagsInputInput`,props:{placeholder:{type:String,required:!1},autoFocus:{type:Boolean,required:!1},maxLength:{type:Number,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:`input`}},setup(e){let t=e,n=$(),{forwardRef:r,currentElement:i}=C();function a(e){if(n.selectedElement.value=void 0,!n.addOnBlur.value)return;let t=e.target;t.value&&n.onAddValue(t.value)&&(t.value=``)}function o(e){n.addOnTab.value&&u(e)}let s=I(!1);function c(){s.value=!0}function l(){x(()=>{s.value=!1})}async function u(e){if(s.value||(await x(),e.defaultPrevented))return;let t=e.target;t.value&&(n.onAddValue(t.value)&&(t.value=``),e.preventDefault())}function d(e){if(n.isInvalidInput.value=!1,e.data===null)return;let t=n.delimiter.value;if(t===e.data||t instanceof RegExp&&t.test(e.data)){let r=e.target;if(r.value=r.value.replace(t,``),r.value.trim()===``){r.value=``;return}n.onAddValue(r.value)&&(r.value=``)}}function ee(e){if(n.addOnPaste.value){e.preventDefault();let t=e.clipboardData;if(!t)return;let r=t.getData(`text`);n.delimiter.value?r.split(n.delimiter.value).forEach(e=>{n.onAddValue(e)}):n.onAddValue(r)}}return de(()=>{let e=i.value.nodeName===`INPUT`?i.value:i.value.querySelector(`input`);e&&setTimeout(()=>{t.autoFocus&&e?.focus()},1)}),(e,t)=>(O(),H(N(_),{id:N(n).id?.value,ref:N(r),type:`text`,autocomplete:`off`,autocorrect:`off`,autocapitalize:`off`,as:e.as,"as-child":e.asChild,maxlength:e.maxLength,placeholder:e.placeholder,disabled:N(n).disabled.value,"data-invalid":N(n).isInvalidInput.value?``:void 0,onInput:d,onKeydown:[j(u,[`enter`]),j(o,[`tab`]),N(n).onInputKeydown],onBlur:a,onCompositionstart:c,onCompositionend:l,onPaste:ee},{default:V(()=>[k(e.$slots,`default`)]),_:3},8,[`id`,`as`,`as-child`,`maxlength`,`placeholder`,`disabled`,`data-invalid`,`onKeydown`]))}}),[Ce,we]=z(`TagsInputItem`),Te=m({__name:`TagsInputItem`,props:{value:{type:null,required:!0},disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){let t=e,{value:n}=B(t),r=$(),{forwardRef:i,currentElement:a}=C(),{CollectionItem:o}=A(),s=T(()=>r.selectedElement.value===a.value),c=T(()=>t.disabled||r.disabled.value),l=we({value:n,isSelected:s,disabled:c,textId:``,displayValue:T(()=>r.displayValue(n.value))});return(e,t)=>(O(),H(N(o),{value:N(n)},{default:V(()=>[F(N(_),{ref:N(i),as:e.as,"as-child":e.asChild,"aria-labelledby":N(l).textId,"aria-current":s.value,"data-disabled":c.value?``:void 0,"data-state":s.value?`active`:`inactive`},{default:V(()=>[k(e.$slots,`default`)]),_:3},8,[`as`,`as-child`,`aria-labelledby`,`aria-current`,`data-disabled`,`data-state`])]),_:3},8,[`value`]))}}),Ee=m({__name:`TagsInputItemDelete`,props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:`button`}},setup(e){let n=e;C();let r=$(),i=Ce(),a=T(()=>i.disabled?.value||r.disabled.value);function o(){if(a.value)return;let e=r.modelValue.value.findIndex(e=>t(e,i.value.value));r.onRemoveValue(e)}return(e,t)=>(O(),H(N(_),y({tabindex:`-1`},n,{"aria-labelledby":N(i).textId,"aria-current":N(i).isSelected.value,"data-state":N(i).isSelected.value?`active`:`inactive`,"data-disabled":a.value?``:void 0,type:e.as===`button`?`button`:void 0,onClick:o}),{default:V(()=>[k(e.$slots,`default`)]),_:3},16,[`aria-labelledby`,`aria-current`,`data-state`,`data-disabled`,`type`]))}}),De=m({__name:`TagsInputItemText`,props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:`span`}},setup(e){let t=e,n=Ce();return C(),n.textId||=l(void 0,`reka-tags-input-item-text`),(e,r)=>(O(),H(N(_),y(t,{id:N(n).textId}),{default:V(()=>[k(e.$slots,`default`,{},()=>[w(U(N(n).displayValue.value),1)])]),_:3},16,[`id`]))}}),Oe=R(`triangle-alert`,[[`path`,{d:`m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3`,key:`wmoenq`}],[`path`,{d:`M12 9v4`,key:`juzpu7`}],[`path`,{d:`M12 17h.01`,key:`p32p05`}]]),ke=m({__name:`TagsInput`,props:{modelValue:{},defaultValue:{},addOnPaste:{type:Boolean},addOnTab:{type:Boolean},addOnBlur:{type:Boolean},duplicate:{type:Boolean},disabled:{type:Boolean},delimiter:{},dir:{},max:{},id:{},convertValue:{type:Function},displayValue:{type:Function},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean},class:{}},emits:[`update:modelValue`,`invalid`,`addTag`,`removeTag`],setup(e,{emit:t}){let n=e,r=t,i=L(n,`class`),a=P(i,r);return(e,t)=>(O(),H(N(xe),y(N(a),{class:N(M)(`flex flex-wrap gap-2 items-center rounded-md border border-input bg-background px-3 py-1.5 text-sm`,n.class)}),{default:V(()=>[k(e.$slots,`default`)]),_:3},16,[`class`]))}}),Ae=m({__name:`TagsInputInput`,props:{placeholder:{},autoFocus:{type:Boolean},maxLength:{},asChild:{type:Boolean},as:{},class:{}},setup(e){let t=e,n=L(t,`class`),r=S(n);return(e,n)=>(O(),H(N(Se),y(N(r),{class:N(M)(`text-sm min-h-5 focus:outline-none flex-1 bg-transparent px-1`,t.class)}),null,16,[`class`]))}}),je=m({__name:`TagsInputItem`,props:{value:{},disabled:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(e){let t=e,n=L(t,`class`),r=S(n);return(e,n)=>(O(),H(N(Te),y(N(r),{class:N(M)(`flex h-5 items-center rounded-md bg-secondary data-[state=active]:ring-ring data-[state=active]:ring-2 data-[state=active]:ring-offset-2 ring-offset-background`,t.class)}),{default:V(()=>[k(e.$slots,`default`)]),_:3},16,[`class`]))}}),Me=m({__name:`TagsInputItemDelete`,props:{asChild:{type:Boolean},as:{},class:{}},setup(e){let t=e,n=L(t,`class`),r=S(n);return(e,n)=>(O(),H(N(Ee),y(N(r),{class:N(M)(`flex rounded bg-transparent mr-1`,t.class)}),{default:V(()=>[k(e.$slots,`default`,{},()=>[F(N(ce),{class:`w-4 h-4`})])]),_:3},16,[`class`]))}}),Ne=m({__name:`TagsInputItemText`,props:{asChild:{type:Boolean},as:{},class:{}},setup(e){let t=e,n=L(t,`class`),r=S(n);return(e,n)=>(O(),H(N(De),y(N(r),{class:N(M)(`py-0.5 px-2 text-sm rounded bg-transparent`,t.class)}),null,16,[`class`]))}}),Pe={class:`container mx-auto py-5 relative`},Fe={class:`flex justify-center`},Ie={class:`w-full p-8 space-y-6 shadow-none border-none bg-transparent rounded-2xl min-h-[80vh]`},Le={class:`flex flex-col sm:flex-row sm:justify-between w-full`},Re={class:`flex gap-2 mt-4`},ze={class:`block md:hidden mb-6`},Be={class:`flex flex-col`},Ve={class:`flex items-center gap-4`},He={class:`flex items-center gap-3`},Ue={class:`text-sm font-medium text-gray-600`},We={class:`flex flex-col gap-2`},Ge={class:`font-medium text-gray-900`},Ke={key:0,class:`flex items-center gap-2`},qe={key:0,class:`text-center text-sm py-6 text-slate-500`},Je={key:0,class:`text-center py-6 text-sm text-slate-500`},Ye={class:`flex flex-col gap-4 py-6`},Xe={class:`font-medium text-gray-800`},Ze={class:`text-sm text-gray-500`},Qe={class:`flex gap-2`},$e={class:`space-y-4 py-4`},et={class:`space-y-2`},tt={class:`space-y-2`},nt={class:`space-y-2`},rt={class:`flex items-center space-x-2`},it={class:`flex items-center space-x-2`},at={class:`flex items-center space-x-2`},ot={class:`space-y-4 py-4`},st={class:`my-4`},ct={class:`bg-amber-50 border border-amber-200 border-solid rounded-md p-4`},lt={class:`flex items-start gap-3`},ut={class:`text-sm text-amber-800`},dt={class:`mt-1`},ft={key:0,class:`mt-2 font-semibold`},pt={class:`space-y-3`},mt={key:0,class:`text-sm text-red-600`},ht={class:`py-4`},gt=le({__name:`Team`,setup(e){let t=se().toast,n=I(`members`),r=I(``),l=I(!1),u=I(!1),m=I(!1),h=I(!1),_=I(null),y=I(``),b=I({includeEmail:!0,includeRole:!0,includeDate:!1}),x=I(``),S=I([]),C=I(`MEMBER`),k=I([]),A=I([]),j=I(!1),M=I(!1),P=I(!1),L=I(``),R=T(()=>{if(!r.value)return A.value;let e=r.value.toLowerCase();return A.value.filter(t=>t.name.toLowerCase().includes(e)||t.email.toLowerCase().includes(e)||t.role&&t.role.toLowerCase().includes(e))}),z=e=>(e||`S`).split(` `).map(e=>e[0]).join(``).toUpperCase(),ce=()=>{l.value=!1,y.value=``},B=e=>Array.from(new Set(e.split(/[\s,;\n]+/).map(e=>e.trim().toLowerCase()).filter(Boolean))),le=async()=>{let e=Array.isArray(S.value)?S.value:B(S.value),n=Array.from(new Set(e.map(e=>String(e).trim().toLowerCase()).filter(Boolean)));if(n.length===0)return;M.value=!0;let r={role:C.value,emails:n};try{let{data:e,message:n}=await G.createMembers(r);Te(),S.value=[],C.value=`Member`,u.value=!1,t({duration:5e3,message:n||`Done`,variant:`success`})}catch(e){t({duration:5e3,title:`Failed to send invitation`,message:e.message??`Connect to the internet and try again.`,variant:`error`})}finally{M.value=!1}},$=async e=>{try{let{message:n}=await G.createMembers({emails:[e.email]});t({duration:5e3,message:n||`Done`,variant:`success`})}catch(e){t({duration:5e3,title:`Failed to send invitation`,message:e.message??`Connect to the internet and try again.`,variant:`error`})}finally{M.value=!1}},be=async e=>{try{let{message:n}=await G.deleteMember(e.reference,!0);k.value.splice(k.value.indexOf(e),1),t({duration:5e3,message:n||`Done`,variant:`success`})}catch(e){t({duration:5e3,title:`Failed to delete invitation`,message:e.message??`Connect to the internet and try again.`,variant:`error`})}finally{M.value=!1}},xe=e=>{_.value=e,m.value=!0},Se=async()=>{if(_.value){P.value=!0;try{let{message:e}=await G.deleteMember(_.value.reference,!0);A.value=A.value.filter(e=>e.reference!==_.value.reference),t({duration:5e3,message:e||`Done`,variant:`success`})}catch(e){t({duration:5e3,title:`Failed to delete member`,message:e.message??`Connect to the internet and try again.`,variant:`error`})}finally{P.value=!1,_.value=null,m.value=!1}}},Ce=e=>{_.value=e,x.value=e.role||`Member`,h.value=!0},we=async()=>{if(_.value)try{let{message:e}=await G.updateMember(_.value.reference,{role:x.value}),n=A.value.find(e=>e.reference===_.value.reference);n&&(n.role=x.value),_.value=null,h.value=!1,x.value=``,t({duration:5e3,message:e||`Done`,variant:`success`})}catch(e){t({duration:5e3,title:`Failed to change member role`,message:e.message??`Connect to the internet and try again.`,variant:`error`})}};de(async()=>{await Te()});async function Te(){try{j.value=!0;let{data:e}=await G.getMembers();A.value=[],k.value=[];for(let t of e||[]){let{email:e}=JSON.parse(localStorage.getItem(`user`));t.email!=e&&(t.status==`INVITED`?k.value.push(t):A.value.push(t))}}catch(e){t({title:`Failed to load members`,message:e.message??`Connect to the internet and try again.`,variant:`error`})}finally{j.value=!1}}let Ee=I([]),De=e=>typeof e==`string`&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.trim()),gt=e=>Array.isArray(e)?e.map(String):e?String(e).split(/[\s,;\n]+/).map(e=>e.trim()).filter(Boolean):[],_t=e=>{let t=gt(e),n=Array.from(new Set(t.map(e=>e.toLowerCase()))),r=[],i=[];n.forEach(e=>{De(e)?r.push(e):i.push(e)}),S.value=r,Ee.value=i,i.length};return(e,t)=>(O(),v(`div`,Pe,[g(`div`,Fe,[g(`div`,Ie,[g(`div`,Le,[t[18]||=g(`div`,null,[g(`h1`,{class:`text-2xl font-bold text-slate-800`},`People`),g(`p`,{class:`text-sm text-slate-600`},`Members of your organisation and workspace`)],-1),g(`div`,Re,[F(N(W),{class:`flex gap-2 rounded-full`,onClick:t[0]||=e=>u.value=!0},{default:V(()=>[F(N(ie),{class:`h-4 w-4`}),t[17]||=w(` Add Member `,-1)]),_:1})])]),g(`div`,ze,[F(N(i),{modelValue:n.value,"onUpdate:modelValue":t[1]||=e=>n.value=e},{default:V(()=>[F(N(o),{class:`w-full border rounded-xl py-2 px-3 text-sm`},{default:V(()=>[F(N(c),{placeholder:`Select section`})]),_:1}),F(N(a),null,{default:V(()=>[F(N(d),null,{default:V(()=>[F(N(s),{value:`members`},{default:V(()=>[...t[19]||=[w(`Members`,-1)]]),_:1}),F(N(s),{value:`invitations`},{default:V(()=>[...t[20]||=[w(`Invitations`,-1)]]),_:1})]),_:1})]),_:1})]),_:1},8,[`modelValue`])]),F(N(ee),{modelValue:n.value,"onUpdate:modelValue":t[2]||=e=>n.value=e,"default-value":`members`,class:`hidden md:block mb-6`},{default:V(()=>[t[29]||=g(`hr`,{class:`h-1 bg-slate-50 mt-10 mb-1 opacity-20`},null,-1),F(N(ne),{class:`rounded-full bg-stone-100 text-blue-950 px-0.5 py-0.5 w-fit`},{default:V(()=>[F(N(re),{value:`members`,class:`px-4 py-1 rounded-full data-[state=active]:bg-stone-50 data-[state=active]:text-blue-950`},{default:V(()=>[...t[21]||=[w(` Members `,-1)]]),_:1}),F(N(re),{value:`invitations`,class:`px-4 py-1 rounded-full data-[state=active]:bg-stone-50 data-[state=active]:text-blue-950`},{default:V(()=>[...t[22]||=[w(` Invitations `,-1)]]),_:1})]),_:1}),t[30]||=g(`hr`,{class:`h-1 bg-slate-50 mb-10 mt-2 opacity-30`},null,-1),F(N(te),{value:`members`,class:`mt-6`},{default:V(()=>[g(`div`,Be,[(O(!0),v(ue,null,D(R.value,e=>(O(),v(`div`,{key:e.reference,class:`flex items-center justify-between p-4 border border-gray-200 hover:border-dashed rounded-sm transition-colors`},[g(`div`,Ve,[g(`div`,He,[F(N(p),{class:`h-10 w-10 bg-gray-300 rounded-full flex items-center justify-center`},{default:V(()=>[g(`span`,Ue,U(z(e.memberName)),1)]),_:2},1024),g(`div`,null,[g(`div`,We,[g(`span`,Ge,U(e.memberName),1),e.role?(O(),H(N(ve),{key:0,variant:`secondary`,class:`border-slate-50 text-slate-800 text-xs px-2 py-0.5 rounded-full`},{default:V(()=>[w(U(e.role),1)]),_:2},1024)):E(``,!0)])])])]),e.role==`OWNER`?E(``,!0):(O(),v(`div`,Ke,[F(N(W),{variant:`outline`,size:`sm`,class:`text-gray-700 border-gray-300 hover:bg-gray-50 rounded-full`,onClick:t=>Ce(e)},{default:V(()=>[...t[23]||=[w(` Role `,-1)]]),_:1},8,[`onClick`]),F(N(W),{variant:`outline`,size:`sm`,class:`text-gray-700 border-gray-300 hover:bg-destructive hover:border-destructive/95 hover:text-white rounded-full`,onClick:t=>xe(e)},{default:V(()=>[...t[24]||=[w(` Remove `,-1)]]),_:1},8,[`onClick`])]))]))),128))]),R.value.length===0?(O(),v(`div`,qe,[...t[25]||=[g(`div`,{class:`w-full rounded-md border-dashed border border-slate-200 py-20`},[g(`div`,null,` No other members yet. Click "Add Member" to start inviting members. `)],-1)]])):E(``,!0)]),_:1}),F(N(te),{value:`invitations`,class:`mt-6`},{default:V(()=>[k.value.length===0?(O(),v(`div`,Je,[...t[26]||=[g(`div`,{class:`w-full rounded-md border-dashed border border-slate-200 py-20`},[g(`div`,null,` No invitations yet. Click "Add Member" to start inviting members. `)],-1)]])):E(``,!0),g(`div`,Ye,[(O(!0),v(ue,null,D(k.value.sort((e,t)=>e.deliveryTime<t.deliveryTime),e=>(O(),v(`div`,{key:e.reference,class:`flex items-center justify-between p-4 border border-gray-200 rounded-sm`},[g(`div`,null,[g(`div`,Xe,U(e.email),1),g(`div`,Ze,`Invited on `+U(e.formattedDeliveryTime),1)]),g(`div`,Qe,[F(N(W),{size:`sm`,variant:`outline`,onClick:t=>$(e)},{default:V(()=>[...t[27]||=[w(`Resend`,-1)]]),_:1},8,[`onClick`]),F(N(W),{size:`sm`,variant:`destructive`,onClick:t=>be(e)},{default:V(()=>[...t[28]||=[w(`Cancel`,-1)]]),_:1},8,[`onClick`])])]))),128))])]),_:1})]),_:1},8,[`modelValue`]),F(N(Y),{open:l.value,"onUpdate:open":t[8]||=e=>l.value=e},{default:V(()=>[F(N(K),{class:`sm:max-w-md bg-white`},{default:V(()=>[F(N(J),null,{default:V(()=>[F(N(Z),null,{default:V(()=>[...t[31]||=[w(`Export Members`,-1)]]),_:1}),F(N(q),null,{default:V(()=>[...t[32]||=[w(` Choose the format and data you want to export. `,-1)]]),_:1})]),_:1}),g(`div`,$e,[g(`div`,et,[F(N(Q),{for:`export-format`},{default:V(()=>[...t[33]||=[w(`Format`,-1)]]),_:1}),F(N(i),{modelValue:y.value,"onUpdate:modelValue":t[3]||=e=>y.value=e},{default:V(()=>[F(N(o),{class:`w-full rounded-full`},{default:V(()=>[F(N(c),{placeholder:`Select format`})]),_:1}),F(N(a),null,{default:V(()=>[F(N(s),{value:`csv`},{default:V(()=>[...t[34]||=[w(`CSV`,-1)]]),_:1}),F(N(s),{value:`pdf`},{default:V(()=>[...t[35]||=[w(`PDF`,-1)]]),_:1})]),_:1})]),_:1},8,[`modelValue`])]),g(`div`,tt,[F(N(Q),null,{default:V(()=>[...t[36]||=[w(`Include Data`,-1)]]),_:1}),g(`div`,nt,[g(`div`,rt,[F(N(ye),{id:`include-email`,modelValue:b.value.includeEmail,"onUpdate:modelValue":t[4]||=e=>b.value.includeEmail=e},null,8,[`modelValue`]),F(N(Q),{for:`include-email`},{default:V(()=>[...t[37]||=[w(`Email addresses`,-1)]]),_:1})]),g(`div`,it,[F(N(ye),{id:`include-role`,modelValue:b.value.includeRole,"onUpdate:modelValue":t[5]||=e=>b.value.includeRole=e},null,8,[`modelValue`]),F(N(Q),{for:`include-role`},{default:V(()=>[...t[38]||=[w(`Roles`,-1)]]),_:1})]),g(`div`,at,[F(N(ye),{id:`include-date`,modelValue:b.value.includeDate,"onUpdate:modelValue":t[6]||=e=>b.value.includeDate=e},null,8,[`modelValue`]),F(N(Q),{for:`include-date`},{default:V(()=>[...t[39]||=[w(`Join date`,-1)]]),_:1})])])])]),F(N(X),{class:`gap-2 sm:gap-2`},{default:V(()=>[F(N(W),{class:`rounded-full`,variant:`outline`,onClick:t[7]||=e=>l.value=!1},{default:V(()=>[...t[40]||=[w(`Cancel`,-1)]]),_:1}),F(N(W),{class:`rounded-full`,onClick:ce,disabled:!y.value},{default:V(()=>[...t[41]||=[w(` Export `,-1)]]),_:1},8,[`disabled`])]),_:1})]),_:1})]),_:1},8,[`open`]),F(N(Y),{open:u.value,"onUpdate:open":t[11]||=e=>u.value=e},{default:V(()=>[F(N(K),{class:`sm:max-w-md bg-white`},{default:V(()=>[F(N(J),null,{default:V(()=>[F(N(Z),null,{default:V(()=>[...t[42]||=[w(`Invite Members`,-1)]]),_:1}),F(N(q),null,{default:V(()=>[...t[43]||=[w(` Invite one or more people by email. Comma or newline separated. `,-1)]]),_:1})]),_:1}),g(`div`,ot,[F(N(ge),{name:`addTeamMembers`,onSubmit:ae(le,[`prevent`])},{default:V(()=>[F(N(pe),{name:`invite`},{default:V(({componentField:e})=>[F(N(he),null,{default:V(()=>[F(N(_e),null,{default:V(()=>[...t[44]||=[w(`Email Addresses`,-1)]]),_:1}),F(N(me),null,{default:V(()=>[F(N(ke),{"model-value":S.value,"onUpdate:modelValue":_t},{default:V(()=>[(O(!0),v(ue,null,D(S.value,e=>(O(),H(N(je),{key:e,value:e},{default:V(()=>[F(N(Ne)),F(N(Me))]),_:1},8,[`value`]))),128)),F(N(Ae),{placeholder:`name@example.com...`})]),_:1},8,[`model-value`])]),_:1})]),_:1})]),_:1}),g(`div`,st,[F(N(Q),{for:`invite-role`},{default:V(()=>[...t[45]||=[w(`Assign role`,-1)]]),_:1}),F(N(i),{modelValue:C.value,"onUpdate:modelValue":t[9]||=e=>C.value=e},{default:V(()=>[F(N(o),{class:`w-full rounded-full`},{default:V(()=>[F(N(c),{placeholder:`Select role`})]),_:1}),F(N(a),null,{default:V(()=>[F(N(s),{value:`OWNER`},{default:V(()=>[...t[46]||=[w(`Owner`,-1)]]),_:1}),F(N(s),{value:`ADMIN`},{default:V(()=>[...t[47]||=[w(`Admin`,-1)]]),_:1}),F(N(s),{value:`MANAGER`},{default:V(()=>[...t[48]||=[w(`Manager`,-1)]]),_:1}),F(N(s),{value:`AUDITOR`},{default:V(()=>[...t[49]||=[w(`Auditor`,-1)]]),_:1}),F(N(s),{value:`MEMBER`},{default:V(()=>[...t[50]||=[w(`Member`,-1)]]),_:1})]),_:1})]),_:1},8,[`modelValue`])])]),_:1})]),F(N(X),{class:`gap-2 sm:gap-2`},{default:V(()=>[F(N(W),{class:`rounded-full`,variant:`outline`,onClick:t[10]||=e=>u.value=!1},{default:V(()=>[...t[51]||=[w(`Cancel`,-1)]]),_:1}),F(N(W),{class:`rounded-full`,onClick:le,disabled:!(S.value&&S.value.length)},{default:V(()=>[...t[52]||=[w(`Invite`,-1)]]),_:1},8,[`disabled`])]),_:1})]),_:1})]),_:1},8,[`open`]),F(N(Y),{open:m.value,"onUpdate:open":t[13]||=e=>m.value=e},{default:V(()=>[F(N(K),{class:`sm:max-w-md bg-white`},{default:V(()=>[F(N(J),null,{default:V(()=>[F(N(Z),null,{default:V(()=>[...t[53]||=[w(`Remove Member`,-1)]]),_:1}),F(N(q),null,{default:V(()=>[w(` Are you sure you want to remove `+U(_.value?.memberName||_.value?.email)+` from the organisation? `,1)]),_:1})]),_:1}),g(`div`,ct,[g(`div`,lt,[F(N(Oe),{class:`h-5 w-5 text-amber-600 mt-0.5`}),g(`div`,ut,[t[54]||=g(`p`,{class:`font-medium`},`This action cannot be undone.`,-1),g(`p`,dt,U(_.value?.memberName||_.value?.email)+` will lose access to all organisation resources and data. `,1),_.value?.role===`ADMIN`?(O(),v(`p`,ft,` ⚠️ You are removing an owner. This may affect organisation administration. `)):E(``,!0)])])]),g(`div`,pt,[F(N(Q),{for:`confirm-remove`,class:`text-sm font-medium`},{default:V(()=>[...t[55]||=[w(` Type "REMOVE" to confirm: `,-1)]]),_:1}),F(fe,{id:`confirm-remove`,modelValue:L.value,"onUpdate:modelValue":t[12]||=e=>L.value=e,placeholder:`Enter REMOVE to confirm`,class:oe([`w-full`,{"border-red-300":e.removeConfirmationError}])},null,8,[`modelValue`,`class`]),e.removeConfirmationError?(O(),v(`p`,mt,U(e.removeConfirmationError),1)):E(``,!0)]),F(N(X),{class:`gap-2 sm:gap-2`},{default:V(()=>[F(N(W),{class:`rounded-full`,variant:`outline`,onClick:e.cancelRemove,disabled:P.value},{default:V(()=>[...t[56]||=[w(` Cancel `,-1)]]),_:1},8,[`onClick`,`disabled`]),F(N(W),{class:`rounded-full`,variant:`destructive`,onClick:Se,disabled:L.value!=`REMOVE`||P.value},{default:V(()=>[P.value?(O(),H(N(f),{key:0,class:`h-4 w-4 mr-2 animate-spin`})):(O(),H(N(Oe),{key:1,class:`h-4 w-4 mr-2`})),w(` `+U(P.value?`Removing...`:`Remove Member`),1)]),_:1},8,[`disabled`])]),_:1})]),_:1})]),_:1},8,[`open`]),F(N(Y),{open:h.value,"onUpdate:open":t[16]||=e=>h.value=e},{default:V(()=>[F(N(K),{class:`sm:max-w-sm bg-white`},{default:V(()=>[F(N(J),null,{default:V(()=>[F(N(Z),null,{default:V(()=>[...t[57]||=[w(`Change Role`,-1)]]),_:1}),F(N(q),null,{default:V(()=>[w(` Change role for `+U(_.value?.memberName),1)]),_:1})]),_:1}),g(`div`,ht,[F(N(Q),{for:`role-select`},{default:V(()=>[...t[58]||=[w(`Role`,-1)]]),_:1}),F(N(i),{modelValue:x.value,"onUpdate:modelValue":t[14]||=e=>x.value=e},{default:V(()=>[F(N(o),{class:`w-full rounded-full`},{default:V(()=>[F(N(c),{placeholder:`Select role`})]),_:1}),F(N(a),null,{default:V(()=>[F(N(s),{value:`OWNER`},{default:V(()=>[...t[59]||=[w(`Owner`,-1)]]),_:1}),F(N(s),{value:`ADMIN`},{default:V(()=>[...t[60]||=[w(`Admin`,-1)]]),_:1}),F(N(s),{value:`MANAGER`},{default:V(()=>[...t[61]||=[w(`Manager`,-1)]]),_:1}),F(N(s),{value:`AUDITOR`},{default:V(()=>[...t[62]||=[w(`Auditor`,-1)]]),_:1}),F(N(s),{value:`MEMBER`},{default:V(()=>[...t[63]||=[w(`Member`,-1)]]),_:1})]),_:1})]),_:1},8,[`modelValue`])]),F(N(X),{class:`gap-2 sm:gap-2`},{default:V(()=>[F(N(W),{class:`rounded-full`,variant:`outline`,onClick:t[15]||=e=>h.value=!1},{default:V(()=>[...t[64]||=[w(`Cancel`,-1)]]),_:1}),F(N(W),{class:`rounded-full`,onClick:we,disabled:!x.value},{default:V(()=>[...t[65]||=[w(`Save`,-1)]]),_:1},8,[`disabled`])]),_:1})]),_:1})]),_:1},8,[`open`])])])]))}},[[`__scopeId`,`data-v-022a1eb3`]]);export{gt as t};