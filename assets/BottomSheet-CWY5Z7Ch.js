import{Ai as e,Ei as t,Gi as n,Ki as r,Oi as i,Pi as a,Si as o,Xi as s,b as c,ha as l,hi as u,i as d,ji as f,ki as p,na as m,qi as h,sa as g,wa as _,xa as v}from"./index-DYsAJfvN.js";var y={key:0,class:`flex-none px-4 pb-3 border-b border-gray-100`},b={__name:`BottomSheet`,props:{modelValue:{type:Boolean,default:!1},initialHeight:{type:Number,default:60},dismissible:{type:Boolean,default:!0}},emits:[`update:modelValue`,`close`],setup(d,{emit:b}){let x=d,S=b,C=l(null),w=l(x.initialHeight),T=l(!1),E=l(0),D=l(0);m(()=>x.modelValue,e=>{e?(w.value=x.initialHeight,document.body.style.overflow=`hidden`):document.body.style.overflow=``});function O(){x.dismissible&&k()}function k(){S(`update:modelValue`,!1),S(`close`)}function A(e){T.value=!0,E.value=e.type===`touchstart`?e.touches[0].clientY:e.clientY,D.value=w.value,document.addEventListener(`mousemove`,j),document.addEventListener(`mouseup`,M),document.addEventListener(`touchmove`,j,{passive:!1}),document.addEventListener(`touchend`,M)}function j(e){if(!T.value)return;e.preventDefault();let t=e.type===`touchmove`?e.touches[0].clientY:e.clientY,n=(E.value-t)/window.innerHeight*100,r=D.value+n;r=Math.max(20,Math.min(95,r)),w.value=r}function M(){T.value=!1,document.removeEventListener(`mousemove`,j),document.removeEventListener(`mouseup`,M),document.removeEventListener(`touchmove`,j),document.removeEventListener(`touchend`,M),w.value<30?k():w.value<50?w.value=x.initialHeight:w.value>80&&(w.value=95)}function N(e){e.target.scrollTop===0&&w.value<95&&(w.value=95)}function P(e){e.key===`Escape`&&x.dismissible&&k()}return n(()=>{document.addEventListener(`keydown`,P)}),r(()=>{document.removeEventListener(`keydown`,P),document.body.style.overflow=``}),(n,r)=>(h(),p(t,{to:`body`},[a(u,{name:`sheet`},{default:g(()=>[d.modelValue?(h(),f(`div`,{key:0,class:`absolute inset-0 z-50`,onClick:o(O,[`self`])},[i(`div`,{class:`absolute inset-0 bg-white/40 backdrop-blur-sm`,onClick:O}),i(`div`,{ref_key:`sheetRef`,ref:C,class:`absolute bottom-0 left-0 right-0 bg-white rounded-t-2xl shadow-2xl flex flex-col transition-[height] duration-300 ease-out max-h-[95vh]`,style:_({height:`${w.value}%`})},[i(`div`,{class:`flex-none flex justify-center py-3 cursor-grab active:cursor-grabbing`,onMousedown:A,onTouchstartPassive:A},[...r[0]||=[i(`div`,{class:`w-12 h-1.5 bg-gray-300 rounded-full`},null,-1)]],32),i(`button`,{onClick:k,class:`absolute top-3 right-4 p-2 rounded-full hover:bg-gray-100 text-gray-400 hover:text-gray-600 transition-colors z-20`},[a(v(c),{class:`w-5 h-5`})]),n.$slots.header?(h(),f(`div`,y,[s(n.$slots,`header`,{},void 0,!0)])):e(``,!0),i(`div`,{class:`flex-1 overflow-auto`,onScroll:N},[s(n.$slots,`default`,{},void 0,!0)],32)],4)])):e(``,!0)]),_:3})]))}},x=d(b,[[`__scopeId`,`data-v-22bdab97`]]);export{x as t};