import{n as e}from"./PopperRoot-DIJytYJp.js";import{At as t,Bt as n,Ct as r,F as i,It as a,Mt as o,Qt as s,Vt as c,Wt as l,Xt as u,Zt as d,_ as f,_n as p,f as m,g as h,gn as g,hn as _,k as v,ln as y,mt as b,nn as x,pn as S,q as C,rt as w,tn as T,wt as E,xt as D,zt as O}from"./index-6eTYohyW.js";var k=0;function A(){d(e=>{if(!C)return;let t=document.querySelectorAll(`[data-reka-focus-guard]`);document.body.insertAdjacentElement(`afterbegin`,t[0]??j()),document.body.insertAdjacentElement(`beforeend`,t[1]??j()),k++,e(()=>{k===1&&document.querySelectorAll(`[data-reka-focus-guard]`).forEach(e=>e.remove()),k--})})}function j(){let e=document.createElement(`span`);return e.setAttribute(`data-reka-focus-guard`,``),e.tabIndex=0,e.style.outline=`none`,e.style.opacity=`0`,e.style.position=`fixed`,e.style.pointerEvents=`none`,e}var[M,N]=w(`AvatarRoot`),P=t({__name:`AvatarRoot`,props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:`span`}},setup(e){return i(),N({imageLoadingStatus:y(`idle`)}),(e,t)=>(c(),r(_(v),{"as-child":e.asChild,as:e.as},{default:T(()=>[l(e.$slots,`default`)]),_:3},8,[`as-child`,`as`]))}}),F=t({__name:`AvatarFallback`,props:{delayMs:{type:Number,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:`span`}},setup(e){let t=e,n=M();i();let a=y(t.delayMs===void 0);return d(e=>{if(t.delayMs&&C){let n=window.setTimeout(()=>{a.value=!0},t.delayMs);e(()=>{window.clearTimeout(n)})}}),(e,t)=>a.value&&_(n).imageLoadingStatus.value!==`loaded`?(c(),r(_(v),{key:0,"as-child":e.asChild,as:e.as},{default:T(()=>[l(e.$slots,`default`)]),_:3},8,[`as-child`,`as`])):E(`v-if`,!0)}});function I(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?`loaded`:`loading`):`error`:`idle`}function L(e,{referrerPolicy:t,crossOrigin:r}={}){let i=y(!1),a=y(null),o=D(()=>i.value?(!a.value&&C&&(a.value=new window.Image),a.value):null),s=y(I(o.value,e.value)),c=e=>()=>{i.value&&(s.value=e)};return O(()=>{i.value=!0,d(n=>{let i=o.value;if(!i)return;s.value=I(i,e.value);let a=c(`loaded`),l=c(`error`);i.addEventListener(`load`,a),i.addEventListener(`error`,l),t?.value&&(i.referrerPolicy=t.value),typeof r?.value==`string`&&(i.crossOrigin=r.value),n(()=>{i.removeEventListener(`load`,a),i.removeEventListener(`error`,l)})})}),n(()=>{i.value=!1}),s}var R=t({__name:`AvatarImage`,props:{src:{type:String,required:!0},referrerPolicy:{type:null,required:!1},crossOrigin:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:`img`}},emits:[`loadingStatusChange`],setup(e,{emit:t}){let n=e,a=t,{src:o,referrerPolicy:s,crossOrigin:d}=S(n);i();let f=M(),p=L(o,{referrerPolicy:s,crossOrigin:d});return u(p,e=>{a(`loadingStatusChange`,e),e!==`idle`&&(f.imageLoadingStatus.value=e)},{immediate:!0}),(e,t)=>x((c(),r(_(v),{role:`img`,"as-child":e.asChild,as:e.as,src:_(o),"referrer-policy":_(s)},{default:T(()=>[l(e.$slots,`default`)]),_:3},8,[`as-child`,`as`,`src`,`referrer-policy`])),[[b,_(p)===`loaded`]])}}),z=t({__name:`PopperAnchor`,props:{reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(t){let n=t,{forwardRef:a,currentElement:o}=i(),u=e();return s(()=>{u.onAnchorChange(n.reference??o.value)}),(e,t)=>(c(),r(_(v),{ref:_(a),as:e.as,"as-child":e.asChild},{default:T(()=>[l(e.$slots,`default`)]),_:3},8,[`as`,`as-child`]))}}),B=h(`trash-2`,[[`path`,{d:`M10 11v6`,key:`nco0om`}],[`path`,{d:`M14 11v6`,key:`outv1u`}],[`path`,{d:`M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6`,key:`miytrc`}],[`path`,{d:`M3 6h18`,key:`d0wm0j`}],[`path`,{d:`M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2`,key:`e791ji`}]]),V=t({__name:`Avatar`,props:{class:{},size:{default:`sm`},shape:{default:`circle`}},setup(e){let t=e;return(n,i)=>(c(),r(_(P),{class:g(_(f)(_(W)({size:e.size,shape:e.shape}),t.class))},{default:T(()=>[l(n.$slots,`default`)]),_:3},8,[`class`]))}}),H=t({__name:`AvatarFallback`,props:{delayMs:{},asChild:{type:Boolean},as:{}},setup(e){let t=e;return(e,n)=>(c(),r(_(F),p(o(t)),{default:T(()=>[l(e.$slots,`default`)]),_:3},16))}}),U=t({__name:`AvatarImage`,props:{src:{},referrerPolicy:{},crossOrigin:{},asChild:{type:Boolean},as:{}},setup(e){let t=e;return(e,n)=>(c(),r(_(R),a(t,{class:`h-full w-full object-cover`}),{default:T(()=>[l(e.$slots,`default`)]),_:3},16))}});const W=m(`inline-flex items-center justify-center font-normal text-foreground select-none shrink-0 bg-secondary overflow-hidden`,{variants:{size:{sm:`h-10 w-10 text-xs`,base:`h-16 w-16 text-2xl`,lg:`h-32 w-32 text-5xl`},shape:{circle:`rounded-full`,square:`rounded-md`}}});export{z as a,B as i,H as n,A as o,V as r,U as t};