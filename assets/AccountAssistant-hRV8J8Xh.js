import{n as e,r as t,t as n}from"./AvatarImage-CFhho9Ct.js";import{c as r,n as i,o as a,r as o,s as ee}from"./command-CZXVLngu.js";import{t as te}from"./ScrollArea-Cveb2SY4.js";import{n as s,t as c}from"./SwitchThumb-DakLfx3k.js";import{A as l,Aa as u,Bi as d,Bn as ne,Br as f,Dt as re,E as ie,Gi as p,Hi as m,Ii as h,It as ae,K as g,Li as _,Ni as v,On as oe,Pa as y,Qi as b,Ri as x,Sa as S,Ui as C,Un as se,Xn as w,Yn as ce,Zi as T,a as le,aa as E,bi as D,ga as O,gn as ue,i as k,ia as A,ja as j,na as M,nt as N,on as P,pr as F,sa as I,sn as L,tn as R,wa as z,wi as B,wr as V,x as H,xn as U,xt as de,zi as W}from"./index-BW6FH5S4.js";import{n as G}from"./button-Cg1Yo4L-.js";import{t as fe}from"./Textarea-XBZizbW2.js";import{t as pe}from"./badge-DzzxpH5l.js";var K=p({__name:`Avatar`,props:{class:{}},setup(e){let n=e;return(e,r)=>(M(),x(u(t),{"data-slot":`avatar`,class:j(u(V)(`relative flex size-8 shrink-0 overflow-hidden rounded-full`,n.class))},{default:O(()=>[E(e.$slots,`default`)]),_:3},8,[`class`]))}}),q=p({__name:`AvatarFallback`,props:{delayMs:{},asChild:{type:Boolean},as:{},class:{}},setup(t){let n=t,r=D(n,`class`);return(t,i)=>(M(),x(u(e),T({"data-slot":`avatar-fallback`},u(r),{class:u(V)(`bg-muted flex size-full items-center justify-center rounded-full`,n.class)}),{default:O(()=>[E(t.$slots,`default`)]),_:3},16,[`class`]))}}),me=p({__name:`AvatarImage`,props:{src:{},referrerPolicy:{},crossOrigin:{},asChild:{type:Boolean},as:{}},setup(e){let t=e;return(e,r)=>(M(),x(u(n),T({"data-slot":`avatar-image`},t,{class:`aspect-square size-full`}),{default:O(()=>[E(e.$slots,`default`)]),_:3},16))}}),he=p({__name:`Switch`,props:{defaultValue:{type:Boolean},modelValue:{type:[Boolean,null]},disabled:{type:Boolean},id:{},value:{},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean},class:{}},emits:[`update:modelValue`],setup(e,{emit:t}){let n=e,r=t,i=D(n,`class`),a=f(i,r);return(e,t)=>(M(),x(u(s),T({"data-slot":`switch`},u(a),{class:u(V)(`peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50`,n.class)}),{default:O(()=>[C(u(c),{"data-slot":`switch-thumb`,class:j(u(V)(`bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0`))},{default:O(()=>[E(e.$slots,`thumb`)]),_:3},8,[`class`])]),_:3},16,[`class`]))}}),ge={class:`flex flex-col h-full bg-stone-50`},_e={class:`p-4 border-b border-white flex items-center justify-between bg-white/20`},ve={class:`flex items-center gap-2`},ye={class:`h-8 w-8 rounded-full bg-stone-100 flex items-center justify-center text-blue-800 border border-slate-400`},be={class:`space-y-6`},xe={key:0,class:`text-center py-10 px-4`},Se={class:`bg-stone-100 h-12 w-12 rounded-full flex items-center justify-center mx-auto mb-4`},Ce={class:`grid grid-cols-1 gap-2 max-w-xs mx-auto`},J={key:0,class:`flex items-center gap-2 mb-1 text-red-600 font-medium`},we={class:`leading-relaxed whitespace-pre-wrap`},Te={key:0,class:`mt-2 flex flex-wrap gap-2`},Ee={class:`font-medium text-slate-700`},De={key:1,class:`mt-3 w-full bg-stone-50 border border-slate-200 rounded-lg p-3 shadow-sm`},Oe={class:`flex items-center justify-between mb-2`},ke={class:`text-sm text-slate-600 bg-slate-50 p-2 rounded border border-slate-100 mb-3 font-mono text-xs`},Ae={key:0,class:`flex gap-2`},je={key:1,class:`flex items-center justify-between bg-green-50 text-blue-700 px-3 py-1.5 rounded text-xs`},Me={class:`flex items-center gap-1.5`},Ne={key:2,class:`mt-2 flex gap-2`},Pe={key:1,class:`flex gap-3`},Fe={class:`bg-white border border-blue-100 rounded-2xl rounded-tl-sm px-4 py-3 text-sm text-slate-500 flex items-center gap-2 shadow-sm`},Ie={class:`p-4 border-t bg-slate-50/50`},Le={class:`relative group`},Re={key:0,class:`absolute Sparklestom-full left-0 w-72 mb-2 bg-white border border-slate-200 rounded-xl shadow-xl overflow-hidden z-20 animate-in fade-in slide-in-from-Sparklestom-2`},ze={class:`flex flex-col`},Be={class:`font-medium`},Ve={class:`text-xs text-slate-400`},He={class:`bg-white border border-slate-200 rounded-2xl shadow-sm focus-within:ring-2 focus-within:ring-blue-500/20 focus-within:border-blue-500 transition-all`},Ue={class:`flex justify-between items-center px-2 pb-2`},We={class:`flex items-center gap-1`},Ge={class:`flex items-center gap-2 bg-slate-50 border border-slate-100 rounded-full pl-1 pr-2 py-0.5`},Ke={class:`flex justify-between items-center px-1`},qe={class:`h-5 overflow-hidden flex items-center mt-1`},Je={key:0,class:`flex items-center gap-1.5 text-[10px] text-slate-400 font-medium bg-slate-100 px-2 py-0.5 rounded-full`},Y={__name:`AccountAssistant`,props:{account:Object,context:Object},setup(e){let t=e;h(()=>({activeTab:t.context?.tab,tabType:t.context?.tab?.type,tabData:t.context?.tab?.data,account:t.account}));let n=le().toast,s=z([{role:`assistant`,content:`I noticed a spike in software subscription costs this month. Would you like me to break it down?`,attachments:[],actions:[{label:`Break it down`,icon:w},{label:`Ignore`,icon:U}]},{role:`assistant`,content:`I found a recurring transaction that seems miscategorized. Should I update "AWS Web Services" to "Infrastructure"?`,proposal:{type:`Categorization`,diff:`- Category: Uncategorized
+ Category: Infrastructure`,applied:!1}}]),c=z(``),f=z(!1),p=z(!1),T=z(``),E=z(null),D=S({reasoning:!1,web:!1,voice:!1}),k=[{id:`t1`,description:`AWS Web Services`,amount:`-$240.00`,date:`Today`},{id:`t2`,description:`Github Enterprise`,amount:`-$25.00`,date:`Yesterday`},{id:`t3`,description:`Slack Technologies`,amount:`-$12.50`,date:`Oct 24`}],V=[{id:`f1`,name:`Invoice_OCT_2024.pdf`},{id:`f2`,name:`Q3_Financial_Report.xlsx`}],Y=h(()=>{if(!T.value)return k;let e=T.value.toLowerCase();return k.filter(t=>t.description.toLowerCase().includes(e))}),X=h(()=>{if(!T.value)return V;let e=T.value.toLowerCase();return V.filter(t=>t.name.toLowerCase().includes(e))}),Z=h(()=>Math.ceil(c.value.length/4));function Ye(e){let t=e.target.value.match(/(?:^|\s)@(\w*)$/);t?(p.value=!0,T.value=t[1]):(p.value=!1,T.value=``)}function Xe(e){e.key===`Enter`&&(e.metaKey||e.ctrlKey)&&(e.preventDefault(),$()),e.key===`Escape`&&(p.value=!1)}function Q(e){let t=c.value,n=t.match(/(?:^|\s)@(\w*)$/);if(n){let r=n.index+(n[0].startsWith(` `)?1:0);c.value=t.substring(0,r)+`@`+(e.description||e.name)+` `}p.value=!1,b(()=>E.value?.$el.focus())}function Ze(){D.voice=!D.voice,D.voice&&n({title:`Voice Mode Active`,description:`Listening...`})}function Qe(){n({title:`Upload`,description:`File picker would open here.`})}function $e(e){s.value[e].proposal.applied=!0,n({title:`Changes Applied`,description:`Categorization updated successfully.`})}function et(e){s.value.splice(e,1),n({title:`Proposal Rejected`,variant:`secondary`})}function tt(e){s.value[e].proposal.applied=!1,n({title:`Rolled Back`,description:`Changes have been reverted.`})}async function $(){if(!c.value.trim())return;let e=c.value;c.value=``,p.value=!1,s.value.push({role:`user`,content:e,attachments:[]}),f.value=!0,setTimeout(()=>{if(f.value=!1,e.toLowerCase().includes(`error`)){s.value.push({role:`assistant`,content:`I encountered an issue processing that request. Please try again or check your connection.`,isError:!0});return}s.value.push({role:`assistant`,content:D.reasoning?`Based on my analysis of the transaction data you provided, I've identified a few patterns...`:`Here is the information you requested.`,attachments:[]})},1500)}return(e,t)=>(M(),d(`div`,ge,[_(`div`,_e,[_(`div`,ve,[_(`div`,ye,[C(u(ue),{class:`size-5`})]),t[5]||=_(`div`,null,[_(`h3`,{class:`font-semibold text-sm text-slate-900`},[m(` Simi `),_(`span`,{class:`text-xs text-slate-400`},` - Junior Consultant `)]),_(`p`,{class:`text-xs text-slate-500`},` Hi, press Ctrl + M to see me. `)],-1)])]),C(u(te),{class:`flex-1 p-4`},{default:O(()=>[_(`div`,be,[s.value.length===0?(M(),d(`div`,xe,[_(`div`,Se,[C(u(g),{class:`h-6 w-6 text-yellow-300`})]),t[8]||=_(`h4`,{class:`font-medium text-slate-800 mb-2`},`How can I help you today?`,-1),t[9]||=_(`p`,{class:`text-sm text-slate-500 mb-6`},`Ask about transactions, analyze spending, or upload documents.`,-1),_(`div`,Ce,[C(u(G),{variant:`outline`,class:`justify-start text-xs h-auto py-2 px-3 text-slate-600`,onClick:t[0]||=e=>c.value=`Analyze my spending this month`},{default:O(()=>[C(u(w),{class:`mr-2 h-3 w-3 text-blue-950`}),t[6]||=m(` Analyze spending `,-1)]),_:1}),C(u(G),{variant:`outline`,class:`justify-start text-xs h-auto py-2 px-3 text-slate-600`,onClick:t[1]||=e=>c.value=`Find suspicious transactions`},{default:O(()=>[C(u(N),{class:`mr-2 h-3 w-3 text-yellow-300`}),t[7]||=m(` Find suspicious transactions `,-1)]),_:1})])])):W(``,!0),(M(!0),d(v,null,A(s.value,(e,n)=>(M(),d(`div`,{key:n,class:j([`flex gap-3`,e.role===`user`?`flex-row-reverse`:``])},[C(u(K),{class:`h-8 w-8 border border-slate-100`},{default:O(()=>[e.role===`assistant`?(M(),x(u(me),{key:0,src:``})):W(``,!0),C(u(q),{class:j(e.role===`assistant`?`bg-stone-100 text-slate-500`:`bg-slate-100 text-slate-600`)},{default:O(()=>[e.role===`assistant`?(M(),x(u(g),{key:0,class:`h-4 w-4`})):(M(),x(u(ie),{key:1,class:`h-4 w-4`}))]),_:2},1032,[`class`])]),_:2},1024),_(`div`,{class:j([`flex flex-col max-w-[85%]`,e.role===`user`?`items-end`:`items-start`])},[_(`div`,{class:j([`rounded-2xl px-4 py-2.5 text-sm shadow-sm`,e.role===`user`?`bg-white/30 text-neutral-800 rounded-tr-sm`:`bg-stone-50 border border-slate-100 text-slate-700 rounded-tl-sm`,e.isError?`bg-red-50 border-red-200 text-red-700`:``])},[e.isError?(M(),d(`div`,J,[C(u(se),{class:`h-4 w-4`}),t[10]||=_(`span`,null,`Error`,-1)])):W(``,!0),_(`p`,we,y(e.content),1)],2),e.attachments?.length?(M(),d(`div`,Te,[(M(!0),d(v,null,A(e.attachments,e=>(M(),d(`div`,{key:e.id,class:`flex items-center gap-1.5 text-xs bg-white border border-slate-200 rounded-md px-2 py-1 shadow-sm`},[C(u(L),{class:`h-3 w-3 text-blue-500`}),_(`span`,Ee,y(e.name),1)]))),128))])):W(``,!0),e.role===`assistant`&&e.proposal?(M(),d(`div`,De,[_(`div`,Oe,[t[11]||=_(`span`,{class:`text-xs font-semibold text-slate-700 uppercase tracking-wider`},`Proposed Change`,-1),C(u(pe),{variant:`outline`,class:`text-[10px]`},{default:O(()=>[m(y(e.proposal.type),1)]),_:2},1024)]),_(`div`,ke,y(e.proposal.diff),1),e.proposal.applied?(M(),d(`div`,je,[_(`span`,Me,[C(u(ne),{class:`h-3.5 w-3.5`}),t[14]||=m(` Changes applied successfully `,-1)]),C(u(G),{variant:`ghost`,size:`sm`,class:`h-6 px-2 text-slate-500 hover:text-slate-800 hover:bg-green-100`,onClick:e=>tt(n)},{default:O(()=>[C(u(l),{class:`mr-1.5 h-3 w-3`}),t[15]||=m(` Rollback `,-1)]),_:1},8,[`onClick`])])):(M(),d(`div`,Ae,[C(u(G),{size:`sm`,class:`h-7 text-xs bg-blue-600 hover:bg-green-700 text-white`,onClick:e=>$e(n)},{default:O(()=>[C(u(ce),{class:`mr-1.5 h-3 w-3`}),t[12]||=m(` Accept Changes `,-1)]),_:1},8,[`onClick`]),C(u(G),{size:`sm`,variant:`outline`,class:`h-7 text-xs`,onClick:e=>et(n)},{default:O(()=>[C(u(H),{class:`mr-1.5 h-3 w-3`}),t[13]||=m(` Reject `,-1)]),_:1},8,[`onClick`])]))])):W(``,!0),e.role===`assistant`&&e.actions&&!e.proposal?(M(),d(`div`,Ne,[(M(!0),d(v,null,A(e.actions,e=>(M(),x(u(G),{key:e.label,variant:`outline`,size:`sm`,class:`h-7 text-xs bg-white`},{default:O(()=>[(M(),x(I(e.icon),{class:`mr-1.5 h-3 w-3`})),m(` `+y(e.label),1)]),_:2},1024))),128))])):W(``,!0)],2)],2))),128)),f.value?(M(),d(`div`,Pe,[C(u(K),{class:`h-8 w-8`},{default:O(()=>[C(u(q),{class:`bg-blue-600 text-white`},{default:O(()=>[C(u(g),{class:`h-4 w-4`})]),_:1})]),_:1}),_(`div`,Fe,[C(u(ae),{class:`h-3 w-3 animate-spin text-blue-500`}),t[16]||=_(`span`,{"classF,":``,"User,":``,F:`animate-pulse`},`Reasoning...`,-1)])])):W(``,!0)])]),_:1}),_(`div`,Ie,[_(`div`,Le,[p.value?(M(),d(`div`,Re,[C(u(r),null,{default:O(()=>[C(u(i),{class:`max-h-[200px]`},{default:O(()=>[C(u(ee),null,{default:O(()=>[...t[17]||=[m(`No results found.`,-1)]]),_:1}),C(u(a),{heading:`Transactions`},{default:O(()=>[(M(!0),d(v,null,A(Y.value,e=>(M(),x(u(o),{key:e.id,value:e.id,onSelect:t=>Q(e),class:`cursor-pointer`},{default:O(()=>[C(u(oe),{class:`mr-2 h-4 w-4 text-slate-400`}),_(`div`,ze,[_(`span`,Be,y(e.description),1),_(`span`,Ve,y(e.amount)+` • `+y(e.date),1)])]),_:2},1032,[`value`,`onSelect`]))),128))]),_:1}),C(u(a),{heading:`Files`},{default:O(()=>[(M(!0),d(v,null,A(X.value,e=>(M(),x(u(o),{key:e.id,value:e.id,onSelect:t=>Q(e),class:`cursor-pointer`},{default:O(()=>[C(u(P),{class:`mr-2 h-4 w-4 text-blue-400`}),_(`span`,null,y(e.name),1)]),_:2},1032,[`value`,`onSelect`]))),128))]),_:1})]),_:1})]),_:1})])):W(``,!0),_(`div`,He,[C(u(fe),{ref_key:`inputRef`,ref:E,modelValue:c.value,"onUpdate:modelValue":t[2]||=e=>c.value=e,placeholder:`Ask anything... (Type @ to reference)`,class:`min-h-[60px] w-full resize-none border-0 bg-transparent p-3 text-sm focus-visible:ring-0 placeholder:text-slate-400`,onKeydown:Xe,onInput:Ye},null,8,[`modelValue`]),_(`div`,Ue,[_(`div`,We,[_(`div`,Ge,[C(u(he),{id:`reasoning-mode`,checked:D.reasoning,"onUpdate:checked":t[3]||=e=>D.reasoning=e,class:`scale-75`},null,8,[`checked`]),t[18]||=_(`label`,{for:`reasoning-mode`,class:`text-[10px] font-medium text-slate-600 cursor-pointer select-none`},`Reasoning`,-1)]),C(u(G),{variant:`ghost`,size:`sm`,class:j([`h-7 w-7 rounded-full p-0 transition-colors`,D.web?`bg-blue-100 text-blue-700 hover:bg-blue-200`:`text-slate-400 hover:bg-slate-100 hover:text-slate-600`]),onClick:t[4]||=e=>D.web=!D.web,title:`Web Search`},{default:O(()=>[C(u(R),{class:`h-3.5 w-3.5`})]),_:1},8,[`class`]),C(u(G),{variant:`ghost`,size:`sm`,class:`h-7 w-7 rounded-full p-0 text-slate-400 hover:bg-slate-100 hover:text-slate-600`,onClick:Qe,title:`Upload File`},{default:O(()=>[C(u(de),{class:`h-3.5 w-3.5`})]),_:1}),C(u(G),{variant:`ghost`,size:`sm`,class:j([`h-7 w-7 rounded-full p-0 transition-colors`,D.voice?`text-red-500 bg-red-50 hover:bg-red-100`:`text-slate-400 hover:bg-slate-100 hover:text-slate-600`]),onClick:Ze,title:`Voice Mode`},{default:O(()=>[C(u(re),{class:`h-3.5 w-3.5`})]),_:1},8,[`class`])]),C(u(G),{size:`sm`,disabled:!c.value.trim()&&!f.value,class:`h-8 w-8 rounded-full p-0 bg-blue-950 hover:bg-blue-900 text-white shadow-md transition-all`,onClick:$},{default:O(()=>[C(u(F),{class:`h-4 w-4`})]),_:1},8,[`disabled`])])])]),_(`div`,Ke,[_(`div`,qe,[C(B,{"enter-active-class":`transition-all duration-300 ease-out`,"leave-active-class":`transition-all duration-300 ease-in`,"enter-from-class":`opacity-0 -translate-x-2`,"leave-to-class":`opacity-0 -translate-x-2`},{default:O(()=>[Z.value>0?(M(),d(`div`,Je,[t[19]||=_(`div`,{class:`h-1.5 w-1.5 rounded-full bg-blue-500`},null,-1),m(` `+y(Z.value)+` tokens `,1)])):W(``,!0)]),_:1})]),t[20]||=_(`div`,{class:`text-[10px] text-slate-400 font-medium`},` ⌘ + Enter to send `,-1)])])]))}},X=k(Y,[[`__scopeId`,`data-v-b2fa224f`]]);export{X as t};