import"./useFormControl-DNz7k4w5.js";import"./useNonce-Zz8BWqvg.js";import"./nullish-CfjOSA4G.js";import"./CheckboxIndicator-1-3DdxOU.js";import"./useArrowNavigation-siWGBYoD.js";import"./ConfigProvider-CX3z9H2g.js";import"./useHideOthers-BMVpLdiv.js";import"./useDirection-CVICsvLJ.js";import"./PopperAnchor-BDMp0DVx.js";import"./useId-D49Isxay.js";import"./PopperContent-CYLydaJo.js";import"./useTypeahead-DQhWDs5L.js";import"./Teleport-nEgZhyc-.js";import"./utils-Bv7ngM-A.js";import"./utils-BngY0H0a.js";import"./RovingFocusGroup-BE-sAXeo.js";import"./RovingFocusItem-D4Wm4PW9.js";import"./VisuallyHiddenInput-DzwRJu2R.js";import"./DropdownMenuTrigger-BH8h516Z.js";import"./DropdownMenuLabel-DJRJ4H65.js";import"./MenuSeparator-B2rQS07Y.js";import"./DropdownMenuSeparator-2LegL34y.js";import"./Label-BzNmG4jj.js";import"./SelectViewport-VrHoVk6u.js";import{a as e,i as t,r as n,t as r}from"./tabs-DXLCNaQ8.js";import{$n as i,Ai as a,At as o,C as s,Cn as c,Di as l,Dn as ee,Dt as te,En as ne,Et as re,F as u,Ft as ie,Gi as ae,Gt as d,H as oe,Ht as se,I as f,Jn as p,Mt as ce,Ni as m,Oi as h,P as g,Pi as _,Qi as v,Qn as y,Qt as b,R as le,Rn as x,Rt as S,Sa as C,Si as w,Sn as T,St as ue,Ta as E,Vn as D,Yi as O,Yn as k,Z as de,Zt as fe,_t as pe,a as me,bt as he,ca as A,cn as ge,dn as _e,en as ve,fn as ye,ft as be,ha as j,ht as M,j as xe,ji as N,jt as P,k as Se,ki as F,kt as Ce,lt as we,o as I,ot as Te,pt as Ee,qi as L,qn as De,qt as Oe,r as ke,rr as Ae,rt as je,sa as R,sr as Me,tn as Ne,tr as Pe,vn as Fe,vt as Ie,wa as Le,wi as z,xa as B,y as Re,yi as ze,yt as Be,z as Ve,zn as He}from"./index-DUz5oLRf.js";import{t as Ue}from"./WorkspaceStore-DloGvRxv.js";import{t as V}from"./Input-nMYpliAi.js";import{i as H,n as We,r as Ge,t as Ke}from"./DropdownMenuTrigger-DAfLkUey.js";import{t as qe}from"./DropdownMenuLabel-BFy4YRG2.js";import{t as Je}from"./DropdownMenuSeparator-CkaniFT2.js";import{n as U}from"./button-Cr-p9NtE.js";import{t as Ye}from"./Textarea-BZP_ZaBh.js";import{t as W}from"./Card-CW6msO3e.js";import{t as G}from"./Input-xYmHuRgS.js";import{t as K}from"./Label-CWrJyZfV.js";import{t as q}from"./Checkbox-Dm-HI81o.js";import{a as J,i as Y,n as X,r as Z,t as Q}from"./SelectValue-B-w7Avnt.js";import{a as Xe,i as Ze,n as Qe,r as $e,t as et}from"./SelectValue-D4XDsd7U.js";const $={DATA:{label:`Short Text`,icon:`Type`,category:`text`,dbType:`VARCHAR(255)`,description:`Single line text input`},TEXT:{label:`Long Text`,icon:`AlignLeft`,category:`text`,dbType:`TEXT`,description:`Multi-line text area`},SMALL_TEXT:{label:`Small Text`,icon:`Text`,category:`text`,dbType:`VARCHAR(500)`,description:`Short multi-line text`},LONG_TEXT:{label:`Rich Text`,icon:`FileText`,category:`text`,dbType:`TEXT`,description:`Long text with larger UI`},INT:{label:`Integer`,icon:`Hash`,category:`number`,dbType:`BIGINT`,description:`Whole number`},FLOAT:{label:`Decimal`,icon:`Calculator`,category:`number`,dbType:`DOUBLE PRECISION`,description:`Decimal number`},CURRENCY:{label:`Currency`,icon:`DollarSign`,category:`number`,dbType:`DECIMAL(19,4)`,description:`Money with 4 decimal places`},PERCENT:{label:`Percent`,icon:`Percent`,category:`number`,dbType:`DECIMAL(5,2)`,description:`Percentage (0-100)`},DATE:{label:`Date`,icon:`Calendar`,category:`datetime`,dbType:`DATE`,description:`Date picker`},DATETIME:{label:`Date & Time`,icon:`CalendarClock`,category:`datetime`,dbType:`TIMESTAMP`,description:`Date and time picker`},TIME:{label:`Time`,icon:`Clock`,category:`datetime`,dbType:`TIME`,description:`Time picker`},DURATION:{label:`Duration`,icon:`Timer`,category:`datetime`,dbType:`BIGINT`,description:`Duration in seconds`},CHECKBOX:{label:`Checkbox`,icon:`CheckSquare`,category:`choice`,dbType:`BOOLEAN`,description:`Yes/No checkbox`},SELECT:{label:`Select`,icon:`List`,category:`choice`,dbType:`VARCHAR(255)`,description:`Single select dropdown`,requiresOptions:!0},MULTI_SELECT:{label:`Multi Select`,icon:`ListChecks`,category:`choice`,dbType:`JSONB`,description:`Multiple selection`},LINK:{label:`Link`,icon:`Link2`,category:`relationship`,dbType:`VARCHAR(255)`,description:`Link to another DocType`,requiresOptions:!0,optionsLabel:`Target DocType`},TABLE:{label:`Table`,icon:`Table`,category:`relationship`,dbType:null,description:`Child table`,requiresOptions:!0,optionsLabel:`Child DocType`},ATTACH:{label:`Attachment`,icon:`Paperclip`,category:`file`,dbType:`VARCHAR(500)`,description:`File attachment`},ATTACH_IMAGE:{label:`Image`,icon:`Image`,category:`file`,dbType:`VARCHAR(500)`,description:`Image attachment`},SIGNATURE:{label:`Signature`,icon:`PenTool`,category:`file`,dbType:`TEXT`,description:`Signature capture`},PHONE:{label:`Phone`,icon:`Phone`,category:`contact`,dbType:`VARCHAR(50)`,description:`Phone number`},EMAIL:{label:`Email`,icon:`Mail`,category:`contact`,dbType:`VARCHAR(255)`,description:`Email address`},COLOR:{label:`Color`,icon:`Palette`,category:`special`,dbType:`VARCHAR(20)`,description:`Hex color picker`},JSON:{label:`JSON`,icon:`Braces`,category:`special`,dbType:`JSONB`,description:`Arbitrary JSON data`},PASSWORD:{label:`Password`,icon:`Lock`,category:`special`,dbType:`VARCHAR(255)`,description:`Masked password input`},READ_ONLY:{label:`Read Only`,icon:`Eye`,category:`special`,dbType:null,description:`Display only, no storage`},HTML:{label:`HTML`,icon:`Code`,category:`special`,dbType:`TEXT`,description:`Rich HTML content`},GEOLOCATION:{label:`Geolocation`,icon:`MapPin`,category:`special`,dbType:`JSONB`,description:`Lat/Lng coordinates`},SECTION_BREAK:{label:`Section Break`,icon:`Minus`,category:`layout`,dbType:null,description:`Section separator`,isLayout:!0},COLUMN_BREAK:{label:`Column Break`,icon:`Columns`,category:`layout`,dbType:null,description:`Column separator`,isLayout:!0},TAB_BREAK:{label:`Tab Break`,icon:`LayoutGrid`,category:`layout`,dbType:null,description:`Tab separator`,isLayout:!0}},tt={text:{label:`Text`,icon:`Type`},number:{label:`Number`,icon:`Hash`},datetime:{label:`Date & Time`,icon:`Calendar`},choice:{label:`Choice`,icon:`List`},relationship:{label:`Relationship`,icon:`Link2`},file:{label:`File`,icon:`Paperclip`},contact:{label:`Contact`,icon:`User`},special:{label:`Special`,icon:`Sparkles`},layout:{label:`Layout`,icon:`LayoutGrid`}},nt=[{value:`CRM`,label:`CRM`,icon:`Users`,color:`#3B82F6`},{value:`Selling`,label:`Selling`,icon:`TrendingUp`,color:`#10B981`},{value:`Billing`,label:`Billing`,icon:`Receipt`,color:`#3B82F6`},{value:`Buying`,label:`Buying`,icon:`ShoppingBag`,color:`#8B5CF6`},{value:`Stock`,label:`Stock`,icon:`Package`,color:`#F97316`},{value:`Accounting`,label:`Accounting`,icon:`BookOpen`,color:`#10B981`},{value:`System`,label:`System`,icon:`Settings`,color:`#6366F1`}],rt=[{value:`AUTO_INCREMENT`,label:`Auto Increment`,description:`Sequential numbers (e.g., 00001, 00002)`},{value:`UUID`,label:`UUID`,description:`Random unique identifier`}],it={name:``,module:`CRM`,description:``,icon:`File`,color:`#3B82F6`,isChild:!1,isSubmittable:!1,isSingle:!1,trackChanges:!0,hasId:!0,idPrefix:``,idSuffix:``,idMinLength:5,idGenerationStrategy:`AUTO_INCREMENT`,titleField:`name`,searchFields:``,sortField:`created_at`,sortOrder:`DESC`,fields:[]},at={fieldname:``,label:``,fieldtype:`DATA`,options:``,reqd:!1,isUnique:!1,defaultValue:``,hidden:!1,readOnly:!1,inListView:!1,inFilter:!1,searchIndex:!1,placeholder:``,description:``};function ot(){let e={};for(let[t,n]of Object.entries($))e[n.category]||(e[n.category]=[]),e[n.category].push({type:t,...n});return e}function st(e){return e.toLowerCase().replace(/[^a-z0-9\s]/g,``).replace(/\s+/g,`_`).substring(0,63)}var ct={class:`flex items-center justify-between mb-4`},lt={key:0,class:`border-2 border-dashed border-gray-200 rounded-lg p-8 text-center`},ut={key:0,class:`text-sm text-gray-400`},dt={key:1,class:`text-sm text-gray-400`},ft={key:1,class:`space-y-2`},pt=[`onClick`],mt={class:`flex-1 min-w-0`},ht={class:`flex items-center gap-2`},gt={class:`font-medium truncate`},_t={key:0,class:`text-red-500 text-xs`},vt={class:`flex items-center gap-2 text-xs text-gray-500`},yt={class:`bg-gray-100 px-1 rounded`},bt={class:`px-1.5 py-0.5 bg-gray-100 rounded`},xt={key:0,class:`p-4 border-t bg-gray-50/50 space-y-4`},St={class:`grid grid-cols-2 gap-4`},Ct={class:`space-y-1.5`},wt={class:`space-y-1.5`},Tt={key:0,class:`col-span-2 space-y-1.5`},Et={key:1,class:`space-y-1.5 flex-1`},Dt={key:2,class:`space-y-1.5`},Ot={class:`col-span-2 pt-4 border-t`},kt={class:`grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4`},At={class:`col-span-2 space-y-1.5`},jt={__name:`FieldBuilder`,props:{modelValue:{type:Array,default:()=>[]},availableDocTypes:{type:Array,default:()=>[]},disabled:{type:Boolean,default:!1}},emits:[`update:modelValue`],setup(e,{emit:t}){let n=e,r=t,i=j(null),o={Type:Se,AlignLeft:f,Text:f,Hash:d,Calculator:k,DollarSign:Fe,Percent:Ee,Calendar:De,CalendarClock:p,Clock:ee,Timer:u,CheckSquare:oe,List:P,ListChecks:ce,Link2:ie,Table:le,Paperclip:pe,Image:se,PenTool:M,Phone:be,Mail:te,Palette:Be,Braces:y,Lock:Ce,Eye:_e,Code:ne,Minus:ue,Columns:c,LayoutGrid:S,MapPin:re},s={text:`bg-blue-500`,number:`bg-green-500`,datetime:`bg-purple-500`,choice:`bg-orange-500`,relationship:`bg-pink-500`,file:`bg-yellow-500`,contact:`bg-cyan-500`,special:`bg-gray-500`,layout:`bg-slate-400`},ae=[{key:`reqd`,label:`Required`},{key:`in_list_view`,label:`Show in List`},{key:`in_filter`,label:`Filterable`},{key:`search_index`,label:`Indexed`},{key:`is_unique`,label:`Unique`},{key:`hidden`,label:`Hidden`},{key:`read_only`,label:`Read Only`}],b=new WeakMap,T=0,de=l(()=>ot()),fe=ae;function me(e){return b.has(e)||b.set(e,`f-${++T}`),b.get(e)}function he(e){let t=$[e]?.category;return s[t]||`bg-gray-500`}function A(e){return $[e]||null}function ge(e){let t={...at,fieldtype:e,fieldname:``,label:``};r(`update:modelValue`,[...n.modelValue,t]),i.value=n.modelValue.length}function ve(e){let t=[...n.modelValue];t.splice(e,1),r(`update:modelValue`,t),i.value===e?i.value=null:i.value>e&&i.value--}function ye(e,t){let a=e+t;if(a<0||a>=n.modelValue.length)return;let o=[...n.modelValue],[s]=o.splice(e,1);o.splice(a,0,s),r(`update:modelValue`,o),i.value===e?i.value=a:i.value===a&&(i.value=e)}function xe(e){i.value=i.value===e?null:e}function I(e){!e.fieldname&&e.label&&(e.fieldname=st(e.label))}return(t,n)=>(L(),F(B(W),{class:`p-6 bg-white/80`},{default:R(()=>[h(`div`,ct,[n[4]||=h(`div`,null,[h(`h3`,{class:`font-semibold text-lg`},`Fields`),h(`p`,{class:`text-sm text-gray-500`},`Define the data structure for this DocType`)],-1),e.disabled?a(``,!0):(L(),F(B(H),{key:0},{default:R(()=>[_(B(Ke),{asChild:``},{default:R(()=>[_(B(U),{class:`rounded-full`},{default:R(()=>[_(B(we),{class:`w-4 h-4 mr-2`}),n[2]||=m(` Add Field `,-1)]),_:1})]),_:1}),_(B(Ge),{class:`w-56 overflow-y-scroll max-h-[400px]`,style:{"scrollbar-width":`none`}},{default:R(()=>[_(B(qe),null,{default:R(()=>[...n[3]||=[m(`Field Type`,-1)]]),_:1}),_(B(Je)),(L(!0),N(z,null,O(de.value,(e,t)=>(L(),N(z,{key:t},[_(B(qe),{class:`text-xs text-gray-400 uppercase`},{default:R(()=>[m(E(B(tt)[t]?.label||t),1)]),_:2},1024),(L(!0),N(z,null,O(e,e=>(L(),F(B(We),{key:e.type,onClick:t=>ge(e.type)},{default:R(()=>[(L(),F(v(o[e.icon]),{class:`w-4 h-4 mr-2`})),m(` `+E(e.label),1)]),_:2},1032,[`onClick`]))),128)),_(B(Je))],64))),128))]),_:1})]),_:1}))]),e.modelValue.length===0?(L(),N(`div`,lt,[_(B(P),{class:`w-12 h-12 mx-auto text-gray-300 mb-3`}),n[5]||=h(`p`,{class:`text-gray-500`},`No fields defined yet`,-1),e.disabled?(L(),N(`p`,dt,`This DocType has no fields and is read-only.`)):(L(),N(`p`,ut,`Click "Add Field" to start building your DocType`))])):(L(),N(`div`,ft,[(L(!0),N(z,null,O(e.modelValue,(t,r)=>(L(),N(`div`,{key:me(t),class:C([`border border-gray-200 rounded-lg bg-white transition-all overflow-hidden`,{"ring-2 ring-blue-500 shadow-md scale-[1.01] z-10":i.value===r}])},[h(`div`,{class:`flex items-center gap-3 p-3 cursor-pointer hover:bg-gray-50`,onClick:e=>xe(r)},[h(`div`,{class:`cursor-grab text-gray-400 hover:text-gray-600`,onMousedown:n[0]||=w(()=>{},[`stop`])},[_(B(Oe),{class:`w-4 h-4`})],32),h(`div`,{class:C([`w-8 h-8 rounded flex items-center justify-center transition-colors`,he(t.fieldtype)])},[(L(),F(v(o[B($)[t.fieldtype]?.icon||`Type`]),{class:`w-4 h-4 text-white`}))],2),h(`div`,mt,[h(`div`,ht,[h(`span`,gt,E(t.label||`Untitled Field`),1),t.reqd?(L(),N(`span`,_t,`*`)):a(``,!0)]),h(`div`,vt,[h(`code`,yt,E(t.fieldname||`...`),1),h(`span`,bt,E(B($)[t.fieldtype]?.label||t.fieldtype),1)])]),e.disabled?a(``,!0):(L(),N(`div`,{key:0,class:`flex items-center gap-1`,onClick:n[1]||=w(()=>{},[`stop`])},[_(B(U),{variant:`ghost`,size:`sm`,onClick:e=>ye(r,-1),disabled:r===0,class:`h-8 w-8 p-0`},{default:R(()=>[_(B(x),{class:`w-4 h-4`})]),_:1},8,[`onClick`,`disabled`]),_(B(U),{variant:`ghost`,size:`sm`,onClick:e=>ye(r,1),disabled:r===e.modelValue.length-1,class:`h-8 w-8 p-0`},{default:R(()=>[_(B(D),{class:`w-4 h-4`})]),_:1},8,[`onClick`,`disabled`]),_(B(U),{variant:`ghost`,size:`sm`,class:`text-red-500 hover:text-red-600 hover:bg-red-50 h-8 w-8 p-0`,onClick:e=>ve(r)},{default:R(()=>[_(B(g),{class:`w-4 h-4`})]),_:1},8,[`onClick`])])),_(B(He),{class:C([`w-4 h-4 text-gray-400 transition-transform`,{"rotate-90":i.value===r}])},null,8,[`class`])],8,pt),i.value===r?(L(),N(`div`,xt,[h(`div`,St,[h(`div`,Ct,[_(B(K),null,{default:R(()=>[...n[6]||=[m(`Label *`,-1)]]),_:1}),_(B(G),{modelValue:t.label,"onUpdate:modelValue":e=>t.label=e,placeholder:`Display label`,onInput:e=>I(t),disabled:e.disabled},null,8,[`modelValue`,`onUpdate:modelValue`,`onInput`,`disabled`])]),h(`div`,wt,[_(B(K),null,{default:R(()=>[...n[7]||=[m(`Field Name *`,-1)]]),_:1}),_(B(G),{modelValue:t.fieldname,"onUpdate:modelValue":e=>t.fieldname=e,placeholder:`database_column_name`,class:`font-mono text-sm`},null,8,[`modelValue`,`onUpdate:modelValue`]),n[8]||=h(`p`,{class:`text-xs text-gray-400`},`Lowercase with underscores`,-1)]),A(t.fieldtype)?(L(),N(z,{key:0},[A(t.fieldtype)?.requiresOptions?(L(),N(`div`,Tt,[_(B(K),null,{default:R(()=>[m(E(A(t.fieldtype)?.optionsLabel||`Options`)+` *`,1)]),_:2},1024),[`SELECT`,`MULTI_SELECT`].includes(t.fieldtype)?(L(),F(B(Ye),{key:0,modelValue:t.options,"onUpdate:modelValue":e=>t.options=e,placeholder:`Option 1
Option 2
Option 3`,class:`font-mono text-sm`,rows:`3`},null,8,[`modelValue`,`onUpdate:modelValue`])):(L(),F(B(Xe),{key:1,modelValue:t.options,"onUpdate:modelValue":e=>t.options=e,disabled:e.disabled},{default:R(()=>[_(B(Qe),{class:`bg-white`},{default:R(()=>[_(B(et),{placeholder:`Select DocType`})]),_:1}),_(B(Ze),null,{default:R(()=>[(L(!0),N(z,null,O(e.availableDocTypes,e=>(L(),F(B($e),{key:e,value:e},{default:R(()=>[m(E(e),1)]),_:2},1032,[`value`]))),128))]),_:1})]),_:1},8,[`modelValue`,`onUpdate:modelValue`,`disabled`]))])):a(``,!0),A(t.fieldtype)?.isLayout?a(``,!0):(L(),N(`div`,Et,[_(B(K),null,{default:R(()=>[...n[9]||=[m(`Default Value`,-1)]]),_:1}),_(B(G),{modelValue:t.default_value,"onUpdate:modelValue":e=>t.default_value=e,placeholder:`Default value`,disabled:e.disabled},null,8,[`modelValue`,`onUpdate:modelValue`,`disabled`])])),[`DATA`,`TEXT`,`SMALL_TEXT`,`LONG_TEXT`,`PHONE`,`EMAIL`].includes(t.fieldtype)?(L(),N(`div`,Dt,[_(B(K),null,{default:R(()=>[...n[10]||=[m(`Placeholder`,-1)]]),_:1}),_(B(G),{modelValue:t.placeholder,"onUpdate:modelValue":e=>t.placeholder=e,placeholder:`Placeholder text`,disabled:e.disabled},null,8,[`modelValue`,`onUpdate:modelValue`,`disabled`])])):a(``,!0)],64)):a(``,!0),h(`div`,Ot,[h(`div`,kt,[(L(!0),N(z,null,O(B(fe),n=>(L(),N(`div`,{key:n.key,class:`flex items-center space-x-2`},[_(B(q),{checked:t[n.key],"onUpdate:checked":e=>t[n.key]=e,disabled:e.disabled},null,8,[`checked`,`onUpdate:checked`,`disabled`]),_(B(K),{class:`text-sm font-normal cursor-pointer`},{default:R(()=>[m(E(n.label),1)]),_:2},1024)]))),128))])]),h(`div`,At,[_(B(K),null,{default:R(()=>[...n[11]||=[m(`Help Text`,-1)]]),_:1}),_(B(G),{modelValue:t.description,"onUpdate:modelValue":e=>t.description=e,placeholder:`Help text shown below the field`,disabled:e.disabled},null,8,[`modelValue`,`onUpdate:modelValue`,`disabled`])])])])):a(``,!0)],2))),128))]))]),_:1}))}},Mt={class:`h-full flex flex-col bg-[radial-gradient(ellipse_at_top,_var(--tw-gradient-stops))] to-slate-100/50 from-stone-100/60 from-5%`},Nt={class:`flex-none px-6 py-4 bg-white border-b border-gray-200 flex items-center justify-between sticky top-0 z-10`},Pt={class:`flex items-center space-x-4`},Ft={class:`text-xl font-bold text-gray-900 mt-1`},It={class:`flex items-center space-x-3`},Lt={key:0,class:`flex-none px-6 py-2 bg-slate-50 border-b border-slate-200 flex items-center justify-center gap-2 text-slate-600 text-sm font-medium`},Rt={key:1,class:`flex-none px-6 py-2 bg-amber-50 border-b border-amber-100 flex items-center justify-center gap-2 text-amber-800 text-sm font-medium`},zt={class:`flex-1 overflow-hidden flex`},Bt={class:`flex-1 overflow-auto p-6`},Vt={key:0,class:`flex justify-center items-center h-64`},Ht={key:1,class:`max-w-4xl mx-auto space-y-6`},Ut={class:`flex justify-center mb-8`},Wt={class:`grid grid-cols-2 gap-6`},Gt={class:`col-span-2 md:col-span-1`},Kt={class:`col-span-2 md:col-span-1`},qt={key:0,class:`text-xs text-amber-600 mt-1`},Jt={class:`col-span-2`},Yt={key:0,class:`flex items-center gap-2`},Xt={class:`flex items-center gap-2`},Zt={class:`flex items-center gap-2 mt-1.5`},Qt=[`disabled`],$t={class:`col-span-2 pt-4 border-t`},en={class:`grid grid-cols-2 md:grid-cols-4 gap-4 mt-3`},tn={class:`flex items-center space-x-2`},nn={class:`flex items-center space-x-2`},rn={class:`flex items-center space-x-2`},an={key:0,class:`col-span-2`},on={class:`space-y-6`},sn={class:`flex items-center space-x-2`},cn={key:0,class:`grid grid-cols-2 gap-6 pt-4 border-t`},ln={class:`col-span-2 p-4 bg-gray-50 rounded-lg`},un={class:`font-mono text-lg mt-1`},dn={class:`grid grid-cols-2 gap-6`},fn={class:`space-y-6`},pn={class:`flex items-center space-x-2`},mn={key:0,class:`pt-4 border-t space-y-4`},hn={class:`p-4 bg-blue-50 rounded-lg`},gn={class:`flex items-center gap-2 mt-2 text-sm`},_n={key:0,class:`w-96 border-l bg-gray-900 text-gray-100 overflow-auto`},vn={class:`p-4 border-b border-gray-700 flex items-center justify-between`},yn={class:`p-4 text-xs overflow-auto`},bn={__name:`DocTypeEditor`,props:{doctype:{type:String,default:`DocType`},name:{type:String,default:null},isNew:{type:Boolean,default:!0}},setup(c){let u=c;ke();let f=me().toast,p=Ue(),ce=j(!1),g=j(!1),y=j({...it}),x=j(`general`),S=j(!1),C=j([]),w={FileCode:ge,FileText:Ne,Users:s,Package:he,Receipt:Te,Box:i,Store:Ve,Truck:xe,BookOpen:Pe,Bell:Ae,Mail:te,Lock:Ce,File:ve,Folder:b,Calendar:De,Clock:ee,DollarSign:Fe,Percent:Ee,CheckSquare:oe,Link2:ie,Table:le,Paperclip:pe,Image:se,Phone:be,Palette:Be,Code:ne,MapPin:re,Settings:de,List:P,Hash:d,Layout:Ie,GitBranch:fe},ue=`FileText.Users.Package.Receipt.Box.Store.Truck.BookOpen.Bell.Mail.Lock.File.Folder.Calendar.Clock.DollarSign.Percent.CheckSquare.Link2.Table.Paperclip.Image.Phone.Palette.Code.MapPin.Settings`.split(`.`),D=l(()=>y.value.module===`System`),k=l(()=>y.value.organisation!==null&&y.value.organisation!==void 0),M=l(()=>D.value&&!k.value&&!u.isNew),Se=l(()=>nt.filter(e=>e.value!==`System`||y.value.module===`System`)),we=l(()=>(y.value.fields||[]).filter(e=>![`SECTION_BREAK`,`COLUMN_BREAK`,`TAB_BREAK`,`TABLE`].includes(e.fieldtype))),Oe=l(()=>{let e=y.value.idPrefix||``,t=y.value.idSuffix||``,n=y.value.idMinLength||5,r=y.value.idGenerationStrategy===`UUID`?`a1b2c3d4`:`1`.padStart(n,`0`);return`${e}${r}${t}`}),He=l(()=>{let e={...y.value};return e.tableName||delete e.tableName,e.parentDocType||delete e.parentDocType,e.idPrefix||delete e.idPrefix,e.idSuffix||delete e.idSuffix,JSON.stringify(e,null,2)});async function H(){if(u.isNew){let e=p.openTabs.find(e=>e.id===p.activeTabId);e?.data&&(y.value={...it,...e.data});return}try{let e=await I.get(`/org/doctypes/${encodeURIComponent(u.name)}`,{authorizeRequest:!0,organisationAware:!0}),t=e?.data||e;y.value={...it,...t,fields:t.fields||[]}}catch(e){f({message:e.message||`Failed to load DocType`,variant:`error`})}finally{ce.value=!1}}async function We(){try{C.value=((await I.get(`/org/doctypes`,{authorizeRequest:!0,organisationAware:!0}))?.data||[]).filter(e=>!e.is_child).map(e=>e.name)}catch(e){console.warn(`Failed to load DocTypes:`,e)}}async function Ge(){if(!y.value.name?.trim()){f({message:`DocType name is required`,variant:`error`}),x.value=`general`;return}if(!y.value.module){f({message:`Module is required`,variant:`error`}),x.value=`general`;return}g.value=!0;try{let e={name:y.value.name,module:y.value.module,description:y.value.description,icon:y.value.icon,color:y.value.color,is_child:y.value.isChild,parent_doctype:y.value.parentDocType,is_submittable:y.value.isSubmittable,is_single:y.value.isSingle,track_changes:y.value.trackChanges,has_id:y.value.hasId,id_prefix:y.value.idPrefix,id_suffix:y.value.idSuffix,id_min_length:y.value.idMinLength,id_generation_strategy:y.value.idGenerationStrategy,title_field:y.value.titleField,search_fields:y.value.searchFields,sort_field:y.value.sortField,sort_order:y.value.sortOrder,fields:y.value.fields.map((e,t)=>({...e,idx:t}))};await I.post(`/org/doctypes`,e,{authorizeRequest:!0,organisationAware:!0}),u.isNew?(f({message:`DocType "${y.value.name}" created successfully`,variant:`success`}),p.closeTab(`doctype-form-DocType-new`),p.openTab({id:`doctype-${y.value.name.toLowerCase().replace(/\s+/g,`-`)}`,title:y.value.name,icon:y.value.icon||`FileText`,type:`doctype`,doctype:y.value.name,closable:!0})):(f({message:`DocType "${y.value.name}" updated`,variant:`success`}),H())}catch(e){f({message:e.message||`Failed to save DocType`,variant:`error`})}finally{g.value=!1}}async function Ke(){let e=JSON.parse(JSON.stringify(y.value.fields)),t=y.value.module===`System`?`CRM`:y.value.module;p.openTab({id:`doctype-form-DocType-new-${Date.now()}`,title:`New DocType (Copy)`,icon:y.value.icon||`FileCode`,type:`doctype-form`,doctype:`DocType`,isNew:!0,closable:!0,data:{...y.value,name:`${y.value.name} Copy`,module:t,fields:e}})}function qe(){S.value=!S.value}async function Je(){try{await navigator.clipboard.writeText(He.value),f({message:`JSON copied to clipboard`,variant:`success`})}catch{f({message:`Failed to copy`,variant:`error`})}}async function G(){if(confirm(`Are you sure you want to reset this DocType to its system default? All your customizations will be lost.`))try{await I.delete(`/org/doctypes/${encodeURIComponent(u.name)}`,{authorizeRequest:!0,organisationAware:!0}),f({message:`DocType reset to default`,variant:`success`}),H()}catch(e){f({message:e.message||`Failed to reset DocType`,variant:`error`})}}return ae(()=>{H(),We()}),(i,s)=>(L(),N(`div`,Mt,[h(`header`,Nt,[h(`div`,Pt,[h(`div`,{class:`w-10 h-10 rounded-xl flex items-center justify-center`,style:Le({backgroundColor:y.value.color||`#6366F1`})},[(L(),F(v(w[y.value.icon]||B(ge)),{class:`w-5 h-5 text-white`}))],4),h(`div`,null,[s[22]||=h(`span`,{class:`text-xs text-gray-500 uppercase tracking-wide`},`DocType Builder`,-1),h(`h1`,Ft,E(c.isNew?`New DocType`:y.value.name),1)])]),h(`div`,It,[_(B(U),{variant:`outline`,class:`rounded-full`,onClick:qe},{default:R(()=>[S.value?(L(),F(B(ye),{key:1,class:`w-4 h-4 mr-2`})):(L(),F(B(_e),{key:0,class:`w-4 h-4 mr-2`})),m(` `+E(S.value?`Hide`:`Preview`),1)]),_:1}),k.value?(L(),F(B(U),{key:0,variant:`outline`,class:`rounded-full`,onClick:G},{default:R(()=>[_(B(je),{class:`w-4 h-4 mr-2`}),s[23]||=m(` Reset to Default `,-1)]),_:1})):a(``,!0),!c.isNew&&!D.value?(L(),F(B(U),{key:1,variant:`outline`,class:`rounded-full`,onClick:Ke},{default:R(()=>[_(B(T),{class:`w-4 h-4 mr-2`}),s[24]||=m(` Duplicate `,-1)]),_:1})):a(``,!0),!M.value||c.isNew?(L(),F(B(U),{key:2,onClick:Ge,disabled:g.value,class:`rounded-full`},{default:R(()=>[g.value?(L(),F(B(o),{key:0,class:`w-4 h-4 animate-spin mr-2`})):a(``,!0),m(` `+E(c.isNew?`Create DocType`:`Save Changes`),1)]),_:1},8,[`disabled`])):a(``,!0)])]),D.value&&!k.value&&!c.isNew?(L(),N(`div`,Lt,[_(B(Ce),{class:`w-4 h-4`}),s[25]||=m(` System DocType. This definition is read-only and managed by the platform. `,-1)])):a(``,!0),k.value?(L(),N(`div`,Rt,[_(B(Re),{class:`w-4 h-4`}),s[26]||=m(` Active Override. You are using a customized version of this DocType. `,-1)])):a(``,!0),h(`div`,zt,[h(`div`,Bt,[ce.value?(L(),N(`div`,Vt,[...s[27]||=[h(`div`,{class:`animate-spin rounded-full h-8 w-8 border-b-2 border-black`},null,-1)]])):(L(),N(`div`,Ht,[_(B(e),{modelValue:x.value,"onUpdate:modelValue":s[21]||=e=>x.value=e,class:`w-full`},{default:R(()=>[h(`div`,Ut,[_(B(n),{class:`rounded-full bg-stone-50/80 flex w-fit shadow-sm border border-slate-200/50 px-0 py-0`},{default:R(()=>[_(B(r),{value:`general`,class:`px-6 py-1.5 rounded-full data-[state=active]:bg-white data-[state=active]:text-slate-900 data-[state=active]:shadow-sm transition-all duration-200`},{default:R(()=>[_(B(de),{class:`w-4 h-4 mr-2`}),s[28]||=m(` General `,-1)]),_:1}),_(B(r),{value:`fields`,class:`px-6 py-1.5 rounded-full data-[state=active]:bg-white data-[state=active]:text-slate-900 data-[state=active]:shadow-sm transition-all duration-200`},{default:R(()=>[_(B(P),{class:`w-4 h-4 mr-2`}),s[29]||=m(` Fields `,-1)]),_:1}),_(B(r),{value:`naming`,class:`px-6 py-1.5 rounded-full data-[state=active]:bg-white data-[state=active]:text-slate-900 data-[state=active]:shadow-sm transition-all duration-200`},{default:R(()=>[_(B(d),{class:`w-4 h-4 mr-2`}),s[30]||=m(` ID Config `,-1)]),_:1}),_(B(r),{value:`display`,class:`px-6 py-1.5 rounded-full data-[state=active]:bg-white data-[state=active]:text-slate-900 data-[state=active]:shadow-sm transition-all duration-200`},{default:R(()=>[_(B(Ie),{class:`w-4 h-4 mr-2`}),s[31]||=m(` Display `,-1)]),_:1}),_(B(r),{value:`workflow`,class:`px-6 py-1.5 rounded-full data-[state=active]:bg-white data-[state=active]:text-slate-900 data-[state=active]:shadow-sm transition-all duration-200`},{default:R(()=>[_(B(fe),{class:`w-4 h-4 mr-2`}),s[32]||=m(` Workflow `,-1)]),_:1})]),_:1})]),_(B(t),{value:`general`,class:`mt-6`},{default:R(()=>[_(B(W),{class:`p-6 bg-white/80`},{default:R(()=>[h(`div`,Wt,[h(`div`,Gt,[_(B(K),{for:`name`},{default:R(()=>[...s[33]||=[m(`DocType Name *`,-1)]]),_:1}),_(B(V),{id:`name`,modelValue:y.value.name,"onUpdate:modelValue":s[0]||=e=>y.value.name=e,placeholder:`e.g., Customer, Invoice`,class:`mt-1.5`,disabled:!c.isNew||M.value},null,8,[`modelValue`,`disabled`]),s[34]||=h(`p`,{class:`text-xs text-gray-500 mt-1`},`Unique identifier. Cannot be changed after creation.`,-1)]),h(`div`,Kt,[_(B(K),{for:`module`},{default:R(()=>[...s[35]||=[m(`Module *`,-1)]]),_:1}),_(B(J),{modelValue:y.value.module,"onUpdate:modelValue":s[1]||=e=>y.value.module=e,disabled:M.value},{default:R(()=>[_(B(X),{class:`mt-1.5 bg-white`},{default:R(()=>[_(B(Q),{placeholder:`Select module`})]),_:1}),_(B(Y),null,{default:R(()=>[(L(!0),N(z,null,O(Se.value,e=>(L(),F(B(Z),{key:e.value,value:e.value},{default:R(()=>[m(E(e.label),1)]),_:2},1032,[`value`]))),128))]),_:1})]),_:1},8,[`modelValue`,`disabled`]),y.value.module===`System`&&c.isNew?(L(),N(`p`,qt,` Warning: DocTypes in the "System" module become immutable after creation. `)):a(``,!0)]),h(`div`,Jt,[_(B(K),{for:`description`},{default:R(()=>[...s[36]||=[m(`Description`,-1)]]),_:1}),_(B(Ye),{id:`description`,modelValue:y.value.description,"onUpdate:modelValue":s[2]||=e=>y.value.description=e,placeholder:`Brief description of this DocType`,class:`mt-1.5`,rows:`2`,disabled:M.value},null,8,[`modelValue`,`disabled`])]),h(`div`,null,[_(B(K),{for:`icon`},{default:R(()=>[...s[37]||=[m(`Icon`,-1)]]),_:1}),_(B(J),{modelValue:y.value.icon,"onUpdate:modelValue":s[3]||=e=>y.value.icon=e,disabled:M.value},{default:R(()=>[_(B(X),{class:`mt-1.5 bg-white`},{default:R(()=>[_(B(Q),{placeholder:`Select icon`},{default:R(()=>[y.value.icon?(L(),N(`div`,Yt,[(L(),F(v(w[y.value.icon]),{class:`w-4 h-4`})),m(` `+E(y.value.icon),1)])):a(``,!0)]),_:1})]),_:1}),_(B(Y),{class:`max-h-60`},{default:R(()=>[(L(),N(z,null,O(ue,e=>_(B(Z),{key:e,value:e},{default:R(()=>[h(`div`,Xt,[(L(),F(v(w[e]),{class:`w-4 h-4`})),m(` `+E(e),1)])]),_:2},1032,[`value`])),64))]),_:1})]),_:1},8,[`modelValue`,`disabled`])]),h(`div`,null,[_(B(K),{for:`color`},{default:R(()=>[...s[38]||=[m(`Color`,-1)]]),_:1}),h(`div`,Zt,[A(h(`input`,{type:`color`,"onUpdate:modelValue":s[4]||=e=>y.value.color=e,class:`w-10 h-10 rounded border cursor-pointer`,disabled:M.value},null,8,Qt),[[ze,y.value.color]]),_(B(V),{modelValue:y.value.color,"onUpdate:modelValue":s[5]||=e=>y.value.color=e,placeholder:`#3B82F6`,class:`flex-1`,disabled:M.value},null,8,[`modelValue`,`disabled`])])]),h(`div`,$t,[_(B(K),{class:`text-base font-semibold`},{default:R(()=>[...s[39]||=[m(`Behavior`,-1)]]),_:1}),h(`div`,en,[h(`div`,tn,[_(B(q),{id:`isChild`,checked:y.value.isChild,"onUpdate:checked":s[6]||=e=>y.value.isChild=e,disabled:M.value},null,8,[`checked`,`disabled`]),_(B(K),{for:`isChild`,class:`text-sm`},{default:R(()=>[...s[40]||=[m(`Child Table`,-1)]]),_:1})]),h(`div`,nn,[_(B(q),{id:`isSingle`,checked:y.value.isSingle,"onUpdate:checked":s[7]||=e=>y.value.isSingle=e,disabled:M.value},null,8,[`checked`,`disabled`]),_(B(K),{for:`isSingle`,class:`text-sm`},{default:R(()=>[...s[41]||=[m(`Single Record`,-1)]]),_:1})]),h(`div`,rn,[_(B(q),{id:`trackChanges`,checked:y.value.trackChanges,"onUpdate:checked":s[8]||=e=>y.value.trackChanges=e,disabled:M.value},null,8,[`checked`,`disabled`]),_(B(K),{for:`trackChanges`,class:`text-sm`},{default:R(()=>[...s[42]||=[m(`Track Changes`,-1)]]),_:1})])])]),y.value.isChild?(L(),N(`div`,an,[_(B(K),{for:`parentDocType`},{default:R(()=>[...s[43]||=[m(`Parent DocType *`,-1)]]),_:1}),_(B(J),{modelValue:y.value.parentDocType,"onUpdate:modelValue":s[9]||=e=>y.value.parentDocType=e,disabled:M.value},{default:R(()=>[_(B(X),{class:`mt-1.5 bg-white`},{default:R(()=>[_(B(Q),{placeholder:`Select parent DocType`})]),_:1}),_(B(Y),null,{default:R(()=>[(L(!0),N(z,null,O(C.value,e=>(L(),F(B(Z),{key:e,value:e},{default:R(()=>[m(E(e),1)]),_:2},1032,[`value`]))),128))]),_:1})]),_:1},8,[`modelValue`,`disabled`])])):a(``,!0)])]),_:1})]),_:1}),_(B(t),{value:`fields`,class:`mt-6`},{default:R(()=>[_(jt,{modelValue:y.value.fields,"onUpdate:modelValue":s[10]||=e=>y.value.fields=e,availableDocTypes:C.value,disabled:M.value},null,8,[`modelValue`,`availableDocTypes`,`disabled`])]),_:1}),_(B(t),{value:`naming`,class:`mt-6`},{default:R(()=>[_(B(W),{class:`p-6 bg-white/80`},{default:R(()=>[h(`div`,on,[h(`div`,sn,[_(B(q),{id:`hasId`,checked:y.value.hasId,"onUpdate:checked":s[11]||=e=>y.value.hasId=e,disabled:M.value},null,8,[`checked`,`disabled`]),_(B(K),{for:`hasId`},{default:R(()=>[...s[44]||=[m(`Generate Human-Readable ID`,-1)]]),_:1})]),y.value.hasId?(L(),N(`div`,cn,[h(`div`,null,[_(B(K),{for:`idPrefix`},{default:R(()=>[...s[45]||=[m(`ID Prefix`,-1)]]),_:1}),_(B(V),{id:`idPrefix`,modelValue:y.value.idPrefix,"onUpdate:modelValue":s[12]||=e=>y.value.idPrefix=e,placeholder:`e.g., INV-, CUST-`,class:`mt-1.5`,disabled:M.value},null,8,[`modelValue`,`disabled`])]),h(`div`,null,[_(B(K),{for:`idSuffix`},{default:R(()=>[...s[46]||=[m(`ID Suffix`,-1)]]),_:1}),_(B(V),{id:`idSuffix`,modelValue:y.value.idSuffix,"onUpdate:modelValue":s[13]||=e=>y.value.idSuffix=e,placeholder:`e.g., -2024`,class:`mt-1.5`,disabled:M.value},null,8,[`modelValue`,`disabled`])]),h(`div`,null,[_(B(K),{for:`idMinLength`},{default:R(()=>[...s[47]||=[m(`Padding Length`,-1)]]),_:1}),_(B(V),{id:`idMinLength`,modelValue:y.value.idMinLength,"onUpdate:modelValue":s[14]||=e=>y.value.idMinLength=e,modelModifiers:{number:!0},type:`number`,min:`0`,max:`20`,class:`mt-1.5`,disabled:M.value},null,8,[`modelValue`,`disabled`]),s[48]||=h(`p`,{class:`text-xs text-gray-500 mt-1`},`Zero-pad numbers to this length (e.g., 5 → 00001)`,-1)]),h(`div`,null,[_(B(K),{for:`idGenerationStrategy`},{default:R(()=>[...s[49]||=[m(`Generation Strategy`,-1)]]),_:1}),_(B(J),{modelValue:y.value.idGenerationStrategy,"onUpdate:modelValue":s[15]||=e=>y.value.idGenerationStrategy=e,disabled:M.value},{default:R(()=>[_(B(X),{class:`mt-1.5 bg-white`},{default:R(()=>[_(B(Q))]),_:1}),_(B(Y),null,{default:R(()=>[(L(!0),N(z,null,O(B(rt),e=>(L(),F(B(Z),{key:e.value,value:e.value},{default:R(()=>[m(E(e.label),1)]),_:2},1032,[`value`]))),128))]),_:1})]),_:1},8,[`modelValue`,`disabled`])]),h(`div`,ln,[_(B(K),{class:`text-sm text-gray-600`},{default:R(()=>[...s[50]||=[m(`Preview`,-1)]]),_:1}),h(`p`,un,E(Oe.value),1)])])):a(``,!0)])]),_:1})]),_:1}),_(B(t),{value:`display`,class:`mt-6`},{default:R(()=>[_(B(W),{class:`p-6 bg-white/80`},{default:R(()=>[h(`div`,dn,[h(`div`,null,[_(B(K),{for:`titleField`},{default:R(()=>[...s[51]||=[m(`Title Field`,-1)]]),_:1}),_(B(J),{modelValue:y.value.titleField,"onUpdate:modelValue":s[16]||=e=>y.value.titleField=e,disabled:M.value},{default:R(()=>[_(B(X),{class:`mt-1.5 bg-white`},{default:R(()=>[_(B(Q),{placeholder:`Select field for title`})]),_:1}),_(B(Y),null,{default:R(()=>[_(B(Z),{value:`name`},{default:R(()=>[...s[52]||=[m(`name (default)`,-1)]]),_:1}),(L(!0),N(z,null,O(we.value,e=>(L(),F(B(Z),{key:e.fieldname,value:e.fieldname},{default:R(()=>[m(E(e.label)+` (`+E(e.fieldname)+`) `,1)]),_:2},1032,[`value`]))),128))]),_:1})]),_:1},8,[`modelValue`,`disabled`]),s[53]||=h(`p`,{class:`text-xs text-gray-500 mt-1`},`Field displayed as the document title`,-1)]),h(`div`,null,[_(B(K),{for:`searchFields`},{default:R(()=>[...s[54]||=[m(`Search Fields`,-1)]]),_:1}),_(B(V),{id:`searchFields`,modelValue:y.value.searchFields,"onUpdate:modelValue":s[17]||=e=>y.value.searchFields=e,placeholder:`e.g., name,email,phone`,class:`mt-1.5`,disabled:M.value},null,8,[`modelValue`,`disabled`]),s[55]||=h(`p`,{class:`text-xs text-gray-500 mt-1`},`Comma-separated field names for search`,-1)]),h(`div`,null,[_(B(K),{for:`sortField`},{default:R(()=>[...s[56]||=[m(`Default Sort Field`,-1)]]),_:1}),_(B(J),{modelValue:y.value.sortField,"onUpdate:modelValue":s[18]||=e=>y.value.sortField=e,disabled:M.value},{default:R(()=>[_(B(X),{class:`mt-1.5 bg-white`},{default:R(()=>[_(B(Q),{placeholder:`Select sort field`})]),_:1}),_(B(Y),null,{default:R(()=>[_(B(Z),{value:`created_at`},{default:R(()=>[...s[57]||=[m(`Created At`,-1)]]),_:1}),_(B(Z),{value:`updated_at`},{default:R(()=>[...s[58]||=[m(`Updated At`,-1)]]),_:1}),_(B(Z),{value:`name`},{default:R(()=>[...s[59]||=[m(`Name`,-1)]]),_:1}),(L(!0),N(z,null,O(we.value,e=>(L(),F(B(Z),{key:e.fieldname,value:e.fieldname},{default:R(()=>[m(E(e.label)+` (`+E(e.fieldname)+`) `,1)]),_:2},1032,[`value`]))),128))]),_:1})]),_:1},8,[`modelValue`,`disabled`])]),h(`div`,null,[_(B(K),{for:`sortOrder`},{default:R(()=>[...s[60]||=[m(`Sort Order`,-1)]]),_:1}),_(B(J),{modelValue:y.value.sortOrder,"onUpdate:modelValue":s[19]||=e=>y.value.sortOrder=e,disabled:M.value},{default:R(()=>[_(B(X),{class:`mt-1.5 bg-white`},{default:R(()=>[_(B(Q))]),_:1}),_(B(Y),null,{default:R(()=>[_(B(Z),{value:`DESC`},{default:R(()=>[...s[61]||=[m(`Descending (newest first)`,-1)]]),_:1}),_(B(Z),{value:`ASC`},{default:R(()=>[...s[62]||=[m(`Ascending (oldest first)`,-1)]]),_:1})]),_:1})]),_:1},8,[`modelValue`,`disabled`])])])]),_:1})]),_:1}),_(B(t),{value:`workflow`,class:`mt-6`},{default:R(()=>[_(B(W),{class:`p-6 bg-white/80`},{default:R(()=>[h(`div`,fn,[h(`div`,pn,[_(B(q),{id:`isSubmittable`,checked:y.value.isSubmittable,"onUpdate:checked":s[20]||=e=>y.value.isSubmittable=e,disabled:M.value},null,8,[`checked`,`disabled`]),_(B(K),{for:`isSubmittable`,class:`text-base`},{default:R(()=>[...s[63]||=[m(`Enable Submission Workflow`,-1)]]),_:1})]),s[68]||=h(`p`,{class:`text-sm text-gray-600`},` When enabled, documents follow a Draft → Submitted → Cancelled lifecycle. Submitted documents cannot be edited. `,-1),y.value.isSubmittable?(L(),N(`div`,mn,[h(`div`,hn,[s[67]||=h(`h4`,{class:`font-medium text-blue-900`},`Workflow States`,-1),h(`div`,gn,[s[64]||=h(`span`,{class:`px-2 py-1 bg-gray-200 rounded`},`Draft (0)`,-1),_(B(Me),{class:`w-4 h-4 text-gray-400`}),s[65]||=h(`span`,{class:`px-2 py-1 bg-green-200 rounded`},`Submitted (1)`,-1),_(B(Me),{class:`w-4 h-4 text-gray-400`}),s[66]||=h(`span`,{class:`px-2 py-1 bg-red-200 rounded`},`Cancelled (2)`,-1)])])])):a(``,!0)])]),_:1})]),_:1})]),_:1},8,[`modelValue`])]))]),S.value?(L(),N(`div`,_n,[h(`div`,vn,[s[69]||=h(`span`,{class:`font-medium`},`JSON Preview`,-1),_(B(U),{variant:`ghost`,size:`sm`,onClick:Je,class:`text-gray-300 hover:text-white`},{default:R(()=>[_(B(T),{class:`w-4 h-4`})]),_:1})]),h(`pre`,yn,[h(`code`,null,E(He.value),1)])])):a(``,!0)])]))}};export{bn as default};