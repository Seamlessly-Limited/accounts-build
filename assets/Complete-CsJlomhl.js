import"./Label-PC3o1Jo3.js";import{Bn as e,Bt as t,Cn as n,Fa as r,Fi as i,Hi as a,Ki as o,Li as s,Oi as c,Qn as l,Sn as u,Ui as d,Un as f,Vi as p,Wi as m,a as h,ba as g,i as _,oa as v,qi as y,s as b,ua as x}from"./index-BHNnQTTo.js";import{t as S}from"./button-DHTtQedQ.js";import{t as C}from"./Input-DzP8_N3r.js";import{t as w}from"./BackgroundAnimation-yErgC6Q9.js";import{t as T}from"./Card-CP12Kofe.js";import{t as E}from"./CardContent-DIOduLan.js";import{t as D}from"./CardDescription-BCNKJprF.js";import{n as O,t as k}from"./CardTitle-DDV552DC.js";import{t as A}from"./Label-C3kqb2rR.js";var j=`password_reset_auth`,M={components:{Card:T,CardHeader:O,CardTitle:k,CardDescription:D,CardContent:E,Button:S,Input:C,Label:A,BackgroundAnimation:w,Check:l,CheckCircle2:f,XCircle:e,Eye:u,EyeOff:n,Loader2:t},data(){return{loading:!1,success:!1,showPassword:!1,password:``,confirmPassword:``}},computed:{hasMinLength(){return this.password.length>=8},hasNumber(){return/\d/.test(this.password)},hasSpecialChars(){let e=this.password.match(/[!@#$%^&*(),.?":{}|<>â‚¦]/g);return e&&e.length>=2},passwordsMatch(){return this.password===this.confirmPassword},canSubmit(){return this.hasMinLength&&this.hasNumber&&this.hasSpecialChars&&this.passwordsMatch&&!this.loading}},async mounted(){localStorage.getItem(j)||this.$router.push(`/password-reset`)},methods:{async changePassword(){if(!this.canSubmit)return;this.loading=!0;let e=h();try{await b.completePasswordReset(this.password),this.success=!0,localStorage.removeItem(j),setTimeout(()=>{this.$router.push(`/login`)},2300)}catch{e.toast({message:``,duration:5e3,variant:`error`}),this.loading=!1}}}},N={class:`min-h-screen flex items-center justify-center relative bg-stone-100 overflow-hidden`},P={key:0,class:`p-12 text-center space-y-4 animate-in fade-in zoom-in duration-500`},F={class:`flex justify-center`},I={class:`h-20 w-20 rounded-full bg-blue-100 flex items-center justify-center text-blue-600`},L={key:1},R={class:`grid grid-cols-1 md:grid-cols-2 gap-6`},z={class:`space-y-2`},B={class:`flex justify-between items-center`},V={class:`relative`},H={class:`space-y-2`},U={class:`flex justify-between items-center`},W={key:0},G={class:`p-5 rounded-2xl bg-gray-50/50 border border-gray-100 space-y-4`},K={class:`grid grid-cols-1 sm:grid-cols-2 gap-x-6 gap-y-3`},q={class:`flex justify-end pt-2`};function J(e,t,n,l,u,f){let h=x(`BackgroundAnimation`),_=x(`Check`),b=x(`CardTitle`),S=x(`CardDescription`),C=x(`CardHeader`),w=x(`Label`),T=x(`CheckCircle2`),E=x(`Input`),D=x(`Eye`),O=x(`EyeOff`),k=x(`XCircle`),A=x(`Loader2`),j=x(`Button`),M=x(`CardContent`),J=x(`Card`);return v(),m(`div`,N,[y(h),y(J,{class:`relative z-10 w-full max-w-2xl rounded-2xl shadow-sm border-solid border-slate-50 backdrop-blur bg-white/80 transition-all duration-500`},{default:g(()=>[u.success?(v(),m(`div`,P,[p(`div`,F,[p(`div`,I,[y(_,{class:`h-10 w-10`})])]),t[4]||=p(`div`,{class:`space-y-2`},[p(`h2`,{class:`text-3xl font-bold text-gray-900`},`Securely Updated`),p(`p`,{class:`text-gray-500 text-lg`},`Your password has been reset successfully. Redirecting to login...`)],-1),t[5]||=p(`div`,{class:`pt-8 max-w-xs mx-auto`},[p(`div`,{class:`h-1.5 w-full bg-gray-100 rounded-full overflow-hidden`},[p(`div`,{class:`h-full bg-black animate-progress-fast`})])],-1)])):(v(),m(`div`,L,[y(C,{class:`space-y-2`},{default:g(()=>[y(b,{class:`text-2xl font-semibold`},{default:g(()=>[...t[6]||=[o(`Secure your account`,-1)]]),_:1}),y(S,null,{default:g(()=>[...t[7]||=[o(`Set a stronger password to protect your account.`,-1)]]),_:1})]),_:1}),y(M,null,{default:g(()=>[p(`form`,{onSubmit:t[3]||=i((...e)=>f.changePassword&&f.changePassword(...e),[`prevent`]),class:`space-y-6 pt-6`},[p(`div`,R,[p(`div`,z,[p(`div`,B,[y(w,{for:`password`,class:`text-gray-700`},{default:g(()=>[...t[8]||=[o(`New Password`,-1)]]),_:1}),y(c,{name:`fade`},{default:g(()=>[f.hasMinLength&&f.hasNumber&&f.hasSpecialChars?(v(),a(T,{key:0,class:`h-4 w-4 text-blue-600`})):d(``,!0)]),_:1})]),p(`div`,V,[y(E,{id:`password`,modelValue:u.password,"onUpdate:modelValue":t[0]||=e=>u.password=e,type:u.showPassword?`text`:`password`,required:``,placeholder:`********`,disabled:u.loading,class:`pr-10 border-gray-200 focus:ring-black focus:border-black transition-all`},null,8,[`modelValue`,`type`,`disabled`]),p(`button`,{type:`button`,onClick:t[1]||=e=>u.showPassword=!u.showPassword,class:`absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors`},[u.showPassword?(v(),a(O,{key:1,class:`h-4 w-4`})):(v(),a(D,{key:0,class:`h-4 w-4`}))])])]),p(`div`,H,[p(`div`,U,[y(w,{for:`confirmPassword`,class:`text-gray-700`},{default:g(()=>[...t[9]||=[o(`Confirm Password`,-1)]]),_:1}),y(c,{name:`fade`},{default:g(()=>[u.confirmPassword?(v(),m(`div`,W,[f.passwordsMatch?(v(),a(T,{key:0,class:`h-4 w-4 text-blue-600`})):(v(),a(k,{key:1,class:`h-4 w-4 text-red-400`}))])):d(``,!0)]),_:1})]),y(E,{id:`confirmPassword`,modelValue:u.confirmPassword,"onUpdate:modelValue":t[2]||=e=>u.confirmPassword=e,type:`password`,required:``,placeholder:`********`,disabled:u.loading,class:`border-gray-200 focus:ring-black focus:border-black transition-all`},null,8,[`modelValue`,`disabled`])])]),p(`div`,G,[t[14]||=p(`p`,{class:`text-sm font-semibold text-gray-900`},`Password strength checklist:`,-1),p(`div`,K,[p(`div`,{class:r([`flex items-center gap-2.5 transition-all duration-300`,f.hasMinLength?`text-blue-600`:`text-gray-400`])},[y(T,{class:r([`h-4 w-4 shrink-0 transition-transform`,{"scale-110":f.hasMinLength}])},null,8,[`class`]),t[10]||=p(`span`,{class:`text-xs font-medium`},`At least 8 characters`,-1)],2),p(`div`,{class:r([`flex items-center gap-2.5 transition-all duration-300`,f.hasNumber?`text-blue-600`:`text-gray-400`])},[y(T,{class:r([`h-4 w-4 shrink-0 transition-transform`,{"scale-110":f.hasNumber}])},null,8,[`class`]),t[11]||=p(`span`,{class:`text-xs font-medium`},`At least one number`,-1)],2),p(`div`,{class:r([`flex items-center gap-2.5 transition-all duration-300`,f.hasSpecialChars?`text-blue-600`:`text-gray-400`])},[y(T,{class:r([`h-4 w-4 shrink-0 transition-transform`,{"scale-110":f.hasSpecialChars}])},null,8,[`class`]),t[12]||=p(`span`,{class:`text-xs font-medium`},`Two special symbols (!@#...)`,-1)],2),p(`div`,{class:r([`flex items-center gap-2.5 transition-all duration-300`,f.passwordsMatch&&u.password?`text-blue-600`:`text-gray-400`])},[y(T,{class:r([`h-4 w-4 shrink-0 transition-transform`,{"scale-110":f.passwordsMatch&&u.password}])},null,8,[`class`]),t[13]||=p(`span`,{class:`text-xs font-medium`},`Passwords match`,-1)],2)])]),p(`div`,q,[y(j,{type:`submit`,class:`rounded-full px-10 bg-black text-white hover:bg-gray-800 transition-all active:scale-95 disabled:opacity-30 disabled:pointer-events-none`,disabled:!f.canSubmit},{default:g(()=>[u.loading?(v(),m(s,{key:1},[y(A,{class:`h-4 w-4 animate-spin mr-2`}),t[15]||=o(` Processing... `,-1)],64)):(v(),m(s,{key:0},[o(` Update Password `)],64))]),_:1},8,[`disabled`])])],32)]),_:1})]))]),_:1})])}var Y=_(M,[[`render`,J],[`__scopeId`,`data-v-e0210a76`]]);export{Y as default};