import"./utils-D0P48fSI.js";import"./ListboxItem-tQcA7-x_.js";import"./useNonce-CH1qV__9.js";import"./nullish-CfjOSA4G.js";import{t as useArrowNavigation}from"./useArrowNavigation-siWGBYoD.js";import"./ConfigProvider-XiUduj9F.js";import{n as useBodyScrollLock,t as useHideOthers}from"./useHideOthers-CxE1lvmV.js";import{A as $fb18d541ea1ad717$export$ad991b66133851cf,C as Ellipsis,D as ArrowUp,E as Calendar,M as $14e0f24ef4ac5c92$export$aa8b41735afcabd2,N as $14e0f24ef4ac5c92$export$d0bdf45af03a6ea3,O as Separator_default$1,S as FileText,T as ChartPie,_ as SheetContent_default,a as Calendar_default,b as Search,c as CommandSeparator_default,d as CommandInput_default,f as CommandShortcut_default,h as Command_default,i as Popover_default,l as CommandList_default,m as CommandEmpty_default,n as PopoverTrigger_default,o as Textarea_default,p as CommandGroup_default,r as PopoverContent_default,s as ScrollArea_default,t as AccountAssistant_default,u as CommandItem_default,v as Sheet_default,w as ChevronLeft,x as Globe,y as Sparkles}from"./AccountAssistant-BGXXiRh2.js";import{t as useDirection}from"./useDirection-DfJQtSIT.js";import{a as SelectTrigger_default$1,c as SelectPortal_default,d as SelectItem_default$1,f as SelectIcon_default,g as useFocusGuards,h as PopperAnchor_default,i as SelectValue_default$1,l as SelectItemText_default,m as SelectRoot_default,n as ChevronDown,o as SelectScrollUpButton_default$1,p as SelectContent_default$1,r as SelectViewport_default,s as SelectScrollDownButton_default$1,t as ChevronUp,u as SelectItemIndicator_default}from"./chevron-up-DRtU5Xt9.js";import{t as useId}from"./useId-NOzKS8cd.js";import{a as useTypeahead,n as PopperContent_default,r as PopperRoot_default,t as PopperContentPropsDefaultValue}from"./PopperContent-Hmi-1dxb.js";import"./DialogTitle-Bmj62r2-.js";import{a as SELECTION_KEYS,c as isMouseEvent,i as LAST_KEYS,l as isPointerInGraceArea,n as FIRST_LAST_KEYS,o as focusFirst,r as ITEM_SELECT,s as getOpenState,t as Teleport_default,u as FocusScope_default}from"./Teleport-r2kxWe0I.js";import"./AvatarImage-4O_2YYzG.js";import{t as RovingFocusGroup_default}from"./RovingFocusGroup-CWQj4uDm.js";import"./VisuallyHiddenInput-BqN-V-XI.js";import"./Label-CzpRcmGL.js";import"./paperclip-BvojkzSa.js";import"./SwitchThumb-Cru1ecDK.js";import{t as ChartNoAxesColumnIncreasing}from"./chart-no-axes-column-increasing-Cqt2OFh3.js";import{t as Check}from"./check-LjLkxBRc.js";import{n as ChevronRight,t as User}from"./user-CD4yWplz.js";import{t as CreditCard}from"./credit-card-4cJeR5kR.js";import"./feather-dL37C56U.js";import{t as LoaderCircle}from"./loader-circle-Z0AQTysD.js";import{t as Receipt}from"./receipt-CQ245E6r.js";import{t as Send}from"./send-D4dhqSm0.js";import{a as Trash2,i as TriangleAlert,n as AvatarFallback_default,r as Avatar_default,t as AvatarImage_default}from"./avatar-BczRavgY.js";import{t as UserPlus}from"./user-plus-CadaHABo.js";import{$ as useTimeoutFn,$t as useSlots,A as Presence_default,At as createElementBlock,Bt as mergeProps,Cn as toDisplayString,Ct as Fragment,Dt as createBaseVNode,E as DismissableLayer_default,Et as computed,F as useEmitAsProps,G as createSharedComposable,Gt as openBlock,It as guardReactiveProps,Jt as renderSlot,Kt as provide,L as useEventListener$1,M as useForwardPropsEmits,Mt as createTextVNode,N as useForwardProps,Nt as createVNode,O as Primitive,Ot as createBlock,P as useForwardExpose,Pt as defineComponent,Rt as inject,Sn as normalizeStyle,St as Comment,Tt as Teleport,U as createEventHook,Ut as onMounted,V as useVModel$1,Vt as nextTick,Wt as onUnmounted,Xt as resolveDynamicComponent,Y as refAutoReset,Yt as resolveComponent,Zt as toHandlers,_ as VisuallyHidden_default,_n as toRefs,_t as vModelSelect,a as API_default,an as withCtx,at as onKeyStroke,bn as normalizeClass,bt as withKeys,ct as useMagicKeys,d as cva,dn as reactive,dt as useVModel,en as watch,ft as reactiveOmit,g as cn,gt as TransitionGroup,h as createLucideIcon,ht as Transition,i as getNotificationStore,in as withAsyncContext,it as defaultDocument,kt as createCommentVNode,ln as isRef,lt as useMediaQuery,m as X,n as useRouter,nt as getActiveElement,on as withDirectives,pn as ref,pt as whenever,qt as renderList,r as __plugin_vue_export_helper_default,rt as createContext,s as UserService_default,st as useEventListener,t as useRoute,tn as watchEffect,u as defineStore,ut as useStorage,v as useCollection,vt as vModelText,wt as Suspense,xn as normalizeProps,xt as withModifiers,yn as unref,yt as vShow,zt as mergeDefaults}from"./index-NPUXaZ2c.js";import{t as Button_default$1}from"./button-ClT8XOp-.js";import{t as OrganisationService_default}from"./OrganisationService-nBJZTG-F.js";import{a as DialogContent_default$1,i as DialogDescription_default$1,n as DialogHeader_default$1,o as Dialog_default$1,r as DialogFooter_default$1,t as DialogTitle_default$1}from"./DialogTitle-CaySTs9J.js";import{n as Button_default}from"./button-CWY_tBUh.js";import{a as Dialog_default,i as DialogContent_default,n as DialogHeader_default,r as DialogDescription_default,t as DialogTitle_default}from"./DialogTitle-Dq106baw.js";import{t as DialogFooter_default}from"./DialogFooter-Dee12Qp9.js";import{t as Badge_default}from"./badge-BNZAY_6y.js";import{t as Label_default}from"./Label-DUIN8-hw.js";import{t as Input_default}from"./Input-CanObgFQ.js";import{t as Card_default}from"./Card-CGfcdqlZ.js";import{t as Badge_default$1}from"./badge-3-UecyJS.js";import{t as Label_default$1}from"./Label-BXGkeRHd.js";function useGraceArea(triggerElement,containerElement){let isPointerInTransit=refAutoReset(!1,300),pointerGraceArea=ref(null),pointerExit=createEventHook();function handleRemoveGraceArea(){pointerGraceArea.value=null,isPointerInTransit.value=!1}function handleCreateGraceArea(event,hoverTarget){let currentTarget=event.currentTarget,exitPoint={x:event.clientX,y:event.clientY},exitSide=getExitSideFromRect(exitPoint,currentTarget.getBoundingClientRect()),paddedExitPoints=getPaddedExitPoints(exitPoint,exitSide),hoverTargetPoints=getPointsFromRect(hoverTarget.getBoundingClientRect());pointerGraceArea.value=getHull([...paddedExitPoints,...hoverTargetPoints]),isPointerInTransit.value=!0}return watchEffect(cleanupFn=>{if(triggerElement.value&&containerElement.value){let handleTriggerLeave=event=>handleCreateGraceArea(event,containerElement.value),handleContentLeave=event=>handleCreateGraceArea(event,triggerElement.value);triggerElement.value.addEventListener(`pointerleave`,handleTriggerLeave),containerElement.value.addEventListener(`pointerleave`,handleContentLeave),cleanupFn(()=>{triggerElement.value?.removeEventListener(`pointerleave`,handleTriggerLeave),containerElement.value?.removeEventListener(`pointerleave`,handleContentLeave)})}}),watchEffect(cleanupFn=>{if(pointerGraceArea.value){let handleTrackPointerGrace=event=>{if(!pointerGraceArea.value||!(event.target instanceof Element))return;let target=event.target,pointerPosition={x:event.clientX,y:event.clientY},hasEnteredTarget=triggerElement.value?.contains(target)||containerElement.value?.contains(target),isPointerOutsideGraceArea=!isPointInPolygon(pointerPosition,pointerGraceArea.value),isAnotherGraceAreaTrigger=!!target.closest(`[data-grace-area-trigger]`);hasEnteredTarget?handleRemoveGraceArea():(isPointerOutsideGraceArea||isAnotherGraceAreaTrigger)&&(handleRemoveGraceArea(),pointerExit.trigger())};triggerElement.value?.ownerDocument.addEventListener(`pointermove`,handleTrackPointerGrace),cleanupFn(()=>triggerElement.value?.ownerDocument.removeEventListener(`pointermove`,handleTrackPointerGrace))}}),{isPointerInTransit,onPointerExit:pointerExit.on}}function getExitSideFromRect(point,rect){let top=Math.abs(rect.top-point.y),bottom=Math.abs(rect.bottom-point.y),right=Math.abs(rect.right-point.x),left=Math.abs(rect.left-point.x);switch(Math.min(top,bottom,right,left)){case left:return`left`;case right:return`right`;case top:return`top`;case bottom:return`bottom`;default:throw Error(`unreachable`)}}function getPaddedExitPoints(exitPoint,exitSide,padding=5){let paddedExitPoints=[];switch(exitSide){case`top`:paddedExitPoints.push({x:exitPoint.x-padding,y:exitPoint.y+padding},{x:exitPoint.x+padding,y:exitPoint.y+padding});break;case`bottom`:paddedExitPoints.push({x:exitPoint.x-padding,y:exitPoint.y-padding},{x:exitPoint.x+padding,y:exitPoint.y-padding});break;case`left`:paddedExitPoints.push({x:exitPoint.x+padding,y:exitPoint.y-padding},{x:exitPoint.x+padding,y:exitPoint.y+padding});break;case`right`:paddedExitPoints.push({x:exitPoint.x-padding,y:exitPoint.y-padding},{x:exitPoint.x-padding,y:exitPoint.y+padding});break}return paddedExitPoints}function getPointsFromRect(rect){let{top,right,bottom,left}=rect;return[{x:left,y:top},{x:right,y:top},{x:right,y:bottom},{x:left,y:bottom}]}function isPointInPolygon(point,polygon){let{x,y}=point,inside=!1;for(let i=0,j=polygon.length-1;i<polygon.length;j=i++){let xi=polygon[i].x,yi=polygon[i].y,xj=polygon[j].x,yj=polygon[j].y;yi>y!=yj>y&&x<(xj-xi)*(y-yi)/(yj-yi)+xi&&(inside=!inside)}return inside}function getHull(points){let newPoints=points.slice();return newPoints.sort((a,b)=>a.x<b.x?-1:a.x>b.x?1:a.y<b.y?-1:a.y>b.y?1:0),getHullPresorted(newPoints)}function getHullPresorted(points){if(points.length<=1)return points.slice();let upperHull=[];for(let i=0;i<points.length;i++){let p=points[i];for(;upperHull.length>=2;){let q=upperHull[upperHull.length-1],r=upperHull[upperHull.length-2];if((q.x-r.x)*(p.y-r.y)>=(q.y-r.y)*(p.x-r.x))upperHull.pop();else break}upperHull.push(p)}upperHull.pop();let lowerHull=[];for(let i=points.length-1;i>=0;i--){let p=points[i];for(;lowerHull.length>=2;){let q=lowerHull[lowerHull.length-1],r=lowerHull[lowerHull.length-2];if((q.x-r.x)*(p.y-r.y)>=(q.y-r.y)*(p.x-r.x))lowerHull.pop();else break}lowerHull.push(p)}return lowerHull.pop(),upperHull.length===1&&lowerHull.length===1&&upperHull[0].x===lowerHull[0].x&&upperHull[0].y===lowerHull[0].y?upperHull:upperHull.concat(lowerHull)}var[injectCollapsibleRootContext,provideCollapsibleRootContext]=createContext(`CollapsibleRoot`),CollapsibleRoot_default=defineComponent({__name:`CollapsibleRoot`,props:{defaultOpen:{type:Boolean,required:!1,default:!1},open:{type:Boolean,required:!1,default:void 0},disabled:{type:Boolean,required:!1},unmountOnHide:{type:Boolean,required:!1,default:!0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:[`update:open`],setup(__props,{expose:__expose,emit:__emit}){let props=__props,open=useVModel$1(props,`open`,__emit,{defaultValue:props.defaultOpen,passive:props.open===void 0}),{disabled,unmountOnHide}=toRefs(props);return provideCollapsibleRootContext({contentId:``,disabled,open,unmountOnHide,onOpenToggle:()=>{disabled.value||(open.value=!open.value)}}),__expose({open}),useForwardExpose(),(_ctx,_cache)=>(openBlock(),createBlock(unref(Primitive),{as:_ctx.as,"as-child":props.asChild,"data-state":unref(open)?`open`:`closed`,"data-disabled":unref(disabled)?``:void 0},{default:withCtx(()=>[renderSlot(_ctx.$slots,`default`,{open:unref(open)})]),_:3},8,[`as`,`as-child`,`data-state`,`data-disabled`]))}}),CollapsibleContent_default$1=defineComponent({inheritAttrs:!1,__name:`CollapsibleContent`,props:{forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:[`contentFound`],setup(__props,{emit:__emit}){let props=__props,emits=__emit,rootContext=injectCollapsibleRootContext();rootContext.contentId||=useId(void 0,`reka-collapsible-content`);let presentRef=ref(),{forwardRef,currentElement}=useForwardExpose(),width=ref(0),height=ref(0),isOpen=computed(()=>rootContext.open.value),isMountAnimationPrevented=ref(isOpen.value),currentStyle=ref();watch(()=>[isOpen.value,presentRef.value?.present],async()=>{await nextTick();let node=currentElement.value;if(!node)return;currentStyle.value=currentStyle.value||{transitionDuration:node.style.transitionDuration,animationName:node.style.animationName},node.style.transitionDuration=`0s`,node.style.animationName=`none`;let rect=node.getBoundingClientRect();height.value=rect.height,width.value=rect.width,isMountAnimationPrevented.value||(node.style.transitionDuration=currentStyle.value.transitionDuration,node.style.animationName=currentStyle.value.animationName)},{immediate:!0});let skipAnimation=computed(()=>isMountAnimationPrevented.value&&rootContext.open.value);return onMounted(()=>{requestAnimationFrame(()=>{isMountAnimationPrevented.value=!1})}),useEventListener$1(currentElement,`beforematch`,ev=>{requestAnimationFrame(()=>{rootContext.onOpenToggle(),emits(`contentFound`)})}),(_ctx,_cache)=>(openBlock(),createBlock(unref(Presence_default),{ref_key:`presentRef`,ref:presentRef,present:_ctx.forceMount||unref(rootContext).open.value,"force-mount":!0},{default:withCtx(({present})=>[createVNode(unref(Primitive),mergeProps(_ctx.$attrs,{id:unref(rootContext).contentId,ref:unref(forwardRef),"as-child":props.asChild,as:_ctx.as,hidden:present?void 0:unref(rootContext).unmountOnHide.value?``:`until-found`,"data-state":skipAnimation.value?void 0:unref(rootContext).open.value?`open`:`closed`,"data-disabled":unref(rootContext).disabled?.value?``:void 0,style:{"--reka-collapsible-content-height":`${height.value}px`,"--reka-collapsible-content-width":`${width.value}px`}}),{default:withCtx(()=>[!unref(rootContext).unmountOnHide.value||present?renderSlot(_ctx.$slots,`default`,{key:0}):createCommentVNode(`v-if`,!0)]),_:2},1040,[`id`,`as-child`,`as`,`hidden`,`data-state`,`data-disabled`,`style`])]),_:3},8,[`present`]))}}),CollapsibleTrigger_default$1=defineComponent({__name:`CollapsibleTrigger`,props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:`button`}},setup(__props){let props=__props;useForwardExpose();let rootContext=injectCollapsibleRootContext();return(_ctx,_cache)=>(openBlock(),createBlock(unref(Primitive),{type:_ctx.as===`button`?`button`:void 0,as:_ctx.as,"as-child":props.asChild,"aria-controls":unref(rootContext).contentId,"aria-expanded":unref(rootContext).open.value,"data-state":unref(rootContext).open.value?`open`:`closed`,"data-disabled":unref(rootContext).disabled?.value?``:void 0,disabled:unref(rootContext).disabled?.value,onClick:unref(rootContext).onOpenToggle},{default:withCtx(()=>[renderSlot(_ctx.$slots,`default`)]),_:3},8,[`type`,`as`,`as-child`,`aria-controls`,`aria-expanded`,`data-state`,`data-disabled`,`disabled`,`onClick`]))}}),MenuAnchor_default=defineComponent({__name:`MenuAnchor`,props:{reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(__props){let props=__props;return(_ctx,_cache)=>(openBlock(),createBlock(unref(PopperAnchor_default),normalizeProps(guardReactiveProps(props)),{default:withCtx(()=>[renderSlot(_ctx.$slots,`default`)]),_:3},16))}});function useIsUsingKeyboardImpl(){let isUsingKeyboard=ref(!1);return onMounted(()=>{useEventListener$1(`keydown`,()=>{isUsingKeyboard.value=!0},{capture:!0,passive:!0}),useEventListener$1([`pointerdown`,`pointermove`],()=>{isUsingKeyboard.value=!1},{capture:!0,passive:!0})}),isUsingKeyboard}var useIsUsingKeyboard=createSharedComposable(useIsUsingKeyboardImpl),[injectMenuContext,provideMenuContext]=createContext([`MenuRoot`,`MenuSub`],`MenuContext`),[injectMenuRootContext,provideMenuRootContext]=createContext(`MenuRoot`),MenuRoot_default=defineComponent({__name:`MenuRoot`,props:{open:{type:Boolean,required:!1,default:!1},dir:{type:String,required:!1},modal:{type:Boolean,required:!1,default:!0}},emits:[`update:open`],setup(__props,{emit:__emit}){let props=__props,emits=__emit,{modal,dir:propDir}=toRefs(props),dir=useDirection(propDir),open=useVModel$1(props,`open`,emits),content=ref(),isUsingKeyboardRef=useIsUsingKeyboard();return provideMenuContext({open,onOpenChange:value=>{open.value=value},content,onContentChange:element=>{content.value=element}}),provideMenuRootContext({onClose:()=>{open.value=!1},isUsingKeyboardRef,dir,modal}),(_ctx,_cache)=>(openBlock(),createBlock(unref(PopperRoot_default),null,{default:withCtx(()=>[renderSlot(_ctx.$slots,`default`)]),_:3}))}}),[injectMenuContentContext,provideMenuContentContext]=createContext(`MenuContent`),MenuContentImpl_default=defineComponent({__name:`MenuContentImpl`,props:mergeDefaults({loop:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},disableOutsideScroll:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},{...PopperContentPropsDefaultValue}),emits:[`escapeKeyDown`,`pointerDownOutside`,`focusOutside`,`interactOutside`,`entryFocus`,`openAutoFocus`,`closeAutoFocus`,`dismiss`],setup(__props,{emit:__emit}){let props=__props,emits=__emit,menuContext=injectMenuContext(),rootContext=injectMenuRootContext(),{trapFocus,disableOutsidePointerEvents,loop}=toRefs(props);useFocusGuards(),useBodyScrollLock(disableOutsidePointerEvents.value);let searchRef=ref(``),timerRef=ref(0),pointerGraceTimerRef=ref(0),pointerGraceIntentRef=ref(null),pointerDirRef=ref(`right`),lastPointerXRef=ref(0),currentItemId=ref(null),rovingFocusGroupRef=ref(),{forwardRef,currentElement:contentElement}=useForwardExpose(),{handleTypeaheadSearch}=useTypeahead();watch(contentElement,el=>{menuContext.onContentChange(el)}),onUnmounted(()=>{window.clearTimeout(timerRef.value)});function isPointerMovingToSubmenu(event){return pointerDirRef.value===pointerGraceIntentRef.value?.side&&isPointerInGraceArea(event,pointerGraceIntentRef.value?.area)}async function handleMountAutoFocus(event){emits(`openAutoFocus`,event),!event.defaultPrevented&&(event.preventDefault(),contentElement.value?.focus({preventScroll:!0}))}function handleKeyDown(event){if(event.defaultPrevented)return;let isKeyDownInside=event.target.closest(`[data-reka-menu-content]`)===event.currentTarget,isModifierKey=event.ctrlKey||event.altKey||event.metaKey,isCharacterKey=event.key.length===1,el=useArrowNavigation(event,getActiveElement(),contentElement.value,{loop:loop.value,arrowKeyOptions:`vertical`,dir:rootContext?.dir.value,focus:!0,attributeName:`[data-reka-collection-item]:not([data-disabled])`});if(el)return el?.focus();if(event.code===`Space`)return;let collectionItems=rovingFocusGroupRef.value?.getItems()??[];if(isKeyDownInside&&(event.key===`Tab`&&event.preventDefault(),!isModifierKey&&isCharacterKey&&handleTypeaheadSearch(event.key,collectionItems)),event.target!==contentElement.value||!FIRST_LAST_KEYS.includes(event.key))return;event.preventDefault();let candidateNodes=[...collectionItems.map(item=>item.ref)];LAST_KEYS.includes(event.key)&&candidateNodes.reverse(),focusFirst(candidateNodes)}function handleBlur(event){event?.currentTarget?.contains?.(event.target)||(window.clearTimeout(timerRef.value),searchRef.value=``)}function handlePointerMove(event){if(!isMouseEvent(event))return;let target=event.target,pointerXHasChanged=lastPointerXRef.value!==event.clientX;(event?.currentTarget)?.contains(target)&&pointerXHasChanged&&(pointerDirRef.value=event.clientX>lastPointerXRef.value?`right`:`left`,lastPointerXRef.value=event.clientX)}return provideMenuContentContext({onItemEnter:event=>!!isPointerMovingToSubmenu(event),onItemLeave:event=>{isPointerMovingToSubmenu(event)||(contentElement.value?.focus(),currentItemId.value=null)},onTriggerLeave:event=>!!isPointerMovingToSubmenu(event),searchRef,pointerGraceTimerRef,onPointerGraceIntentChange:intent=>{pointerGraceIntentRef.value=intent}}),(_ctx,_cache)=>(openBlock(),createBlock(unref(FocusScope_default),{"as-child":``,trapped:unref(trapFocus),onMountAutoFocus:handleMountAutoFocus,onUnmountAutoFocus:_cache[7]||=$event=>emits(`closeAutoFocus`,$event)},{default:withCtx(()=>[createVNode(unref(DismissableLayer_default),{"as-child":``,"disable-outside-pointer-events":unref(disableOutsidePointerEvents),onEscapeKeyDown:_cache[2]||=$event=>emits(`escapeKeyDown`,$event),onPointerDownOutside:_cache[3]||=$event=>emits(`pointerDownOutside`,$event),onFocusOutside:_cache[4]||=$event=>emits(`focusOutside`,$event),onInteractOutside:_cache[5]||=$event=>emits(`interactOutside`,$event),onDismiss:_cache[6]||=$event=>emits(`dismiss`)},{default:withCtx(()=>[createVNode(unref(RovingFocusGroup_default),{ref_key:`rovingFocusGroupRef`,ref:rovingFocusGroupRef,"current-tab-stop-id":currentItemId.value,"onUpdate:currentTabStopId":_cache[0]||=$event=>currentItemId.value=$event,"as-child":``,orientation:`vertical`,dir:unref(rootContext).dir.value,loop:unref(loop),onEntryFocus:_cache[1]||=event=>{emits(`entryFocus`,event),unref(rootContext).isUsingKeyboardRef.value||event.preventDefault()}},{default:withCtx(()=>[createVNode(unref(PopperContent_default),{ref:unref(forwardRef),role:`menu`,as:_ctx.as,"as-child":_ctx.asChild,"aria-orientation":`vertical`,"data-reka-menu-content":``,"data-state":unref(getOpenState)(unref(menuContext).open.value),dir:unref(rootContext).dir.value,side:_ctx.side,"side-offset":_ctx.sideOffset,align:_ctx.align,"align-offset":_ctx.alignOffset,"avoid-collisions":_ctx.avoidCollisions,"collision-boundary":_ctx.collisionBoundary,"collision-padding":_ctx.collisionPadding,"arrow-padding":_ctx.arrowPadding,"prioritize-position":_ctx.prioritizePosition,"position-strategy":_ctx.positionStrategy,"update-position-strategy":_ctx.updatePositionStrategy,sticky:_ctx.sticky,"hide-when-detached":_ctx.hideWhenDetached,reference:_ctx.reference,onKeydown:handleKeyDown,onBlur:handleBlur,onPointermove:handlePointerMove},{default:withCtx(()=>[renderSlot(_ctx.$slots,`default`)]),_:3},8,[`as`,`as-child`,`data-state`,`dir`,`side`,`side-offset`,`align`,`align-offset`,`avoid-collisions`,`collision-boundary`,`collision-padding`,`arrow-padding`,`prioritize-position`,`position-strategy`,`update-position-strategy`,`sticky`,`hide-when-detached`,`reference`])]),_:3},8,[`current-tab-stop-id`,`dir`,`loop`])]),_:3},8,[`disable-outside-pointer-events`])]),_:3},8,[`trapped`]))}}),MenuItemImpl_default=defineComponent({inheritAttrs:!1,__name:`MenuItemImpl`,props:{disabled:{type:Boolean,required:!1},textValue:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(__props){let props=__props,contentContext=injectMenuContentContext(),{forwardRef}=useForwardExpose(),{CollectionItem}=useCollection(),isFocused=ref(!1);async function handlePointerMove(event){event.defaultPrevented||isMouseEvent(event)&&(props.disabled?contentContext.onItemLeave(event):contentContext.onItemEnter(event)||event.currentTarget?.focus({preventScroll:!0}))}async function handlePointerLeave(event){await nextTick(),!event.defaultPrevented&&isMouseEvent(event)&&contentContext.onItemLeave(event)}return(_ctx,_cache)=>(openBlock(),createBlock(unref(CollectionItem),{value:{textValue:_ctx.textValue}},{default:withCtx(()=>[createVNode(unref(Primitive),mergeProps({ref:unref(forwardRef),role:`menuitem`,tabindex:`-1`},_ctx.$attrs,{as:_ctx.as,"as-child":_ctx.asChild,"aria-disabled":_ctx.disabled||void 0,"data-disabled":_ctx.disabled?``:void 0,"data-highlighted":isFocused.value?``:void 0,onPointermove:handlePointerMove,onPointerleave:handlePointerLeave,onFocus:_cache[0]||=async event=>{await nextTick(),!(event.defaultPrevented||_ctx.disabled)&&(isFocused.value=!0)},onBlur:_cache[1]||=async event=>{await nextTick(),!event.defaultPrevented&&(isFocused.value=!1)}}),{default:withCtx(()=>[renderSlot(_ctx.$slots,`default`)]),_:3},16,[`as`,`as-child`,`aria-disabled`,`data-disabled`,`data-highlighted`])]),_:3},8,[`value`]))}}),MenuItem_default=defineComponent({__name:`MenuItem`,props:{disabled:{type:Boolean,required:!1},textValue:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:[`select`],setup(__props,{emit:__emit}){let props=__props,emits=__emit,{forwardRef,currentElement}=useForwardExpose(),rootContext=injectMenuRootContext(),contentContext=injectMenuContentContext(),isPointerDownRef=ref(!1);async function handleSelect(){let menuItem=currentElement.value;if(!props.disabled&&menuItem){let itemSelectEvent=new CustomEvent(ITEM_SELECT,{bubbles:!0,cancelable:!0});emits(`select`,itemSelectEvent),await nextTick(),itemSelectEvent.defaultPrevented?isPointerDownRef.value=!1:rootContext.onClose()}}return(_ctx,_cache)=>(openBlock(),createBlock(MenuItemImpl_default,mergeProps(props,{ref:unref(forwardRef),onClick:handleSelect,onPointerdown:_cache[0]||=()=>{isPointerDownRef.value=!0},onPointerup:_cache[1]||=async event=>{await nextTick(),!event.defaultPrevented&&(isPointerDownRef.value||event.currentTarget?.click())},onKeydown:_cache[2]||=async event=>{let isTypingAhead=unref(contentContext).searchRef.value!==``;_ctx.disabled||isTypingAhead&&event.key===` `||unref(SELECTION_KEYS).includes(event.key)&&(event.currentTarget.click(),event.preventDefault())}}),{default:withCtx(()=>[renderSlot(_ctx.$slots,`default`)]),_:3},16))}}),MenuRootContentModal_default=defineComponent({__name:`MenuRootContentModal`,props:{loop:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:[`escapeKeyDown`,`pointerDownOutside`,`focusOutside`,`interactOutside`,`entryFocus`,`openAutoFocus`,`closeAutoFocus`],setup(__props,{emit:__emit}){let props=__props,emits=__emit,forwarded=useForwardPropsEmits(props,emits),menuContext=injectMenuContext(),{forwardRef,currentElement}=useForwardExpose();return useHideOthers(currentElement),(_ctx,_cache)=>(openBlock(),createBlock(MenuContentImpl_default,mergeProps(unref(forwarded),{ref:unref(forwardRef),"trap-focus":unref(menuContext).open.value,"disable-outside-pointer-events":unref(menuContext).open.value,"disable-outside-scroll":!0,onDismiss:_cache[0]||=$event=>unref(menuContext).onOpenChange(!1),onFocusOutside:_cache[1]||=withModifiers($event=>emits(`focusOutside`,$event),[`prevent`])}),{default:withCtx(()=>[renderSlot(_ctx.$slots,`default`)]),_:3},16,[`trap-focus`,`disable-outside-pointer-events`]))}}),MenuRootContentNonModal_default=defineComponent({__name:`MenuRootContentNonModal`,props:{loop:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:[`escapeKeyDown`,`pointerDownOutside`,`focusOutside`,`interactOutside`,`entryFocus`,`openAutoFocus`,`closeAutoFocus`],setup(__props,{emit:__emit}){let forwarded=useForwardPropsEmits(__props,__emit),menuContext=injectMenuContext();return(_ctx,_cache)=>(openBlock(),createBlock(MenuContentImpl_default,mergeProps(unref(forwarded),{"trap-focus":!1,"disable-outside-pointer-events":!1,"disable-outside-scroll":!1,onDismiss:_cache[0]||=$event=>unref(menuContext).onOpenChange(!1)}),{default:withCtx(()=>[renderSlot(_ctx.$slots,`default`)]),_:3},16))}}),MenuContent_default=defineComponent({__name:`MenuContent`,props:{forceMount:{type:Boolean,required:!1},loop:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:[`escapeKeyDown`,`pointerDownOutside`,`focusOutside`,`interactOutside`,`entryFocus`,`openAutoFocus`,`closeAutoFocus`],setup(__props,{emit:__emit}){let forwarded=useForwardPropsEmits(__props,__emit),menuContext=injectMenuContext(),rootContext=injectMenuRootContext();return(_ctx,_cache)=>(openBlock(),createBlock(unref(Presence_default),{present:_ctx.forceMount||unref(menuContext).open.value},{default:withCtx(()=>[unref(rootContext).modal.value?(openBlock(),createBlock(MenuRootContentModal_default,normalizeProps(mergeProps({key:0},{..._ctx.$attrs,...unref(forwarded)})),{default:withCtx(()=>[renderSlot(_ctx.$slots,`default`)]),_:3},16)):(openBlock(),createBlock(MenuRootContentNonModal_default,normalizeProps(mergeProps({key:1},{..._ctx.$attrs,...unref(forwarded)})),{default:withCtx(()=>[renderSlot(_ctx.$slots,`default`)]),_:3},16))]),_:3},8,[`present`]))}}),MenuGroup_default=defineComponent({__name:`MenuGroup`,props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(__props){let props=__props;return(_ctx,_cache)=>(openBlock(),createBlock(unref(Primitive),mergeProps({role:`group`},props),{default:withCtx(()=>[renderSlot(_ctx.$slots,`default`)]),_:3},16))}}),MenuLabel_default=defineComponent({__name:`MenuLabel`,props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:`div`}},setup(__props){let props=__props;return(_ctx,_cache)=>(openBlock(),createBlock(unref(Primitive),normalizeProps(guardReactiveProps(props)),{default:withCtx(()=>[renderSlot(_ctx.$slots,`default`)]),_:3},16))}}),MenuPortal_default=defineComponent({__name:`MenuPortal`,props:{to:{type:null,required:!1},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(__props){let props=__props;return(_ctx,_cache)=>(openBlock(),createBlock(unref(Teleport_default),normalizeProps(guardReactiveProps(props)),{default:withCtx(()=>[renderSlot(_ctx.$slots,`default`)]),_:3},16))}}),MenuSeparator_default=defineComponent({__name:`MenuSeparator`,props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(__props){let props=__props;return(_ctx,_cache)=>(openBlock(),createBlock(unref(Primitive),mergeProps(props,{role:`separator`,"aria-orientation":`horizontal`}),{default:withCtx(()=>[renderSlot(_ctx.$slots,`default`)]),_:3},16))}}),[injectDropdownMenuRootContext,provideDropdownMenuRootContext]=createContext(`DropdownMenuRoot`),DropdownMenuRoot_default=defineComponent({__name:`DropdownMenuRoot`,props:{defaultOpen:{type:Boolean,required:!1},open:{type:Boolean,required:!1,default:void 0},dir:{type:String,required:!1},modal:{type:Boolean,required:!1,default:!0}},emits:[`update:open`],setup(__props,{emit:__emit}){let props=__props,emit=__emit;useForwardExpose();let open=useVModel$1(props,`open`,emit,{defaultValue:props.defaultOpen,passive:props.open===void 0}),triggerElement=ref(),{modal,dir:propDir}=toRefs(props),dir=useDirection(propDir);return provideDropdownMenuRootContext({open,onOpenChange:value=>{open.value=value},onOpenToggle:()=>{open.value=!open.value},triggerId:``,triggerElement,contentId:``,modal,dir}),(_ctx,_cache)=>(openBlock(),createBlock(unref(MenuRoot_default),{open:unref(open),"onUpdate:open":_cache[0]||=$event=>isRef(open)?open.value=$event:null,dir:unref(dir),modal:unref(modal)},{default:withCtx(()=>[renderSlot(_ctx.$slots,`default`,{open:unref(open)})]),_:3},8,[`open`,`dir`,`modal`]))}}),DropdownMenuContent_default$1=defineComponent({__name:`DropdownMenuContent`,props:{forceMount:{type:Boolean,required:!1},loop:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:[`escapeKeyDown`,`pointerDownOutside`,`focusOutside`,`interactOutside`,`closeAutoFocus`],setup(__props,{emit:__emit}){let forwarded=useForwardPropsEmits(__props,__emit);useForwardExpose();let rootContext=injectDropdownMenuRootContext(),hasInteractedOutsideRef=ref(!1);function handleCloseAutoFocus(event){event.defaultPrevented||(hasInteractedOutsideRef.value||setTimeout(()=>{rootContext.triggerElement.value?.focus()},0),hasInteractedOutsideRef.value=!1,event.preventDefault())}return rootContext.contentId||=useId(void 0,`reka-dropdown-menu-content`),(_ctx,_cache)=>(openBlock(),createBlock(unref(MenuContent_default),mergeProps(unref(forwarded),{id:unref(rootContext).contentId,"aria-labelledby":unref(rootContext)?.triggerId,style:{"--reka-dropdown-menu-content-transform-origin":`var(--reka-popper-transform-origin)`,"--reka-dropdown-menu-content-available-width":`var(--reka-popper-available-width)`,"--reka-dropdown-menu-content-available-height":`var(--reka-popper-available-height)`,"--reka-dropdown-menu-trigger-width":`var(--reka-popper-anchor-width)`,"--reka-dropdown-menu-trigger-height":`var(--reka-popper-anchor-height)`},onCloseAutoFocus:handleCloseAutoFocus,onInteractOutside:_cache[0]||=event=>{if(event.defaultPrevented)return;let originalEvent=event.detail.originalEvent,ctrlLeftClick=originalEvent.button===0&&originalEvent.ctrlKey===!0,isRightClick=originalEvent.button===2||ctrlLeftClick;(!unref(rootContext).modal.value||isRightClick)&&(hasInteractedOutsideRef.value=!0),unref(rootContext).triggerElement.value?.contains(event.target)&&event.preventDefault()}}),{default:withCtx(()=>[renderSlot(_ctx.$slots,`default`)]),_:3},16,[`id`,`aria-labelledby`]))}}),DropdownMenuGroup_default$1=defineComponent({__name:`DropdownMenuGroup`,props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(__props){let props=__props;return useForwardExpose(),(_ctx,_cache)=>(openBlock(),createBlock(unref(MenuGroup_default),normalizeProps(guardReactiveProps(props)),{default:withCtx(()=>[renderSlot(_ctx.$slots,`default`)]),_:3},16))}}),DropdownMenuItem_default$1=defineComponent({__name:`DropdownMenuItem`,props:{disabled:{type:Boolean,required:!1},textValue:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:[`select`],setup(__props,{emit:__emit}){let props=__props,emitsAsProps=useEmitAsProps(__emit);return useForwardExpose(),(_ctx,_cache)=>(openBlock(),createBlock(unref(MenuItem_default),normalizeProps(guardReactiveProps({...props,...unref(emitsAsProps)})),{default:withCtx(()=>[renderSlot(_ctx.$slots,`default`)]),_:3},16))}}),DropdownMenuLabel_default$1=defineComponent({__name:`DropdownMenuLabel`,props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(__props){let props=__props;return useForwardExpose(),(_ctx,_cache)=>(openBlock(),createBlock(unref(MenuLabel_default),normalizeProps(guardReactiveProps(props)),{default:withCtx(()=>[renderSlot(_ctx.$slots,`default`)]),_:3},16))}}),DropdownMenuPortal_default=defineComponent({__name:`DropdownMenuPortal`,props:{to:{type:null,required:!1},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(__props){let props=__props;return(_ctx,_cache)=>(openBlock(),createBlock(unref(MenuPortal_default),normalizeProps(guardReactiveProps(props)),{default:withCtx(()=>[renderSlot(_ctx.$slots,`default`)]),_:3},16))}}),DropdownMenuSeparator_default$1=defineComponent({__name:`DropdownMenuSeparator`,props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(__props){let props=__props;return useForwardExpose(),(_ctx,_cache)=>(openBlock(),createBlock(unref(MenuSeparator_default),normalizeProps(guardReactiveProps(props)),{default:withCtx(()=>[renderSlot(_ctx.$slots,`default`)]),_:3},16))}}),DropdownMenuTrigger_default$1=defineComponent({__name:`DropdownMenuTrigger`,props:{disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:`button`}},setup(__props){let props=__props,rootContext=injectDropdownMenuRootContext(),{forwardRef,currentElement:triggerElement}=useForwardExpose();return onMounted(()=>{rootContext.triggerElement=triggerElement}),rootContext.triggerId||=useId(void 0,`reka-dropdown-menu-trigger`),(_ctx,_cache)=>(openBlock(),createBlock(unref(MenuAnchor_default),{"as-child":``},{default:withCtx(()=>[createVNode(unref(Primitive),{id:unref(rootContext).triggerId,ref:unref(forwardRef),type:_ctx.as===`button`?`button`:void 0,"as-child":props.asChild,as:_ctx.as,"aria-haspopup":`menu`,"aria-expanded":unref(rootContext).open.value,"aria-controls":unref(rootContext).open.value?unref(rootContext).contentId:void 0,"data-disabled":_ctx.disabled?``:void 0,disabled:_ctx.disabled,"data-state":unref(rootContext).open.value?`open`:`closed`,onClick:_cache[0]||=async event=>{!_ctx.disabled&&event.button===0&&event.ctrlKey===!1&&(unref(rootContext)?.onOpenToggle(),await nextTick(),unref(rootContext).open.value&&event.preventDefault())},onKeydown:_cache[1]||=withKeys(event=>{_ctx.disabled||([`Enter`,` `].includes(event.key)&&unref(rootContext).onOpenToggle(),event.key===`ArrowDown`&&unref(rootContext).onOpenChange(!0),[`Enter`,` `,`ArrowDown`].includes(event.key)&&event.preventDefault())},[`enter`,`space`,`arrow-down`])},{default:withCtx(()=>[renderSlot(_ctx.$slots,`default`)]),_:3},8,[`id`,`type`,`as-child`,`as`,`aria-expanded`,`aria-controls`,`data-disabled`,`disabled`,`data-state`])]),_:3}))}}),[injectTooltipProviderContext,provideTooltipProviderContext]=createContext(`TooltipProvider`),TooltipProvider_default=defineComponent({inheritAttrs:!1,__name:`TooltipProvider`,props:{delayDuration:{type:Number,required:!1,default:700},skipDelayDuration:{type:Number,required:!1,default:300},disableHoverableContent:{type:Boolean,required:!1,default:!1},disableClosingTrigger:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},ignoreNonKeyboardFocus:{type:Boolean,required:!1,default:!1}},setup(__props){let{delayDuration,skipDelayDuration,disableHoverableContent,disableClosingTrigger,ignoreNonKeyboardFocus,disabled}=toRefs(__props);useForwardExpose();let isOpenDelayed=ref(!0),isPointerInTransitRef=ref(!1),{start:startTimer,stop:clearTimer}=useTimeoutFn(()=>{isOpenDelayed.value=!0},skipDelayDuration,{immediate:!1});return provideTooltipProviderContext({isOpenDelayed,delayDuration,onOpen(){clearTimer(),isOpenDelayed.value=!1},onClose(){startTimer()},isPointerInTransitRef,disableHoverableContent,disableClosingTrigger,disabled,ignoreNonKeyboardFocus}),(_ctx,_cache)=>renderSlot(_ctx.$slots,`default`)}}),TOOLTIP_OPEN=`tooltip.open`,[injectTooltipRootContext,provideTooltipRootContext]=createContext(`TooltipRoot`),TooltipRoot_default=defineComponent({__name:`TooltipRoot`,props:{defaultOpen:{type:Boolean,required:!1,default:!1},open:{type:Boolean,required:!1,default:void 0},delayDuration:{type:Number,required:!1,default:void 0},disableHoverableContent:{type:Boolean,required:!1,default:void 0},disableClosingTrigger:{type:Boolean,required:!1,default:void 0},disabled:{type:Boolean,required:!1,default:void 0},ignoreNonKeyboardFocus:{type:Boolean,required:!1,default:void 0}},emits:[`update:open`],setup(__props,{emit:__emit}){let props=__props,emit=__emit;useForwardExpose();let providerContext=injectTooltipProviderContext(),disableHoverableContent=computed(()=>props.disableHoverableContent??providerContext.disableHoverableContent.value),disableClosingTrigger=computed(()=>props.disableClosingTrigger??providerContext.disableClosingTrigger.value),disableTooltip=computed(()=>props.disabled??providerContext.disabled.value),delayDuration=computed(()=>props.delayDuration??providerContext.delayDuration.value),ignoreNonKeyboardFocus=computed(()=>props.ignoreNonKeyboardFocus??providerContext.ignoreNonKeyboardFocus.value),open=useVModel$1(props,`open`,emit,{defaultValue:props.defaultOpen,passive:props.open===void 0});watch(open,isOpen=>{providerContext.onClose&&(isOpen?(providerContext.onOpen(),document.dispatchEvent(new CustomEvent(TOOLTIP_OPEN))):providerContext.onClose())});let wasOpenDelayedRef=ref(!1),trigger=ref(),stateAttribute=computed(()=>open.value?wasOpenDelayedRef.value?`delayed-open`:`instant-open`:`closed`),{start:startTimer,stop:clearTimer}=useTimeoutFn(()=>{wasOpenDelayedRef.value=!0,open.value=!0},delayDuration,{immediate:!1});function handleOpen(){clearTimer(),wasOpenDelayedRef.value=!1,open.value=!0}function handleClose(){clearTimer(),open.value=!1}function handleDelayedOpen(){startTimer()}return provideTooltipRootContext({contentId:``,open,stateAttribute,trigger,onTriggerChange(el){trigger.value=el},onTriggerEnter(){providerContext.isOpenDelayed.value?handleDelayedOpen():handleOpen()},onTriggerLeave(){disableHoverableContent.value?handleClose():clearTimer()},onOpen:handleOpen,onClose:handleClose,disableHoverableContent,disableClosingTrigger,disabled:disableTooltip,ignoreNonKeyboardFocus}),(_ctx,_cache)=>(openBlock(),createBlock(unref(PopperRoot_default),null,{default:withCtx(()=>[renderSlot(_ctx.$slots,`default`,{open:unref(open)})]),_:3}))}}),TooltipContentImpl_default=defineComponent({__name:`TooltipContentImpl`,props:{ariaLabel:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},side:{type:null,required:!1,default:`top`},sideOffset:{type:Number,required:!1,default:0},align:{type:null,required:!1,default:`center`},alignOffset:{type:Number,required:!1},avoidCollisions:{type:Boolean,required:!1,default:!0},collisionBoundary:{type:null,required:!1,default:()=>[]},collisionPadding:{type:[Number,Object],required:!1,default:0},arrowPadding:{type:Number,required:!1,default:0},sticky:{type:String,required:!1,default:`partial`},hideWhenDetached:{type:Boolean,required:!1,default:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1}},emits:[`escapeKeyDown`,`pointerDownOutside`],setup(__props,{emit:__emit}){let props=__props,emits=__emit,rootContext=injectTooltipRootContext(),{forwardRef}=useForwardExpose(),slot=useSlots(),defaultSlot=computed(()=>slot.default?.({})),ariaLabel=computed(()=>{if(props.ariaLabel)return props.ariaLabel;let content=``;function recursiveTextSearch(node){typeof node.children==`string`&&node.type!==Comment?content+=node.children:Array.isArray(node.children)&&node.children.forEach(child=>recursiveTextSearch(child))}return defaultSlot.value?.forEach(node=>recursiveTextSearch(node)),content}),popperContentProps=computed(()=>{let{ariaLabel:_,...restProps}=props;return restProps});return onMounted(()=>{useEventListener$1(window,`scroll`,event=>{event.target?.contains(rootContext.trigger.value)&&rootContext.onClose()}),useEventListener$1(window,TOOLTIP_OPEN,rootContext.onClose)}),(_ctx,_cache)=>(openBlock(),createBlock(unref(DismissableLayer_default),{"as-child":``,"disable-outside-pointer-events":!1,onEscapeKeyDown:_cache[0]||=$event=>emits(`escapeKeyDown`,$event),onPointerDownOutside:_cache[1]||=event=>{unref(rootContext).disableClosingTrigger.value&&unref(rootContext).trigger.value?.contains(event.target)&&event.preventDefault(),emits(`pointerDownOutside`,event)},onFocusOutside:_cache[2]||=withModifiers(()=>{},[`prevent`]),onDismiss:_cache[3]||=$event=>unref(rootContext).onClose()},{default:withCtx(()=>[createVNode(unref(PopperContent_default),mergeProps({ref:unref(forwardRef),"data-state":unref(rootContext).stateAttribute.value},{..._ctx.$attrs,...popperContentProps.value},{style:{"--reka-tooltip-content-transform-origin":`var(--reka-popper-transform-origin)`,"--reka-tooltip-content-available-width":`var(--reka-popper-available-width)`,"--reka-tooltip-content-available-height":`var(--reka-popper-available-height)`,"--reka-tooltip-trigger-width":`var(--reka-popper-anchor-width)`,"--reka-tooltip-trigger-height":`var(--reka-popper-anchor-height)`}}),{default:withCtx(()=>[renderSlot(_ctx.$slots,`default`),createVNode(unref(VisuallyHidden_default),{id:unref(rootContext).contentId,role:`tooltip`},{default:withCtx(()=>[createTextVNode(toDisplayString(ariaLabel.value),1)]),_:1},8,[`id`])]),_:3},16,[`data-state`])]),_:3}))}}),TooltipContentHoverable_default=defineComponent({__name:`TooltipContentHoverable`,props:{ariaLabel:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1}},setup(__props){let forwardedProps=useForwardProps(__props),{forwardRef,currentElement}=useForwardExpose(),{trigger,onClose}=injectTooltipRootContext(),providerContext=injectTooltipProviderContext(),{isPointerInTransit,onPointerExit}=useGraceArea(trigger,currentElement);return providerContext.isPointerInTransitRef=isPointerInTransit,onPointerExit(()=>{onClose()}),(_ctx,_cache)=>(openBlock(),createBlock(TooltipContentImpl_default,mergeProps({ref:unref(forwardRef)},unref(forwardedProps)),{default:withCtx(()=>[renderSlot(_ctx.$slots,`default`)]),_:3},16))}}),TooltipContent_default$1=defineComponent({__name:`TooltipContent`,props:{forceMount:{type:Boolean,required:!1},ariaLabel:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},side:{type:null,required:!1,default:`top`},sideOffset:{type:Number,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1}},emits:[`escapeKeyDown`,`pointerDownOutside`],setup(__props,{emit:__emit}){let props=__props,emits=__emit,rootContext=injectTooltipRootContext(),forwarded=useForwardPropsEmits(props,emits),{forwardRef}=useForwardExpose();return(_ctx,_cache)=>(openBlock(),createBlock(unref(Presence_default),{present:_ctx.forceMount||unref(rootContext).open.value},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(unref(rootContext).disableHoverableContent.value?TooltipContentImpl_default:TooltipContentHoverable_default),mergeProps({ref:unref(forwardRef)},unref(forwarded)),{default:withCtx(()=>[renderSlot(_ctx.$slots,`default`)]),_:3},16))]),_:3},8,[`present`]))}}),TooltipPortal_default=defineComponent({__name:`TooltipPortal`,props:{to:{type:null,required:!1},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(__props){let props=__props;return(_ctx,_cache)=>(openBlock(),createBlock(unref(Teleport_default),normalizeProps(guardReactiveProps(props)),{default:withCtx(()=>[renderSlot(_ctx.$slots,`default`)]),_:3},16))}}),TooltipTrigger_default$1=defineComponent({__name:`TooltipTrigger`,props:{reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:`button`}},setup(__props){let props=__props,rootContext=injectTooltipRootContext(),providerContext=injectTooltipProviderContext();rootContext.contentId||=useId(void 0,`reka-tooltip-content`);let{forwardRef,currentElement:triggerElement}=useForwardExpose(),isPointerDown=ref(!1),hasPointerMoveOpened=ref(!1),tooltipListeners=computed(()=>rootContext.disabled.value?{}:{click:handleClick,focus:handleFocus,pointermove:handlePointerMove,pointerleave:handlePointerLeave,pointerdown:handlePointerDown,blur:handleBlur});onMounted(()=>{rootContext.onTriggerChange(triggerElement.value)});function handlePointerUp(){setTimeout(()=>{isPointerDown.value=!1},1)}function handlePointerDown(){rootContext.open&&!rootContext.disableClosingTrigger.value&&rootContext.onClose(),isPointerDown.value=!0,document.addEventListener(`pointerup`,handlePointerUp,{once:!0})}function handlePointerMove(event){event.pointerType!==`touch`&&!hasPointerMoveOpened.value&&!providerContext.isPointerInTransitRef.value&&(rootContext.onTriggerEnter(),hasPointerMoveOpened.value=!0)}function handlePointerLeave(){rootContext.onTriggerLeave(),hasPointerMoveOpened.value=!1}function handleFocus(event){isPointerDown.value||rootContext.ignoreNonKeyboardFocus.value&&!event.target.matches?.(`:focus-visible`)||rootContext.onOpen()}function handleBlur(){rootContext.onClose()}function handleClick(){rootContext.disableClosingTrigger.value||rootContext.onClose()}return(_ctx,_cache)=>(openBlock(),createBlock(unref(PopperAnchor_default),{"as-child":``,reference:_ctx.reference},{default:withCtx(()=>[createVNode(unref(Primitive),mergeProps({ref:unref(forwardRef),"aria-describedby":unref(rootContext).open.value?unref(rootContext).contentId:void 0,"data-state":unref(rootContext).stateAttribute.value,as:_ctx.as,"as-child":props.asChild,"data-grace-area-trigger":``},toHandlers(tooltipListeners.value)),{default:withCtx(()=>[renderSlot(_ctx.$slots,`default`)]),_:3},16,[`aria-describedby`,`data-state`,`as`,`as-child`])]),_:3},8,[`reference`]))}}),Archive=createLucideIcon(`archive`,[[`rect`,{width:`20`,height:`5`,x:`2`,y:`3`,rx:`1`,key:`1wp1u1`}],[`path`,{d:`M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8`,key:`1s80jp`}],[`path`,{d:`M10 12h4`,key:`a56b0p`}]]),ArrowDown=createLucideIcon(`arrow-down`,[[`path`,{d:`M12 5v14`,key:`s699le`}],[`path`,{d:`m19 12-7 7-7-7`,key:`1idqje`}]]),ArrowRight=createLucideIcon(`arrow-right`,[[`path`,{d:`M5 12h14`,key:`1ays0h`}],[`path`,{d:`m12 5 7 7-7 7`,key:`xquz4c`}]]),ArrowUpDown=createLucideIcon(`arrow-up-down`,[[`path`,{d:`m21 16-4 4-4-4`,key:`f6ql7i`}],[`path`,{d:`M17 20V4`,key:`1ejh1v`}],[`path`,{d:`m3 8 4-4 4 4`,key:`11wl7u`}],[`path`,{d:`M7 4v16`,key:`1glfcx`}]]),Banknote=createLucideIcon(`banknote`,[[`rect`,{width:`20`,height:`12`,x:`2`,y:`6`,rx:`2`,key:`9lu3g6`}],[`circle`,{cx:`12`,cy:`12`,r:`2`,key:`1c9p78`}],[`path`,{d:`M6 12h.01M18 12h.01`,key:`113zkx`}]]),Bell=createLucideIcon(`bell`,[[`path`,{d:`M10.268 21a2 2 0 0 0 3.464 0`,key:`vwvbt9`}],[`path`,{d:`M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326`,key:`11g9vi`}]]),Bold=createLucideIcon(`bold`,[[`path`,{d:`M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8`,key:`mg9rjx`}]]),BookOpen=createLucideIcon(`book-open`,[[`path`,{d:`M12 7v14`,key:`1akyts`}],[`path`,{d:`M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z`,key:`ruj8y`}]]),Bookmark=createLucideIcon(`bookmark`,[[`path`,{d:`m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z`,key:`1fy3hk`}]]),Box=createLucideIcon(`box`,[[`path`,{d:`M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z`,key:`hh9hay`}],[`path`,{d:`m3.3 7 8.7 5 8.7-5`,key:`g66t2b`}],[`path`,{d:`M12 22V12`,key:`d0xqtd`}]]),Briefcase=createLucideIcon(`briefcase`,[[`path`,{d:`M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16`,key:`jecpp`}],[`rect`,{width:`20`,height:`14`,x:`2`,y:`6`,rx:`2`,key:`i6l2r4`}]]),Building=createLucideIcon(`building`,[[`path`,{d:`M12 10h.01`,key:`1nrarc`}],[`path`,{d:`M12 14h.01`,key:`1etili`}],[`path`,{d:`M12 6h.01`,key:`1vi96p`}],[`path`,{d:`M16 10h.01`,key:`1m94wz`}],[`path`,{d:`M16 14h.01`,key:`1gbofw`}],[`path`,{d:`M16 6h.01`,key:`1x0f13`}],[`path`,{d:`M8 10h.01`,key:`19clt8`}],[`path`,{d:`M8 14h.01`,key:`6423bh`}],[`path`,{d:`M8 6h.01`,key:`1dz90k`}],[`path`,{d:`M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3`,key:`cabbwy`}],[`rect`,{x:`4`,y:`2`,width:`16`,height:`20`,rx:`2`,key:`1uxh74`}]]),Calculator=createLucideIcon(`calculator`,[[`rect`,{width:`16`,height:`20`,x:`4`,y:`2`,rx:`2`,key:`1nb95v`}],[`line`,{x1:`8`,x2:`16`,y1:`6`,y2:`6`,key:`x4nwl0`}],[`line`,{x1:`16`,x2:`16`,y1:`14`,y2:`18`,key:`wjye3r`}],[`path`,{d:`M16 10h.01`,key:`1m94wz`}],[`path`,{d:`M12 10h.01`,key:`1nrarc`}],[`path`,{d:`M8 10h.01`,key:`19clt8`}],[`path`,{d:`M12 14h.01`,key:`1etili`}],[`path`,{d:`M8 14h.01`,key:`6423bh`}],[`path`,{d:`M12 18h.01`,key:`mhygvu`}],[`path`,{d:`M8 18h.01`,key:`lrp35t`}]]),CalendarClock=createLucideIcon(`calendar-clock`,[[`path`,{d:`M16 14v2.2l1.6 1`,key:`fo4ql5`}],[`path`,{d:`M16 2v4`,key:`4m81vk`}],[`path`,{d:`M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5`,key:`1osxxc`}],[`path`,{d:`M3 10h5`,key:`r794hk`}],[`path`,{d:`M8 2v4`,key:`1cmpym`}],[`circle`,{cx:`16`,cy:`16`,r:`6`,key:`qoo3c4`}]]),ChartColumn=createLucideIcon(`chart-column`,[[`path`,{d:`M3 3v16a2 2 0 0 0 2 2h16`,key:`c24i48`}],[`path`,{d:`M18 17V9`,key:`2bz60n`}],[`path`,{d:`M13 17V5`,key:`1frdt8`}],[`path`,{d:`M8 17v-3`,key:`17ska0`}]]),ChevronsUpDown=createLucideIcon(`chevrons-up-down`,[[`path`,{d:`m7 15 5 5 5-5`,key:`1hf1tw`}],[`path`,{d:`m7 9 5-5 5 5`,key:`sgt6xg`}]]),CircleQuestionMark=createLucideIcon(`circle-question-mark`,[[`circle`,{cx:`12`,cy:`12`,r:`10`,key:`1mglay`}],[`path`,{d:`M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3`,key:`1u773s`}],[`path`,{d:`M12 17h.01`,key:`p32p05`}]]),Circle=createLucideIcon(`circle`,[[`circle`,{cx:`12`,cy:`12`,r:`10`,key:`1mglay`}]]),ClipboardList=createLucideIcon(`clipboard-list`,[[`rect`,{width:`8`,height:`4`,x:`8`,y:`2`,rx:`1`,ry:`1`,key:`tgr4d6`}],[`path`,{d:`M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2`,key:`116196`}],[`path`,{d:`M12 11h4`,key:`1jrz19`}],[`path`,{d:`M12 16h4`,key:`n85exb`}],[`path`,{d:`M8 11h.01`,key:`1dfujw`}],[`path`,{d:`M8 16h.01`,key:`18s6g9`}]]),Clock=createLucideIcon(`clock`,[[`path`,{d:`M12 6v6l4 2`,key:`mmk7yg`}],[`circle`,{cx:`12`,cy:`12`,r:`10`,key:`1mglay`}]]),Codesandbox=createLucideIcon(`codesandbox`,[[`path`,{d:`M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z`,key:`yt0hxn`}],[`polyline`,{points:`7.5 4.21 12 6.81 16.5 4.21`,key:`fabo96`}],[`polyline`,{points:`7.5 19.79 7.5 14.6 3 12`,key:`z377f1`}],[`polyline`,{points:`21 12 16.5 14.6 16.5 19.79`,key:`9nrev1`}],[`polyline`,{points:`3.27 6.96 12 12.01 20.73 6.96`,key:`1180pa`}],[`line`,{x1:`12`,x2:`12`,y1:`22.08`,y2:`12`,key:`3z3uq6`}]]),Cog=createLucideIcon(`cog`,[[`path`,{d:`M11 10.27 7 3.34`,key:`16pf9h`}],[`path`,{d:`m11 13.73-4 6.93`,key:`794ttg`}],[`path`,{d:`M12 22v-2`,key:`1osdcq`}],[`path`,{d:`M12 2v2`,key:`tus03m`}],[`path`,{d:`M14 12h8`,key:`4f43i9`}],[`path`,{d:`m17 20.66-1-1.73`,key:`eq3orb`}],[`path`,{d:`m17 3.34-1 1.73`,key:`2wel8s`}],[`path`,{d:`M2 12h2`,key:`1t8f8n`}],[`path`,{d:`m20.66 17-1.73-1`,key:`sg0v6f`}],[`path`,{d:`m20.66 7-1.73 1`,key:`1ow05n`}],[`path`,{d:`m3.34 17 1.73-1`,key:`nuk764`}],[`path`,{d:`m3.34 7 1.73 1`,key:`1ulond`}],[`circle`,{cx:`12`,cy:`12`,r:`2`,key:`1c9p78`}],[`circle`,{cx:`12`,cy:`12`,r:`8`,key:`46899m`}]]),Delete=createLucideIcon(`delete`,[[`path`,{d:`M10 5a2 2 0 0 0-1.344.519l-6.328 5.74a1 1 0 0 0 0 1.481l6.328 5.741A2 2 0 0 0 10 19h10a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2z`,key:`1yo7s0`}],[`path`,{d:`m12 9 6 6`,key:`anjzzh`}],[`path`,{d:`m18 9-6 6`,key:`1fp51s`}]]),Divide=createLucideIcon(`divide`,[[`circle`,{cx:`12`,cy:`6`,r:`1`,key:`1bh7o1`}],[`line`,{x1:`5`,x2:`19`,y1:`12`,y2:`12`,key:`13b5wn`}],[`circle`,{cx:`12`,cy:`18`,r:`1`,key:`lqb9t5`}]]),Download=createLucideIcon(`download`,[[`path`,{d:`M12 15V3`,key:`m9g1x1`}],[`path`,{d:`M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4`,key:`ih7n3h`}],[`path`,{d:`m7 10 5 5 5-5`,key:`brsn70`}]]),Equal=createLucideIcon(`equal`,[[`line`,{x1:`5`,x2:`19`,y1:`9`,y2:`9`,key:`1nwqeh`}],[`line`,{x1:`5`,x2:`19`,y1:`15`,y2:`15`,key:`g8yjpy`}]]),FileCheck=createLucideIcon(`file-check`,[[`path`,{d:`M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z`,key:`1oefj6`}],[`path`,{d:`M14 2v5a1 1 0 0 0 1 1h5`,key:`wfsgrz`}],[`path`,{d:`m9 15 2 2 4-4`,key:`1grp1n`}]]),FileInput=createLucideIcon(`file-input`,[[`path`,{d:`M4 11V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.706.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2v-1`,key:`1q9hii`}],[`path`,{d:`M14 2v5a1 1 0 0 0 1 1h5`,key:`wfsgrz`}],[`path`,{d:`M2 15h10`,key:`jfw4w8`}],[`path`,{d:`m9 18 3-3-3-3`,key:`112psh`}]]),FileMinus=createLucideIcon(`file-minus`,[[`path`,{d:`M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z`,key:`1oefj6`}],[`path`,{d:`M14 2v5a1 1 0 0 0 1 1h5`,key:`wfsgrz`}],[`path`,{d:`M9 15h6`,key:`cctwl0`}]]),FilePlus=createLucideIcon(`file-plus`,[[`path`,{d:`M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z`,key:`1oefj6`}],[`path`,{d:`M14 2v5a1 1 0 0 0 1 1h5`,key:`wfsgrz`}],[`path`,{d:`M9 15h6`,key:`cctwl0`}],[`path`,{d:`M12 18v-6`,key:`17g6i2`}]]),FileQuestionMark=createLucideIcon(`file-question-mark`,[[`path`,{d:`M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z`,key:`1oefj6`}],[`path`,{d:`M12 17h.01`,key:`p32p05`}],[`path`,{d:`M9.1 9a3 3 0 0 1 5.82 1c0 2-3 3-3 3`,key:`mhlwft`}]]),FileSearch=createLucideIcon(`file-search`,[[`path`,{d:`M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z`,key:`1oefj6`}],[`path`,{d:`M14 2v5a1 1 0 0 0 1 1h5`,key:`wfsgrz`}],[`circle`,{cx:`11.5`,cy:`14.5`,r:`2.5`,key:`1bq0ko`}],[`path`,{d:`M13.3 16.3 15 18`,key:`2quom7`}]]),FileSpreadsheet=createLucideIcon(`file-spreadsheet`,[[`path`,{d:`M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z`,key:`1oefj6`}],[`path`,{d:`M14 2v5a1 1 0 0 0 1 1h5`,key:`wfsgrz`}],[`path`,{d:`M8 13h2`,key:`yr2amv`}],[`path`,{d:`M14 13h2`,key:`un5t4a`}],[`path`,{d:`M8 17h2`,key:`2yhykz`}],[`path`,{d:`M14 17h2`,key:`10kma7`}]]),FolderOpen=createLucideIcon(`folder-open`,[[`path`,{d:`m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2`,key:`usdka0`}]]),Folder=createLucideIcon(`folder`,[[`path`,{d:`M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z`,key:`1kt360`}]]),GitCompare=createLucideIcon(`git-compare`,[[`circle`,{cx:`18`,cy:`18`,r:`3`,key:`1xkwt0`}],[`circle`,{cx:`6`,cy:`6`,r:`3`,key:`1lh9wr`}],[`path`,{d:`M13 6h3a2 2 0 0 1 2 2v7`,key:`1yeb86`}],[`path`,{d:`M11 18H8a2 2 0 0 1-2-2V9`,key:`19pyzm`}]]),GripVertical=createLucideIcon(`grip-vertical`,[[`circle`,{cx:`9`,cy:`12`,r:`1`,key:`1vctgf`}],[`circle`,{cx:`9`,cy:`5`,r:`1`,key:`hp0tcf`}],[`circle`,{cx:`9`,cy:`19`,r:`1`,key:`fkjjf6`}],[`circle`,{cx:`15`,cy:`12`,r:`1`,key:`1tmaij`}],[`circle`,{cx:`15`,cy:`5`,r:`1`,key:`19l28e`}],[`circle`,{cx:`15`,cy:`19`,r:`1`,key:`f4zoj3`}]]),Grip=createLucideIcon(`grip`,[[`circle`,{cx:`12`,cy:`5`,r:`1`,key:`gxeob9`}],[`circle`,{cx:`19`,cy:`5`,r:`1`,key:`w8mnmm`}],[`circle`,{cx:`5`,cy:`5`,r:`1`,key:`lttvr7`}],[`circle`,{cx:`12`,cy:`12`,r:`1`,key:`41hilf`}],[`circle`,{cx:`19`,cy:`12`,r:`1`,key:`1wjl8i`}],[`circle`,{cx:`5`,cy:`12`,r:`1`,key:`1pcz8c`}],[`circle`,{cx:`12`,cy:`19`,r:`1`,key:`lyex9k`}],[`circle`,{cx:`19`,cy:`19`,r:`1`,key:`shf9b7`}],[`circle`,{cx:`5`,cy:`19`,r:`1`,key:`bfqh0e`}]]),House=createLucideIcon(`house`,[[`path`,{d:`M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8`,key:`5wwlr5`}],[`path`,{d:`M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z`,key:`r6nss1`}]]),Image=createLucideIcon(`image`,[[`rect`,{width:`18`,height:`18`,x:`3`,y:`3`,rx:`2`,ry:`2`,key:`1m3agn`}],[`circle`,{cx:`9`,cy:`9`,r:`2`,key:`af1f0g`}],[`path`,{d:`m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21`,key:`1xmnt7`}]]),Italic=createLucideIcon(`italic`,[[`line`,{x1:`19`,x2:`10`,y1:`4`,y2:`4`,key:`15jd3p`}],[`line`,{x1:`14`,x2:`5`,y1:`20`,y2:`20`,key:`bu0au3`}],[`line`,{x1:`15`,x2:`9`,y1:`4`,y2:`20`,key:`uljnxc`}]]),Landmark=createLucideIcon(`landmark`,[[`path`,{d:`M10 18v-7`,key:`wt116b`}],[`path`,{d:`M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z`,key:`1m329m`}],[`path`,{d:`M14 18v-7`,key:`vav6t3`}],[`path`,{d:`M18 18v-7`,key:`aexdmj`}],[`path`,{d:`M3 22h18`,key:`8prr45`}],[`path`,{d:`M6 18v-7`,key:`1ivflk`}]]),Layers=createLucideIcon(`layers`,[[`path`,{d:`M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z`,key:`zw3jo`}],[`path`,{d:`M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12`,key:`1wduqc`}],[`path`,{d:`M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17`,key:`kqbvx6`}]]),Library=createLucideIcon(`library`,[[`path`,{d:`m16 6 4 14`,key:`ji33uf`}],[`path`,{d:`M12 6v14`,key:`1n7gus`}],[`path`,{d:`M8 8v12`,key:`1gg7y9`}],[`path`,{d:`M4 4v16`,key:`6qkkli`}]]),LifeBuoy=createLucideIcon(`life-buoy`,[[`circle`,{cx:`12`,cy:`12`,r:`10`,key:`1mglay`}],[`path`,{d:`m4.93 4.93 4.24 4.24`,key:`1ymg45`}],[`path`,{d:`m14.83 9.17 4.24-4.24`,key:`1cb5xl`}],[`path`,{d:`m14.83 14.83 4.24 4.24`,key:`q42g0n`}],[`path`,{d:`m9.17 14.83-4.24 4.24`,key:`bqpfvv`}],[`circle`,{cx:`12`,cy:`12`,r:`4`,key:`4exip2`}]]),Link=createLucideIcon(`link`,[[`path`,{d:`M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71`,key:`1cjeqo`}],[`path`,{d:`M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71`,key:`19qd67`}]]),List=createLucideIcon(`list`,[[`path`,{d:`M3 5h.01`,key:`18ugdj`}],[`path`,{d:`M3 12h.01`,key:`nlz23k`}],[`path`,{d:`M3 19h.01`,key:`noohij`}],[`path`,{d:`M8 5h13`,key:`1pao27`}],[`path`,{d:`M8 12h13`,key:`1za7za`}],[`path`,{d:`M8 19h13`,key:`m83p4d`}]]),LogOut=createLucideIcon(`log-out`,[[`path`,{d:`m16 17 5-5-5-5`,key:`1bji2h`}],[`path`,{d:`M21 12H9`,key:`dn1m92`}],[`path`,{d:`M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4`,key:`1uf3rs`}]]),MessageCircleHeart=createLucideIcon(`message-circle-heart`,[[`path`,{d:`M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719`,key:`1sd12s`}],[`path`,{d:`M7.828 13.07A3 3 0 0 1 12 8.764a3 3 0 0 1 5.004 2.224 3 3 0 0 1-.832 2.083l-3.447 3.62a1 1 0 0 1-1.45-.001z`,key:`hoo97p`}]]),Minus=createLucideIcon(`minus`,[[`path`,{d:`M5 12h14`,key:`1ays0h`}]]),OctagonAlert=createLucideIcon(`octagon-alert`,[[`path`,{d:`M12 16h.01`,key:`1drbdi`}],[`path`,{d:`M12 8v4`,key:`1got3b`}],[`path`,{d:`M15.312 2a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586l-4.688-4.688A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2z`,key:`1fd625`}]]),PackageCheck=createLucideIcon(`package-check`,[[`path`,{d:`m16 16 2 2 4-4`,key:`gfu2re`}],[`path`,{d:`M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14`,key:`e7tb2h`}],[`path`,{d:`m7.5 4.27 9 5.15`,key:`1c824w`}],[`polyline`,{points:`3.29 7 12 12 20.71 7`,key:`ousv84`}],[`line`,{x1:`12`,x2:`12`,y1:`22`,y2:`12`,key:`a4e8g8`}]]),Package=createLucideIcon(`package`,[[`path`,{d:`M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z`,key:`1a0edw`}],[`path`,{d:`M12 22V12`,key:`d0xqtd`}],[`polyline`,{points:`3.29 7 12 12 20.71 7`,key:`ousv84`}],[`path`,{d:`m7.5 4.27 9 5.15`,key:`1c824w`}]]),PinOff=createLucideIcon(`pin-off`,[[`path`,{d:`M12 17v5`,key:`bb1du9`}],[`path`,{d:`M15 9.34V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H7.89`,key:`znwnzq`}],[`path`,{d:`m2 2 20 20`,key:`1ooewy`}],[`path`,{d:`M9 9v1.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h11`,key:`c9qhm2`}]]),Pin=createLucideIcon(`pin`,[[`path`,{d:`M12 17v5`,key:`bb1du9`}],[`path`,{d:`M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z`,key:`1nkz8b`}]]),Plus=createLucideIcon(`plus`,[[`path`,{d:`M5 12h14`,key:`1ays0h`}],[`path`,{d:`M12 5v14`,key:`s699le`}]]),RefreshCcw=createLucideIcon(`refresh-ccw`,[[`path`,{d:`M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8`,key:`14sxne`}],[`path`,{d:`M3 3v5h5`,key:`1xhq8a`}],[`path`,{d:`M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16`,key:`1hlbsb`}],[`path`,{d:`M16 16h5v5`,key:`ccwih5`}]]),RefreshCw=createLucideIcon(`refresh-cw`,[[`path`,{d:`M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8`,key:`v9h5vc`}],[`path`,{d:`M21 3v5h-5`,key:`1q7to0`}],[`path`,{d:`M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16`,key:`3uifl3`}],[`path`,{d:`M8 16H3v5`,key:`1cv678`}]]),Rows3=createLucideIcon(`rows-3`,[[`rect`,{width:`18`,height:`18`,x:`3`,y:`3`,rx:`2`,key:`afitv7`}],[`path`,{d:`M21 9H3`,key:`1338ky`}],[`path`,{d:`M21 15H3`,key:`9uk58r`}]]),Save=createLucideIcon(`save`,[[`path`,{d:`M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z`,key:`1c8476`}],[`path`,{d:`M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7`,key:`1ydtos`}],[`path`,{d:`M7 3v4a1 1 0 0 0 1 1h7`,key:`t51u73`}]]),Scale=createLucideIcon(`scale`,[[`path`,{d:`m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z`,key:`7g6ntu`}],[`path`,{d:`m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z`,key:`ijws7r`}],[`path`,{d:`M7 21h10`,key:`1b0cd5`}],[`path`,{d:`M12 3v18`,key:`108xh3`}],[`path`,{d:`M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2`,key:`3gwbw2`}]]),Settings=createLucideIcon(`settings`,[[`path`,{d:`M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915`,key:`1i5ecw`}],[`circle`,{cx:`12`,cy:`12`,r:`3`,key:`1v7zrd`}]]),Share=createLucideIcon(`share`,[[`path`,{d:`M12 2v13`,key:`1km8f5`}],[`path`,{d:`m16 6-4-4-4 4`,key:`13yo43`}],[`path`,{d:`M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8`,key:`1b2hhj`}]]),ShieldAlert=createLucideIcon(`shield-alert`,[[`path`,{d:`M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z`,key:`oel41y`}],[`path`,{d:`M12 8v4`,key:`1got3b`}],[`path`,{d:`M12 16h.01`,key:`1drbdi`}]]),ShoppingBag=createLucideIcon(`shopping-bag`,[[`path`,{d:`M16 10a4 4 0 0 1-8 0`,key:`1ltviw`}],[`path`,{d:`M3.103 6.034h17.794`,key:`awc11p`}],[`path`,{d:`M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z`,key:`o988cm`}]]),ShoppingCart=createLucideIcon(`shopping-cart`,[[`circle`,{cx:`8`,cy:`21`,r:`1`,key:`jimo8o`}],[`circle`,{cx:`19`,cy:`21`,r:`1`,key:`13723u`}],[`path`,{d:`M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12`,key:`9zh506`}]]),SlidersHorizontal=createLucideIcon(`sliders-horizontal`,[[`path`,{d:`M10 5H3`,key:`1qgfaw`}],[`path`,{d:`M12 19H3`,key:`yhmn1j`}],[`path`,{d:`M14 3v4`,key:`1sua03`}],[`path`,{d:`M16 17v4`,key:`1q0r14`}],[`path`,{d:`M21 12h-9`,key:`1o4lsq`}],[`path`,{d:`M21 19h-5`,key:`1rlt1p`}],[`path`,{d:`M21 5h-7`,key:`1oszz2`}],[`path`,{d:`M8 10v4`,key:`tgpxqk`}],[`path`,{d:`M8 12H3`,key:`a7s4jb`}]]),Smile=createLucideIcon(`smile`,[[`circle`,{cx:`12`,cy:`12`,r:`10`,key:`1mglay`}],[`path`,{d:`M8 14s1.5 2 4 2 4-2 4-2`,key:`1y1vjs`}],[`line`,{x1:`9`,x2:`9.01`,y1:`9`,y2:`9`,key:`yxxnd0`}],[`line`,{x1:`15`,x2:`15.01`,y1:`9`,y2:`9`,key:`1p4y9e`}]]),Store=createLucideIcon(`store`,[[`path`,{d:`M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5`,key:`slp6dd`}],[`path`,{d:`M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244`,key:`o0xfot`}],[`path`,{d:`M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05`,key:`wn3emo`}]]),Terminal=createLucideIcon(`terminal`,[[`path`,{d:`M12 19h8`,key:`baeox8`}],[`path`,{d:`m4 17 6-6-6-6`,key:`1yngyt`}]]),TrendingUp=createLucideIcon(`trending-up`,[[`path`,{d:`M16 7h6v6`,key:`box55l`}],[`path`,{d:`m22 7-8.5 8.5-5-5L2 17`,key:`1t1m79`}]]),Truck=createLucideIcon(`truck`,[[`path`,{d:`M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2`,key:`wrbu53`}],[`path`,{d:`M15 18H9`,key:`1lyqi6`}],[`path`,{d:`M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14`,key:`lysw3i`}],[`circle`,{cx:`17`,cy:`18`,r:`2`,key:`332jqn`}],[`circle`,{cx:`7`,cy:`18`,r:`2`,key:`19iecd`}]]),Upload=createLucideIcon(`upload`,[[`path`,{d:`M12 3v12`,key:`1x0j5s`}],[`path`,{d:`m17 8-5-5-5 5`,key:`7q97r8`}],[`path`,{d:`M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4`,key:`ih7n3h`}]]),UsersRound=createLucideIcon(`users-round`,[[`path`,{d:`M18 21a8 8 0 0 0-16 0`,key:`3ypg7q`}],[`circle`,{cx:`10`,cy:`8`,r:`5`,key:`o932ke`}],[`path`,{d:`M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3`,key:`10s06x`}]]),Users=createLucideIcon(`users`,[[`path`,{d:`M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2`,key:`1yyitq`}],[`path`,{d:`M16 3.128a4 4 0 0 1 0 7.744`,key:`16gr8j`}],[`path`,{d:`M22 21v-2a4 4 0 0 0-3-3.87`,key:`kshegd`}],[`circle`,{cx:`9`,cy:`7`,r:`4`,key:`nufk8`}]]),Wallet=createLucideIcon(`wallet`,[[`path`,{d:`M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1`,key:`18etb6`}],[`path`,{d:`M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4`,key:`xoc0q4`}]]),ZoomIn=createLucideIcon(`zoom-in`,[[`circle`,{cx:`11`,cy:`11`,r:`8`,key:`4ej97u`}],[`line`,{x1:`21`,x2:`16.65`,y1:`21`,y2:`16.65`,key:`13gj7c`}],[`line`,{x1:`11`,x2:`11`,y1:`8`,y2:`14`,key:`1vmskp`}],[`line`,{x1:`8`,x2:`14`,y1:`11`,y2:`11`,key:`durymu`}]]),ZoomOut=createLucideIcon(`zoom-out`,[[`circle`,{cx:`11`,cy:`11`,r:`8`,key:`4ej97u`}],[`line`,{x1:`21`,x2:`16.65`,y1:`21`,y2:`16.65`,key:`13gj7c`}],[`line`,{x1:`8`,x2:`14`,y1:`11`,y2:`11`,key:`durymu`}]]),Collapsible_default=defineComponent({__name:`Collapsible`,props:{defaultOpen:{type:Boolean},open:{type:Boolean},disabled:{type:Boolean},unmountOnHide:{type:Boolean},asChild:{type:Boolean},as:{}},emits:[`update:open`],setup(__props,{emit:__emit}){let forwarded=useForwardPropsEmits(__props,__emit);return(_ctx,_cache)=>(openBlock(),createBlock(unref(CollapsibleRoot_default),normalizeProps(guardReactiveProps(unref(forwarded))),{default:withCtx(({open})=>[renderSlot(_ctx.$slots,`default`,{open})]),_:3},16))}}),CollapsibleContent_default=defineComponent({__name:`CollapsibleContent`,props:{forceMount:{type:Boolean},asChild:{type:Boolean},as:{}},setup(__props){let props=__props;return(_ctx,_cache)=>(openBlock(),createBlock(unref(CollapsibleContent_default$1),mergeProps(props,{class:`overflow-hidden transition-all data-[state=closed]:animate-collapsible-up data-[state=open]:animate-collapsible-down`}),{default:withCtx(()=>[renderSlot(_ctx.$slots,`default`)]),_:3},16))}}),CollapsibleTrigger_default=defineComponent({__name:`CollapsibleTrigger`,props:{asChild:{type:Boolean},as:{}},setup(__props){let props=__props;return(_ctx,_cache)=>(openBlock(),createBlock(unref(CollapsibleTrigger_default$1),normalizeProps(guardReactiveProps(props)),{default:withCtx(()=>[renderSlot(_ctx.$slots,`default`)]),_:3},16))}});const SIDEBAR_COOKIE_NAME=`sidebar_state`,SIDEBAR_COOKIE_MAX_AGE=3600*24*7,SIDEBAR_WIDTH=`16rem`,SIDEBAR_WIDTH_MOBILE=`18rem`,SIDEBAR_WIDTH_ICON=`3rem`,SIDEBAR_KEYBOARD_SHORTCUT=`b`,[useSidebar,provideSidebarContext]=createContext(`Sidebar`);var _hoisted_1$46={class:`flex h-full w-full flex-col`},_hoisted_2$43=[`data-state`,`data-collapsible`,`data-variant`,`data-side`],_hoisted_3$41={"data-sidebar":`sidebar`,class:`flex h-full w-full flex-col text-sidebar-foreground bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow`},Sidebar_default=defineComponent({inheritAttrs:!1,__name:`Sidebar`,props:{side:{default:`left`},variant:{default:`sidebar`},collapsible:{default:`offcanvas`},class:{}},setup(__props){let props=__props,{isMobile,state,openMobile,setOpenMobile}=useSidebar();return(_ctx,_cache)=>__props.collapsible===`none`?(openBlock(),createElementBlock(`div`,mergeProps({key:0,class:unref(cn)(`flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground`,props.class)},_ctx.$attrs),[renderSlot(_ctx.$slots,`default`)],16)):unref(isMobile)?(openBlock(),createBlock(unref(Sheet_default),mergeProps({key:1,open:unref(openMobile)},_ctx.$attrs,{"onUpdate:open":unref(setOpenMobile)}),{default:withCtx(()=>[createVNode(unref(SheetContent_default),{"data-sidebar":`sidebar`,"data-mobile":`true`,side:__props.side,class:`w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden`,style:normalizeStyle({"--sidebar-width":unref(`18rem`)})},{default:withCtx(()=>[createBaseVNode(`div`,_hoisted_1$46,[renderSlot(_ctx.$slots,`default`)])]),_:3},8,[`side`,`style`])]),_:3},16,[`open`,`onUpdate:open`])):(openBlock(),createElementBlock(`div`,{key:2,class:`group peer hidden md:block`,"data-state":unref(state),"data-collapsible":unref(state)===`collapsed`?__props.collapsible:``,"data-variant":__props.variant,"data-side":__props.side},[createBaseVNode(`div`,{class:normalizeClass(unref(cn)(`duration-200 relative h-svh w-[--sidebar-width] bg-transparent transition-[width] ease-linear`,`group-data-[collapsible=offcanvas]:w-0`,`group-data-[side=right]:rotate-180`,__props.variant===`floating`||__props.variant===`inset`?`group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]`:`group-data-[collapsible=icon]:w-[--sidebar-width-icon]`))},null,2),createBaseVNode(`div`,mergeProps({class:unref(cn)(`duration-200 fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] ease-linear md:flex`,__props.side===`left`?`left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]`:`right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]`,__props.variant===`floating`||__props.variant===`inset`?`p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+_2px)]`:`group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l`,props.class)},_ctx.$attrs),[createBaseVNode(`div`,_hoisted_3$41,[renderSlot(_ctx.$slots,`default`)])],16)],8,_hoisted_2$43))}}),SidebarContent_default=defineComponent({__name:`SidebarContent`,props:{class:{}},setup(__props){let props=__props;return(_ctx,_cache)=>(openBlock(),createElementBlock(`div`,{"data-sidebar":`content`,class:normalizeClass(unref(cn)(`flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden`,props.class))},[renderSlot(_ctx.$slots,`default`)],2))}}),SidebarFooter_default=defineComponent({__name:`SidebarFooter`,props:{class:{}},setup(__props){let props=__props;return(_ctx,_cache)=>(openBlock(),createElementBlock(`div`,{"data-sidebar":`footer`,class:normalizeClass(unref(cn)(`flex flex-col gap-2 p-2`,props.class))},[renderSlot(_ctx.$slots,`default`)],2))}}),SidebarGroup_default=defineComponent({__name:`SidebarGroup`,props:{class:{}},setup(__props){let props=__props;return(_ctx,_cache)=>(openBlock(),createElementBlock(`div`,{"data-sidebar":`group`,class:normalizeClass(unref(cn)(`relative flex w-full min-w-0 flex-col p-2`,props.class))},[renderSlot(_ctx.$slots,`default`)],2))}}),SidebarGroupContent_default=defineComponent({__name:`SidebarGroupContent`,props:{class:{}},setup(__props){let props=__props;return(_ctx,_cache)=>(openBlock(),createElementBlock(`div`,{"data-sidebar":`group-content`,class:normalizeClass(unref(cn)(`w-full text-sm`,props.class))},[renderSlot(_ctx.$slots,`default`)],2))}}),SidebarGroupLabel_default=defineComponent({__name:`SidebarGroupLabel`,props:{asChild:{type:Boolean},as:{},class:{}},setup(__props){let props=__props;return(_ctx,_cache)=>(openBlock(),createBlock(unref(Primitive),{"data-sidebar":`group-label`,as:__props.as,"as-child":__props.asChild,class:normalizeClass(unref(cn)(`duration-200 flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opacity] ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0`,`group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0`,props.class))},{default:withCtx(()=>[renderSlot(_ctx.$slots,`default`)]),_:3},8,[`as`,`as-child`,`class`]))}}),SidebarHeader_default=defineComponent({__name:`SidebarHeader`,props:{class:{}},setup(__props){let props=__props;return(_ctx,_cache)=>(openBlock(),createElementBlock(`div`,{"data-sidebar":`header`,class:normalizeClass(unref(cn)(`flex flex-col gap-2 p-2`,props.class))},[renderSlot(_ctx.$slots,`default`)],2))}}),SidebarInset_default=defineComponent({__name:`SidebarInset`,props:{class:{}},setup(__props){let props=__props;return(_ctx,_cache)=>(openBlock(),createElementBlock(`main`,{class:normalizeClass(unref(cn)(`relative flex min-h-svh flex-1 flex-col bg-background`,`peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow`,props.class))},[renderSlot(_ctx.$slots,`default`)],2))}}),SidebarMenu_default=defineComponent({__name:`SidebarMenu`,props:{class:{}},setup(__props){let props=__props;return(_ctx,_cache)=>(openBlock(),createElementBlock(`ul`,{"data-sidebar":`menu`,class:normalizeClass(unref(cn)(`flex w-full min-w-0 flex-col gap-1`,props.class))},[renderSlot(_ctx.$slots,`default`)],2))}}),Tooltip_default=defineComponent({__name:`Tooltip`,props:{defaultOpen:{type:Boolean},open:{type:Boolean},delayDuration:{},disableHoverableContent:{type:Boolean},disableClosingTrigger:{type:Boolean},disabled:{type:Boolean},ignoreNonKeyboardFocus:{type:Boolean}},emits:[`update:open`],setup(__props,{emit:__emit}){let forwarded=useForwardPropsEmits(__props,__emit);return(_ctx,_cache)=>(openBlock(),createBlock(unref(TooltipRoot_default),normalizeProps(guardReactiveProps(unref(forwarded))),{default:withCtx(()=>[renderSlot(_ctx.$slots,`default`)]),_:3},16))}}),TooltipContent_default=defineComponent({inheritAttrs:!1,__name:`TooltipContent`,props:{forceMount:{type:Boolean},ariaLabel:{},asChild:{type:Boolean},as:{},side:{},sideOffset:{default:4},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},class:{}},emits:[`escapeKeyDown`,`pointerDownOutside`],setup(__props,{emit:__emit}){let props=__props,emits=__emit,delegatedProps=reactiveOmit(props,`class`),forwarded=useForwardPropsEmits(delegatedProps,emits);return(_ctx,_cache)=>(openBlock(),createBlock(unref(TooltipPortal_default),null,{default:withCtx(()=>[createVNode(unref(TooltipContent_default$1),mergeProps({...unref(forwarded),..._ctx.$attrs},{class:unref(cn)(`z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2`,props.class)}),{default:withCtx(()=>[renderSlot(_ctx.$slots,`default`)]),_:3},16,[`class`])]),_:3}))}}),TooltipTrigger_default=defineComponent({__name:`TooltipTrigger`,props:{reference:{},asChild:{type:Boolean},as:{}},setup(__props){let props=__props;return(_ctx,_cache)=>(openBlock(),createBlock(unref(TooltipTrigger_default$1),normalizeProps(guardReactiveProps(props)),{default:withCtx(()=>[renderSlot(_ctx.$slots,`default`)]),_:3},16))}}),SidebarMenuButtonChild_default=defineComponent({__name:`SidebarMenuButtonChild`,props:{variant:{default:`default`},size:{default:`default`},isActive:{type:Boolean},class:{},asChild:{type:Boolean},as:{default:`button`}},setup(__props){let props=__props;return(_ctx,_cache)=>(openBlock(),createBlock(unref(Primitive),mergeProps({"data-sidebar":`menu-button`,"data-size":__props.size,"data-active":__props.isActive,class:unref(cn)(unref(sidebarMenuButtonVariants)({variant:__props.variant,size:__props.size}),props.class),as:__props.as,"as-child":__props.asChild},_ctx.$attrs),{default:withCtx(()=>[renderSlot(_ctx.$slots,`default`)]),_:3},16,[`data-size`,`data-active`,`class`,`as`,`as-child`]))}}),SidebarMenuButton_default=defineComponent({inheritAttrs:!1,__name:`SidebarMenuButton`,props:{variant:{default:`default`},size:{default:`default`},isActive:{type:Boolean},class:{},asChild:{type:Boolean},as:{default:`button`},tooltip:{}},setup(__props){let props=__props,{isMobile,state}=useSidebar(),delegatedProps=reactiveOmit(props,`tooltip`);return(_ctx,_cache)=>__props.tooltip?(openBlock(),createBlock(unref(Tooltip_default),{key:1},{default:withCtx(()=>[createVNode(unref(TooltipTrigger_default),{"as-child":``},{default:withCtx(()=>[createVNode(SidebarMenuButtonChild_default,normalizeProps(guardReactiveProps({...unref(delegatedProps),..._ctx.$attrs})),{default:withCtx(()=>[renderSlot(_ctx.$slots,`default`)]),_:3},16)]),_:3}),createVNode(unref(TooltipContent_default),{side:`right`,align:`center`,hidden:unref(state)!==`collapsed`||unref(isMobile)},{default:withCtx(()=>[typeof __props.tooltip==`string`?(openBlock(),createElementBlock(Fragment,{key:0},[createTextVNode(toDisplayString(__props.tooltip),1)],64)):(openBlock(),createBlock(resolveDynamicComponent(__props.tooltip),{key:1}))]),_:1},8,[`hidden`])]),_:3})):(openBlock(),createBlock(SidebarMenuButtonChild_default,normalizeProps(mergeProps({key:0},{...unref(delegatedProps),..._ctx.$attrs})),{default:withCtx(()=>[renderSlot(_ctx.$slots,`default`)]),_:3},16))}}),SidebarMenuItem_default=defineComponent({__name:`SidebarMenuItem`,props:{class:{}},setup(__props){let props=__props;return(_ctx,_cache)=>(openBlock(),createElementBlock(`li`,{"data-sidebar":`menu-item`,class:normalizeClass(unref(cn)(`group/menu-item relative`,props.class))},[renderSlot(_ctx.$slots,`default`)],2))}}),SidebarMenuSub_default=defineComponent({__name:`SidebarMenuSub`,props:{class:{}},setup(__props){let props=__props;return(_ctx,_cache)=>(openBlock(),createElementBlock(`ul`,{"data-sidebar":`menu-badge`,class:normalizeClass(unref(cn)(`mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5`,`group-data-[collapsible=icon]:hidden`,props.class))},[renderSlot(_ctx.$slots,`default`)],2))}}),SidebarMenuSubButton_default=defineComponent({__name:`SidebarMenuSubButton`,props:{asChild:{type:Boolean},as:{default:`a`},size:{default:`md`},isActive:{type:Boolean},class:{}},setup(__props){let props=__props;return(_ctx,_cache)=>(openBlock(),createBlock(unref(Primitive),{"data-sidebar":`menu-sub-button`,as:__props.as,"as-child":__props.asChild,"data-size":__props.size,"data-active":__props.isActive,class:normalizeClass(unref(cn)(`flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground`,`data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground`,__props.size===`sm`&&`text-xs`,__props.size===`md`&&`text-sm`,`group-data-[collapsible=icon]:hidden`,props.class))},{default:withCtx(()=>[renderSlot(_ctx.$slots,`default`)]),_:3},8,[`as`,`as-child`,`data-size`,`data-active`,`class`]))}}),_sfc_main$38={};function _sfc_render(_ctx,_cache){return openBlock(),createElementBlock(`li`,null,[renderSlot(_ctx.$slots,`default`)])}var SidebarMenuSubItem_default=__plugin_vue_export_helper_default(_sfc_main$38,[[`render`,_sfc_render]]),SidebarProvider_default=defineComponent({__name:`SidebarProvider`,props:{defaultOpen:{type:Boolean,default:!defaultDocument?.cookie.includes(`${SIDEBAR_COOKIE_NAME}=false`)},open:{type:Boolean,default:void 0},class:{}},emits:[`update:open`],setup(__props,{emit:__emit}){let props=__props,emits=__emit,isMobile=useMediaQuery(`(max-width: 768px)`),openMobile=ref(!1),open=useVModel(props,`open`,emits,{defaultValue:props.defaultOpen??!1,passive:props.open===void 0});function setOpen(value){open.value=value,document.cookie=`${SIDEBAR_COOKIE_NAME}=${open.value}; path=/; max-age=604800`}function setOpenMobile(value){openMobile.value=value}function toggleSidebar(){return isMobile.value?setOpenMobile(!openMobile.value):setOpen(!open.value)}useEventListener(`keydown`,event=>{event.key===`b`&&(event.metaKey||event.ctrlKey)&&(event.preventDefault(),toggleSidebar())});let state=computed(()=>open.value?`expanded`:`collapsed`);return provideSidebarContext({state,open,setOpen,isMobile,openMobile,setOpenMobile,toggleSidebar}),(_ctx,_cache)=>(openBlock(),createBlock(unref(TooltipProvider_default),{"delay-duration":0},{default:withCtx(()=>[createBaseVNode(`div`,mergeProps({style:{"--sidebar-width":unref(`16rem`),"--sidebar-width-icon":unref(`3rem`)},class:unref(cn)(`group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar`,props.class)},_ctx.$attrs),[renderSlot(_ctx.$slots,`default`)],16)]),_:3}))}}),SidebarRail_default=defineComponent({__name:`SidebarRail`,props:{class:{}},setup(__props){let props=__props,{toggleSidebar}=useSidebar();return(_ctx,_cache)=>(openBlock(),createElementBlock(`button`,{"data-sidebar":`rail`,"aria-label":`Toggle Sidebar`,tabindex:-1,title:`Toggle Sidebar`,class:normalizeClass(unref(cn)(`absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex`,`[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize`,`[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize`,`group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar`,`[[data-side=left][data-collapsible=offcanvas]_&]:-right-2`,`[[data-side=right][data-collapsible=offcanvas]_&]:-left-2`,props.class)),onClick:_cache[0]||=(...args)=>unref(toggleSidebar)&&unref(toggleSidebar)(...args)},[renderSlot(_ctx.$slots,`default`)],2))}}),Separator_default=defineComponent({__name:`Separator`,props:{orientation:{default:`horizontal`},decorative:{type:Boolean,default:!0},asChild:{type:Boolean},as:{},class:{}},setup(__props){let props=__props,delegatedProps=reactiveOmit(props,`class`);return(_ctx,_cache)=>(openBlock(),createBlock(unref(Separator_default$1),mergeProps(unref(delegatedProps),{class:unref(cn)(`shrink-0 bg-border`,props.orientation===`horizontal`?`h-px w-full`:`w-px h-full`,props.class)}),null,16,[`class`]))}}),SidebarTrigger_default=defineComponent({__name:`SidebarTrigger`,props:{class:{}},setup(__props){let props=__props,{toggleSidebar}=useSidebar();return(_ctx,_cache)=>(openBlock(),createBlock(unref(Button_default$1),{"data-sidebar":`trigger`,variant:`ghost`,size:`icon`,class:normalizeClass(unref(cn)(`h-7 w-7`,props.class)),onClick:unref(toggleSidebar)},{default:withCtx(()=>[createVNode(unref(Rows3)),_cache[0]||=createBaseVNode(`span`,{class:`sr-only`},`Toggle Sidebar`,-1)]),_:1},8,[`class`,`onClick`]))}});const sidebarMenuButtonVariants=cva(`peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0`,{variants:{variant:{default:`hover:bg-sidebar-accent hover:text-sidebar-accent-foreground`,outline:`bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]`},size:{default:`h-8 text-sm`,sm:`h-7 text-xs`,lg:`h-12 text-sm group-data-[collapsible=icon]:!p-0`}},defaultVariants:{variant:`default`,size:`default`}});var _hoisted_1$45=[`href`],NavMain_default=defineComponent({__name:`NavMain`,props:{items:{}},setup(__props){return(_ctx,_cache)=>{let _component_RouterLink=resolveComponent(`RouterLink`);return openBlock(),createBlock(unref(SidebarGroup_default),{class:`mx-1`},{default:withCtx(()=>[createVNode(unref(SidebarGroupLabel_default),{class:`ps-0 ms-0 text-slate-400`},{default:withCtx(()=>[..._cache[0]||=[createTextVNode(`Organisation`,-1)]]),_:1}),createVNode(unref(SidebarMenu_default),null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(__props.items,item=>(openBlock(),createBlock(unref(Collapsible_default),{key:item.title,"as-child":``,"default-open":item.isActive,class:`group/collapsible`},{default:withCtx(()=>[createVNode(unref(SidebarMenuItem_default),null,{default:withCtx(()=>[createVNode(unref(CollapsibleTrigger_default),{"as-child":``},{default:withCtx(()=>[createVNode(unref(SidebarMenuButton_default),{tooltip:item.title,class:`cursor-pointer text-xs h-7`,onClick:$event=>_ctx.$router.push(item.url)},{default:withCtx(()=>[item.icon?(openBlock(),createBlock(resolveDynamicComponent(item.icon),{key:0,class:``})):createCommentVNode(``,!0),createVNode(_component_RouterLink,{to:item.url,class:`flex-1`},{default:withCtx(()=>[createBaseVNode(`span`,null,toDisplayString(item.title),1)]),_:2},1032,[`to`]),item.items?(openBlock(),createBlock(unref(ChevronRight),{key:1,class:`ml-auto transition-transform duration-200 group-data-[state=open]/collapsible:rotate-90`})):createCommentVNode(``,!0)]),_:2},1032,[`tooltip`,`onClick`])]),_:2},1024),item.items?(openBlock(),createBlock(unref(CollapsibleContent_default),{key:0},{default:withCtx(()=>[createVNode(unref(SidebarMenuSub_default),null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(item.items,subItem=>(openBlock(),createBlock(unref(SidebarMenuSubItem_default),{key:subItem.title},{default:withCtx(()=>[createVNode(unref(SidebarMenuSubButton_default),{"as-child":``},{default:withCtx(()=>[createBaseVNode(`a`,{href:subItem.url},[createBaseVNode(`span`,null,toDisplayString(subItem.title),1)],8,_hoisted_1$45)]),_:2},1024)]),_:2},1024))),128))]),_:2},1024)]),_:2},1024)):createCommentVNode(``,!0)]),_:2},1024)]),_:2},1032,[`default-open`]))),128))]),_:1})]),_:1})}}}),DropdownMenu_default$1=defineComponent({__name:`DropdownMenu`,props:{defaultOpen:{type:Boolean},open:{type:Boolean},dir:{},modal:{type:Boolean}},emits:[`update:open`],setup(__props,{emit:__emit}){let forwarded=useForwardPropsEmits(__props,__emit);return(_ctx,_cache)=>(openBlock(),createBlock(unref(DropdownMenuRoot_default),normalizeProps(guardReactiveProps(unref(forwarded))),{default:withCtx(()=>[renderSlot(_ctx.$slots,`default`)]),_:3},16))}}),DropdownMenuContent_default$2=defineComponent({__name:`DropdownMenuContent`,props:{forceMount:{type:Boolean},loop:{type:Boolean},side:{},sideOffset:{default:4},sideFlip:{type:Boolean},align:{},alignOffset:{},alignFlip:{type:Boolean},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{},class:{}},emits:[`escapeKeyDown`,`pointerDownOutside`,`focusOutside`,`interactOutside`,`closeAutoFocus`],setup(__props,{emit:__emit}){let props=__props,emits=__emit,delegatedProps=reactiveOmit(props,`class`),forwarded=useForwardPropsEmits(delegatedProps,emits);return(_ctx,_cache)=>(openBlock(),createBlock(unref(DropdownMenuPortal_default),null,{default:withCtx(()=>[createVNode(unref(DropdownMenuContent_default$1),mergeProps(unref(forwarded),{class:unref(cn)(`z-50 min-w-32 overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2`,props.class)}),{default:withCtx(()=>[renderSlot(_ctx.$slots,`default`)]),_:3},16,[`class`])]),_:3}))}}),DropdownMenuGroup_default=defineComponent({__name:`DropdownMenuGroup`,props:{asChild:{type:Boolean},as:{}},setup(__props){let props=__props;return(_ctx,_cache)=>(openBlock(),createBlock(unref(DropdownMenuGroup_default$1),normalizeProps(guardReactiveProps(props)),{default:withCtx(()=>[renderSlot(_ctx.$slots,`default`)]),_:3},16))}}),DropdownMenuItem_default$2=defineComponent({__name:`DropdownMenuItem`,props:{disabled:{type:Boolean},textValue:{},asChild:{type:Boolean},as:{},class:{},inset:{type:Boolean}},setup(__props){let props=__props,delegatedProps=reactiveOmit(props,`class`),forwardedProps=useForwardProps(delegatedProps);return(_ctx,_cache)=>(openBlock(),createBlock(unref(DropdownMenuItem_default$1),mergeProps(unref(forwardedProps),{class:unref(cn)(`relative flex cursor-default select-none items-center rounded-sm gap-2 px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0`,__props.inset&&`pl-8`,props.class)}),{default:withCtx(()=>[renderSlot(_ctx.$slots,`default`)]),_:3},16,[`class`]))}}),DropdownMenuLabel_default$2=defineComponent({__name:`DropdownMenuLabel`,props:{asChild:{type:Boolean},as:{},class:{},inset:{type:Boolean}},setup(__props){let props=__props,delegatedProps=reactiveOmit(props,`class`),forwardedProps=useForwardProps(delegatedProps);return(_ctx,_cache)=>(openBlock(),createBlock(unref(DropdownMenuLabel_default$1),mergeProps(unref(forwardedProps),{class:unref(cn)(`px-2 py-1.5 text-sm font-semibold`,__props.inset&&`pl-8`,props.class)}),{default:withCtx(()=>[renderSlot(_ctx.$slots,`default`)]),_:3},16,[`class`]))}}),DropdownMenuSeparator_default$2=defineComponent({__name:`DropdownMenuSeparator`,props:{asChild:{type:Boolean},as:{},class:{}},setup(__props){let props=__props,delegatedProps=reactiveOmit(props,`class`);return(_ctx,_cache)=>(openBlock(),createBlock(unref(DropdownMenuSeparator_default$1),mergeProps(unref(delegatedProps),{class:unref(cn)(`-mx-1 my-1 h-px bg-muted`,props.class)}),null,16,[`class`]))}}),DropdownMenuTrigger_default$2=defineComponent({__name:`DropdownMenuTrigger`,props:{disabled:{type:Boolean},asChild:{type:Boolean},as:{}},setup(__props){let forwardedProps=useForwardProps(__props);return(_ctx,_cache)=>(openBlock(),createBlock(unref(DropdownMenuTrigger_default$1),mergeProps({class:`outline-none`},unref(forwardedProps)),{default:withCtx(()=>[renderSlot(_ctx.$slots,`default`)]),_:3},16))}}),_hoisted_1$44={class:`grid flex-1 text-left text-sm leading-tight`},_hoisted_2$42={class:`truncate font-semibold`},_hoisted_3$40={class:`truncate text-xs`},_hoisted_4$39={class:`flex items-center gap-2 px-1 py-1.5 text-left text-sm`},_hoisted_5$38={class:`grid flex-1 text-left text-sm leading-tight`},_hoisted_6$35={class:`truncate font-semibold`},_hoisted_7$34={class:`truncate text-xs`},NavUser_default=defineComponent({__name:`NavUser`,props:{user:{}},setup(__props){let{isMobile}=useSidebar();return(_ctx,_cache)=>{let _component_RouterLink=resolveComponent(`RouterLink`);return openBlock(),createBlock(unref(SidebarMenu_default),null,{default:withCtx(()=>[createVNode(unref(SidebarMenuItem_default),null,{default:withCtx(()=>[createVNode(unref(DropdownMenu_default$1),null,{default:withCtx(()=>[createVNode(unref(DropdownMenuTrigger_default$2),{"as-child":``},{default:withCtx(()=>[createVNode(unref(SidebarMenuButton_default),{size:`lg`,class:`data-[state=open]:bg-sidebar-accent data-[state=open]:text-sidebar-accent-foreground`},{default:withCtx(()=>[createVNode(unref(Avatar_default),{class:`h-8 w-8 rounded-lg`},{default:withCtx(()=>[createVNode(unref(AvatarImage_default),{src:__props.user.avatar,alt:__props.user.name},null,8,[`src`,`alt`]),createVNode(unref(AvatarFallback_default),{class:`rounded-lg`},{default:withCtx(()=>[createTextVNode(toDisplayString((__props.user.name||`S`).charAt(0)),1)]),_:1})]),_:1}),createBaseVNode(`div`,_hoisted_1$44,[createBaseVNode(`span`,_hoisted_2$42,toDisplayString(__props.user.name),1),createBaseVNode(`span`,_hoisted_3$40,toDisplayString(__props.user.email),1)]),createVNode(unref(Ellipsis),{class:`ml-auto size-4`})]),_:1})]),_:1}),createVNode(unref(DropdownMenuContent_default$2),{class:`w-[--reka-dropdown-menu-trigger-width] min-w-56 rounded-sm border-solid border-slate-200 cursor-pointer`,side:unref(isMobile)?`bottom`:`right`,align:`end`,"side-offset":4},{default:withCtx(()=>[createVNode(unref(DropdownMenuLabel_default$2),{class:`p-0 font-normal`},{default:withCtx(()=>[createBaseVNode(`div`,_hoisted_4$39,[createVNode(unref(Avatar_default),{class:`h-8 w-8 rounded-lg`},{default:withCtx(()=>[createVNode(unref(AvatarImage_default),{src:__props.user.avatar,alt:__props.user.name},null,8,[`src`,`alt`]),createVNode(unref(AvatarFallback_default),{class:`rounded-lg`},{default:withCtx(()=>[createTextVNode(toDisplayString((__props.user.name||`S`).charAt(0)),1)]),_:1})]),_:1}),createBaseVNode(`div`,_hoisted_5$38,[createBaseVNode(`span`,_hoisted_6$35,toDisplayString(__props.user.name),1),createBaseVNode(`span`,_hoisted_7$34,toDisplayString(__props.user.email),1)])])]),_:1}),createVNode(unref(DropdownMenuSeparator_default$2)),createVNode(unref(DropdownMenuSeparator_default$2)),createVNode(unref(DropdownMenuGroup_default)),createVNode(unref(DropdownMenuSeparator_default$2)),createVNode(unref(DropdownMenuItem_default$2),{onClick:_cache[0]||=$event=>_ctx.$router.push(`/logout`),class:`cursor-pointer`},{default:withCtx(()=>[createVNode(unref(LogOut)),createVNode(_component_RouterLink,{to:`/logout`,class:`w-full`},{default:withCtx(()=>[..._cache[1]||=[createTextVNode(` Logout `,-1)]]),_:1})]),_:1})]),_:1},8,[`side`])]),_:1})]),_:1})]),_:1})}}}),_hoisted_1$43=[`href`],NavSecondary_default=defineComponent({__name:`NavSecondary`,props:{items:{},userEmail:{},userName:{},orgName:{},orgReference:{}},setup(__props){let props=__props,supportMailLink=computed(()=>{let to=`support@seamlessly.ng`,subject=`Priority Support Request  ${props.orgName}`,body=`
Hello Seamlessly Support,

My name is ${props.userName}. I would like to request priority support.

Here are my details:

 Full Name: ${props.userName}
 Email: ${props.userEmail}
 Organisation: ${props.orgName}
 Organisation Reference: ${props.orgReference}

Please assist me with the following issue:

[Describe your issue here]

Thank you,
${props.userName}
  `.trim();return`mailto:support@seamlessly.ng?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(body)}`});return(_ctx,_cache)=>{let _component_RouterLink=resolveComponent(`RouterLink`);return openBlock(),createBlock(unref(SidebarGroup_default),null,{default:withCtx(()=>[createVNode(unref(SidebarGroupContent_default),null,{default:withCtx(()=>[createVNode(unref(SidebarMenu_default),{class:`ms-1 pe-2`},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(__props.items,item=>(openBlock(),createBlock(unref(SidebarMenuItem_default),{key:item.title},{default:withCtx(()=>[createVNode(unref(SidebarMenuButton_default),{"as-child":``,size:`sm`},{default:withCtx(()=>[createVNode(_component_RouterLink,{to:item.url},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(item.icon))),createBaseVNode(`span`,null,toDisplayString(item.title),1)]),_:2},1032,[`to`])]),_:2},1024)]),_:2},1024))),128)),createVNode(unref(SidebarMenuItem_default),{class:`cursor-pointer`},{default:withCtx(()=>[createVNode(unref(SidebarMenuButton_default),{"as-child":``,size:`sm`},{default:withCtx(()=>[createBaseVNode(`a`,{href:supportMailLink.value},[createVNode(unref(LifeBuoy)),_cache[0]||=createBaseVNode(`span`,null,`Priority Support`,-1)],8,_hoisted_1$43)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}}),_hoisted_1$42={class:`flex aspect-square size-8 items-center justify-center rounded-full bg-slate-200 text-sidebar-primary-foreground`},_hoisted_2$41=[`src`],_hoisted_3$39={class:`grid flex-1 text-left text-sm leading-tight`},_hoisted_4$38={class:`truncate text-gray-600 empty:bg-slate-200/20 empty:h-5 empty:w-full rounded-full`},_hoisted_5$37={class:`size-7 aspect-square items-center justify-center rounded-full shadow-md border border-stone-100`},_hoisted_6$34=[`src`],_hoisted_7$33={class:`max-w-[190px] text-gray-600 overflow-clip`},_hoisted_8$33={class:`max-h-[40px] text-xs`},_hoisted_9$31={class:`flex size-5 items-center justify-center rounded-full p-1 bg-background`},_hoisted_10$31={class:`flex size-6 items-center justify-center rounded-full p-1 bg-background`},OrganisationSwitcher_default=defineComponent({__name:`OrganisationSwitcher`,setup(__props){let organisations=ref([]),activeOrganisation=ref({name:``,reference:``,logo:``}),{isMobile}=useSidebar();onMounted(async()=>{let{data:organisationsList}=await OrganisationService_default.getOrganisations();organisations.value=organisationsList,localStorage.setItem(`organisations`,JSON.stringify(organisationsList));let storedOrg=JSON.parse(localStorage.getItem(`organisation`)||`null`);storedOrg&&storedOrg.reference?(activeOrganisation.value=(organisationsList||[]).find(value=>value.reference==storedOrg.reference),setActiveOrganisation(activeOrganisation.value)):organisationsList.length>0&&setActiveOrganisation(organisationsList[0])});let setActiveOrganisation=organisation=>{activeOrganisation.value=organisation,localStorage.setItem(`organisation`,JSON.stringify(organisation)),localStorage.setItem(`organisation.reference`,organisation.reference)},activateOrganisation=organisation=>{setActiveOrganisation(organisation),window.location.reload()};return(_ctx,_cache)=>{let _component_RouterLink=resolveComponent(`RouterLink`);return openBlock(),createBlock(unref(SidebarMenu_default),null,{default:withCtx(()=>[createVNode(unref(SidebarMenuItem_default),null,{default:withCtx(()=>[createVNode(unref(DropdownMenu_default$1),null,{default:withCtx(()=>[createVNode(unref(DropdownMenuTrigger_default$2),{"as-child":``},{default:withCtx(()=>[createVNode(unref(SidebarMenuButton_default),{size:`lg`,class:`data-[state=open]:bg-sidebar-accent data-[state=open]:text-sidebar-accent-foreground`},{default:withCtx(()=>[createBaseVNode(`div`,_hoisted_1$42,[createBaseVNode(`img`,{src:`${activeOrganisation.value.logo||`/img/feather-square.png`}`,class:`size-8`},null,8,_hoisted_2$41)]),createBaseVNode(`div`,_hoisted_3$39,[createBaseVNode(`span`,_hoisted_4$38,toDisplayString(activeOrganisation.value.name),1),_cache[0]||=createBaseVNode(`span`,{class:`truncate text-xs text-gray-400 empty:bg-slate-200/20 empty:w-20 empty:ms-1 empty:h-3 empty:mt-1 rounded-full`},toDisplayString(`Plan`),-1)]),createVNode(unref(ChevronsUpDown),{class:`ml-auto`})]),_:1})]),_:1}),createVNode(unref(DropdownMenuContent_default$2),{class:`w-[--reka-dropdown-menu-trigger-width] min-w-56 rounded-sm border-solid text-gray-600 border-slate-300`,align:`start`,side:unref(isMobile)?`bottom`:`right`,"side-offset":4},{default:withCtx(()=>[createVNode(unref(DropdownMenuLabel_default$2),{class:`text-xs text-muted-foreground`},{default:withCtx(()=>[..._cache[1]||=[createTextVNode(` Organisation `,-1)]]),_:1}),(openBlock(!0),createElementBlock(Fragment,null,renderList(organisations.value,(organisation,index)=>(openBlock(),createBlock(unref(DropdownMenuItem_default$2),{key:organisation.name,class:`gap-2 p-2 cursor-pointer`,onClick:$event=>activateOrganisation(organisation)},{default:withCtx(()=>[createBaseVNode(`div`,_hoisted_5$37,[createBaseVNode(`img`,{src:organisation.logo||`/img/feather-square.png`,class:`size-7 aspect-square`},null,8,_hoisted_6$34)]),createBaseVNode(`div`,_hoisted_7$33,[createBaseVNode(`p`,_hoisted_8$33,toDisplayString(organisation.name),1)])]),_:2},1032,[`onClick`]))),128)),createVNode(unref(DropdownMenuSeparator_default$2)),createVNode(unref(DropdownMenuItem_default$2),{class:`gap-2 p-2`},{default:withCtx(()=>[createBaseVNode(`div`,_hoisted_9$31,[createVNode(unref(Plus),{class:`size-4`})]),createVNode(_component_RouterLink,{to:`/setup-organisation`,class:`font-medium text-muted-foreground w-full`},{default:withCtx(()=>[..._cache[2]||=[createTextVNode(` New Organsiation `,-1)]]),_:1})]),_:1}),createVNode(unref(DropdownMenuItem_default$2),{class:`gap-2 p-2`},{default:withCtx(()=>[createBaseVNode(`div`,_hoisted_10$31,[createVNode(unref(Cog),{class:`size-4`})]),createVNode(_component_RouterLink,{to:`/manage-organisation`,class:`font-medium text-muted-foreground w-full`},{default:withCtx(()=>[..._cache[3]||=[createTextVNode(` Manage Organsiation `,-1)]]),_:1})]),_:1})]),_:1},8,[`side`])]),_:1})]),_:1})]),_:1})}}});const useWorkspaceStore=defineStore(`workspace`,()=>{let openTabs=ref([{id:`flow`,type:`flow`,title:`Workspace`,icon:`Home`,closable:!1}]),activeTabId=ref(`flow`),activeTab=computed(()=>openTabs.value.find(t=>t.id===activeTabId.value));function openTab(tabConfig){if(openTabs.value.find(t=>t.id===tabConfig.id)){activeTabId.value=tabConfig.id;return}openTabs.value.push({...tabConfig,closable:tabConfig.closable!==!1}),activeTabId.value=tabConfig.id}function closeTab(tabId){let index=openTabs.value.findIndex(t=>t.id===tabId);if(index>-1&&openTabs.value[index].closable!==!1&&(openTabs.value.splice(index,1),activeTabId.value===tabId)){let newIndex=Math.min(index,openTabs.value.length-1);activeTabId.value=openTabs.value[newIndex]?.id||`flow`}}function setActiveTab(tabId){openTabs.value.some(t=>t.id===tabId)&&(activeTabId.value=tabId)}function reorderTabs(newOrder){openTabs.value=newOrder}return{openTabs,activeTabId,activeTab,openTab,closeTab,setActiveTab,reorderTabs}});var _hoisted_1$41={key:0,class:`px-2 py-2 ms-1`},_hoisted_2$40={class:`space-y-1`},_hoisted_3$38=[`onClick`],_hoisted_4$37={class:`flex items-center gap-2 overflow-hidden`},_hoisted_5$36={class:`truncate text-xs`},_hoisted_6$33=[`onClick`],AppSidebar_default=defineComponent({__name:`AppSidebar`,props:{side:{},variant:{default:`inset`},collapsible:{default:`icon`},class:{},isFlowOpen:{type:Boolean,default:!1}},emits:[`toggle-flow`,`toggle-applications`],async setup(__props,{emit:__emit}){let __temp,__restore,props=__props,emit=__emit,iconMap={Package,Box,SlidersHorizontal,TrendingUp,Users,UserPlus,FileText,Landmark,Scale,Link,BookOpen,Library,Folder,Clock,User,Building,Pin,Settings,BarChart:ChartNoAxesColumnIncreasing,HelpCircle:CircleQuestionMark,Home:House,FileSpreadsheet,BarChart3:ChartColumn,GitCompare,Receipt,Image},{name,email,photoUrl}=([__temp,__restore]=withAsyncContext(()=>UserService_default.get(`user`)),__temp=await __temp,__restore(),__temp),activeOrganisation=JSON.parse(localStorage.getItem(`organisation`)||`{}`),data={user:{name,email,avatar:photoUrl},navMain:[{title:`Overview`,url:`/`,icon:Globe},{title:`People`,url:`/team`,icon:UsersRound},{title:`Accounts`,url:`/accounts`,icon:BookOpen}],navSecondary:[{title:`Feedback`,url:`/feedback`,icon:MessageCircleHeart}]};getNotificationStore();let workspaceStore=useWorkspaceStore(),handleTabClick=tabId=>{workspaceStore.setActiveTab(tabId),props.isFlowOpen||emit(`toggle-flow`)},handleCloseTab=(e,tabId)=>{e.stopPropagation(),workspaceStore.closeTab(tabId)};return onMounted(()=>{}),(_ctx,_cache)=>(openBlock(),createBlock(unref(Sidebar_default),normalizeProps(guardReactiveProps(props)),{default:withCtx(()=>[createVNode(unref(SidebarHeader_default),null,{default:withCtx(()=>[createVNode(OrganisationSwitcher_default)]),_:1}),createVNode(unref(SidebarContent_default),{class:`overflow-x-hidden`},{default:withCtx(()=>[createVNode(NavMain_default,{items:data.navMain},null,8,[`items`]),_cache[3]||=createBaseVNode(`hr`,{class:`h-px my-2 bg-slate-50`},null,-1),createVNode(unref(SidebarMenu_default),{class:`px-2 mx-1`},{default:withCtx(()=>[createVNode(unref(SidebarMenuItem_default),null,{default:withCtx(()=>[createVNode(unref(SidebarMenuButton_default),{tooltip:`Workspace`,class:`cursor-pointer rounded-full`,onClick:_cache[0]||=$event=>emit(`toggle-applications`)},{default:withCtx(()=>[createVNode(unref(Codesandbox),{class:normalizeClass([`transition-transform duration-200`,props.isFlowOpen?`rotate-180 text-blue-900`:``])},null,8,[`class`]),_cache[1]||=createBaseVNode(`span`,null,`Flow`,-1)]),_:1})]),_:1})]),_:1}),_cache[4]||=createBaseVNode(`hr`,{class:`h-px my-2 bg-slate-50`},null,-1),unref(workspaceStore).openTabs.length>0?(openBlock(),createElementBlock(`div`,_hoisted_1$41,[_cache[2]||=createBaseVNode(`div`,{class:`pb-2 text-xs font-medium text-slate-500/90`},` Open Tabs `,-1),createBaseVNode(`div`,_hoisted_2$40,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(workspaceStore).openTabs,tab=>(openBlock(),createElementBlock(`div`,{key:tab.id,class:normalizeClass([`group flex items-center justify-between px-2 py-1.5 rounded-md cursor-pointer transition-colors text-sm`,unref(workspaceStore).activeTabId===tab.id?`bg-white text-slate-900 font-medium`:`text-slate-600 hover:bg-stone-100 hover:text-slate-900`]),onClick:$event=>handleTabClick(tab.id)},[createBaseVNode(`div`,_hoisted_4$37,[(openBlock(),createBlock(resolveDynamicComponent(iconMap[tab.icon]||unref(Layers)),{class:`h-4 w-4 shrink-0 opacity-70`})),createBaseVNode(`span`,_hoisted_5$36,toDisplayString(tab.title),1)]),tab.closable===!1?createCommentVNode(``,!0):(openBlock(),createElementBlock(`button`,{key:0,class:`opacity-0 group-hover:opacity-100 p-0.5 rounded-full hover:bg-slate-200 text-slate-400 hover:text-slate-600 transition-all`,onClick:$event=>handleCloseTab($event,tab.id)},[createVNode(unref(X),{class:`h-3 w-3`})],8,_hoisted_6$33))],10,_hoisted_3$38))),128))])])):createCommentVNode(``,!0),createVNode(NavSecondary_default,{items:data.navSecondary,class:`mt-auto`,"user-email":unref(email),"user-name":unref(name),"org-name":unref(activeOrganisation).name,"org-reference":unref(activeOrganisation).reference},null,8,[`items`,`user-email`,`user-name`,`org-name`,`org-reference`])]),_:1}),createVNode(unref(SidebarFooter_default),null,{default:withCtx(()=>[createVNode(NavUser_default,{user:data.user},null,8,[`user`])]),_:1}),createVNode(unref(SidebarRail_default))]),_:1},16))}}),HeaderCommandInput_default=defineComponent({__name:`HeaderCommandInput`,emits:[`open-dialog`],setup(__props,{emit:__emit}){let emit=__emit,root=ref(null),openDialog=()=>{emit(`open-dialog`)};return(_ctx,_cache)=>(openBlock(),createElementBlock(`div`,{ref_key:`root`,ref:root,class:`relative w-full`},[createVNode(unref(Command_default),{"is-dialog":!1,class:`rounded-full border border-neutral-200/50 bg-transparent shadow-none w-full`},{default:withCtx(()=>[createVNode(unref(CommandInput_default),{placeholder:`Give instructions, or search...`,onKeydown:openDialog,class:`w-full bg-transparent text-center`,onClick:openDialog,onInput:openDialog})]),_:1})],512))}});const commandGroups=[{heading:`Suggestions`,items:[{value:`calendar`,label:`Calendar`,icon:Calendar,disabled:!1},{value:`emoji`,label:`Search Emoji`,icon:Smile,disabled:!1},{value:`calculator`,label:`Calculator`,icon:Calculator,disabled:!1}]},{heading:`Settings`,items:[{value:`profile`,label:`Profile`,icon:User,shortcut:`P`,disabled:!1},{value:`billing`,label:`Billing`,icon:CreditCard,shortcut:`B`,disabled:!1},{value:`settings`,label:`Settings`,icon:Settings,shortcut:`S`,disabled:!1}]}];var CommandDialog_default=defineComponent({__name:`CommandDialog`,props:{open:{type:Boolean}},emits:[`update:open`,`select`],setup(__props,{emit:__emit}){let emit=__emit,handleSelect=value=>{emit(`select`,value),emit(`update:open`,!1)};return(_ctx,_cache)=>(openBlock(),createBlock(unref(Dialog_default$1),{open:__props.open,"onUpdate:open":_cache[0]||=$event=>_ctx.$emit(`update:open`,$event)},{default:withCtx(()=>[createVNode(unref(DialogContent_default$1),{class:`p-0 overflow-hidden shadow-lg`},{default:withCtx(()=>[createVNode(unref(Command_default),{"is-dialog":!0,class:`[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5`},{default:withCtx(()=>[createVNode(unref(CommandInput_default),{placeholder:`Give me an instruction, or search for anything...`}),createVNode(unref(CommandList_default),{class:`rounded-sm mt-4`},{default:withCtx(()=>[createVNode(unref(CommandEmpty_default),null,{default:withCtx(()=>[..._cache[1]||=[createTextVNode(`No results found.`,-1)]]),_:1}),(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(commandGroups),(group,index)=>(openBlock(),createBlock(unref(CommandGroup_default),{key:group.heading,heading:group.heading,class:`py-1`},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(group.items,item=>(openBlock(),createBlock(unref(CommandItem_default),{key:item.value,value:item.value,disabled:item.disabled,onSelect:$event=>handleSelect(item.value)},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(item.icon),{class:`mr-2 h-4 w-4`})),createBaseVNode(`span`,null,toDisplayString(item.label),1),item.shortcut?(openBlock(),createBlock(unref(CommandShortcut_default),{key:0},{default:withCtx(()=>[createTextVNode(toDisplayString(item.shortcut),1)]),_:2},1024)):createCommentVNode(``,!0)]),_:2},1032,[`value`,`disabled`,`onSelect`]))),128)),index<unref(commandGroups).length-1?(openBlock(),createBlock(unref(CommandSeparator_default),{key:0})):createCommentVNode(``,!0)]),_:2},1032,[`heading`]))),128))]),_:1})]),_:1})]),_:1})]),_:1},8,[`open`]))}}),_hoisted_1$40={class:`w-72 rounded-2xl bg-slate-900 shadow-2xl overflow-hidden border border-neutral-700/50`},_hoisted_2$39={class:`flex items-center gap-2 text-neutral-400`},_hoisted_3$37={class:`px-4 py-5 bg-slate-950`},_hoisted_4$36={class:`flex items-center justify-between mb-1`},_hoisted_5$35={class:`text-neutral-500 text-xs h-4`},_hoisted_6$32={class:`grid grid-cols-4 gap-1 p-2 bg-slate-950`},_hoisted_7$32=[`onClick`],_hoisted_8$32={key:1},CalculatorDialog_vue_vue_type_script_setup_true_lang_default=defineComponent({__name:`CalculatorDialog`,props:{open:{type:Boolean}},emits:[`update:open`],setup(__props,{emit:__emit}){let emit=__emit,display=ref(`0`),currentOperand=ref(``),previousOperand=ref(``),operation=ref(null),shouldResetDisplay=ref(!1),dialogRef=ref(null),isDragging=ref(!1),dragOffset=ref({x:0,y:0}),position=ref({x:0,y:0}),isPositioned=ref(!1),formattedDisplay=computed(()=>{if(display.value===``)return`0`;let number=parseFloat(display.value);if(isNaN(number)||display.value.endsWith(`.`))return display.value;let parts=display.value.split(`.`),intPart=parseInt(parts[0]).toLocaleString(`en-US`);return parts.length===2?`${intPart}.${parts[1]}`:intPart}),appendNumber=number=>{if(shouldResetDisplay.value){display.value=number,currentOperand.value=number,shouldResetDisplay.value=!1;return}number===`.`&&display.value.includes(`.`)||(display.value===`0`&&number!==`.`?display.value=number:display.value+=number,currentOperand.value=display.value)},chooseOperation=op=>{currentOperand.value!==``&&(previousOperand.value!==``&&compute(),operation.value=op,previousOperand.value=currentOperand.value,currentOperand.value=``,shouldResetDisplay.value=!0)},compute=()=>{let result,prev=parseFloat(previousOperand.value),current=parseFloat(currentOperand.value||display.value);if(!(isNaN(prev)||isNaN(current))){switch(operation.value){case`+`:result=prev+current;break;case`-`:result=prev-current;break;case``:result=prev*current;break;case``:result=current===0?NaN:prev/current;break;default:return}isNaN(result)?display.value=`Error`:display.value=String(Math.round(result*1e10)/1e10),currentOperand.value=display.value,previousOperand.value=``,operation.value=null,shouldResetDisplay.value=!0}},clear=()=>{display.value=`0`,currentOperand.value=``,previousOperand.value=``,operation.value=null,shouldResetDisplay.value=!1},deleteChar=()=>{display.value.length===1||display.value===`Error`?(display.value=`0`,currentOperand.value=``):(display.value=display.value.slice(0,-1),currentOperand.value=display.value)},toggleSign=()=>{display.value===`0`||display.value===`Error`||(display.value.startsWith(`-`)?display.value=display.value.slice(1):display.value=`-`+display.value,currentOperand.value=display.value)},percentage=()=>{let current=parseFloat(display.value);isNaN(current)||(display.value=String(current/100),currentOperand.value=display.value)},startDrag=e=>{if(!dialogRef.value)return;isDragging.value=!0;let rect=dialogRef.value.getBoundingClientRect();dragOffset.value={x:e.clientX-rect.left,y:e.clientY-rect.top},isPositioned.value||=(position.value={x:rect.left,y:rect.top},!0),document.addEventListener(`mousemove`,onDrag),document.addEventListener(`mouseup`,stopDrag)},onDrag=e=>{if(!isDragging.value||!dialogRef.value)return;let rect=dialogRef.value.getBoundingClientRect(),viewportWidth=window.innerWidth,viewportHeight=window.innerHeight,newX=e.clientX-dragOffset.value.x,newY=e.clientY-dragOffset.value.y;newX=Math.max(0,Math.min(newX,viewportWidth-rect.width)),newY=Math.max(0,Math.min(newY,viewportHeight-rect.height)),position.value={x:newX,y:newY}},stopDrag=()=>{isDragging.value=!1,document.removeEventListener(`mousemove`,onDrag),document.removeEventListener(`mouseup`,stopDrag)},closeDialog=()=>{emit(`update:open`,!1),clear(),isPositioned.value=!1},buttons=[{label:`C`,action:clear,class:`bg-neutral-200 hover:bg-neutral-300 text-neutral-700`},{label:``,action:toggleSign,class:`bg-neutral-200 hover:bg-neutral-300 text-neutral-700`},{label:`%`,action:percentage,class:`bg-neutral-200 hover:bg-neutral-300 text-neutral-700`},{label:``,action:()=>chooseOperation(``),class:`bg-slate-500 hover:bg-slate-600 text-white`,icon:Divide},{label:`7`,action:()=>appendNumber(`7`),class:`bg-neutral-700 hover:bg-neutral-600 text-white`},{label:`8`,action:()=>appendNumber(`8`),class:`bg-neutral-700 hover:bg-neutral-600 text-white`},{label:`9`,action:()=>appendNumber(`9`),class:`bg-neutral-700 hover:bg-neutral-600 text-white`},{label:``,action:()=>chooseOperation(``),class:`bg-slate-500 hover:bg-slate-600 text-white`},{label:`4`,action:()=>appendNumber(`4`),class:`bg-neutral-700 hover:bg-neutral-600 text-white`},{label:`5`,action:()=>appendNumber(`5`),class:`bg-neutral-700 hover:bg-neutral-600 text-white`},{label:`6`,action:()=>appendNumber(`6`),class:`bg-neutral-700 hover:bg-neutral-600 text-white`},{label:`-`,action:()=>chooseOperation(`-`),class:`bg-slate-500 hover:bg-slate-600 text-white`,icon:Minus},{label:`1`,action:()=>appendNumber(`1`),class:`bg-neutral-700 hover:bg-neutral-600 text-white`},{label:`2`,action:()=>appendNumber(`2`),class:`bg-neutral-700 hover:bg-neutral-600 text-white`},{label:`3`,action:()=>appendNumber(`3`),class:`bg-neutral-700 hover:bg-neutral-600 text-white`},{label:`+`,action:()=>chooseOperation(`+`),class:`bg-slate-500 hover:bg-slate-600 text-white`,icon:Plus},{label:`0`,action:()=>appendNumber(`0`),class:`bg-neutral-700 hover:bg-neutral-600 text-white col-span-2`},{label:`.`,action:()=>appendNumber(`.`),class:`bg-neutral-700 hover:bg-neutral-600 text-white`},{label:`=`,action:compute,class:`bg-slate-500 hover:bg-slate-600 text-white`,icon:Equal}];return(_ctx,_cache)=>(openBlock(),createBlock(Teleport,{to:`body`},[createVNode(Transition,{name:`calculator`},{default:withCtx(()=>[__props.open?(openBlock(),createElementBlock(`div`,{key:0,ref_key:`dialogRef`,ref:dialogRef,class:normalizeClass([`fixed z-[100] select-none`,{"cursor-grabbing":isDragging.value}]),style:normalizeStyle(isPositioned.value?{left:`${position.value.x}px`,top:`${position.value.y}px`}:{left:`50%`,top:`50%`,transform:`translate(-50%, -50%)`})},[createBaseVNode(`div`,_hoisted_1$40,[createBaseVNode(`div`,{class:`flex items-center justify-between px-3 py-2 bg-slate-800 cursor-grab active:cursor-grabbing`,onMousedown:startDrag},[createBaseVNode(`div`,_hoisted_2$39,[createVNode(unref(GripVertical),{class:`w-4 h-4 text-yellow-200`}),_cache[0]||=createBaseVNode(`span`,{class:`text-xs font-medium`},`Calculator`,-1)]),createBaseVNode(`button`,{onClick:closeDialog,class:`p-1 rounded-full hover:bg-neutral-700 text-neutral-400 hover:text-white transition-colors`},[createVNode(unref(X),{class:`w-4 h-4`})])],32),createBaseVNode(`div`,_hoisted_3$37,[createBaseVNode(`div`,_hoisted_4$36,[createBaseVNode(`span`,_hoisted_5$35,toDisplayString(previousOperand.value)+` `+toDisplayString(operation.value||``),1),createBaseVNode(`button`,{onClick:deleteChar,class:`p-1 rounded hover:bg-neutral-800 text-neutral-500 hover:text-neutral-300 transition-colors`},[createVNode(unref(Delete),{class:`w-4 h-4`})])]),createBaseVNode(`div`,{class:normalizeClass([`text-right text-4xl font-light text-white tracking-tight overflow-hidden`,{"text-red-400":display.value===`Error`}])},toDisplayString(formattedDisplay.value),3)]),createBaseVNode(`div`,_hoisted_6$32,[(openBlock(),createElementBlock(Fragment,null,renderList(buttons,(btn,index)=>createBaseVNode(`button`,{key:index,onClick:btn.action,class:normalizeClass([`h-14 rounded-xl font-medium text-xl transition-all duration-150 active:scale-95`,btn.class])},[btn.icon?(openBlock(),createBlock(resolveDynamicComponent(btn.icon),{key:0,class:`w-5 h-5 mx-auto`})):(openBlock(),createElementBlock(`span`,_hoisted_8$32,toDisplayString(btn.label),1))],10,_hoisted_7$32)),64))])])],6)):createCommentVNode(``,!0)]),_:1})]))}}),CalculatorDialog_default=__plugin_vue_export_helper_default(CalculatorDialog_vue_vue_type_script_setup_true_lang_default,[[`__scopeId`,`data-v-7f0eba23`]]),DropdownMenu_default=defineComponent({__name:`DropdownMenu`,props:{defaultOpen:{type:Boolean},open:{type:Boolean},dir:{},modal:{type:Boolean}},emits:[`update:open`],setup(__props,{emit:__emit}){let forwarded=useForwardPropsEmits(__props,__emit);return(_ctx,_cache)=>(openBlock(),createBlock(unref(DropdownMenuRoot_default),mergeProps({"data-slot":`dropdown-menu`},unref(forwarded)),{default:withCtx(()=>[renderSlot(_ctx.$slots,`default`)]),_:3},16))}}),DropdownMenuContent_default=defineComponent({__name:`DropdownMenuContent`,props:{forceMount:{type:Boolean},loop:{type:Boolean},side:{},sideOffset:{default:4},sideFlip:{type:Boolean},align:{},alignOffset:{},alignFlip:{type:Boolean},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{},class:{}},emits:[`escapeKeyDown`,`pointerDownOutside`,`focusOutside`,`interactOutside`,`closeAutoFocus`],setup(__props,{emit:__emit}){let props=__props,emits=__emit,delegatedProps=reactiveOmit(props,`class`),forwarded=useForwardPropsEmits(delegatedProps,emits);return(_ctx,_cache)=>(openBlock(),createBlock(unref(DropdownMenuPortal_default),null,{default:withCtx(()=>[createVNode(unref(DropdownMenuContent_default$1),mergeProps({"data-slot":`dropdown-menu-content`},unref(forwarded),{class:unref(cn)(`bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--reka-dropdown-menu-content-available-height) min-w-[8rem] origin-(--reka-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md`,props.class)}),{default:withCtx(()=>[renderSlot(_ctx.$slots,`default`)]),_:3},16,[`class`])]),_:3}))}}),DropdownMenuItem_default=defineComponent({__name:`DropdownMenuItem`,props:{disabled:{type:Boolean},textValue:{},asChild:{type:Boolean},as:{},class:{},inset:{type:Boolean},variant:{default:`default`}},setup(__props){let props=__props,delegatedProps=reactiveOmit(props,`inset`,`variant`,`class`),forwardedProps=useForwardProps(delegatedProps);return(_ctx,_cache)=>(openBlock(),createBlock(unref(DropdownMenuItem_default$1),mergeProps({"data-slot":`dropdown-menu-item`,"data-inset":__props.inset?``:void 0,"data-variant":__props.variant},unref(forwardedProps),{class:unref(cn)(`focus:bg-white focus:text-accent-foreground data-[variant=destructive]:text-destructive-foreground data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/40 data-[variant=destructive]:focus:text-destructive-foreground data-[variant=destructive]:*:[svg]:!text-destructive-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4`,props.class)}),{default:withCtx(()=>[renderSlot(_ctx.$slots,`default`)]),_:3},16,[`data-inset`,`data-variant`,`class`]))}}),DropdownMenuLabel_default=defineComponent({__name:`DropdownMenuLabel`,props:{asChild:{type:Boolean},as:{},class:{},inset:{type:Boolean}},setup(__props){let props=__props,delegatedProps=reactiveOmit(props,`class`,`inset`),forwardedProps=useForwardProps(delegatedProps);return(_ctx,_cache)=>(openBlock(),createBlock(unref(DropdownMenuLabel_default$1),mergeProps({"data-slot":`dropdown-menu-label`,"data-inset":__props.inset?``:void 0},unref(forwardedProps),{class:unref(cn)(`px-2 py-1.5 text-sm font-medium data-[inset]:pl-8`,props.class)}),{default:withCtx(()=>[renderSlot(_ctx.$slots,`default`)]),_:3},16,[`data-inset`,`class`]))}}),DropdownMenuSeparator_default=defineComponent({__name:`DropdownMenuSeparator`,props:{asChild:{type:Boolean},as:{},class:{}},setup(__props){let props=__props,delegatedProps=reactiveOmit(props,`class`);return(_ctx,_cache)=>(openBlock(),createBlock(unref(DropdownMenuSeparator_default$1),mergeProps({"data-slot":`dropdown-menu-separator`},unref(delegatedProps),{class:unref(cn)(`bg-border -mx-1 my-1 h-px`,props.class)}),null,16,[`class`]))}}),DropdownMenuTrigger_default=defineComponent({__name:`DropdownMenuTrigger`,props:{disabled:{type:Boolean},asChild:{type:Boolean},as:{}},setup(__props){let forwardedProps=useForwardProps(__props);return(_ctx,_cache)=>(openBlock(),createBlock(unref(DropdownMenuTrigger_default$1),mergeProps({"data-slot":`dropdown-menu-trigger`},unref(forwardedProps)),{default:withCtx(()=>[renderSlot(_ctx.$slots,`default`)]),_:3},16))}}),Select_default=defineComponent({__name:`Select`,props:{open:{type:Boolean},defaultOpen:{type:Boolean},defaultValue:{},modelValue:{},by:{type:[String,Function]},dir:{},multiple:{type:Boolean},autocomplete:{},disabled:{type:Boolean},name:{},required:{type:Boolean}},emits:[`update:modelValue`,`update:open`],setup(__props,{emit:__emit}){let forwarded=useForwardPropsEmits(__props,__emit);return(_ctx,_cache)=>(openBlock(),createBlock(unref(SelectRoot_default),mergeProps({"data-slot":`select`},unref(forwarded)),{default:withCtx(()=>[renderSlot(_ctx.$slots,`default`)]),_:3},16))}}),SelectContent_default=defineComponent({inheritAttrs:!1,__name:`SelectContent`,props:{forceMount:{type:Boolean},position:{default:`popper`},bodyLock:{type:Boolean},side:{},sideOffset:{},sideFlip:{type:Boolean},align:{},alignOffset:{},alignFlip:{type:Boolean},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{},class:{}},emits:[`closeAutoFocus`,`escapeKeyDown`,`pointerDownOutside`],setup(__props,{emit:__emit}){let props=__props,emits=__emit,delegatedProps=reactiveOmit(props,`class`),forwarded=useForwardPropsEmits(delegatedProps,emits);return(_ctx,_cache)=>(openBlock(),createBlock(unref(SelectPortal_default),null,{default:withCtx(()=>[createVNode(unref(SelectContent_default$1),mergeProps({"data-slot":`select-content`},{...unref(forwarded),..._ctx.$attrs},{class:unref(cn)(`bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--reka-select-content-available-height) min-w-[8rem] overflow-x-hidden overflow-y-auto rounded-md border shadow-md`,__props.position===`popper`&&`data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1`,props.class)}),{default:withCtx(()=>[createVNode(unref(SelectScrollUpButton_default)),createVNode(unref(SelectViewport_default),{class:normalizeClass(unref(cn)(`p-1`,__props.position===`popper`&&`h-[var(--reka-select-trigger-height)] w-full min-w-[var(--reka-select-trigger-width)] scroll-my-1`))},{default:withCtx(()=>[renderSlot(_ctx.$slots,`default`)]),_:3},8,[`class`]),createVNode(unref(SelectScrollDownButton_default))]),_:3},16,[`class`])]),_:3}))}}),_hoisted_1$39={class:`absolute right-2 flex size-3.5 items-center justify-center`},SelectItem_default=defineComponent({__name:`SelectItem`,props:{value:{},disabled:{type:Boolean},textValue:{},asChild:{type:Boolean},as:{},class:{}},setup(__props){let props=__props,delegatedProps=reactiveOmit(props,`class`),forwardedProps=useForwardProps(delegatedProps);return(_ctx,_cache)=>(openBlock(),createBlock(unref(SelectItem_default$1),mergeProps({"data-slot":`select-item`},unref(forwardedProps),{class:unref(cn)(`focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2`,props.class)}),{default:withCtx(()=>[createBaseVNode(`span`,_hoisted_1$39,[createVNode(unref(SelectItemIndicator_default),null,{default:withCtx(()=>[createVNode(unref(Check),{class:`size-4`})]),_:1})]),createVNode(unref(SelectItemText_default),null,{default:withCtx(()=>[renderSlot(_ctx.$slots,`default`)]),_:3})]),_:3},16,[`class`]))}}),SelectScrollDownButton_default=defineComponent({__name:`SelectScrollDownButton`,props:{asChild:{type:Boolean},as:{},class:{}},setup(__props){let props=__props,delegatedProps=reactiveOmit(props,`class`),forwardedProps=useForwardProps(delegatedProps);return(_ctx,_cache)=>(openBlock(),createBlock(unref(SelectScrollDownButton_default$1),mergeProps({"data-slot":`select-scroll-down-button`},unref(forwardedProps),{class:unref(cn)(`flex cursor-default items-center justify-center py-1`,props.class)}),{default:withCtx(()=>[renderSlot(_ctx.$slots,`default`,{},()=>[createVNode(unref(ChevronDown),{class:`size-4`})])]),_:3},16,[`class`]))}}),SelectScrollUpButton_default=defineComponent({__name:`SelectScrollUpButton`,props:{asChild:{type:Boolean},as:{},class:{}},setup(__props){let props=__props,delegatedProps=reactiveOmit(props,`class`),forwardedProps=useForwardProps(delegatedProps);return(_ctx,_cache)=>(openBlock(),createBlock(unref(SelectScrollUpButton_default$1),mergeProps({"data-slot":`select-scroll-up-button`},unref(forwardedProps),{class:unref(cn)(`flex cursor-default items-center justify-center py-1`,props.class)}),{default:withCtx(()=>[renderSlot(_ctx.$slots,`default`,{},()=>[createVNode(unref(ChevronUp),{class:`size-4`})])]),_:3},16,[`class`]))}}),SelectTrigger_default=defineComponent({__name:`SelectTrigger`,props:{disabled:{type:Boolean},reference:{},asChild:{type:Boolean},as:{},class:{},size:{default:`default`}},setup(__props){let props=__props,delegatedProps=reactiveOmit(props,`class`,`size`),forwardedProps=useForwardProps(delegatedProps);return(_ctx,_cache)=>(openBlock(),createBlock(unref(SelectTrigger_default$1),mergeProps({"data-slot":`select-trigger`,"data-size":__props.size},unref(forwardedProps),{class:unref(cn)(`border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4`,props.class)}),{default:withCtx(()=>[renderSlot(_ctx.$slots,`default`),createVNode(unref(SelectIcon_default),{"as-child":``},{default:withCtx(()=>[createVNode(unref(ChevronDown),{class:`size-4 opacity-50`})]),_:1})]),_:3},16,[`data-size`,`class`]))}}),SelectValue_default=defineComponent({__name:`SelectValue`,props:{placeholder:{},asChild:{type:Boolean},as:{}},setup(__props){let props=__props;return(_ctx,_cache)=>(openBlock(),createBlock(unref(SelectValue_default$1),mergeProps({"data-slot":`select-value`},props),{default:withCtx(()=>[renderSlot(_ctx.$slots,`default`)]),_:3},16))}}),DocumentService_default={async getDocuments(page=0,size=50){return API_default.get(`/org/documents`,{query:{page,size},authorizeRequest:!0,organisationAware:!0})},async getDocumentsByCategory(category){return API_default.get(`/org/documents/category/${category}`,{authorizeRequest:!0,organisationAware:!0})},async searchDocuments(query){return API_default.get(`/org/documents/search`,{query:{query},authorizeRequest:!0,organisationAware:!0})},async getDocumentCounts(){return API_default.get(`/org/documents/counts`,{authorizeRequest:!0,organisationAware:!0})},async getDocument(reference){return API_default.get(`/org/documents/${reference}`,{authorizeRequest:!0,organisationAware:!0})},async uploadDocument(file,category,metadata={}){let formData=new FormData;return formData.append(`file`,file),formData.append(`category`,category),formData.append(`metadata`,JSON.stringify(metadata)),API_default.post(`/org/documents/upload`,{data:formData,headers:{"Content-Type":`multipart/form-data`},authorizeRequest:!0,organisationAware:!0})},async updateDocument(reference,data){return API_default.put(`/org/documents/${reference}`,{data,authorizeRequest:!0,organisationAware:!0})},async archiveDocument(reference){return API_default.delete(`/org/documents/${reference}`,{authorizeRequest:!0,organisationAware:!0})},async getVersionHistory(reference){return API_default.get(`/org/documents/${reference}/versions`,{authorizeRequest:!0,organisationAware:!0})},async restoreVersion(reference,versionNumber){return API_default.post(`/org/documents/${reference}/versions/${versionNumber}/restore`,{data:{},authorizeRequest:!0,organisationAware:!0})}},_hoisted_1$38={class:`flex flex-col items-center justify-center h-full p-8 text-center`},_hoisted_2$38={class:`relative mb-8`},_hoisted_3$36={class:`h-20 w-20 rounded-2xl bg-gradient-to-br from-sky-900 to-blue-950 flex items-center justify-center shadow-lg`},_hoisted_4$35={class:`grid grid-cols-2 gap-3 max-w-lg w-full mb-4`},_hoisted_5$34={class:normalizeClass([`h-10 w-10 rounded-full flex items-center justify-center bg-gradient-to-b from-sky-900 to-blue-950`])},_hoisted_6$31={class:`text-sm font-medium`},_hoisted_7$31={class:`max-w-lg w-full mb-8`},_hoisted_8$31={class:normalizeClass([`h-8 w-8 rounded-lg flex items-center justify-center flex-shrink-0`])},_hoisted_9$30={class:`flex-1 text-sm`},_hoisted_10$30=[`onClick`,`title`],_hoisted_11$30={key:0,class:`w-full max-w-lg`},_hoisted_12$28={class:`space-y-2`},_hoisted_13$24={class:`truncate`},_hoisted_14$22={class:`ml-auto text-xs text-slate-400`},_hoisted_15$20={key:1,class:`mt-8 w-full max-w-lg p-4 bg-slate-50 rounded-xl`},_hoisted_16$16={class:`flex items-center justify-between mb-2`},_hoisted_17$11={class:`text-sm font-medium text-slate-700`},_hoisted_18$6={class:`text-2xl font-bold text-slate-900`},_hoisted_19$6={class:`text-xs text-slate-500 mt-1`},_hoisted_20$6={key:0,class:`py-4`},_hoisted_21$6={class:`flex items-center gap-3 p-3 bg-slate-50 rounded-lg`},_hoisted_22$5={class:`flex-1 min-w-0`},_hoisted_23$5={class:`text-sm font-medium truncate`},_hoisted_24$5={class:`text-xs text-slate-500`},_hoisted_25$5={class:`mt-4`},_hoisted_26$5={key:1,class:`py-8`},PINNED_STORAGE_KEY=`flow_pinned_actions`,WelcomeView_default={__name:`WelcomeView`,props:{account:Object},setup(__props){let props=__props,openTab=inject(`openTab`),fileInput=ref(null),uploading=ref(!1),uploadDialog=ref({show:!1,file:null,category:`BANK_STATEMENT`}),pinnedActionIds=ref([]);onMounted(()=>{let stored=localStorage.getItem(PINNED_STORAGE_KEY);if(stored)try{pinnedActionIds.value=JSON.parse(stored)}catch{pinnedActionIds.value=[`upload`,`reconcile`,`table`,`invoice`]}else pinnedActionIds.value=[`upload`,`reconcile`,`table`,`invoice`]});let allActions=[{id:`upload`,label:`Upload Statement`,icon:Upload,bgClass:`bg-blue-100`,iconClass:`text-blue-600`},{id:`reconcile`,label:`Start Reconciliation`,icon:GitCompare,bgClass:`bg-green-100`,iconClass:`text-green-600`},{id:`table`,label:`Create Table`,icon:FileSpreadsheet,bgClass:`bg-amber-100`,iconClass:`text-amber-600`},{id:`invoice`,label:`New Invoice`,icon:Receipt,bgClass:`bg-purple-100`,iconClass:`text-purple-600`},{id:`calculator`,label:`Calculator`,icon:Calculator,bgClass:`bg-teal-100`,iconClass:`text-teal-600`},{id:`search-docs`,label:`Search Documents`,icon:FileSearch,bgClass:`bg-indigo-100`,iconClass:`text-indigo-600`},{id:`contacts`,label:`Manage Contacts`,icon:Users,bgClass:`bg-pink-100`,iconClass:`text-pink-600`},{id:`chart`,label:`Create Chart`,icon:ChartPie,bgClass:`bg-orange-100`,iconClass:`text-orange-600`},{id:`journal`,label:`Journal Entry`,icon:BookOpen,bgClass:`bg-cyan-100`,iconClass:`text-cyan-600`},{id:`expense`,label:`Record Expense`,icon:CreditCard,bgClass:`bg-red-100`,iconClass:`text-red-600`},{id:`browse-files`,label:`Browse Files`,icon:FolderOpen,bgClass:`bg-slate-100`,iconClass:`text-slate-600`},{id:`reports`,label:`Generate Report`,icon:Briefcase,bgClass:`bg-emerald-100`,iconClass:`text-emerald-600`}],visibleActions=computed(()=>allActions.filter(action=>pinnedActionIds.value.includes(action.id)));function isPinned(actionId){return pinnedActionIds.value.includes(actionId)}function togglePin(actionId){let index=pinnedActionIds.value.indexOf(actionId);index>-1?pinnedActionIds.value.splice(index,1):pinnedActionIds.value.push(actionId),localStorage.setItem(PINNED_STORAGE_KEY,JSON.stringify(pinnedActionIds.value))}let recentItems=ref([]);function executeAction(action){switch(action.id){case`upload`:uploadDialog.value.show=!0,uploadDialog.value.file=null,uploadDialog.value.category=`BANK_STATEMENT`;break;case`reconcile`:openTab?.({id:`new-recon-`+Date.now(),type:`reconciliation`,title:`New Reconciliation`,data:null});break;case`table`:openTab?.({id:`new-table-`+Date.now(),type:`spreadsheet`,title:`Untitled Table`,data:null,unsaved:!0});break;case`invoice`:openTab?.({id:`new-invoice-`+Date.now(),type:`invoice`,title:`New Invoice`,data:{invoiceType:`INVOICE`}});break;case`chart`:openTab?.({id:`new-chart-`+Date.now(),type:`chart`,title:`New Chart`,data:null,unsaved:!0});break;case`journal`:openTab?.({id:`new-journal-`+Date.now(),type:`journal`,title:`Journal Entry`,data:null,unsaved:!0});break;case`expense`:openTab?.({id:`new-expense-`+Date.now(),type:`expense`,title:`New Expense`,data:null,unsaved:!0});break;case`calculator`:console.log(`Open calculator`);break;case`search-docs`:openTab?.({id:`search-docs`,type:`search`,title:`Search Documents`,data:null});break;case`contacts`:openTab?.({id:`contacts`,type:`contacts`,title:`Contacts`,data:null});break;case`browse-files`:openTab?.({id:`file-browser`,type:`browser`,title:`File Browser`,data:null});break;case`reports`:openTab?.({id:`tax-report-`+Date.now(),type:`tax-report`,title:`Tax Report`,data:null});break;default:console.log(`Action not implemented:`,action.id)}}function triggerFileInput(){fileInput.value?.click()}function handleFileSelected(event){let file=event.target.files?.[0];file&&(uploadDialog.value.file=file,file.name.toLowerCase().includes(`statement`)?uploadDialog.value.category=`BANK_STATEMENT`:file.name.toLowerCase().includes(`invoice`)?uploadDialog.value.category=`INVOICE`:file.name.toLowerCase().includes(`receipt`)&&(uploadDialog.value.category=`RECEIPT`))}function handleDrop(event){let file=event.dataTransfer?.files?.[0];file&&(uploadDialog.value.file=file)}function clearFile(){uploadDialog.value.file=null,fileInput.value&&(fileInput.value.value=``)}async function uploadFile(){if(uploadDialog.value.file){uploading.value=!0;try{let response=await DocumentService_default.uploadDocument(uploadDialog.value.file,uploadDialog.value.category);uploadDialog.value.show=!1,response&&openTab?.({id:`doc-${response.reference}`,type:`document`,title:response.name||uploadDialog.value.file.name,data:response})}catch(error){console.error(`Upload failed:`,error)}finally{uploading.value=!1}}}function openItem(item){openTab?.({id:item.id,type:item.type,title:item.name,data:item})}function getItemIcon(item){return{spreadsheet:FileSpreadsheet,document:FileText,chart:ChartColumn,reconciliation:GitCompare}[item.type]||FileText}function formatTime(timestamp){if(!timestamp)return``;let date=new Date(timestamp),diffMs=new Date-date,diffMins=Math.floor(diffMs/6e4);return diffMins<60?`${diffMins}m ago`:diffMins<1440?`${Math.floor(diffMins/60)}h ago`:date.toLocaleDateString()}function formatCurrency(amount){return amount==null?`N/A`:new Intl.NumberFormat(`en-NG`,{style:`currency`,currency:props.account?.currency||`NGN`}).format(amount)}function formatDate(dateStr){return dateStr?new Date(dateStr).toLocaleDateString(`en-US`,{month:`short`,day:`numeric`,hour:`2-digit`,minute:`2-digit`}):`Never`}function formatFileSize(bytes){return bytes<1024?bytes+` B`:bytes<1024*1024?(bytes/1024).toFixed(1)+` KB`:(bytes/(1024*1024)).toFixed(1)+` MB`}return(_ctx,_cache)=>(openBlock(),createElementBlock(`div`,_hoisted_1$38,[createBaseVNode(`div`,_hoisted_2$38,[createBaseVNode(`div`,_hoisted_3$36,[createVNode(unref(Codesandbox),{class:`size-10 text-white`})])]),_cache[18]||=createBaseVNode(`h1`,{class:`text-2xl font-bold text-slate-800 mb-2`},` Flow Seamlessly`,-1),_cache[19]||=createBaseVNode(`p`,{class:`text-sm text-slate-500 max-w-md mb-8`},` Your integrated accounting workspace. Upload documents, reconcile accounts, and let AI do the heavy lifting. `,-1),createBaseVNode(`div`,_hoisted_4$35,[(openBlock(!0),createElementBlock(Fragment,null,renderList(visibleActions.value,action=>(openBlock(),createBlock(unref(Button_default),{key:action.id,variant:`outline`,class:`h-auto p-4 flex flex-col items-center gap-2 hover:bg-slate-50 rounded-[6px] hover:border-blue-200 transition-all`,onClick:$event=>executeAction(action)},{default:withCtx(()=>[createBaseVNode(`div`,_hoisted_5$34,[(openBlock(),createBlock(resolveDynamicComponent(action.icon),{class:normalizeClass([`h-5 w-5 text-white font-bold`])}))]),createBaseVNode(`span`,_hoisted_6$31,toDisplayString(action.label),1)]),_:2},1032,[`onClick`]))),128))]),createBaseVNode(`div`,_hoisted_7$31,[createVNode(unref(DropdownMenu_default),null,{default:withCtx(()=>[createVNode(unref(DropdownMenuTrigger_default),{asChild:``},{default:withCtx(()=>[createVNode(unref(Button_default),{variant:`ghost`,class:`w-full text-slate-500 hover:text-slate-700`},{default:withCtx(()=>[createVNode(unref(Ellipsis),{class:`h-4 w-4 mr-2`}),_cache[4]||=createTextVNode(` More Actions `,-1),createVNode(unref(ChevronDown),{class:`h-4 w-4 ml-2`})]),_:1})]),_:1}),createVNode(unref(DropdownMenuContent_default),{class:`w-72 bg-stone-50 border-4 border-white rounded-[8px] overflow-y-scroll max-h-[350px]`,style:{"scrollbar-width":`none`},align:`center`},{default:withCtx(()=>[createVNode(unref(DropdownMenuLabel_default),null,{default:withCtx(()=>[..._cache[5]||=[createTextVNode(`All Actions`,-1)]]),_:1}),createVNode(unref(DropdownMenuSeparator_default)),(openBlock(),createElementBlock(Fragment,null,renderList(allActions,action=>createBaseVNode(`div`,{key:action.id},[createVNode(unref(DropdownMenuItem_default),{class:`flex items-center gap-3 cursor-pointer hover:bg-white py-1.5 px-2 rounded-full`,onClick:$event=>executeAction(action)},{default:withCtx(()=>[createBaseVNode(`div`,_hoisted_8$31,[(openBlock(),createBlock(resolveDynamicComponent(action.icon),{class:normalizeClass([`h-4 w-4`])}))]),createBaseVNode(`span`,_hoisted_9$30,toDisplayString(action.label),1),createBaseVNode(`button`,{onClick:withModifiers($event=>togglePin(action.id),[`stop`]),class:`p-1 rounded hover:bg-slate-100 transition-colors`,title:isPinned(action.id)?`Unpin from quick actions`:`Pin to quick actions`},[isPinned(action.id)?(openBlock(),createBlock(unref(Pin),{key:0,class:`h-4 w-4 text-blue-500`})):(openBlock(),createBlock(unref(PinOff),{key:1,class:`h-4 w-4 text-slate-400`}))],8,_hoisted_10$30)]),_:2},1032,[`onClick`])])),64))]),_:1})]),_:1})]),recentItems.value.length>0?(openBlock(),createElementBlock(`div`,_hoisted_11$30,[_cache[6]||=createBaseVNode(`h3`,{class:`text-xs font-semibold text-slate-500 uppercase tracking-wider mb-3 text-left`},`Recent`,-1),createBaseVNode(`div`,_hoisted_12$28,[(openBlock(!0),createElementBlock(Fragment,null,renderList(recentItems.value,item=>(openBlock(),createBlock(unref(Button_default),{key:item.id,variant:`ghost`,class:`w-full justify-start text-sm h-auto py-2 px-3`,onClick:$event=>openItem(item)},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(getItemIcon(item)),{class:`h-4 w-4 mr-3 text-slate-400`})),createBaseVNode(`span`,_hoisted_13$24,toDisplayString(item.name),1),createBaseVNode(`span`,_hoisted_14$22,toDisplayString(formatTime(item.openedAt)),1)]),_:2},1032,[`onClick`]))),128))])])):createCommentVNode(``,!0),__props.account?(openBlock(),createElementBlock(`div`,_hoisted_15$20,[createBaseVNode(`div`,_hoisted_16$16,[createBaseVNode(`span`,_hoisted_17$11,toDisplayString(__props.account.accountName),1),createVNode(unref(Badge_default),{variant:`secondary`},{default:withCtx(()=>[createTextVNode(toDisplayString(__props.account.bankName),1)]),_:1})]),createBaseVNode(`div`,_hoisted_18$6,toDisplayString(formatCurrency(__props.account.balance)),1),createBaseVNode(`p`,_hoisted_19$6,` Last synced: `+toDisplayString(formatDate(__props.account.lastSyncedAt)),1)])):createCommentVNode(``,!0),createBaseVNode(`input`,{ref_key:`fileInput`,ref:fileInput,type:`file`,class:`hidden`,accept:`.pdf,.csv,.xlsx,.xls,.jpg,.jpeg,.png`,onChange:handleFileSelected},null,544),createVNode(unref(Dialog_default),{open:uploadDialog.value.show,"onUpdate:open":_cache[3]||=$event=>uploadDialog.value.show=$event},{default:withCtx(()=>[createVNode(unref(DialogContent_default),{class:`sm:max-w-md`},{default:withCtx(()=>[createVNode(unref(DialogHeader_default),null,{default:withCtx(()=>[createVNode(unref(DialogTitle_default),null,{default:withCtx(()=>[..._cache[7]||=[createTextVNode(`Upload Document`,-1)]]),_:1}),createVNode(unref(DialogDescription_default),null,{default:withCtx(()=>[..._cache[8]||=[createTextVNode(` Select a file to upload. Supported formats: PDF, CSV, Excel, Images. `,-1)]]),_:1})]),_:1}),uploadDialog.value.file?(openBlock(),createElementBlock(`div`,_hoisted_20$6,[createBaseVNode(`div`,_hoisted_21$6,[createVNode(unref(FileText),{class:`h-8 w-8 text-blue-500`}),createBaseVNode(`div`,_hoisted_22$5,[createBaseVNode(`p`,_hoisted_23$5,toDisplayString(uploadDialog.value.file.name),1),createBaseVNode(`p`,_hoisted_24$5,toDisplayString(formatFileSize(uploadDialog.value.file.size)),1)]),createVNode(unref(Button_default),{variant:`ghost`,size:`sm`,class:`h-8 w-8 p-0`,onClick:clearFile},{default:withCtx(()=>[createVNode(unref(X),{class:`h-4 w-4`})]),_:1})]),createBaseVNode(`div`,_hoisted_25$5,[createVNode(unref(Label_default),{class:`text-xs`},{default:withCtx(()=>[..._cache[9]||=[createTextVNode(`Document Category`,-1)]]),_:1}),createVNode(unref(Select_default),{modelValue:uploadDialog.value.category,"onUpdate:modelValue":_cache[0]||=$event=>uploadDialog.value.category=$event,class:`mt-1`},{default:withCtx(()=>[createVNode(unref(SelectTrigger_default),null,{default:withCtx(()=>[createVNode(unref(SelectValue_default),{placeholder:`Select category`})]),_:1}),createVNode(unref(SelectContent_default),null,{default:withCtx(()=>[createVNode(unref(SelectItem_default),{value:`BANK_STATEMENT`},{default:withCtx(()=>[..._cache[10]||=[createTextVNode(`Bank Statement`,-1)]]),_:1}),createVNode(unref(SelectItem_default),{value:`INVOICE`},{default:withCtx(()=>[..._cache[11]||=[createTextVNode(`Invoice`,-1)]]),_:1}),createVNode(unref(SelectItem_default),{value:`RECEIPT`},{default:withCtx(()=>[..._cache[12]||=[createTextVNode(`Receipt`,-1)]]),_:1}),createVNode(unref(SelectItem_default),{value:`REPORT`},{default:withCtx(()=>[..._cache[13]||=[createTextVNode(`Report`,-1)]]),_:1}),createVNode(unref(SelectItem_default),{value:`OTHER`},{default:withCtx(()=>[..._cache[14]||=[createTextVNode(`Other`,-1)]]),_:1})]),_:1})]),_:1},8,[`modelValue`])])])):(openBlock(),createElementBlock(`div`,_hoisted_26$5,[createBaseVNode(`div`,{class:`border-2 border-dashed border-slate-200 rounded-lg p-8 text-center cursor-pointer hover:border-blue-300 hover:bg-blue-50/50 transition-colors`,onClick:triggerFileInput,onDragover:_cache[1]||=withModifiers(()=>{},[`prevent`]),onDrop:withModifiers(handleDrop,[`prevent`])},[createVNode(unref(Upload),{class:`h-10 w-10 text-slate-400 mx-auto mb-3`}),_cache[15]||=createBaseVNode(`p`,{class:`text-sm text-slate-600`},`Click to browse or drag & drop`,-1),_cache[16]||=createBaseVNode(`p`,{class:`text-xs text-slate-400 mt-1`},`PDF, CSV, Excel, Images`,-1)],32)])),createVNode(unref(DialogFooter_default),null,{default:withCtx(()=>[createVNode(unref(Button_default),{variant:`outline`,onClick:_cache[2]||=$event=>uploadDialog.value.show=!1},{default:withCtx(()=>[..._cache[17]||=[createTextVNode(`Cancel`,-1)]]),_:1}),createVNode(unref(Button_default),{onClick:uploadFile,disabled:!uploadDialog.value.file||uploading.value},{default:withCtx(()=>[uploading.value?(openBlock(),createBlock(unref(LoaderCircle),{key:0,class:`h-4 w-4 mr-2 animate-spin`})):createCommentVNode(``,!0),createTextVNode(` `+toDisplayString(uploading.value?`Uploading...`:`Upload`),1)]),_:1},8,[`disabled`])]),_:1})]),_:1})]),_:1},8,[`open`])]))}},_hoisted_1$37={class:`flex flex-col h-full bg-white`},_hoisted_2$37={class:`flex items-center justify-between px-4 py-2 border-b border-slate-100 bg-slate-50`},_hoisted_3$35={class:`flex items-center gap-2`},_hoisted_4$34={class:`text-sm font-medium text-slate-700`},_hoisted_5$33={class:`flex items-center gap-1`},_hoisted_6$30={class:`text-xs text-slate-500 w-12 text-center`},_hoisted_7$30={class:`flex-1 overflow-auto p-8 bg-slate-100`},_hoisted_8$30={class:`max-w-4xl mx-auto`},_hoisted_9$29={key:0,class:`bg-white rounded-lg shadow-lg overflow-hidden`},_hoisted_10$29={class:`flex items-center justify-center h-[800px] text-slate-400`},_hoisted_11$29={class:`text-center`},_hoisted_12$27={class:`text-xs mt-1`},_hoisted_13$23={key:1,class:`mt-6 bg-white rounded-lg shadow-lg p-6`},_hoisted_14$21={class:`flex items-center gap-2 mb-4`},_hoisted_15$19={class:`grid grid-cols-2 gap-4`},_hoisted_16$15={class:`text-xs text-slate-500 mb-1`},_hoisted_17$10={class:`text-sm font-medium text-slate-800`},DocumentViewer_default={__name:`DocumentViewer`,props:{document:Object},setup(__props){let props=__props,zoom=ref(100),isPdf=computed(()=>(props.document?.mimeType||``).includes(`pdf`)||props.document?.name?.endsWith(`.pdf`));function getDocIcon(){return isPdf.value?FileText:FileSpreadsheet}function zoomIn(){zoom.value=Math.min(200,zoom.value+25)}function zoomOut(){zoom.value=Math.max(50,zoom.value-25)}function download(){props.document?.storageUrl&&window.open(props.document.storageUrl,`_blank`)}function share(){}function formatKey(key){return key.replace(/_/g,` `).replace(/([A-Z])/g,` $1`).replace(/^./,s=>s.toUpperCase())}function formatValue(value){return typeof value==`number`?value.toLocaleString():Array.isArray(value)?`${value.length} items`:typeof value==`object`?JSON.stringify(value):String(value)}return(_ctx,_cache)=>(openBlock(),createElementBlock(`div`,_hoisted_1$37,[createBaseVNode(`div`,_hoisted_2$37,[createBaseVNode(`div`,_hoisted_3$35,[(openBlock(),createBlock(resolveDynamicComponent(getDocIcon()),{class:`h-4 w-4 text-slate-500`})),createBaseVNode(`span`,_hoisted_4$34,toDisplayString(__props.document?.name||`Document`),1)]),createBaseVNode(`div`,_hoisted_5$33,[createVNode(unref(Button_default),{variant:`ghost`,size:`sm`,class:`h-8 w-8 p-0`,onClick:zoomOut,title:`Zoom Out`},{default:withCtx(()=>[createVNode(unref(ZoomOut),{class:`h-4 w-4`})]),_:1}),createBaseVNode(`span`,_hoisted_6$30,toDisplayString(zoom.value)+`%`,1),createVNode(unref(Button_default),{variant:`ghost`,size:`sm`,class:`h-8 w-8 p-0`,onClick:zoomIn,title:`Zoom In`},{default:withCtx(()=>[createVNode(unref(ZoomIn),{class:`h-4 w-4`})]),_:1}),_cache[0]||=createBaseVNode(`div`,{class:`w-px h-4 bg-slate-200 mx-2`},null,-1),createVNode(unref(Button_default),{variant:`ghost`,size:`sm`,class:`h-8 w-8 p-0`,onClick:download,title:`Download`},{default:withCtx(()=>[createVNode(unref(Download),{class:`h-4 w-4`})]),_:1}),createVNode(unref(Button_default),{variant:`ghost`,size:`sm`,class:`h-8 w-8 p-0`,onClick:share,title:`Share`},{default:withCtx(()=>[createVNode(unref(Share),{class:`h-4 w-4`})]),_:1})])]),createBaseVNode(`div`,_hoisted_7$30,[createBaseVNode(`div`,_hoisted_8$30,[isPdf.value?(openBlock(),createElementBlock(`div`,_hoisted_9$29,[createBaseVNode(`div`,_hoisted_10$29,[createBaseVNode(`div`,_hoisted_11$29,[createVNode(unref(FileText),{class:`h-16 w-16 mx-auto mb-4 opacity-50`}),_cache[1]||=createBaseVNode(`p`,{class:`text-sm`},`PDF Viewer`,-1),createBaseVNode(`p`,_hoisted_12$27,toDisplayString(__props.document?.name),1)])])])):createCommentVNode(``,!0),__props.document?.extractedData&&Object.keys(__props.document.extractedData).length>0?(openBlock(),createElementBlock(`div`,_hoisted_13$23,[createBaseVNode(`div`,_hoisted_14$21,[createVNode(unref(Sparkles),{class:`h-4 w-4 text-blue-500`}),_cache[2]||=createBaseVNode(`h3`,{class:`text-sm font-semibold text-slate-700`},`AI-Extracted Data`,-1)]),createBaseVNode(`div`,_hoisted_15$19,[(openBlock(!0),createElementBlock(Fragment,null,renderList(__props.document.extractedData,(value,key)=>(openBlock(),createElementBlock(`div`,{key,class:`bg-slate-50 rounded p-3`},[createBaseVNode(`div`,_hoisted_16$15,toDisplayString(formatKey(key)),1),createBaseVNode(`div`,_hoisted_17$10,toDisplayString(formatValue(value)),1)]))),128))])])):createCommentVNode(``,!0)])])]))}},TableService_default={async getTables(page=0,size=50){return API_default.get(`/org/tables`,{query:{page,size},authorizeRequest:!0,organisationAware:!0})},async searchTables(query){return API_default.get(`/org/tables/search`,{query:{query},authorizeRequest:!0,organisationAware:!0})},async getTable(reference){return API_default.get(`/org/tables/${reference}`,{authorizeRequest:!0,organisationAware:!0})},async createTable(name,description$1,columns=[]){return API_default.post(`/org/tables`,{data:{name,description:description$1,columns},authorizeRequest:!0,organisationAware:!0})},async updateTableData(reference,rows){return API_default.put(`/org/tables/${reference}/data`,{data:{rows},authorizeRequest:!0,organisationAware:!0})},async updateTableColumns(reference,columns){return API_default.put(`/org/tables/${reference}/columns`,{data:{columns},authorizeRequest:!0,organisationAware:!0})},async addRows(reference,rows){return API_default.post(`/org/tables/${reference}/rows`,{data:{rows},authorizeRequest:!0,organisationAware:!0})},async linkToLedger(reference,ledgerReference,columnMapping){return API_default.post(`/org/tables/${reference}/link-ledger`,{data:{ledgerReference,columnMapping},authorizeRequest:!0,organisationAware:!0})},async archiveTable(reference){return API_default.delete(`/org/tables/${reference}`,{authorizeRequest:!0,organisationAware:!0})}},_hoisted_1$36={class:`flex flex-col h-full bg-white`},_hoisted_2$36={key:0,class:`flex-1 flex items-center justify-center`},_hoisted_3$34={class:`flex items-center justify-between px-4 py-2 border-b border-slate-100 bg-slate-50`},_hoisted_4$33={class:`flex items-center gap-3`},_hoisted_5$32={class:`text-sm font-medium text-slate-700`},_hoisted_6$29={class:`flex items-center gap-1`},_hoisted_7$29={key:0,class:`text-xs text-amber-500 ml-2`},_hoisted_8$29={class:`flex-1 overflow-auto`},_hoisted_9$28={class:`w-full border-collapse text-sm`},_hoisted_10$28={class:`sticky top-0 z-10`},_hoisted_11$28=[`onUpdate:modelValue`],_hoisted_12$26=[`onDblclick`],_hoisted_13$22={class:`w-10 h-8 bg-slate-50 border border-slate-200 text-center text-xs text-slate-500`},_hoisted_14$20=[`onClick`,`onDblclick`],_hoisted_15$18={key:1},SpreadsheetEditor_default={__name:`SpreadsheetEditor`,props:{tableReference:String,document:Object},emits:[`change`,`saved`],setup(__props,{emit:__emit}){let props=__props,emit=__emit,loading=ref(!1),saving=ref(!1),tableData=ref(null),columns=ref([]),rows=ref([]),selectedCell=ref(null),editingCell=ref(null),editingValue=ref(``),editingColumnHeader=ref(null),formulaInput=ref(``),cellInput=ref(null),hasChanges=ref(!1);onMounted(async()=>{props.tableReference?await loadTable(props.tableReference):props.document?.data?initializeFromDocument():initializeEmptyGrid()}),watch(()=>props.tableReference,async newRef=>{newRef&&await loadTable(newRef)});async function loadTable(reference){loading.value=!0;try{let response=await TableService_default.getTable(reference);tableData.value=response.data,columns.value=response.data.columns||[],rows.value=response.data.rows||[],columns.value.length===0&&initializeDefaultColumns(),rows.value.length===0&&initializeEmptyRows()}catch(error){console.error(`Failed to load table:`,error),initializeEmptyGrid()}finally{loading.value=!1}}function initializeFromDocument(){props.document?.data?.columns?columns.value=props.document.data.columns:initializeDefaultColumns(),props.document?.data?.rows?rows.value=props.document.data.rows:initializeEmptyRows()}function initializeEmptyGrid(){initializeDefaultColumns(),initializeEmptyRows()}function initializeDefaultColumns(){columns.value=Array(10).fill(null).map((_,i)=>({key:`col_${i}`,title:getColumnName(i),type:`text`,width:100}))}function initializeEmptyRows(){rows.value=Array(20).fill(null).map(()=>({}))}function getColumnName(index){let name=``,i=index;for(;i>=0;)name=String.fromCharCode(i%26+65)+name,i=Math.floor(i/26)-1;return name}function getCellValue(row,colKey){return row[colKey]??``}function selectCell(row,col){selectedCell.value={row,col};let colKey=columns.value[col].key;formulaInput.value=rows.value[row][colKey]||``}function editCell(row,col){editingCell.value={row,col};let colKey=columns.value[col].key;editingValue.value=rows.value[row][colKey]||``,nextTick(()=>{cellInput.value?.focus()})}function saveCell(){if(editingCell.value){let{row,col}=editingCell.value,colKey=columns.value[col].key;rows.value[row][colKey]=evaluateFormula(editingValue.value),editingCell.value=null,hasChanges.value=!0,emit(`change`)}}function cancelEdit(){editingCell.value=null}function evaluateFormula(value){if(value&&value.toString().startsWith(`=`))try{let formula=value.substring(1);return/^[\d\s+\-*/().]+$/.test(formula)?eval(formula):`#ERROR`}catch{return`#ERROR`}return value}function addRow(){rows.value.push({}),hasChanges.value=!0,emit(`change`)}function addColumn(){let newIndex=columns.value.length;columns.value.push({key:`col_${newIndex}`,title:getColumnName(newIndex),type:`text`,width:100}),hasChanges.value=!0,emit(`change`)}async function save(){if(!tableData.value?.reference&&!props.tableReference){console.log(`Creating new table not implemented in this context`);return}saving.value=!0;try{let ref$1=tableData.value?.reference||props.tableReference;await TableService_default.updateTableColumns(ref$1,columns.value),await TableService_default.updateTableData(ref$1,rows.value),hasChanges.value=!1,emit(`saved`)}catch(error){console.error(`Failed to save table:`,error)}finally{saving.value=!1}}return(_ctx,_cache)=>(openBlock(),createElementBlock(`div`,_hoisted_1$36,[loading.value?(openBlock(),createElementBlock(`div`,_hoisted_2$36,[createVNode(unref(LoaderCircle),{class:`h-8 w-8 animate-spin text-slate-400`})])):(openBlock(),createElementBlock(Fragment,{key:1},[createBaseVNode(`div`,_hoisted_3$34,[createBaseVNode(`div`,_hoisted_4$33,[createBaseVNode(`span`,_hoisted_5$32,toDisplayString(tableData.value?.name||`Untitled Table`),1),createVNode(unref(Input_default),{modelValue:formulaInput.value,"onUpdate:modelValue":_cache[0]||=$event=>formulaInput.value=$event,placeholder:`Enter formula or value`,class:`w-64 h-8 text-sm font-mono`},null,8,[`modelValue`])]),createBaseVNode(`div`,_hoisted_6$29,[createVNode(unref(Button_default),{variant:`ghost`,size:`sm`,class:`h-8`,onClick:addRow},{default:withCtx(()=>[createVNode(unref(Plus),{class:`h-3.5 w-3.5 mr-1`}),_cache[4]||=createTextVNode(` Row `,-1)]),_:1}),createVNode(unref(Button_default),{variant:`ghost`,size:`sm`,class:`h-8`,onClick:addColumn},{default:withCtx(()=>[createVNode(unref(Plus),{class:`h-3.5 w-3.5 mr-1`}),_cache[5]||=createTextVNode(` Column `,-1)]),_:1}),_cache[6]||=createBaseVNode(`div`,{class:`w-px h-4 bg-slate-200 mx-2`},null,-1),createVNode(unref(Button_default),{variant:`ghost`,size:`sm`,class:`h-8 w-8 p-0`,onClick:save,disabled:saving.value,title:`Save`},{default:withCtx(()=>[saving.value?(openBlock(),createBlock(unref(LoaderCircle),{key:0,class:`h-4 w-4 animate-spin`})):(openBlock(),createBlock(unref(Save),{key:1,class:`h-4 w-4`}))]),_:1},8,[`disabled`]),hasChanges.value?(openBlock(),createElementBlock(`span`,_hoisted_7$29,`Unsaved changes`)):createCommentVNode(``,!0)])]),createBaseVNode(`div`,_hoisted_8$29,[createBaseVNode(`table`,_hoisted_9$28,[createBaseVNode(`thead`,_hoisted_10$28,[createBaseVNode(`tr`,null,[_cache[7]||=createBaseVNode(`th`,{class:`w-10 h-8 bg-slate-100 border border-slate-200 text-xs text-slate-500`},null,-1),(openBlock(!0),createElementBlock(Fragment,null,renderList(columns.value,(col,colIdx)=>(openBlock(),createElementBlock(`th`,{key:col.key||colIdx,class:`min-w-[100px] h-8 bg-slate-100 border border-slate-200 text-xs font-medium text-slate-600 px-2`},[editingColumnHeader.value===colIdx?withDirectives((openBlock(),createElementBlock(`input`,{key:0,"onUpdate:modelValue":$event=>col.title=$event,class:`w-full bg-transparent text-center outline-none`,onBlur:_cache[1]||=$event=>editingColumnHeader.value=null,onKeydown:_cache[2]||=withKeys($event=>editingColumnHeader.value=null,[`enter`])},null,40,_hoisted_11$28)),[[vModelText,col.title]]):(openBlock(),createElementBlock(`span`,{key:1,onDblclick:$event=>editingColumnHeader.value=colIdx},toDisplayString(col.title||getColumnName(colIdx)),41,_hoisted_12$26))]))),128))])]),createBaseVNode(`tbody`,null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(rows.value,(row,rowIdx)=>(openBlock(),createElementBlock(`tr`,{key:rowIdx},[createBaseVNode(`td`,_hoisted_13$22,toDisplayString(rowIdx+1),1),(openBlock(!0),createElementBlock(Fragment,null,renderList(columns.value,(col,colIdx)=>(openBlock(),createElementBlock(`td`,{key:col.key||colIdx,class:normalizeClass([`border border-slate-200 px-2 py-1`,selectedCell.value?.row===rowIdx&&selectedCell.value?.col===colIdx?`bg-blue-50 outline outline-2 outline-blue-500 -outline-offset-1`:`hover:bg-slate-50`]),onClick:$event=>selectCell(rowIdx,colIdx),onDblclick:$event=>editCell(rowIdx,colIdx)},[editingCell.value?.row===rowIdx&&editingCell.value?.col===colIdx?withDirectives((openBlock(),createElementBlock(`input`,{key:0,"onUpdate:modelValue":_cache[3]||=$event=>editingValue.value=$event,class:`w-full h-full bg-transparent outline-none`,onBlur:saveCell,onKeydown:[withKeys(saveCell,[`enter`]),withKeys(cancelEdit,[`escape`])],ref_for:!0,ref_key:`cellInput`,ref:cellInput},null,544)),[[vModelText,editingValue.value]]):(openBlock(),createElementBlock(`span`,_hoisted_15$18,toDisplayString(getCellValue(row,col.key)),1))],42,_hoisted_14$20))),128))]))),128))])])])],64))]))}},_hoisted_1$35={class:`flex items-center justify-center h-full bg-slate-100 p-8`},_hoisted_2$35={class:`text-center text-slate-400`},ChartEditor_default={__name:`ChartEditor`,props:{document:Object},emits:[`change`],setup(__props){return(_ctx,_cache)=>(openBlock(),createElementBlock(`div`,_hoisted_1$35,[createBaseVNode(`div`,_hoisted_2$35,[createVNode(unref(ChartColumn),{class:`h-16 w-16 mx-auto mb-4 opacity-50`}),_cache[0]||=createBaseVNode(`h3`,{class:`text-lg font-medium mb-2`},`Chart Editor`,-1),_cache[1]||=createBaseVNode(`p`,{class:`text-sm`},`Chart editing coming soon`,-1)])]))}},_hoisted_1$34={class:`flex flex-col h-full bg-white`},_hoisted_2$34={class:`flex items-center justify-between px-4 py-2 border-b border-slate-100 bg-slate-50`},_hoisted_3$33={class:`flex items-center gap-2`},_hoisted_4$32={class:`flex-1 p-8 overflow-auto`},TextEditor_default={__name:`TextEditor`,props:{document:Object},emits:[`change`],setup(__props,{emit:__emit}){let props=__props,emit=__emit,content=ref(``),isBold=ref(!1),isItalic=ref(!1);onMounted(()=>{content.value=props.document?.content||``});function handleChange(){emit(`change`)}function toggleBold(){isBold.value=!isBold.value}function toggleItalic(){isItalic.value=!isItalic.value}function insertList(){content.value+=`
- `}function save(){}return(_ctx,_cache)=>(openBlock(),createElementBlock(`div`,_hoisted_1$34,[createBaseVNode(`div`,_hoisted_2$34,[createBaseVNode(`div`,_hoisted_3$33,[createVNode(unref(Button_default),{variant:`ghost`,size:`sm`,class:normalizeClass({"bg-slate-200":isBold.value}),onClick:toggleBold},{default:withCtx(()=>[createVNode(unref(Bold),{class:`h-4 w-4`})]),_:1},8,[`class`]),createVNode(unref(Button_default),{variant:`ghost`,size:`sm`,class:normalizeClass({"bg-slate-200":isItalic.value}),onClick:toggleItalic},{default:withCtx(()=>[createVNode(unref(Italic),{class:`h-4 w-4`})]),_:1},8,[`class`]),_cache[1]||=createBaseVNode(`div`,{class:`w-px h-4 bg-slate-200 mx-1`},null,-1),createVNode(unref(Button_default),{variant:`ghost`,size:`sm`,onClick:insertList},{default:withCtx(()=>[createVNode(unref(List),{class:`h-4 w-4`})]),_:1})]),createVNode(unref(Button_default),{variant:`ghost`,size:`sm`,onClick:save},{default:withCtx(()=>[createVNode(unref(Save),{class:`h-4 w-4 mr-1`}),_cache[2]||=createTextVNode(` Save `,-1)]),_:1})]),createBaseVNode(`div`,_hoisted_4$32,[withDirectives(createBaseVNode(`textarea`,{"onUpdate:modelValue":_cache[0]||=$event=>content.value=$event,class:`w-full h-full resize-none outline-none text-slate-800 leading-relaxed`,placeholder:`Start typing...`,onInput:handleChange},null,544),[[vModelText,content.value]])])]))}},_hoisted_1$33={class:`flex flex-col h-full bg-slate-900`},_hoisted_2$33={class:`flex items-center justify-between px-4 py-2 bg-slate-800`},_hoisted_3$32={class:`text-sm text-slate-300`},_hoisted_4$31={class:`flex items-center gap-1`},_hoisted_5$31={class:`text-xs text-slate-400 w-12 text-center`},_hoisted_6$28={class:`flex-1 flex items-center justify-center p-8 overflow-auto`},_hoisted_7$28=[`src`,`alt`],_hoisted_8$28={key:1,class:`text-slate-500 text-center`},ImageViewer_default={__name:`ImageViewer`,props:{document:Object},setup(__props){let zoom=ref(100);function zoomIn(){zoom.value=Math.min(200,zoom.value+25)}function zoomOut(){zoom.value=Math.max(25,zoom.value-25)}return(_ctx,_cache)=>(openBlock(),createElementBlock(`div`,_hoisted_1$33,[createBaseVNode(`div`,_hoisted_2$33,[createBaseVNode(`span`,_hoisted_3$32,toDisplayString(__props.document?.name),1),createBaseVNode(`div`,_hoisted_4$31,[createVNode(unref(Button_default),{variant:`ghost`,size:`sm`,class:`h-8 w-8 p-0 text-slate-400 hover:text-white`,onClick:zoomOut},{default:withCtx(()=>[createVNode(unref(ZoomOut),{class:`h-4 w-4`})]),_:1}),createBaseVNode(`span`,_hoisted_5$31,toDisplayString(zoom.value)+`%`,1),createVNode(unref(Button_default),{variant:`ghost`,size:`sm`,class:`h-8 w-8 p-0 text-slate-400 hover:text-white`,onClick:zoomIn},{default:withCtx(()=>[createVNode(unref(ZoomIn),{class:`h-4 w-4`})]),_:1})])]),createBaseVNode(`div`,_hoisted_6$28,[__props.document?.storageUrl?(openBlock(),createElementBlock(`img`,{key:0,src:__props.document.storageUrl,alt:__props.document.name,style:normalizeStyle({transform:`scale(${zoom.value/100})`}),class:`max-w-full max-h-full object-contain transition-transform`},null,12,_hoisted_7$28)):(openBlock(),createElementBlock(`div`,_hoisted_8$28,[createVNode(unref(Image),{class:`h-16 w-16 mx-auto mb-4 opacity-50`}),_cache[0]||=createBaseVNode(`p`,null,`No image to display`,-1)]))])]))}},ReconciliationService_default={async getSessions(page=0,size=20){return API_default.get(`/org/reconciliation`,{query:{page,size},authorizeRequest:!0,organisationAware:!0})},async startReconciliation(bankAccountReference,periodStart,periodEnd,openingBalance,closingBalance){return API_default.post(`/org/reconciliation/start`,{data:{bankAccountReference,periodStart,periodEnd,openingBalance,closingBalance},authorizeRequest:!0,organisationAware:!0})},async getSession(reference){return API_default.get(`/org/reconciliation/${reference}`,{authorizeRequest:!0,organisationAware:!0})},async getSessionItems(reference){return API_default.get(`/org/reconciliation/${reference}/items`,{authorizeRequest:!0,organisationAware:!0})},async getItemsByStatus(reference,status){return API_default.get(`/org/reconciliation/${reference}/items/${status}`,{authorizeRequest:!0,organisationAware:!0})},async approveItem(itemReference){return API_default.post(`/org/reconciliation/items/${itemReference}/approve`,{data:{},authorizeRequest:!0,organisationAware:!0})},async manualMatch(sessionReference,transactionReference,entryReference){return API_default.post(`/org/reconciliation/${sessionReference}/match`,{data:{transactionReference,entryReference},authorizeRequest:!0,organisationAware:!0})},async addAdjustment(sessionReference,type,description$1,amount,adjustmentDate,addsToBook=!0){return API_default.post(`/org/reconciliation/${sessionReference}/adjustments`,{data:{type,description:description$1,amount,adjustmentDate,addsToBook},authorizeRequest:!0,organisationAware:!0})},async finalizeReconciliation(sessionReference){return API_default.post(`/org/reconciliation/${sessionReference}/finalize`,{data:{},authorizeRequest:!0,organisationAware:!0})}},_hoisted_1$32={class:`flex-1 min-w-0`},_hoisted_2$32={class:`flex items-center justify-between gap-2`},_hoisted_3$31={class:`font-medium text-slate-800 truncate`},_hoisted_4$30={class:`flex items-center gap-2 text-xs text-slate-500`},_hoisted_5$30={key:0,class:`text-slate-400`},ReconciliationRow_default={__name:`ReconciliationRow`,props:{item:Object,side:String,selected:Boolean,matched:Boolean,suggested:Boolean},emits:[`click`,`approve`],setup(__props){function formatAmount(amount){return new Intl.NumberFormat(`en-NG`,{minimumFractionDigits:2,maximumFractionDigits:2}).format(Math.abs(amount||0))}function formatDate(dateStr){return dateStr?new Date(dateStr).toLocaleDateString(`en-US`,{month:`short`,day:`numeric`}):``}return(_ctx,_cache)=>(openBlock(),createElementBlock(`div`,{class:normalizeClass([`flex items-center gap-3 px-3 py-2 rounded-lg cursor-pointer transition-all text-sm`,__props.matched?`bg-green-50 border border-green-200`:__props.suggested?`bg-blue-50 border border-blue-200`:__props.selected?`bg-slate-100 border border-slate-300`:`hover:bg-slate-50 border border-transparent`]),onClick:_cache[1]||=$event=>_ctx.$emit(`click`)},[createBaseVNode(`div`,{class:normalizeClass([`h-6 w-6 rounded-full flex items-center justify-center flex-shrink-0`,__props.matched?`bg-green-500 text-white`:__props.suggested?`bg-blue-500 text-white`:`bg-slate-200 text-slate-500`])},[__props.matched?(openBlock(),createBlock(unref(Check),{key:0,class:`h-3.5 w-3.5`})):__props.suggested?(openBlock(),createBlock(unref(Sparkles),{key:1,class:`h-3.5 w-3.5`})):(openBlock(),createBlock(unref(Circle),{key:2,class:`h-3 w-3`}))],2),createBaseVNode(`div`,_hoisted_1$32,[createBaseVNode(`div`,_hoisted_2$32,[createBaseVNode(`span`,_hoisted_3$31,toDisplayString(__props.item.description),1),createBaseVNode(`span`,{class:normalizeClass([`text-sm font-semibold whitespace-nowrap`,__props.item.type===`CREDIT`?`text-green-600`:`text-red-600`])},toDisplayString(__props.item.type===`CREDIT`?`+`:`-`)+toDisplayString(formatAmount(__props.item.amount)),3)]),createBaseVNode(`div`,_hoisted_4$30,[createBaseVNode(`span`,null,toDisplayString(formatDate(__props.item.transactionDate||__props.item.entryDate)),1),__props.item.reference?(openBlock(),createElementBlock(`span`,_hoisted_5$30,` `+toDisplayString(__props.item.reference),1)):createCommentVNode(``,!0)])]),__props.suggested&&!__props.matched?(openBlock(),createBlock(unref(Button_default),{key:0,variant:`ghost`,size:`sm`,class:`h-7 w-7 p-0 flex-shrink-0`,onClick:_cache[0]||=withModifiers($event=>_ctx.$emit(`approve`),[`stop`])},{default:withCtx(()=>[createVNode(unref(Check),{class:`h-4 w-4 text-green-600`})]),_:1})):createCommentVNode(``,!0)],2))}},_hoisted_1$31={class:`flex flex-col h-full`},_hoisted_2$31={key:0,class:`flex-1 flex items-center justify-center`},_hoisted_3$30={class:`flex items-center justify-between px-4 py-2 border-b border-slate-100 bg-white`},_hoisted_4$29={class:`flex items-center gap-3`},_hoisted_5$29={class:`flex items-center gap-1.5 text-sm`},_hoisted_6$27={class:`font-medium`},_hoisted_7$27={class:`flex items-center gap-2`},_hoisted_8$27={class:`flex items-center justify-between px-4 py-3 bg-slate-50 border-b border-slate-100`},_hoisted_9$27={class:`flex items-center gap-6`},_hoisted_10$27={class:`text-center`},_hoisted_11$27={class:`text-lg font-bold text-slate-800`},_hoisted_12$25={class:`text-center`},_hoisted_13$21={class:`text-lg font-bold text-slate-800`},_hoisted_14$19={class:`text-lg font-bold`},_hoisted_15$17={class:`text-xs opacity-80`},_hoisted_16$14={class:`flex items-center gap-4`},_hoisted_17$9={class:`text-center`},_hoisted_18$5={class:`text-lg font-bold text-green-600`},_hoisted_19$5={class:`text-center`},_hoisted_20$5={class:`text-lg font-bold text-amber-600`},_hoisted_21$5={class:`text-center`},_hoisted_22$4={class:`text-lg font-bold text-slate-800`},_hoisted_23$4={class:`flex-1 flex overflow-hidden`},_hoisted_24$4={class:`w-1/2 border-r border-slate-200 flex flex-col`},_hoisted_25$4={class:`px-4 py-2 bg-blue-50 border-b border-slate-200`},_hoisted_26$4={class:`flex items-center gap-2`},_hoisted_27$4={class:`p-2 space-y-1`},_hoisted_28$4={class:`w-1/2 flex flex-col`},_hoisted_29$4={class:`px-4 py-2 bg-green-50 border-b border-slate-200`},_hoisted_30$4={class:`flex items-center gap-2`},_hoisted_31$3={class:`p-2 space-y-1`},_hoisted_32$3={key:0,class:`px-4 py-3 bg-white border-t border-slate-200`},_hoisted_33$3={class:`flex items-center justify-between`},_hoisted_34$3={class:`flex items-center gap-4`},_hoisted_35$3={class:`text-sm`},_hoisted_36$3={class:`font-medium ml-1`},_hoisted_37$3={class:`font-medium`},_hoisted_38$2={class:`flex items-center gap-2`},ReconciliationView_default={__name:`ReconciliationView`,props:{sessionReference:String,account:Object},emits:[`finalized`,`updated`],setup(__props,{emit:__emit}){let props=__props,emit=__emit,loading=ref(!1),refreshing=ref(!1),matching=ref(!1),finalizing=ref(!1),session=ref(null),items=ref([]),selectedBookItem=ref(null),selectedBankItem=ref(null),sessionTitle=computed(()=>session.value?.periodStart&&session.value?.periodEnd?`${formatDate(session.value.periodStart)} - ${formatDate(session.value.periodEnd)}`:session.value?.name||`Reconciliation`),statusVariant=computed(()=>({COMPLETED:`default`,IN_PROGRESS:`secondary`,PENDING_REVIEW:`outline`,DRAFT:`outline`,CANCELLED:`destructive`})[session.value?.status]||`outline`),differenceClass=computed(()=>{let diff=session.value?.difference||0;return diff===0?`bg-green-100 text-green-800`:diff>0?`bg-amber-100 text-amber-800`:`bg-red-100 text-red-800`}),differenceLabel=computed(()=>{let diff=session.value?.difference||0;return diff===0?`Balanced`:diff>0?`Bank Higher`:`Book Higher`}),unmatchedCount=computed(()=>(session.value?.unmatchedBankItems||0)+(session.value?.unmatchedBookItems||0)),matchPercent=computed(()=>{let total=(session.value?.totalBankItems||0)+(session.value?.totalBookItems||0),matched=session.value?.matchedItems||0;return total>0?Math.round(matched*2/total*100):0}),canFinalize=computed(()=>unmatchedCount.value===0&&session.value?.status!==`COMPLETED`),bookItems=computed(()=>items.value.filter(i=>i.bookEntry!=null)),bankItems=computed(()=>items.value.filter(i=>i.bankTransaction!=null));onMounted(()=>{props.sessionReference&&loadSession()}),watch(()=>props.sessionReference,newRef=>{newRef&&loadSession()});async function loadSession(){loading.value=!0;try{let[sessionRes,itemsRes]=await Promise.all([ReconciliationService_default.getSession(props.sessionReference),ReconciliationService_default.getSessionItems(props.sessionReference)]);session.value=sessionRes.data,items.value=itemsRes.data}catch(error){console.error(`Failed to load session:`,error)}finally{loading.value=!1}}async function refreshItems(){refreshing.value=!0;try{let[sessionRes,itemsRes]=await Promise.all([ReconciliationService_default.getSession(props.sessionReference),ReconciliationService_default.getSessionItems(props.sessionReference)]);session.value=sessionRes.data,items.value=itemsRes.data}catch(error){console.error(`Failed to refresh:`,error)}finally{refreshing.value=!1}}function selectBookItem(item){selectedBookItem.value=item}function selectBankItem(item){selectedBankItem.value=item}function clearSelection(){selectedBookItem.value=null,selectedBankItem.value=null}async function approveItem(item){try{await ReconciliationService_default.approveItem(item.reference),await refreshItems()}catch(error){console.error(`Failed to approve:`,error)}}async function confirmMatch(){if(!(!selectedBookItem.value?.bookEntry||!selectedBankItem.value?.bankTransaction)){matching.value=!0;try{await ReconciliationService_default.manualMatch(props.sessionReference,selectedBankItem.value.bankTransaction.reference,selectedBookItem.value.bookEntry.reference),clearSelection(),await refreshItems(),emit(`updated`)}catch(error){console.error(`Failed to match:`,error)}finally{matching.value=!1}}}async function finalize(){finalizing.value=!0;try{await ReconciliationService_default.finalizeReconciliation(props.sessionReference),await refreshItems(),emit(`finalized`)}catch(error){console.error(`Failed to finalize:`,error)}finally{finalizing.value=!1}}function formatCurrency(amount){return new Intl.NumberFormat(`en-NG`,{style:`currency`,currency:props.account?.currency||`NGN`,minimumFractionDigits:0}).format(amount)}function formatDate(dateStr){return dateStr?new Date(dateStr).toLocaleDateString(`en-US`,{month:`short`,year:`numeric`}):``}return(_ctx,_cache)=>(openBlock(),createElementBlock(`div`,_hoisted_1$31,[loading.value?(openBlock(),createElementBlock(`div`,_hoisted_2$31,[createVNode(unref(LoaderCircle),{class:`h-8 w-8 animate-spin text-slate-400`})])):(openBlock(),createElementBlock(Fragment,{key:1},[createBaseVNode(`div`,_hoisted_3$30,[createBaseVNode(`div`,_hoisted_4$29,[createBaseVNode(`div`,_hoisted_5$29,[createVNode(unref(GitCompare),{class:`h-4 w-4 text-green-600`}),createBaseVNode(`span`,_hoisted_6$27,toDisplayString(sessionTitle.value),1)]),createVNode(unref(Badge_default),{variant:statusVariant.value},{default:withCtx(()=>[createTextVNode(toDisplayString(session.value?.status||`New`),1)]),_:1},8,[`variant`])]),createBaseVNode(`div`,_hoisted_7$27,[createVNode(unref(Button_default),{variant:`outline`,size:`sm`,class:`h-8`,onClick:refreshItems,disabled:refreshing.value},{default:withCtx(()=>[refreshing.value?(openBlock(),createBlock(unref(LoaderCircle),{key:0,class:`h-3.5 w-3.5 mr-1.5 animate-spin`})):(openBlock(),createBlock(unref(RefreshCw),{key:1,class:`h-3.5 w-3.5 mr-1.5`})),_cache[0]||=createTextVNode(` Refresh `,-1)]),_:1},8,[`disabled`]),createVNode(unref(Button_default),{size:`sm`,class:`h-8`,disabled:!canFinalize.value||finalizing.value,onClick:finalize},{default:withCtx(()=>[finalizing.value?(openBlock(),createBlock(unref(LoaderCircle),{key:0,class:`h-3.5 w-3.5 mr-1.5 animate-spin`})):(openBlock(),createBlock(unref(Check),{key:1,class:`h-3.5 w-3.5 mr-1.5`})),_cache[1]||=createTextVNode(` Finalize `,-1)]),_:1},8,[`disabled`])])]),createBaseVNode(`div`,_hoisted_8$27,[createBaseVNode(`div`,_hoisted_9$27,[createBaseVNode(`div`,_hoisted_10$27,[createBaseVNode(`div`,_hoisted_11$27,toDisplayString(formatCurrency(session.value?.bookBalance||0)),1),_cache[2]||=createBaseVNode(`div`,{class:`text-xs text-slate-500`},`Book Balance`,-1)]),createBaseVNode(`div`,_hoisted_12$25,[createBaseVNode(`div`,_hoisted_13$21,toDisplayString(formatCurrency(session.value?.closingBalance||0)),1),_cache[3]||=createBaseVNode(`div`,{class:`text-xs text-slate-500`},`Bank Balance`,-1)]),createBaseVNode(`div`,{class:normalizeClass([`text-center px-4 py-1 rounded-lg`,differenceClass.value])},[createBaseVNode(`div`,_hoisted_14$19,toDisplayString(formatCurrency(Math.abs(session.value?.difference||0))),1),createBaseVNode(`div`,_hoisted_15$17,toDisplayString(differenceLabel.value),1)],2)]),createBaseVNode(`div`,_hoisted_16$14,[createBaseVNode(`div`,_hoisted_17$9,[createBaseVNode(`div`,_hoisted_18$5,toDisplayString(session.value?.matchedItems||0),1),_cache[4]||=createBaseVNode(`div`,{class:`text-xs text-slate-500`},`Matched`,-1)]),createBaseVNode(`div`,_hoisted_19$5,[createBaseVNode(`div`,_hoisted_20$5,toDisplayString(unmatchedCount.value),1),_cache[5]||=createBaseVNode(`div`,{class:`text-xs text-slate-500`},`Unmatched`,-1)]),createBaseVNode(`div`,_hoisted_21$5,[createBaseVNode(`div`,_hoisted_22$4,toDisplayString(matchPercent.value)+`%`,1),_cache[6]||=createBaseVNode(`div`,{class:`text-xs text-slate-500`},`Match Rate`,-1)])])]),createBaseVNode(`div`,_hoisted_23$4,[createBaseVNode(`div`,_hoisted_24$4,[createBaseVNode(`div`,_hoisted_25$4,[createBaseVNode(`div`,_hoisted_26$4,[createVNode(unref(BookOpen),{class:`h-4 w-4 text-blue-600`}),_cache[7]||=createBaseVNode(`span`,{class:`text-sm font-semibold text-blue-800`},`Book Entries`,-1),createVNode(unref(Badge_default),{variant:`secondary`,class:`ml-auto`},{default:withCtx(()=>[createTextVNode(toDisplayString(bookItems.value.length),1)]),_:1})])]),createVNode(unref(ScrollArea_default),{class:`flex-1`},{default:withCtx(()=>[createBaseVNode(`div`,_hoisted_27$4,[(openBlock(!0),createElementBlock(Fragment,null,renderList(bookItems.value,item=>(openBlock(),createBlock(ReconciliationRow_default,{key:item.reference,item,side:`book`,selected:selectedBookItem.value?.reference===item.reference,matched:item.matchStatus===`MATCHED`,suggested:item.matchStatus===`SUGGESTED`,onClick:$event=>selectBookItem(item),onApprove:$event=>approveItem(item)},null,8,[`item`,`selected`,`matched`,`suggested`,`onClick`,`onApprove`]))),128))])]),_:1})]),createBaseVNode(`div`,_hoisted_28$4,[createBaseVNode(`div`,_hoisted_29$4,[createBaseVNode(`div`,_hoisted_30$4,[createVNode(unref(Landmark),{class:`h-4 w-4 text-green-600`}),_cache[8]||=createBaseVNode(`span`,{class:`text-sm font-semibold text-green-800`},`Bank Transactions`,-1),createVNode(unref(Badge_default),{variant:`secondary`,class:`ml-auto`},{default:withCtx(()=>[createTextVNode(toDisplayString(bankItems.value.length),1)]),_:1})])]),createVNode(unref(ScrollArea_default),{class:`flex-1`},{default:withCtx(()=>[createBaseVNode(`div`,_hoisted_31$3,[(openBlock(!0),createElementBlock(Fragment,null,renderList(bankItems.value,item=>(openBlock(),createBlock(ReconciliationRow_default,{key:item.reference,item,side:`bank`,selected:selectedBankItem.value?.reference===item.reference,matched:item.matchStatus===`MATCHED`,suggested:item.matchStatus===`SUGGESTED`,onClick:$event=>selectBankItem(item),onApprove:$event=>approveItem(item)},null,8,[`item`,`selected`,`matched`,`suggested`,`onClick`,`onApprove`]))),128))])]),_:1})])]),selectedBookItem.value&&selectedBankItem.value?(openBlock(),createElementBlock(`div`,_hoisted_32$3,[createBaseVNode(`div`,_hoisted_33$3,[createBaseVNode(`div`,_hoisted_34$3,[createBaseVNode(`div`,_hoisted_35$3,[_cache[9]||=createBaseVNode(`span`,{class:`text-slate-500`},`Selected:`,-1),createBaseVNode(`span`,_hoisted_36$3,toDisplayString(selectedBookItem.value.bookEntry?.description||`Book Entry`),1),createVNode(unref(ArrowRight),{class:`h-4 w-4 inline mx-2 text-slate-400`}),createBaseVNode(`span`,_hoisted_37$3,toDisplayString(selectedBankItem.value.bankTransaction?.narration||`Bank Tx`),1)])]),createBaseVNode(`div`,_hoisted_38$2,[createVNode(unref(Button_default),{variant:`outline`,size:`sm`,onClick:clearSelection},{default:withCtx(()=>[..._cache[10]||=[createTextVNode(`Cancel`,-1)]]),_:1}),createVNode(unref(Button_default),{size:`sm`,onClick:confirmMatch,disabled:matching.value},{default:withCtx(()=>[matching.value?(openBlock(),createBlock(unref(LoaderCircle),{key:0,class:`h-3.5 w-3.5 mr-1.5 animate-spin`})):(openBlock(),createBlock(unref(Check),{key:1,class:`h-3.5 w-3.5 mr-1.5`})),_cache[11]||=createTextVNode(` Confirm Match `,-1)]),_:1},8,[`disabled`])])])])):createCommentVNode(``,!0)],64))]))}},InvoiceService_default={async getInvoices(type=null,page=0,size=20){let query={page,size};return type&&(query.type=type),API_default.get(`/org/invoices`,{query,authorizeRequest:!0,organisationAware:!0})},async getInvoice(reference){return API_default.get(`/org/invoices/${reference}`,{authorizeRequest:!0,organisationAware:!0})},async createInvoice(data){return API_default.post(`/org/invoices`,{data,authorizeRequest:!0,organisationAware:!0})},async updateInvoice(reference,updates){return API_default.put(`/org/invoices/${reference}`,{data:updates,authorizeRequest:!0,organisationAware:!0})},async sendInvoice(reference){return API_default.post(`/org/invoices/${reference}/send`,{data:{},authorizeRequest:!0,organisationAware:!0})},async markPaid(reference,amount,transactionReference=null){return API_default.post(`/org/invoices/${reference}/mark-paid`,{data:{amount,transactionReference},authorizeRequest:!0,organisationAware:!0})},async cancelInvoice(reference){return API_default.delete(`/org/invoices/${reference}`,{authorizeRequest:!0,organisationAware:!0})},async generateReceiptFromTransaction(transactionReference){return API_default.post(`/org/invoices/receipts/from-transaction`,{data:{transactionReference},authorizeRequest:!0,organisationAware:!0})},async downloadPdf(reference){return API_default.get(`/org/invoices/${reference}/pdf`,{authorizeRequest:!0,organisationAware:!0})}},_hoisted_1$30={class:`flex flex-col h-full bg-white`},_hoisted_2$30={class:`flex items-center justify-between px-4 py-2 border-b border-slate-100`},_hoisted_3$29={class:`flex items-center gap-3`},_hoisted_4$28={class:`flex items-center gap-1.5 text-sm`},_hoisted_5$28={class:`font-medium`},_hoisted_6$26={class:`flex items-center gap-2`},_hoisted_7$26={class:`flex-1 flex overflow-hidden bg-slate-100`},_hoisted_8$26={class:`min-w-[300px] border-r border-slate-200 overflow-y-auto p-6 bg-white`},_hoisted_9$26={class:`mb-6`},_hoisted_10$26={class:`space-y-3`},_hoisted_11$26={class:`grid grid-cols-2 gap-3`},_hoisted_12$24={class:`mb-6`},_hoisted_13$20={class:`grid grid-cols-2 gap-3`},_hoisted_14$18={class:`mb-6`},_hoisted_15$16={class:`flex items-center justify-between mb-3`},_hoisted_16$13={class:`space-y-2`},_hoisted_17$8={class:`flex-1 space-y-2`},_hoisted_18$4={class:`grid grid-cols-3 gap-2`},_hoisted_19$4={class:`mt-1 h-9 flex items-center text-sm font-medium`},_hoisted_20$4={class:`space-y-4`},_hoisted_21$4={class:`bg-slate-100 overflow-y-auto p-6 block justify-center items-center w-full`},_hoisted_22$3={class:`bg-gradient-to-b from-white to-stone-50 mx-auto rounded-lg shadow-lg`,style:{width:`595px`,"min-height":`700px`,padding:`40px`}},_hoisted_23$3={class:`flex justify-between items-start mb-8`},_hoisted_24$3={key:0,class:`h-12 mb-2`},_hoisted_25$3=[`src`],_hoisted_26$3={key:1,class:`text-xl font-bold text-slate-800`},_hoisted_27$3={class:`text-right`},_hoisted_28$3={class:`text-2xl font-bold text-slate-700`},_hoisted_29$3={class:`text-sm text-slate-500`},_hoisted_30$3={class:`text-xs text-slate-400 mt-1`},_hoisted_31$2={class:`grid grid-cols-2 gap-8 mb-8`},_hoisted_32$2={class:`text-sm font-medium`},_hoisted_33$2={class:`text-xs text-slate-600`},_hoisted_34$2={class:`text-sm font-medium`},_hoisted_35$2={class:`text-xs text-slate-600`},_hoisted_36$2={class:`text-xs text-slate-600 whitespace-pre-line`},_hoisted_37$2={class:`w-full mb-6 text-sm`},_hoisted_38$1={class:`py-2`},_hoisted_39$1={class:`py-2 text-center`},_hoisted_40$1={class:`py-2 text-right`},_hoisted_41$1={class:`py-2 text-right`},_hoisted_42$1={class:`flex justify-end mb-8`},_hoisted_43$1={class:`w-48`},_hoisted_44$1={class:`flex justify-between py-1 text-sm`},_hoisted_45$1={key:0,class:`flex justify-between py-1 text-sm`},_hoisted_46$1={class:`flex justify-between py-2 border-t border-slate-300 font-bold`},_hoisted_47$1={key:0,class:`mb-4`},_hoisted_48$1={class:`text-xs text-slate-500 whitespace-pre-line`},_hoisted_49={key:1,class:`mb-4`},_hoisted_50={class:`text-xs text-slate-500`},_hoisted_51={class:`mt-8 pt-4 border-t border-slate-100 text-center text-xs text-slate-400`},InvoiceEditor_default={__name:`InvoiceEditor`,props:{invoiceRef:String,invoiceType:{type:String,default:`INVOICE`},account:Object},emits:[`saved`,`sent`],setup(__props,{emit:__emit}){let props=__props,emit=__emit,saving=ref(!1),sending=ref(!1),invoice=ref({invoiceType:props.invoiceType,status:`DRAFT`,customerName:``,customerEmail:``,customerPhone:``,customerAddress:``,issueDate:new Date().toISOString().split(`T`)[0],dueDate:``,lineItems:[{description:``,quantity:1,unitPrice:0,amount:0}],paymentInstructions:``,notes:``,taxRate:0}),orgName=ref(`Your Company`),orgLogo=ref(null),orgAddress=ref(``),orgWebsite=ref(``),invoiceTypeLabel=computed(()=>({INVOICE:`Invoice`,QUOTE:`Quote`,PROFORMA:`Proforma`,CREDIT_NOTE:`Credit Note`,RECEIPT:`Receipt`})[invoice.value.invoiceType]||`Invoice`),statusVariant=computed(()=>({DRAFT:`secondary`,SENT:`default`,PAID:`success`,OVERDUE:`destructive`,CANCELLED:`outline`})[invoice.value.status]||`secondary`),formattedIssueDate=computed(()=>invoice.value.issueDate?new Date(invoice.value.issueDate).toLocaleDateString(`en-US`,{month:`short`,day:`numeric`,year:`numeric`}):``),subtotal=computed(()=>invoice.value.lineItems.reduce((sum,item)=>sum+(item.amount||0),0)),taxAmount=computed(()=>invoice.value.taxRate?subtotal.value*(invoice.value.taxRate/100):0),total=computed(()=>subtotal.value+taxAmount.value);onMounted(async()=>{props.invoiceRef&&await loadInvoice()});async function loadInvoice(){try{invoice.value=await InvoiceService_default.getInvoice(props.invoiceRef)}catch(error){console.error(`Failed to load invoice:`,error)}}function addLineItem(){invoice.value.lineItems.push({description:``,quantity:1,unitPrice:0,amount:0})}function removeLineItem(index){invoice.value.lineItems.splice(index,1)}function calculateItemAmount(item){item.amount=(item.quantity||0)*(item.unitPrice||0)}async function saveDraft(){saving.value=!0;try{props.invoiceRef?await InvoiceService_default.updateInvoice(props.invoiceRef,invoice.value):invoice.value=await InvoiceService_default.createInvoice(invoice.value),emit(`saved`,invoice.value)}catch(error){console.error(`Failed to save:`,error)}finally{saving.value=!1}}async function sendInvoice(){!props.invoiceRef&&!invoice.value.reference&&await saveDraft(),sending.value=!0;try{await InvoiceService_default.sendInvoice(invoice.value.reference),invoice.value.status=`SENT`,emit(`sent`,invoice.value)}catch(error){console.error(`Failed to send:`,error)}finally{sending.value=!1}}async function downloadPdf(){try{await InvoiceService_default.downloadPdf(invoice.value.reference||props.invoiceRef)}catch(error){console.error(`Failed to download PDF:`,error)}}function formatCurrency(amount){return new Intl.NumberFormat(`en-NG`,{style:`currency`,currency:`NGN`,minimumFractionDigits:0}).format(amount||0)}return(_ctx,_cache)=>(openBlock(),createElementBlock(`div`,_hoisted_1$30,[createBaseVNode(`div`,_hoisted_2$30,[createBaseVNode(`div`,_hoisted_3$29,[createBaseVNode(`div`,_hoisted_4$28,[createVNode(unref(Receipt),{class:`h-4 w-4 text-blue-600`}),createBaseVNode(`span`,_hoisted_5$28,toDisplayString(invoiceTypeLabel.value),1)]),createVNode(unref(Badge_default),{variant:statusVariant.value},{default:withCtx(()=>[createTextVNode(toDisplayString(invoice.value.status||`DRAFT`),1)]),_:1},8,[`variant`])]),createBaseVNode(`div`,_hoisted_6$26,[createVNode(unref(Button_default),{variant:`outline`,size:`sm`,class:`h-8`,onClick:saveDraft,disabled:saving.value},{default:withCtx(()=>[createVNode(unref(Save),{class:`h-3.5 w-3.5 mr-1.5`}),_cache[8]||=createTextVNode(` Save `,-1)]),_:1},8,[`disabled`]),invoice.value.status===`DRAFT`?(openBlock(),createBlock(unref(Button_default),{key:0,size:`sm`,class:`h-8`,onClick:sendInvoice,disabled:sending.value},{default:withCtx(()=>[createVNode(unref(Send),{class:`h-3.5 w-3.5 mr-1.5`}),_cache[9]||=createTextVNode(` Send `,-1)]),_:1},8,[`disabled`])):createCommentVNode(``,!0),createVNode(unref(Button_default),{variant:`outline`,size:`sm`,class:`h-8`,onClick:downloadPdf},{default:withCtx(()=>[createVNode(unref(Download),{class:`h-3.5 w-3.5 mr-1.5`}),_cache[10]||=createTextVNode(` PDF `,-1)]),_:1})])]),createBaseVNode(`div`,_hoisted_7$26,[createBaseVNode(`div`,_hoisted_8$26,[createBaseVNode(`div`,_hoisted_9$26,[_cache[15]||=createBaseVNode(`h3`,{class:`text-sm font-semibold text-slate-700 mb-3`},`Customer Information`,-1),createBaseVNode(`div`,_hoisted_10$26,[createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-xs`},{default:withCtx(()=>[..._cache[11]||=[createTextVNode(`Customer Name`,-1)]]),_:1}),createVNode(unref(Input_default),{modelValue:invoice.value.customerName,"onUpdate:modelValue":_cache[0]||=$event=>invoice.value.customerName=$event,placeholder:`Customer name`,class:`mt-1`},null,8,[`modelValue`])]),createBaseVNode(`div`,_hoisted_11$26,[createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-xs`},{default:withCtx(()=>[..._cache[12]||=[createTextVNode(`Email`,-1)]]),_:1}),createVNode(unref(Input_default),{modelValue:invoice.value.customerEmail,"onUpdate:modelValue":_cache[1]||=$event=>invoice.value.customerEmail=$event,type:`email`,placeholder:`Email`,class:`mt-1`},null,8,[`modelValue`])]),createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-xs`},{default:withCtx(()=>[..._cache[13]||=[createTextVNode(`Phone`,-1)]]),_:1}),createVNode(unref(Input_default),{modelValue:invoice.value.customerPhone,"onUpdate:modelValue":_cache[2]||=$event=>invoice.value.customerPhone=$event,placeholder:`Phone`,class:`mt-1`},null,8,[`modelValue`])])]),createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-xs`},{default:withCtx(()=>[..._cache[14]||=[createTextVNode(`Address`,-1)]]),_:1}),createVNode(unref(Textarea_default),{modelValue:invoice.value.customerAddress,"onUpdate:modelValue":_cache[3]||=$event=>invoice.value.customerAddress=$event,placeholder:`Address`,rows:`2`,class:`mt-1`},null,8,[`modelValue`])])])]),createBaseVNode(`div`,_hoisted_12$24,[_cache[18]||=createBaseVNode(`h3`,{class:`text-sm font-semibold text-slate-700 mb-3`},`Dates`,-1),createBaseVNode(`div`,_hoisted_13$20,[createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-xs`},{default:withCtx(()=>[..._cache[16]||=[createTextVNode(`Issue Date`,-1)]]),_:1}),createVNode(unref(Input_default),{modelValue:invoice.value.issueDate,"onUpdate:modelValue":_cache[4]||=$event=>invoice.value.issueDate=$event,type:`date`,class:`mt-1`},null,8,[`modelValue`])]),createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-xs`},{default:withCtx(()=>[..._cache[17]||=[createTextVNode(`Due Date`,-1)]]),_:1}),createVNode(unref(Input_default),{modelValue:invoice.value.dueDate,"onUpdate:modelValue":_cache[5]||=$event=>invoice.value.dueDate=$event,type:`date`,class:`mt-1`},null,8,[`modelValue`])])])]),createBaseVNode(`div`,_hoisted_14$18,[createBaseVNode(`div`,_hoisted_15$16,[_cache[20]||=createBaseVNode(`h3`,{class:`text-sm font-semibold text-slate-700`},`Line Items`,-1),createVNode(unref(Button_default),{variant:`outline`,size:`sm`,class:`h-7 text-xs`,onClick:addLineItem},{default:withCtx(()=>[createVNode(unref(Plus),{class:`h-3 w-3 mr-1`}),_cache[19]||=createTextVNode(` Add Item `,-1)]),_:1})]),createBaseVNode(`div`,_hoisted_16$13,[(openBlock(!0),createElementBlock(Fragment,null,renderList(invoice.value.lineItems,(item,index)=>(openBlock(),createElementBlock(`div`,{key:index,class:`flex items-start gap-2 p-3 bg-slate-50 rounded-lg`},[createBaseVNode(`div`,_hoisted_17$8,[createVNode(unref(Input_default),{modelValue:item.description,"onUpdate:modelValue":$event=>item.description=$event,placeholder:`Description`,class:`text-sm`},null,8,[`modelValue`,`onUpdate:modelValue`]),createBaseVNode(`div`,_hoisted_18$4,[createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-xs`},{default:withCtx(()=>[..._cache[21]||=[createTextVNode(`Qty`,-1)]]),_:1}),createVNode(unref(Input_default),{modelValue:item.quantity,"onUpdate:modelValue":$event=>item.quantity=$event,modelModifiers:{number:!0},type:`number`,min:`1`,class:`mt-1`,onInput:$event=>calculateItemAmount(item)},null,8,[`modelValue`,`onUpdate:modelValue`,`onInput`])]),createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-xs`},{default:withCtx(()=>[..._cache[22]||=[createTextVNode(`Rate`,-1)]]),_:1}),createVNode(unref(Input_default),{modelValue:item.unitPrice,"onUpdate:modelValue":$event=>item.unitPrice=$event,modelModifiers:{number:!0},type:`number`,step:`0.01`,class:`mt-1`,onInput:$event=>calculateItemAmount(item)},null,8,[`modelValue`,`onUpdate:modelValue`,`onInput`])]),createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-xs`},{default:withCtx(()=>[..._cache[23]||=[createTextVNode(`Amount`,-1)]]),_:1}),createBaseVNode(`div`,_hoisted_19$4,toDisplayString(formatCurrency(item.amount)),1)])])]),createVNode(unref(Button_default),{variant:`ghost`,size:`sm`,class:`h-7 w-7 p-0 text-red-500`,onClick:$event=>removeLineItem(index)},{default:withCtx(()=>[createVNode(unref(Trash2),{class:`h-3.5 w-3.5`})]),_:1},8,[`onClick`])]))),128))])]),createBaseVNode(`div`,_hoisted_20$4,[createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-xs`},{default:withCtx(()=>[..._cache[24]||=[createTextVNode(`Payment Instructions`,-1)]]),_:1}),createVNode(unref(Textarea_default),{modelValue:invoice.value.paymentInstructions,"onUpdate:modelValue":_cache[6]||=$event=>invoice.value.paymentInstructions=$event,placeholder:`Bank account details, payment methods...`,rows:`3`,class:`mt-1`},null,8,[`modelValue`])]),createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-xs`},{default:withCtx(()=>[..._cache[25]||=[createTextVNode(`Notes`,-1)]]),_:1}),createVNode(unref(Textarea_default),{modelValue:invoice.value.notes,"onUpdate:modelValue":_cache[7]||=$event=>invoice.value.notes=$event,placeholder:`Additional notes...`,rows:`2`,class:`mt-1`},null,8,[`modelValue`])])])]),createBaseVNode(`div`,_hoisted_21$4,[createBaseVNode(`div`,_hoisted_22$3,[createBaseVNode(`div`,_hoisted_23$3,[createBaseVNode(`div`,null,[orgLogo.value?(openBlock(),createElementBlock(`div`,_hoisted_24$3,[createBaseVNode(`img`,{src:orgLogo.value,alt:`Logo`,class:`h-full object-contain`},null,8,_hoisted_25$3)])):(openBlock(),createElementBlock(`div`,_hoisted_26$3,toDisplayString(orgName.value),1))]),createBaseVNode(`div`,_hoisted_27$3,[createBaseVNode(`div`,_hoisted_28$3,toDisplayString(invoiceTypeLabel.value.toUpperCase()),1),createBaseVNode(`div`,_hoisted_29$3,`#`+toDisplayString(invoice.value.invoiceNumber||`DRAFT`),1),createBaseVNode(`div`,_hoisted_30$3,toDisplayString(formattedIssueDate.value),1)])]),createBaseVNode(`div`,_hoisted_31$2,[createBaseVNode(`div`,null,[_cache[26]||=createBaseVNode(`div`,{class:`text-xs text-slate-400 mb-1`},`FROM:`,-1),createBaseVNode(`div`,_hoisted_32$2,toDisplayString(orgName.value),1),createBaseVNode(`div`,_hoisted_33$2,toDisplayString(orgAddress.value),1)]),createBaseVNode(`div`,null,[_cache[27]||=createBaseVNode(`div`,{class:`text-xs text-slate-400 mb-1`},`BILL TO:`,-1),createBaseVNode(`div`,_hoisted_34$2,toDisplayString(invoice.value.customerName||`Customer`),1),createBaseVNode(`div`,_hoisted_35$2,toDisplayString(invoice.value.customerEmail),1),createBaseVNode(`div`,_hoisted_36$2,toDisplayString(invoice.value.customerAddress),1)])]),createBaseVNode(`table`,_hoisted_37$2,[_cache[28]||=createBaseVNode(`thead`,null,[createBaseVNode(`tr`,{class:`border-b border-slate-200`},[createBaseVNode(`th`,{class:`text-left py-2 font-medium text-slate-600`},`Description`),createBaseVNode(`th`,{class:`text-center py-2 font-medium text-slate-600 w-16`},`Qty`),createBaseVNode(`th`,{class:`text-right py-2 font-medium text-slate-600 w-24`},`Rate`),createBaseVNode(`th`,{class:`text-right py-2 font-medium text-slate-600 w-24`},`Amount`)])],-1),createBaseVNode(`tbody`,null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(invoice.value.lineItems,(item,index)=>(openBlock(),createElementBlock(`tr`,{key:index,class:`border-b border-slate-100`},[createBaseVNode(`td`,_hoisted_38$1,toDisplayString(item.description||`Item`),1),createBaseVNode(`td`,_hoisted_39$1,toDisplayString(item.quantity),1),createBaseVNode(`td`,_hoisted_40$1,toDisplayString(formatCurrency(item.unitPrice)),1),createBaseVNode(`td`,_hoisted_41$1,toDisplayString(formatCurrency(item.amount)),1)]))),128))])]),createBaseVNode(`div`,_hoisted_42$1,[createBaseVNode(`div`,_hoisted_43$1,[createBaseVNode(`div`,_hoisted_44$1,[_cache[29]||=createBaseVNode(`span`,null,`Subtotal:`,-1),createBaseVNode(`span`,null,toDisplayString(formatCurrency(subtotal.value)),1)]),invoice.value.taxRate?(openBlock(),createElementBlock(`div`,_hoisted_45$1,[createBaseVNode(`span`,null,`Tax (`+toDisplayString(invoice.value.taxRate)+`%):`,1),createBaseVNode(`span`,null,toDisplayString(formatCurrency(taxAmount.value)),1)])):createCommentVNode(``,!0),createBaseVNode(`div`,_hoisted_46$1,[_cache[30]||=createBaseVNode(`span`,null,`Total:`,-1),createBaseVNode(`span`,null,toDisplayString(formatCurrency(total.value)),1)])])]),invoice.value.paymentInstructions?(openBlock(),createElementBlock(`div`,_hoisted_47$1,[_cache[31]||=createBaseVNode(`div`,{class:`text-xs font-medium text-slate-600 mb-1`},`Payment Instructions`,-1),createBaseVNode(`div`,_hoisted_48$1,toDisplayString(invoice.value.paymentInstructions),1)])):createCommentVNode(``,!0),invoice.value.notes?(openBlock(),createElementBlock(`div`,_hoisted_49,[_cache[32]||=createBaseVNode(`div`,{class:`text-xs font-medium text-slate-600 mb-1`},`Notes`,-1),createBaseVNode(`div`,_hoisted_50,toDisplayString(invoice.value.notes),1)])):createCommentVNode(``,!0),createBaseVNode(`div`,_hoisted_51,toDisplayString(orgWebsite.value),1)])])])]))}},RESOURCE=`/org/tax`,TaxReportService_default={getTaxFramework(){return API_default.get(`${RESOURCE}/framework`,{organisationAware:!0,authorizeRequest:!0})},updateTaxPolicies(policies){return API_default.put(`${RESOURCE}/framework`,{data:policies,organisationAware:!0,authorizeRequest:!0})},reinitializeFramework(){return API_default.post(`${RESOURCE}/framework/initialize`,{organisationAware:!0,authorizeRequest:!0})},generateReport(startDate,endDate){return API_default.get(`${RESOURCE}/report`,{query:{startDate,endDate},organisationAware:!0,authorizeRequest:!0})},async exportReport(startDate,endDate){return await API_default.get(`${RESOURCE}/report/export`,{query:{startDate,endDate},organisationAware:!0,authorizeRequest:!0,responseType:`blob`})},async downloadReport(startDate,endDate){try{let blob=await this.exportReport(startDate,endDate),xlsxBlob=new Blob([blob],{type:`application/vnd.openxmlformats-officedocument.spreadsheetml.sheet`}),url=window.URL.createObjectURL(xlsxBlob),link=document.createElement(`a`);link.href=url,link.setAttribute(`download`,`TaxReport_${startDate}_to_${endDate}.xlsx`),document.body.appendChild(link),link.click(),link.remove(),window.URL.revokeObjectURL(url)}catch(error){throw console.error(`Failed to download tax report:`,error),error}}},_hoisted_1$29={class:`h-full flex flex-col bg-stone-50`},_hoisted_2$29={class:`p-6 bg-white border-b border-stone-200`},_hoisted_3$28={class:`flex items-center justify-between mb-4`},_hoisted_4$27={class:`flex items-center gap-2`},_hoisted_5$27={class:`flex flex-wrap items-end gap-4`},_hoisted_6$25={class:`space-y-1`},_hoisted_7$25={class:`space-y-1`},_hoisted_8$25={class:`flex-1 overflow-y-auto p-6`,style:{"scrollbar-width":`none`}},_hoisted_9$25={key:0,class:`flex items-center justify-center h-64`},_hoisted_10$25={class:`text-center`},_hoisted_11$25={key:1,class:`flex items-center justify-center h-64`},_hoisted_12$23={class:`text-center`},_hoisted_13$19={key:2,class:`space-y-6`},_hoisted_14$17={class:`grid grid-cols-1 md:grid-cols-4 gap-4`},_hoisted_15$15={class:`text-2xl font-bold text-slate-800`},_hoisted_16$12={class:`text-2xl font-bold text-slate-800`},_hoisted_17$7={class:`text-2xl font-bold text-red-600`},_hoisted_18$3={class:`text-2xl font-bold text-green-600`},_hoisted_19$3={key:0,class:`text-slate-400 text-sm`},_hoisted_20$3={key:1,class:`space-y-3`},_hoisted_21$3={class:`flex items-center gap-2`},_hoisted_22$2={class:`text-sm font-medium text-slate-700`},_hoisted_23$2={class:`text-sm font-semibold text-slate-800`},_hoisted_24$2={class:`p-4 border-b border-slate-100 flex items-center justify-between`},_hoisted_25$2={class:`text-sm text-slate-500`},_hoisted_26$2={class:`overflow-x-auto`},_hoisted_27$2={class:`w-full text-sm`},_hoisted_28$2={class:`divide-y divide-slate-100`},_hoisted_29$2={class:`px-4 py-3 text-slate-600`},_hoisted_30$2={class:`px-4 py-3 font-medium text-slate-800 max-w-xs truncate`},_hoisted_31$1={class:`px-4 py-3`},_hoisted_32$1={key:1,class:`text-slate-400 text-xs`},_hoisted_33$1={class:`px-4 py-3 text-right font-medium`},_hoisted_34$1={class:`px-4 py-3 text-right text-red-600 font-medium`},_hoisted_35$1={class:`px-4 py-3 text-right text-green-600 font-medium`},_hoisted_36$1={class:`px-4 py-3`},_hoisted_37$1={class:`flex flex-wrap gap-1`},TaxReportTab_default={__name:`TaxReportTab`,props:{account:Object},setup(__props){let toast=getNotificationStore().toast,df=new $fb18d541ea1ad717$export$ad991b66133851cf(`en-US`,{dateStyle:`medium`}),framework=ref(null),report=ref(null),generating=ref(!1),downloading=ref(!1),now=$14e0f24ef4ac5c92$export$d0bdf45af03a6ea3($14e0f24ef4ac5c92$export$aa8b41735afcabd2()),startDate=ref(now.subtract({months:3})),endDate=ref(now),canGenerate=computed(()=>startDate.value&&endDate.value);onMounted(async()=>{await loadFramework()});async function loadFramework(){try{framework.value=await TaxReportService_default.getTaxFramework()}catch(error){console.error(`Failed to load tax framework:`,error)}}async function generateReport(){if(canGenerate.value)try{generating.value=!0;let start=startDate.value.toString(),end=endDate.value.toString();report.value=await TaxReportService_default.generateReport(start,end),toast({title:`Report Generated`,description:`Analyzed ${report.value.totalTransactions} transactions`})}catch(error){console.error(`Failed to generate report:`,error),toast({title:`Error`,description:`Failed to generate tax report`,variant:`destructive`})}finally{generating.value=!1}}async function downloadReport(){if(report.value)try{downloading.value=!0;let start=startDate.value.toString(),end=endDate.value.toString();await TaxReportService_default.downloadReport(start,end),toast({title:`Download Started`,description:`Your tax report is downloading`})}catch(error){console.error(`Failed to download report:`,error),toast({title:`Error`,description:`Failed to download report`,variant:`destructive`})}finally{downloading.value=!1}}function formatCurrency(amount){return amount==null?`0.00`:new Intl.NumberFormat(`en-NG`,{style:`currency`,currency:`NGN`}).format(amount)}function formatDate(dateString){return dateString?new Date(dateString).toLocaleDateString(`en-US`,{year:`numeric`,month:`short`,day:`numeric`}):`N/A`}return(_ctx,_cache)=>(openBlock(),createElementBlock(`div`,_hoisted_1$29,[createBaseVNode(`div`,_hoisted_2$29,[createBaseVNode(`div`,_hoisted_3$28,[_cache[2]||=createBaseVNode(`div`,null,[createBaseVNode(`h2`,{class:`text-xl font-semibold text-slate-800`},`Tax Report`),createBaseVNode(`p`,{class:`text-sm text-slate-500`},`Generate tax reports based on your transaction history`)],-1),createBaseVNode(`div`,_hoisted_4$27,[framework.value?(openBlock(),createBlock(unref(Badge_default$1),{key:0,variant:`outline`,class:`rounded-full`},{default:withCtx(()=>[createVNode(unref(Globe),{class:`h-3 w-3 mr-1`}),createTextVNode(` `+toDisplayString(framework.value.jurisdiction),1)]),_:1})):createCommentVNode(``,!0)])]),createBaseVNode(`div`,_hoisted_5$27,[createBaseVNode(`div`,_hoisted_6$25,[createVNode(unref(Label_default$1),{class:`text-xs text-slate-500`},{default:withCtx(()=>[..._cache[3]||=[createTextVNode(`Start Date`,-1)]]),_:1}),createVNode(unref(Popover_default),null,{default:withCtx(()=>[createVNode(unref(PopoverTrigger_default),{"as-child":``},{default:withCtx(()=>[createVNode(unref(Button_default$1),{variant:`outline`,class:normalizeClass(unref(cn)(`w-40 justify-start text-left font-normal rounded-full`,!startDate.value&&`text-muted-foreground`))},{default:withCtx(()=>[createVNode(unref(Calendar),{class:`mr-2 h-4 w-4`}),createTextVNode(` `+toDisplayString(startDate.value?unref(df).format(startDate.value.toDate(unref($14e0f24ef4ac5c92$export$aa8b41735afcabd2)())):`Pick date`),1)]),_:1},8,[`class`])]),_:1}),createVNode(unref(PopoverContent_default),{class:`w-auto p-0`},{default:withCtx(()=>[createVNode(unref(Calendar_default),{modelValue:startDate.value,"onUpdate:modelValue":_cache[0]||=$event=>startDate.value=$event,"initial-focus":``},null,8,[`modelValue`])]),_:1})]),_:1})]),createBaseVNode(`div`,_hoisted_7$25,[createVNode(unref(Label_default$1),{class:`text-xs text-slate-500`},{default:withCtx(()=>[..._cache[4]||=[createTextVNode(`End Date`,-1)]]),_:1}),createVNode(unref(Popover_default),null,{default:withCtx(()=>[createVNode(unref(PopoverTrigger_default),{"as-child":``},{default:withCtx(()=>[createVNode(unref(Button_default$1),{variant:`outline`,class:normalizeClass(unref(cn)(`w-40 justify-start text-left font-normal rounded-full`,!endDate.value&&`text-muted-foreground`))},{default:withCtx(()=>[createVNode(unref(Calendar),{class:`mr-2 h-4 w-4`}),createTextVNode(` `+toDisplayString(endDate.value?unref(df).format(endDate.value.toDate(unref($14e0f24ef4ac5c92$export$aa8b41735afcabd2)())):`Pick date`),1)]),_:1},8,[`class`])]),_:1}),createVNode(unref(PopoverContent_default),{class:`w-auto p-0`},{default:withCtx(()=>[createVNode(unref(Calendar_default),{modelValue:endDate.value,"onUpdate:modelValue":_cache[1]||=$event=>endDate.value=$event,"initial-focus":``},null,8,[`modelValue`])]),_:1})]),_:1})]),createVNode(unref(Button_default$1),{onClick:generateReport,disabled:!canGenerate.value||generating.value,class:`rounded-full`},{default:withCtx(()=>[generating.value?(openBlock(),createBlock(unref(LoaderCircle),{key:0,class:`h-4 w-4 mr-2 animate-spin`})):(openBlock(),createBlock(unref(FileText),{key:1,class:`h-4 w-4 mr-2`})),_cache[5]||=createTextVNode(` Generate Report `,-1)]),_:1},8,[`disabled`]),report.value?(openBlock(),createBlock(unref(Button_default$1),{key:0,variant:`outline`,onClick:downloadReport,disabled:downloading.value,class:`rounded-full`},{default:withCtx(()=>[downloading.value?(openBlock(),createBlock(unref(LoaderCircle),{key:0,class:`h-4 w-4 mr-2 animate-spin`})):(openBlock(),createBlock(unref(Download),{key:1,class:`h-4 w-4 mr-2`})),_cache[6]||=createTextVNode(` Export XLSX `,-1)]),_:1},8,[`disabled`])):createCommentVNode(``,!0)])]),createBaseVNode(`div`,_hoisted_8$25,[generating.value?(openBlock(),createElementBlock(`div`,_hoisted_9$25,[createBaseVNode(`div`,_hoisted_10$25,[createVNode(unref(LoaderCircle),{class:`h-8 w-8 animate-spin mx-auto mb-4 text-blue-600`}),_cache[7]||=createBaseVNode(`p`,{class:`text-slate-500`},`Generating tax report...`,-1)])])):report.value?(openBlock(),createElementBlock(`div`,_hoisted_13$19,[createBaseVNode(`div`,_hoisted_14$17,[createVNode(unref(Card_default),{class:`p-4`},{default:withCtx(()=>[_cache[10]||=createBaseVNode(`div`,{class:`text-xs text-slate-500 mb-1`},`Total Transactions`,-1),createBaseVNode(`div`,_hoisted_15$15,toDisplayString(report.value.totalTransactions),1)]),_:1}),createVNode(unref(Card_default),{class:`p-4`},{default:withCtx(()=>[_cache[11]||=createBaseVNode(`div`,{class:`text-xs text-slate-500 mb-1`},`Gross Amount`,-1),createBaseVNode(`div`,_hoisted_16$12,toDisplayString(formatCurrency(report.value.totalGrossAmount)),1)]),_:1}),createVNode(unref(Card_default),{class:`p-4`},{default:withCtx(()=>[_cache[12]||=createBaseVNode(`div`,{class:`text-xs text-slate-500 mb-1`},`Total Tax Liability`,-1),createBaseVNode(`div`,_hoisted_17$7,toDisplayString(formatCurrency(report.value.totalTaxLiability)),1)]),_:1}),createVNode(unref(Card_default),{class:`p-4`},{default:withCtx(()=>[_cache[13]||=createBaseVNode(`div`,{class:`text-xs text-slate-500 mb-1`},`Net Amount`,-1),createBaseVNode(`div`,_hoisted_18$3,toDisplayString(formatCurrency(report.value.netAmount)),1)]),_:1})]),createVNode(unref(Card_default),{class:`p-6`},{default:withCtx(()=>[_cache[15]||=createBaseVNode(`h3`,{class:`text-lg font-semibold mb-4`},`Tax Breakdown by Policy`,-1),Object.keys(report.value.taxSummaryByPolicy||{}).length===0?(openBlock(),createElementBlock(`div`,_hoisted_19$3,` No taxes applied in this period `)):(openBlock(),createElementBlock(`div`,_hoisted_20$3,[(openBlock(!0),createElementBlock(Fragment,null,renderList(report.value.taxSummaryByPolicy,(amount,policyId)=>(openBlock(),createElementBlock(`div`,{key:policyId,class:`flex items-center justify-between py-2 border-b border-slate-100 last:border-0`},[createBaseVNode(`div`,_hoisted_21$3,[_cache[14]||=createBaseVNode(`div`,{class:`h-2 w-2 rounded-full bg-blue-500`},null,-1),createBaseVNode(`span`,_hoisted_22$2,toDisplayString(policyId),1)]),createBaseVNode(`span`,_hoisted_23$2,toDisplayString(formatCurrency(amount)),1)]))),128))]))]),_:1}),createVNode(unref(Card_default),{class:`p-0 overflow-hidden`},{default:withCtx(()=>[createBaseVNode(`div`,_hoisted_24$2,[_cache[16]||=createBaseVNode(`h3`,{class:`font-semibold`},`Transaction Details`,-1),createBaseVNode(`span`,_hoisted_25$2,toDisplayString(report.value.lines?.length||0)+` transactions`,1)]),createBaseVNode(`div`,_hoisted_26$2,[createBaseVNode(`table`,_hoisted_27$2,[_cache[17]||=createBaseVNode(`thead`,{class:`bg-slate-50 text-slate-600 text-xs uppercase`},[createBaseVNode(`tr`,null,[createBaseVNode(`th`,{class:`px-4 py-3 text-left`},`Date`),createBaseVNode(`th`,{class:`px-4 py-3 text-left`},`Description`),createBaseVNode(`th`,{class:`px-4 py-3 text-left`},`Category`),createBaseVNode(`th`,{class:`px-4 py-3 text-right`},`Gross`),createBaseVNode(`th`,{class:`px-4 py-3 text-right`},`Tax`),createBaseVNode(`th`,{class:`px-4 py-3 text-right`},`Net`),createBaseVNode(`th`,{class:`px-4 py-3 text-left`},`Policies`)])],-1),createBaseVNode(`tbody`,_hoisted_28$2,[(openBlock(!0),createElementBlock(Fragment,null,renderList(report.value.lines,line=>(openBlock(),createElementBlock(`tr`,{key:line.transactionReference,class:`hover:bg-slate-50`},[createBaseVNode(`td`,_hoisted_29$2,toDisplayString(formatDate(line.transactionDate)),1),createBaseVNode(`td`,_hoisted_30$2,toDisplayString(line.description),1),createBaseVNode(`td`,_hoisted_31$1,[line.category?(openBlock(),createBlock(unref(Badge_default$1),{key:0,variant:`outline`,class:`rounded-full text-xs`},{default:withCtx(()=>[createTextVNode(toDisplayString(line.category),1)]),_:2},1024)):(openBlock(),createElementBlock(`span`,_hoisted_32$1,`Uncategorized`))]),createBaseVNode(`td`,_hoisted_33$1,toDisplayString(formatCurrency(line.grossAmount)),1),createBaseVNode(`td`,_hoisted_34$1,toDisplayString(formatCurrency(line.totalTax)),1),createBaseVNode(`td`,_hoisted_35$1,toDisplayString(formatCurrency(line.netAmount)),1),createBaseVNode(`td`,_hoisted_36$1,[createBaseVNode(`div`,_hoisted_37$1,[(openBlock(!0),createElementBlock(Fragment,null,renderList(line.appliedPolicyIds,policy=>(openBlock(),createBlock(unref(Badge_default$1),{key:policy,variant:`secondary`,class:`rounded-full text-xs`},{default:withCtx(()=>[createTextVNode(toDisplayString(policy),1)]),_:2},1024))),128))])])]))),128))])])])]),_:1})])):(openBlock(),createElementBlock(`div`,_hoisted_11$25,[createBaseVNode(`div`,_hoisted_12$23,[createVNode(unref(FileText),{class:`h-12 w-12 text-slate-300 mx-auto mb-4`}),_cache[8]||=createBaseVNode(`h3`,{class:`text-lg font-medium text-slate-600 mb-2`},`No Report Generated`,-1),_cache[9]||=createBaseVNode(`p`,{class:`text-sm text-slate-400 max-w-md`},` Select a date range and click "Generate Report" to create your tax report. `,-1)])]))])]))}},_hoisted_1$28={key:0,class:`mobile-bottom-sheet-header`},_hoisted_2$28={class:`text-lg font-semibold text-slate-900`},_hoisted_3$27={key:0,class:`text-sm text-slate-500 mt-1`},_hoisted_4$26={class:`mobile-bottom-sheet-content`},_hoisted_5$26={key:1,class:`mobile-bottom-sheet-footer`},_sfc_main$27={__name:`MobileBottomSheet`,props:{isOpen:{type:Boolean,default:!1},title:{type:String,default:``},description:{type:String,default:``},snapPoints:{type:Array,default:()=>[`50%`,`90%`]},initialSnapPoint:{type:Number,default:0},closeOnBackdrop:{type:Boolean,default:!0},hasUnsavedChanges:{type:Boolean,default:!1}},emits:[`close`,`update:open`,`snap`,`beforeClose`],setup(__props,{emit:__emit}){let props=__props,emit=__emit,sheetRef=ref(null),currentSnapIndex=ref(props.initialSnapPoint),isDragging=ref(!1),startY=ref(0),currentY=ref(0),sheetStartHeight=ref(0),sheetHeight=computed(()=>{if(isDragging.value){let dragDelta=startY.value-currentY.value,newHeight=sheetStartHeight.value+dragDelta,maxHeight=window.innerHeight*.95,minHeight=window.innerHeight*.2;return`${Math.min(Math.max(newHeight,minHeight),maxHeight)}px`}return props.snapPoints[currentSnapIndex.value]||`50%`});function handleBackdropClick(){props.closeOnBackdrop&&handleClose()}function handleClose(){props.hasUnsavedChanges?emit(`beforeClose`):(emit(`close`),emit(`update:open`,!1))}function handleTouchStart(e){let touch=e.touches[0];startY.value=touch.clientY,currentY.value=touch.clientY,sheetStartHeight.value=sheetRef.value?.getBoundingClientRect()?.height||0,isDragging.value=!0}function handleTouchMove(e){isDragging.value&&(currentY.value=e.touches[0].clientY)}function handleTouchEnd(){if(!isDragging.value)return;isDragging.value=!1;let dragDelta=startY.value-currentY.value,threshold=50;dragDelta>50&&currentSnapIndex.value<props.snapPoints.length-1?(currentSnapIndex.value++,emit(`snap`,currentSnapIndex.value)):dragDelta<-50&&(currentSnapIndex.value>0?(currentSnapIndex.value--,emit(`snap`,currentSnapIndex.value)):handleClose())}return watch(()=>props.isOpen,isOpen=>{isOpen?(document.body.style.overflow=`hidden`,currentSnapIndex.value=props.initialSnapPoint):document.body.style.overflow=``}),onUnmounted(()=>{document.body.style.overflow=``}),(_ctx,_cache)=>(openBlock(),createBlock(Teleport,{to:`body`},[createVNode(Transition,{name:`bottom-sheet`},{default:withCtx(()=>[__props.isOpen?(openBlock(),createElementBlock(`div`,{key:0,class:`mobile-bottom-sheet-container`,onClick:withModifiers(handleBackdropClick,[`self`])},[_cache[2]||=createBaseVNode(`div`,{class:`mobile-bottom-sheet-backdrop`},null,-1),createBaseVNode(`div`,{ref_key:`sheetRef`,ref:sheetRef,class:`mobile-bottom-sheet`,style:normalizeStyle({height:sheetHeight.value}),onTouchstart:handleTouchStart,onTouchmove:handleTouchMove,onTouchend:handleTouchEnd},[_cache[0]||=createBaseVNode(`div`,{class:`mobile-bottom-sheet-handle`},[createBaseVNode(`div`,{class:`mobile-bottom-sheet-handle-bar`})],-1),_ctx.$slots.header||__props.title?(openBlock(),createElementBlock(`div`,_hoisted_1$28,[renderSlot(_ctx.$slots,`header`,{},()=>[createBaseVNode(`h3`,_hoisted_2$28,toDisplayString(__props.title),1),__props.description?(openBlock(),createElementBlock(`p`,_hoisted_3$27,toDisplayString(__props.description),1)):createCommentVNode(``,!0)],!0),createBaseVNode(`button`,{onClick:handleClose,class:`absolute top-4 right-4 p-1.5 rounded-full hover:bg-slate-100 transition-colors`},[createVNode(unref(X),{class:`h-5 w-5 text-slate-400`})])])):createCommentVNode(``,!0),createBaseVNode(`div`,_hoisted_4$26,[renderSlot(_ctx.$slots,`default`,{},void 0,!0)]),_ctx.$slots.footer?(openBlock(),createElementBlock(`div`,_hoisted_5$26,[renderSlot(_ctx.$slots,`footer`,{},void 0,!0)])):createCommentVNode(``,!0),_cache[1]||=createBaseVNode(`div`,{class:`h-safe-bottom`},null,-1)],36)])):createCommentVNode(``,!0)]),_:3})]))}},MobileBottomSheet_default=__plugin_vue_export_helper_default(_sfc_main$27,[[`__scopeId`,`data-v-ed672742`]]),_hoisted_1$27={class:`py-4 space-y-3`},_hoisted_2$27={class:`flex items-start gap-3 p-3 rounded-lg bg-amber-50 border border-amber-100`},_hoisted_3$26={class:`flex items-start gap-3 p-3 rounded-lg bg-slate-50 border border-slate-100`},DraftCloseDialog_default={__name:`DraftCloseDialog`,props:{isOpen:{type:Boolean,default:!1},entityName:{type:String,default:`item`}},emits:[`save`,`discard`,`cancel`,`update:open`],setup(__props,{emit:__emit}){let emit=__emit;function handleOpenChange(open){emit(`update:open`,open),open||emit(`cancel`)}function handleSave(){emit(`update:open`,!1),emit(`save`)}function handleDiscard(){emit(`update:open`,!1),emit(`discard`)}function handleCancel(){emit(`update:open`,!1),emit(`cancel`)}return(_ctx,_cache)=>(openBlock(),createBlock(unref(Dialog_default$1),{open:__props.isOpen,"onUpdate:open":handleOpenChange},{default:withCtx(()=>[createVNode(unref(DialogContent_default$1),{class:`sm:max-w-md`},{default:withCtx(()=>[createVNode(unref(DialogHeader_default$1),null,{default:withCtx(()=>[createVNode(unref(DialogTitle_default$1),{class:`flex items-center gap-2 text-amber-600`},{default:withCtx(()=>[createVNode(unref(TriangleAlert),{class:`h-5 w-5`}),_cache[0]||=createTextVNode(` Unsaved Changes `,-1)]),_:1}),createVNode(unref(DialogDescription_default$1),{class:`text-muted-foreground`},{default:withCtx(()=>[..._cache[1]||=[createTextVNode(` You have unsaved changes. What would you like to do? `,-1)]]),_:1})]),_:1}),createBaseVNode(`div`,_hoisted_1$27,[createBaseVNode(`div`,_hoisted_2$27,[createVNode(unref(Save),{class:`h-5 w-5 text-amber-600 mt-0.5 flex-shrink-0`}),_cache[2]||=createBaseVNode(`div`,null,[createBaseVNode(`p`,{class:`text-sm font-medium text-slate-800`},`Save as draft`),createBaseVNode(`p`,{class:`text-xs text-slate-500`},`Your changes will be saved and you can continue later.`)],-1)]),createBaseVNode(`div`,_hoisted_3$26,[createVNode(unref(Trash2),{class:`h-5 w-5 text-slate-500 mt-0.5 flex-shrink-0`}),_cache[3]||=createBaseVNode(`div`,null,[createBaseVNode(`p`,{class:`text-sm font-medium text-slate-800`},`Discard changes`),createBaseVNode(`p`,{class:`text-xs text-slate-500`},`All unsaved changes will be permanently lost.`)],-1)])]),createVNode(unref(DialogFooter_default$1),{class:`flex-col sm:flex-row gap-2`},{default:withCtx(()=>[createVNode(unref(Button_default),{variant:`outline`,onClick:handleCancel,class:`w-full sm:w-auto rounded-full`},{default:withCtx(()=>[..._cache[4]||=[createTextVNode(` Cancel `,-1)]]),_:1}),createVNode(unref(Button_default),{variant:`destructive`,onClick:handleDiscard,class:`w-full sm:w-auto rounded-full`},{default:withCtx(()=>[createVNode(unref(Trash2),{class:`h-4 w-4 mr-1.5`}),_cache[5]||=createTextVNode(` Discard `,-1)]),_:1}),createVNode(unref(Button_default),{onClick:handleSave,class:`w-full sm:w-auto rounded-full`},{default:withCtx(()=>[createVNode(unref(Save),{class:`h-4 w-4 mr-1.5`}),_cache[6]||=createTextVNode(` Save Draft `,-1)]),_:1})]),_:1})]),_:1})]),_:1},8,[`open`]))}},_hoisted_1$26={key:0,class:`py-4`},_hoisted_2$26={class:`flex items-start gap-3 p-4 rounded-lg bg-amber-50 border border-amber-200`},_hoisted_3$25={class:`text-sm text-slate-600 mt-1`},_hoisted_4$25={key:0,class:`text-xs text-slate-500 mt-2`},_hoisted_5$25={key:1,class:`py-4`},_hoisted_6$24={class:`p-4 rounded-lg bg-red-50 border border-red-200`},_hoisted_7$24={class:`flex items-center gap-3 mb-3`},_hoisted_8$24={class:`flex items-center justify-center w-10 h-10 rounded-full bg-red-100`},_hoisted_9$24={class:`text-sm font-medium text-red-800`},_hoisted_10$24={class:`text-xs text-red-600`},_hoisted_11$24={class:`text-sm text-red-700`},DeleteConfirmDialog_default={__name:`DeleteConfirmDialog`,props:{isOpen:{type:Boolean,default:!1},entityType:{type:String,default:`Item`},entityName:{type:String,default:``},entityId:{type:String,default:``},canDelete:{type:Boolean,default:!0},restrictionReason:{type:String,default:`This item has linked records and cannot be deleted.`},alternativeAction:{type:String,default:`You can archive this item instead to hide it from active lists.`}},emits:[`confirm`,`cancel`,`alternative`,`update:open`],setup(__props,{emit:__emit}){let props=__props,emit=__emit,isDeleting=ref(!1);watch(()=>props.isOpen,open=>{open||(isDeleting.value=!1)});let deleteMessage=computed(()=>`Are you sure you want to delete "${props.entityName}"?`),restrictionMessage=computed(()=>`"${props.entityName}" cannot be deleted at this time.`);function handleOpenChange(open){emit(`update:open`,open),open||emit(`cancel`)}function handleConfirm(){isDeleting.value=!0,emit(`confirm`)}function handleCancel(){isDeleting.value=!1,emit(`update:open`,!1),emit(`cancel`)}function handleAlternative(){emit(`alternative`),emit(`update:open`,!1)}return(_ctx,_cache)=>(openBlock(),createBlock(unref(Dialog_default$1),{open:__props.isOpen,"onUpdate:open":handleOpenChange},{default:withCtx(()=>[createVNode(unref(DialogContent_default$1),{class:`sm:max-w-md`},{default:withCtx(()=>[createVNode(unref(DialogHeader_default$1),null,{default:withCtx(()=>[createVNode(unref(DialogTitle_default$1),{class:normalizeClass([`flex items-center gap-2`,__props.canDelete?`text-red-600`:`text-slate-800`])},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(__props.canDelete?unref(Trash2):unref(OctagonAlert)),{class:`h-5 w-5`})),createTextVNode(` `+toDisplayString(__props.canDelete?`Delete `+__props.entityType:`Cannot Delete`),1)]),_:1},8,[`class`]),createVNode(unref(DialogDescription_default$1),{class:`text-muted-foreground`},{default:withCtx(()=>[createTextVNode(toDisplayString(__props.canDelete?deleteMessage.value:restrictionMessage.value),1)]),_:1})]),_:1}),__props.canDelete?(openBlock(),createElementBlock(`div`,_hoisted_5$25,[createBaseVNode(`div`,_hoisted_6$24,[createBaseVNode(`div`,_hoisted_7$24,[createBaseVNode(`div`,_hoisted_8$24,[createVNode(unref(TriangleAlert),{class:`h-5 w-5 text-red-600`})]),createBaseVNode(`div`,null,[createBaseVNode(`p`,_hoisted_9$24,toDisplayString(__props.entityName),1),createBaseVNode(`p`,_hoisted_10$24,toDisplayString(__props.entityId),1)])]),createBaseVNode(`p`,_hoisted_11$24,` This action cannot be undone. All data associated with this `+toDisplayString(__props.entityType.toLowerCase())+` will be permanently removed. `,1)])])):(openBlock(),createElementBlock(`div`,_hoisted_1$26,[createBaseVNode(`div`,_hoisted_2$26,[createVNode(unref(ShieldAlert),{class:`h-5 w-5 text-amber-600 mt-0.5 flex-shrink-0`}),createBaseVNode(`div`,null,[_cache[0]||=createBaseVNode(`p`,{class:`text-sm font-medium text-slate-800`},`Deletion Restricted`,-1),createBaseVNode(`p`,_hoisted_3$25,toDisplayString(__props.restrictionReason),1),__props.alternativeAction?(openBlock(),createElementBlock(`p`,_hoisted_4$25,toDisplayString(__props.alternativeAction),1)):createCommentVNode(``,!0)])])])),createVNode(unref(DialogFooter_default$1),{class:`flex-col sm:flex-row gap-2`},{default:withCtx(()=>[createVNode(unref(Button_default),{variant:`outline`,onClick:handleCancel,class:`w-full sm:w-auto rounded-full`},{default:withCtx(()=>[createTextVNode(toDisplayString(__props.canDelete?`Cancel`:`Close`),1)]),_:1}),__props.canDelete?(openBlock(),createBlock(unref(Button_default),{key:0,variant:`destructive`,onClick:handleConfirm,disabled:isDeleting.value,class:`w-full sm:w-auto rounded-full`},{default:withCtx(()=>[isDeleting.value?(openBlock(),createBlock(unref(LoaderCircle),{key:0,class:`h-4 w-4 mr-1.5 animate-spin`})):(openBlock(),createBlock(unref(Trash2),{key:1,class:`h-4 w-4 mr-1.5`})),createTextVNode(` `+toDisplayString(isDeleting.value?`Deleting...`:`Delete Permanently`),1)]),_:1},8,[`disabled`])):createCommentVNode(``,!0),!__props.canDelete&&__props.alternativeAction?(openBlock(),createBlock(unref(Button_default),{key:1,variant:`secondary`,onClick:handleAlternative,class:`w-full sm:w-auto rounded-full`},{default:withCtx(()=>[createVNode(unref(Archive),{class:`h-4 w-4 mr-1.5`}),_cache[1]||=createTextVNode(` Archive Instead `,-1)]),_:1})):createCommentVNode(``,!0)]),_:1})]),_:1})]),_:1},8,[`open`]))}},_hoisted_1$25={class:`entity-list-view`},_hoisted_2$25={class:`hidden md:flex h-full`},_hoisted_3$24={class:`entity-list-toolbar`},_hoisted_4$24={class:`flex items-center gap-3`},_hoisted_5$24={class:`relative`},_hoisted_6$23=[`placeholder`],_hoisted_7$23={key:0,class:`flex items-center gap-1.5 px-4 py-2 text-sm text-slate-600 hover:text-slate-800 border border-slate-200 rounded-full hover:bg-slate-50`},_hoisted_8$23={class:`flex items-center gap-2`},_hoisted_9$23={class:`entity-list-table`},_hoisted_10$23={key:0,class:`w-full`},_hoisted_11$23={class:`border-b border-slate-100`},_hoisted_12$22=[`onClick`],_hoisted_13$18={key:1},_hoisted_14$16=[`onClick`],_hoisted_15$14=[`innerHTML`],_hoisted_16$11={key:2},_hoisted_17$6={class:`entity-list-td`},_hoisted_18$2=[`onClick`],_hoisted_19$2={key:1,class:`w-full`},_hoisted_20$2={class:`border-b border-slate-100`},_hoisted_21$2={class:`animate-pulse`},_hoisted_22$1={key:0,class:`flex items-center gap-3`},_hoisted_23$1={key:2,class:`entity-list-empty`},_hoisted_24$1={class:`w-16 h-16 rounded-full bg-slate-100 flex items-center justify-center mb-4`},_hoisted_25$1={class:`text-lg font-medium text-slate-700`},_hoisted_26$1={class:`text-sm text-slate-500 mt-1`},_hoisted_27$1={key:3,class:`entity-list-loading`},_hoisted_28$1={key:0,class:`entity-list-pagination`},_hoisted_29$1={class:`text-sm text-slate-500`},_hoisted_30$1={class:`flex items-center gap-1`},_hoisted_31=[`disabled`],_hoisted_32=[`disabled`],_hoisted_33={key:0,class:`entity-side-pane`},_hoisted_34={class:`entity-side-pane-header`},_hoisted_35={class:`text-lg font-semibold text-slate-800`},_hoisted_36={class:`flex items-center gap-2`},_hoisted_37={class:`entity-side-pane-content`},_hoisted_38={class:`entity-side-pane-footer`},_hoisted_39={class:`flex items-center gap-2`},_hoisted_40={class:`md:hidden h-full flex flex-col`},_hoisted_41={class:`entity-mobile-toolbar`},_hoisted_42={class:`relative flex-1`},_hoisted_43={class:`flex-1 overflow-y-auto`},_hoisted_44=[`onClick`],_hoisted_45={class:`flex items-center justify-between`},_hoisted_46={class:`font-medium text-slate-800`},_hoisted_47={class:`text-sm text-slate-500`},_hoisted_48={class:`flex items-center gap-3`},_sfc_main$24={__name:`EntityListView`,props:{entityName:{type:String,default:`Item`},entityPluralName:{type:String,default:`Items`},columns:{type:Array,default:()=>[]},items:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1},totalItems:{type:Number,default:0},currentPage:{type:Number,default:1},pageSize:{type:Number,default:20},filters:{type:Array,default:()=>[]},emptyIcon:{type:Object,default:()=>Package},canDelete:{type:Boolean,default:!0},deleteRestriction:{type:String,default:``},sortColumn:{type:String,default:``},sortDirection:{type:String,default:`asc`}},emits:[`create`,`select`,`save`,`delete`,`archive`,`search`,`sort`,`page-change`],setup(__props,{expose:__expose,emit:__emit}){let props=__props,emit=__emit,searchQuery=ref(``),selectedItem=ref(null),isNew=ref(!1),isPaneOpen=ref(!1),mobileFormOpen=ref(!1),isDirty=ref(!1),saving=ref(!1),showDraftDialog=ref(!1),showDeleteDialog=ref(!1),pendingClose=ref(null),totalPages=computed(()=>Math.ceil(props.totalItems/props.pageSize)),startIndex=computed(()=>(props.currentPage-1)*props.pageSize),endIndex=computed(()=>Math.min(startIndex.value+props.pageSize,props.totalItems)),searchDebounceTimer=null;function handleSearch(){clearTimeout(searchDebounceTimer),searchDebounceTimer=setTimeout(()=>{emit(`search`,searchQuery.value)},300)}function handleSort(key){emit(`sort`,key)}function isMobile(){return window.innerWidth<768}function handleCreate(){selectedItem.value={},isNew.value=!0,isMobile()?mobileFormOpen.value=!0:isPaneOpen.value=!0,emit(`create`)}function handleSelect(item){selectedItem.value={...item},isNew.value=!1,isPaneOpen.value=!0,emit(`select`,item)}function handleMobileSelect(item){selectedItem.value={...item},isNew.value=!1,mobileFormOpen.value=!0,emit(`select`,item)}function handleClosePane(){isDirty.value?(pendingClose.value=`pane`,showDraftDialog.value=!0):closePane()}function closePane(){isPaneOpen.value=!1,mobileFormOpen.value=!1,selectedItem.value=null,isNew.value=!1,isDirty.value=!1}function handleMobileFormClose(){isDirty.value?(pendingClose.value=`mobile`,showDraftDialog.value=!0):(mobileFormOpen.value=!1,selectedItem.value=null,isNew.value=!1)}function handleMobileFormBeforeClose(){isDirty.value&&(pendingClose.value=`mobile`,showDraftDialog.value=!0)}function handleDraftSave(){handleSave(),showDraftDialog.value=!1}function handleDraftDiscard(){showDraftDialog.value=!1,isDirty.value=!1,pendingClose.value===`mobile`?(mobileFormOpen.value=!1,selectedItem.value=null,isNew.value=!1):closePane(),pendingClose.value=null}function handleSave(){saving.value=!0,emit(`save`,selectedItem.value,isNew.value)}function completeSave(){saving.value=!1,isDirty.value=!1,pendingClose.value===`mobile`||mobileFormOpen.value?(mobileFormOpen.value=!1,selectedItem.value=null,isNew.value=!1):(isPaneOpen.value=!1,selectedItem.value=null,isNew.value=!1),pendingClose.value=null}function handleDelete(){showDeleteDialog.value=!0}function handleDeleteConfirm(){emit(`delete`,selectedItem.value),showDeleteDialog.value=!1,closePane()}function handleArchive(){emit(`archive`,selectedItem.value),showDeleteDialog.value=!1,closePane()}function handlePageChange(page){emit(`page-change`,page)}function getStatusVariant(status){return{DRAFT:`secondary`,ACTIVE:`default`,SENT:`default`,PAID:`success`,OVERDUE:`destructive`,CANCELLED:`outline`}[status]||`secondary`}return onUnmounted(()=>{clearTimeout(searchDebounceTimer)}),__expose({completeSave,setDirty:v=>isDirty.value=v}),(_ctx,_cache)=>(openBlock(),createElementBlock(`div`,_hoisted_1$25,[createBaseVNode(`div`,_hoisted_2$25,[createBaseVNode(`div`,{class:normalizeClass([`entity-list-panel`,{"w-full":!isPaneOpen.value,"w-3/5":isPaneOpen.value}])},[createBaseVNode(`div`,_hoisted_3$24,[createBaseVNode(`div`,_hoisted_4$24,[createBaseVNode(`div`,_hoisted_5$24,[createVNode(unref(Search),{class:`absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400`}),withDirectives(createBaseVNode(`input`,{"onUpdate:modelValue":_cache[0]||=$event=>searchQuery.value=$event,type:`text`,placeholder:`Search ${__props.entityPluralName}...`,class:`pl-10 pr-4 py-2 w-64 text-sm border border-slate-200 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 bg-white`,onInput:handleSearch},null,40,_hoisted_6$23),[[vModelText,searchQuery.value]])]),__props.filters.length>0?(openBlock(),createElementBlock(`button`,_hoisted_7$23,[createVNode(unref(SlidersHorizontal),{class:`h-4 w-4`}),_cache[8]||=createTextVNode(` Filters `,-1)])):createCommentVNode(``,!0)]),createBaseVNode(`div`,_hoisted_8$23,[createVNode(unref(Button_default),{onClick:handleCreate,class:`gap-1.5 rounded-full`},{default:withCtx(()=>[createVNode(unref(Plus),{class:`h-4 w-4`}),createTextVNode(` New `+toDisplayString(__props.entityName),1)]),_:1})])]),createBaseVNode(`div`,_hoisted_9$23,[!__props.loading||__props.items.length>0?(openBlock(),createElementBlock(`table`,_hoisted_10$23,[createBaseVNode(`thead`,null,[createBaseVNode(`tr`,_hoisted_11$23,[(openBlock(!0),createElementBlock(Fragment,null,renderList(__props.columns,col=>(openBlock(),createElementBlock(`th`,{key:col.key,class:normalizeClass([`entity-list-th`,col.align===`right`?`text-right`:`text-left`])},[col.sortable?(openBlock(),createElementBlock(`button`,{key:0,class:normalizeClass([`flex items-center gap-1 hover:text-slate-700`,{"text-blue-600":__props.sortColumn===col.key}]),onClick:$event=>handleSort(col.key)},[createTextVNode(toDisplayString(col.label)+` `,1),__props.sortColumn===col.key&&__props.sortDirection===`asc`?(openBlock(),createBlock(unref(ArrowUp),{key:0,class:`h-3.5 w-3.5`})):__props.sortColumn===col.key&&__props.sortDirection===`desc`?(openBlock(),createBlock(unref(ArrowDown),{key:1,class:`h-3.5 w-3.5`})):(openBlock(),createBlock(unref(ArrowUpDown),{key:2,class:`h-3.5 w-3.5 opacity-40`}))],10,_hoisted_12$22)):(openBlock(),createElementBlock(`span`,_hoisted_13$18,toDisplayString(col.label),1))],2))),128)),_cache[9]||=createBaseVNode(`th`,{class:`entity-list-th w-10`},null,-1)])]),createBaseVNode(`tbody`,null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(__props.items,item=>(openBlock(),createElementBlock(`tr`,{key:item.reference,class:normalizeClass([`entity-list-row group`,{"entity-list-row-selected":selectedItem.value?.reference===item.reference}]),onClick:$event=>handleSelect(item)},[(openBlock(!0),createElementBlock(Fragment,null,renderList(__props.columns,col=>(openBlock(),createElementBlock(`td`,{key:col.key,class:normalizeClass([`entity-list-td`,col.align===`right`?`text-right`:`text-left`])},[renderSlot(_ctx.$slots,`cell-${col.key}`,{item,value:item[col.key]},()=>[col.component?(openBlock(),createBlock(resolveDynamicComponent(col.component),{key:0,value:item[col.key],item},null,8,[`value`,`item`])):col.format?(openBlock(),createElementBlock(`span`,{key:1,innerHTML:col.format(item[col.key],item)},null,8,_hoisted_15$14)):(openBlock(),createElementBlock(`span`,_hoisted_16$11,toDisplayString(item[col.key]),1))],!0)],2))),128)),createBaseVNode(`td`,_hoisted_17$6,[createBaseVNode(`button`,{class:`p-1.5 rounded-md hover:bg-slate-100 opacity-0 group-hover:opacity-100 transition-opacity`,onClick:withModifiers($event=>void 0,[`stop`])},[createVNode(unref(Ellipsis),{class:`h-4 w-4 text-slate-400`})],8,_hoisted_18$2)])],10,_hoisted_14$16))),128))])])):createCommentVNode(``,!0),__props.loading&&__props.items.length===0?(openBlock(),createElementBlock(`table`,_hoisted_19$2,[createBaseVNode(`thead`,null,[createBaseVNode(`tr`,_hoisted_20$2,[(openBlock(!0),createElementBlock(Fragment,null,renderList(__props.columns,col=>(openBlock(),createElementBlock(`th`,{key:col.key,class:normalizeClass([`entity-list-th`,col.align===`right`?`text-right`:`text-left`])},[createBaseVNode(`span`,null,toDisplayString(col.label),1)],2))),128)),_cache[10]||=createBaseVNode(`th`,{class:`entity-list-th w-10`},null,-1)])]),createBaseVNode(`tbody`,null,[(openBlock(),createElementBlock(Fragment,null,renderList(5,i=>createBaseVNode(`tr`,{key:i,class:`border-b border-slate-50`},[(openBlock(!0),createElementBlock(Fragment,null,renderList(__props.columns,(col,j)=>(openBlock(),createElementBlock(`td`,{key:j,class:`entity-list-td`},[createBaseVNode(`div`,_hoisted_21$2,[j===0?(openBlock(),createElementBlock(`div`,_hoisted_22$1,[..._cache[11]||=[createBaseVNode(`div`,{class:`w-8 h-8 rounded-full bg-slate-200`},null,-1),createBaseVNode(`div`,{class:`space-y-1.5`},[createBaseVNode(`div`,{class:`h-4 w-24 bg-slate-200 rounded`}),createBaseVNode(`div`,{class:`h-3 w-32 bg-slate-100 rounded`})],-1)]])):(openBlock(),createElementBlock(`div`,{key:1,class:normalizeClass([`h-4 bg-slate-200 rounded`,col.align===`right`?`w-16 ml-auto`:`w-20`])},null,2))])]))),128)),_cache[12]||=createBaseVNode(`td`,{class:`entity-list-td`},[createBaseVNode(`div`,{class:`w-6 h-6 bg-slate-100 rounded`})],-1)])),64))])])):createCommentVNode(``,!0),!__props.loading&&__props.items.length===0?(openBlock(),createElementBlock(`div`,_hoisted_23$1,[createBaseVNode(`div`,_hoisted_24$1,[(openBlock(),createBlock(resolveDynamicComponent(__props.emptyIcon),{class:`h-8 w-8 text-slate-400`}))]),createBaseVNode(`h3`,_hoisted_25$1,`No `+toDisplayString(__props.entityPluralName.toLowerCase())+` yet`,1),createBaseVNode(`p`,_hoisted_26$1,`Create your first `+toDisplayString(__props.entityName.toLowerCase())+` to get started.`,1),createVNode(unref(Button_default),{onClick:handleCreate,class:`mt-4 gap-1.5 rounded-full`},{default:withCtx(()=>[createVNode(unref(Plus),{class:`h-4 w-4`}),createTextVNode(` Create `+toDisplayString(__props.entityName),1)]),_:1})])):createCommentVNode(``,!0),__props.loading&&__props.items.length>0?(openBlock(),createElementBlock(`div`,_hoisted_27$1,[createVNode(unref(LoaderCircle),{class:`h-8 w-8 text-blue-500 animate-spin`})])):createCommentVNode(``,!0)]),totalPages.value>1?(openBlock(),createElementBlock(`div`,_hoisted_28$1,[createBaseVNode(`span`,_hoisted_29$1,` Showing `+toDisplayString(startIndex.value+1)+`-`+toDisplayString(endIndex.value)+` of `+toDisplayString(__props.totalItems),1),createBaseVNode(`div`,_hoisted_30$1,[createBaseVNode(`button`,{class:`p-2 rounded-full hover:bg-slate-100 disabled:opacity-50`,disabled:__props.currentPage===1,onClick:_cache[1]||=$event=>handlePageChange(__props.currentPage-1)},[createVNode(unref(ChevronLeft),{class:`h-4 w-4`})],8,_hoisted_31),createBaseVNode(`button`,{class:`p-2 rounded-full hover:bg-slate-100 disabled:opacity-50`,disabled:__props.currentPage===totalPages.value,onClick:_cache[2]||=$event=>handlePageChange(__props.currentPage+1)},[createVNode(unref(ChevronRight),{class:`h-4 w-4`})],8,_hoisted_32)])])):createCommentVNode(``,!0)],2),createVNode(Transition,{name:`slide-right`},{default:withCtx(()=>[isPaneOpen.value&&selectedItem.value?(openBlock(),createElementBlock(`div`,_hoisted_33,[createBaseVNode(`div`,_hoisted_34,[createBaseVNode(`h3`,_hoisted_35,toDisplayString(isNew.value?`New ${__props.entityName}`:`Edit ${__props.entityName}`),1),createBaseVNode(`div`,_hoisted_36,[selectedItem.value?.status?(openBlock(),createBlock(unref(Badge_default),{key:0,variant:getStatusVariant(selectedItem.value.status)},{default:withCtx(()=>[createTextVNode(toDisplayString(selectedItem.value.status),1)]),_:1},8,[`variant`])):createCommentVNode(``,!0),createBaseVNode(`button`,{onClick:handleClosePane,class:`p-1.5 rounded-lg hover:bg-slate-100`},[createVNode(unref(X),{class:`h-5 w-5 text-slate-400`})])])]),createBaseVNode(`div`,_hoisted_37,[renderSlot(_ctx.$slots,`form`,{item:selectedItem.value,isNew:isNew.value},void 0,!0)]),createBaseVNode(`div`,_hoisted_38,[createVNode(unref(Button_default),{variant:`outline`,onClick:handleClosePane,class:`rounded-full`},{default:withCtx(()=>[..._cache[13]||=[createTextVNode(`Cancel`,-1)]]),_:1}),createBaseVNode(`div`,_hoisted_39,[!isNew.value&&__props.canDelete?(openBlock(),createBlock(unref(Button_default),{key:0,variant:`destructive`,onClick:handleDelete,class:`rounded-full`},{default:withCtx(()=>[createVNode(unref(Trash2),{class:`h-4 w-4 mr-1.5`}),_cache[14]||=createTextVNode(` Delete `,-1)]),_:1})):createCommentVNode(``,!0),createVNode(unref(Button_default),{onClick:handleSave,disabled:saving.value,class:`rounded-full`},{default:withCtx(()=>[saving.value?(openBlock(),createBlock(unref(LoaderCircle),{key:1,class:`h-4 w-4 mr-1.5 animate-spin`})):(openBlock(),createBlock(unref(Save),{key:0,class:`h-4 w-4 mr-1.5`})),createTextVNode(` `+toDisplayString(saving.value?`Saving...`:`Save`),1)]),_:1},8,[`disabled`])])])])):createCommentVNode(``,!0)]),_:3})]),createBaseVNode(`div`,_hoisted_40,[createBaseVNode(`div`,_hoisted_41,[createBaseVNode(`div`,_hoisted_42,[createVNode(unref(Search),{class:`absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400`}),withDirectives(createBaseVNode(`input`,{"onUpdate:modelValue":_cache[3]||=$event=>searchQuery.value=$event,type:`text`,placeholder:`Search...`,class:`w-full pl-10 pr-4 py-2.5 text-sm border-0 bg-slate-100 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500/20`},null,512),[[vModelText,searchQuery.value]])]),createBaseVNode(`button`,{onClick:handleCreate,class:`p-2.5 bg-blue-500 text-white rounded-full`},[createVNode(unref(Plus),{class:`h-5 w-5`})])]),createBaseVNode(`div`,_hoisted_43,[(openBlock(!0),createElementBlock(Fragment,null,renderList(__props.items,item=>(openBlock(),createElementBlock(`div`,{key:item.reference,class:`entity-mobile-card`,onClick:$event=>handleMobileSelect(item)},[renderSlot(_ctx.$slots,`mobile-card`,{item},()=>[createBaseVNode(`div`,_hoisted_45,[createBaseVNode(`div`,null,[createBaseVNode(`p`,_hoisted_46,toDisplayString(item.name||item.reference),1),createBaseVNode(`p`,_hoisted_47,toDisplayString(item.email||item.description),1)]),createVNode(unref(ChevronRight),{class:`h-5 w-5 text-slate-300`})])],!0)],8,_hoisted_44))),128))])]),createVNode(MobileBottomSheet_default,{isOpen:mobileFormOpen.value,title:isNew.value?`New ${__props.entityName}`:`Edit ${__props.entityName}`,hasUnsavedChanges:isDirty.value,onClose:handleMobileFormClose,onBeforeClose:handleMobileFormBeforeClose},{footer:withCtx(()=>[createBaseVNode(`div`,_hoisted_48,[createVNode(unref(Button_default),{variant:`outline`,class:`flex-1 rounded-full`,onClick:handleMobileFormClose},{default:withCtx(()=>[..._cache[15]||=[createTextVNode(` Cancel `,-1)]]),_:1}),createVNode(unref(Button_default),{class:`flex-1 rounded-full`,onClick:handleSave,disabled:saving.value},{default:withCtx(()=>[createTextVNode(toDisplayString(saving.value?`Saving...`:`Save`),1)]),_:1},8,[`disabled`])])]),default:withCtx(()=>[renderSlot(_ctx.$slots,`form`,{item:selectedItem.value,isNew:isNew.value},void 0,!0)]),_:3},8,[`isOpen`,`title`,`hasUnsavedChanges`]),createVNode(DraftCloseDialog_default,{isOpen:showDraftDialog.value,entityName:__props.entityName,onSave:handleDraftSave,onDiscard:handleDraftDiscard,onCancel:_cache[4]||=$event=>showDraftDialog.value=!1,"onUpdate:open":_cache[5]||=val=>showDraftDialog.value=val},null,8,[`isOpen`,`entityName`]),createVNode(DeleteConfirmDialog_default,{isOpen:showDeleteDialog.value,entityType:__props.entityName,entityName:selectedItem.value?.name||selectedItem.value?.reference||``,entityId:selectedItem.value?.reference||``,canDelete:__props.canDelete,restrictionReason:__props.deleteRestriction,onConfirm:handleDeleteConfirm,onAlternative:handleArchive,onCancel:_cache[6]||=$event=>showDeleteDialog.value=!1,"onUpdate:open":_cache[7]||=val=>showDeleteDialog.value=val},null,8,[`isOpen`,`entityType`,`entityName`,`entityId`,`canDelete`,`restrictionReason`])]))}},EntityListView_default=__plugin_vue_export_helper_default(_sfc_main$24,[[`__scopeId`,`data-v-d05e9676`]]),CustomerService_default={async getCustomers({page=0,size=20,search=``,activeOnly=!0}={}){let query={page,size};return search&&(query.search=search),activeOnly!==void 0&&(query.activeOnly=activeOnly),API_default.get(`/org/customers`,{query,authorizeRequest:!0,organisationAware:!0})},async getCustomer(reference){return API_default.get(`/org/customers/${reference}`,{authorizeRequest:!0,organisationAware:!0})},async createCustomer(data){return API_default.post(`/org/customers`,{data,authorizeRequest:!0,organisationAware:!0})},async updateCustomer(reference,data){return API_default.put(`/org/customers/${reference}`,{data,authorizeRequest:!0,organisationAware:!0})},async deleteCustomer(reference){return API_default.delete(`/org/customers/${reference}`,{authorizeRequest:!0,organisationAware:!0})},async archiveCustomer(reference){return API_default.post(`/org/customers/${reference}/archive`,{data:{},authorizeRequest:!0,organisationAware:!0})},async getStats(){return API_default.get(`/org/customers/stats`,{authorizeRequest:!0,organisationAware:!0})}},_hoisted_1$24={class:`flex items-center gap-3`},_hoisted_2$24={class:`w-8 h-8 rounded-full bg-gradient-to-br from-blue-400 to-blue-600 flex items-center justify-center text-white text-xs font-semibold`},_hoisted_3$23={class:`font-medium text-slate-800`},_hoisted_4$23={class:`text-xs text-slate-500`},_hoisted_5$23={class:`space-y-4`},_hoisted_6$22={class:`grid grid-cols-2 gap-4`},_hoisted_7$22={class:`grid grid-cols-2 gap-4`},_hoisted_8$22={class:`flex items-center justify-between`},_hoisted_9$22={class:`flex items-center gap-3`},_hoisted_10$22={class:`w-10 h-10 rounded-full bg-gradient-to-br from-blue-400 to-blue-600 flex items-center justify-center text-white text-sm font-semibold`},_hoisted_11$22={class:`font-medium text-slate-800`},_hoisted_12$21={class:`text-sm text-slate-500`},_hoisted_13$17={class:`text-right`},_hoisted_14$15={key:0,class:`text-sm font-medium text-amber-600`},CustomerListView_default={__name:`CustomerListView`,setup(__props){let listViewRef=ref(null),notificationStore=getNotificationStore(),loading=ref(!1),customers=ref([]),totalItems=ref(0),currentPage=ref(1),pageSize=ref(20),searchQuery=ref(``),selectedCustomer=ref(null),canDeleteCustomer=ref(!0),deleteRestriction=ref(``),isNewCustomer=ref(!1),sortColumn=ref(`name`),sortDirection=ref(`asc`),formData=reactive({name:``,email:``,phone:``,billingAddress:``,shippingAddress:``,paymentTerms:`Net 30`,creditLimit:0,notes:``}),columns=[{key:`name`,label:`Customer`,sortable:!0},{key:`phone`,label:`Phone`},{key:`outstandingBalance`,label:`Balance`,align:`right`,sortable:!0},{key:`isActive`,label:`Status`,align:`center`}],sortedCustomers=computed(()=>!customers.value||customers.value.length===0?[]:[...customers.value].sort((a,b)=>{let aVal=a[sortColumn.value],bVal=b[sortColumn.value];return aVal??=``,bVal??=``,typeof aVal==`number`&&typeof bVal==`number`?sortDirection.value===`asc`?aVal-bVal:bVal-aVal:(aVal=String(aVal).toLowerCase(),bVal=String(bVal).toLowerCase(),aVal<bVal?sortDirection.value===`asc`?-1:1:aVal>bVal?sortDirection.value===`asc`?1:-1:0)}));onMounted(()=>{loadCustomers()});async function loadCustomers(){loading.value=!0;try{let response=await CustomerService_default.getCustomers({page:currentPage.value-1,size:pageSize.value,search:searchQuery.value});response.content?(customers.value=response.content,totalItems.value=response.totalElements||response.content.length):Array.isArray(response)?(customers.value=response,totalItems.value=response.length):(customers.value=[],totalItems.value=0)}catch(error){console.error(`Failed to load customers:`,error),notificationStore.toast({title:`Error`,message:`Failed to load customers. Please try again.`,variant:`error`}),customers.value=[]}finally{loading.value=!1}}function handleCreate(){resetForm(),selectedCustomer.value=null,isNewCustomer.value=!0}function handleSelect(customer){selectedCustomer.value=customer,isNewCustomer.value=!1,formData.name=customer.name||``,formData.email=customer.email||``,formData.phone=customer.phone||``,formData.billingAddress=customer.billingAddress||``,formData.shippingAddress=customer.shippingAddress||``,formData.paymentTerms=customer.paymentTerms||`Net 30`,formData.creditLimit=customer.creditLimit||0,formData.notes=customer.notes||``,canDeleteCustomer.value=(customer.outstandingBalance||0)===0,deleteRestriction.value=customer.outstandingBalance>0?`This customer has an outstanding balance of ${formatCurrency(customer.outstandingBalance)}. Clear the balance before deleting.`:``}async function handleSave(item,isNew){if(!formData.name||formData.name.trim()===``){notificationStore.toast({title:`Validation Error`,message:`Customer name is required.`,variant:`warning`}),listViewRef.value?.completeSave();return}try{let customerData={name:formData.name.trim(),email:formData.email?.trim()||null,phone:formData.phone?.trim()||null,billingAddress:formData.billingAddress?.trim()||null,shippingAddress:formData.shippingAddress?.trim()||null,paymentTerms:formData.paymentTerms?.trim()||`Net 30`,creditLimit:formData.creditLimit||0,notes:formData.notes?.trim()||null};isNewCustomer.value?(await CustomerService_default.createCustomer(customerData),notificationStore.toast({title:`Success`,message:`${formData.name} has been created successfully.`,variant:`success`})):(await CustomerService_default.updateCustomer(selectedCustomer.value.reference,customerData),notificationStore.toast({title:`Success`,message:`${formData.name} has been updated successfully.`,variant:`success`})),listViewRef.value?.completeSave(),await loadCustomers(),resetForm(),isNewCustomer.value=!1,selectedCustomer.value=null}catch(error){console.error(`Failed to save customer:`,error),notificationStore.toast({title:`Error`,message:error.message||`Failed to ${isNewCustomer.value?`create`:`update`} customer.`,variant:`error`}),listViewRef.value?.completeSave()}}async function handleDelete(customer){try{await CustomerService_default.deleteCustomer(customer.reference),notificationStore.toast({title:`Success`,message:`${customer.name} has been deleted.`,variant:`success`}),await loadCustomers()}catch(error){console.error(`Failed to delete customer:`,error),notificationStore.toast({title:`Error`,message:error.message||`Failed to delete customer.`,variant:`error`})}}async function handleArchive(customer){try{await CustomerService_default.archiveCustomer(customer.reference),notificationStore.toast({title:`Success`,message:`${customer.name} has been archived.`,variant:`success`}),await loadCustomers()}catch(error){console.error(`Failed to archive customer:`,error),notificationStore.toast({title:`Error`,message:error.message||`Failed to archive customer.`,variant:`error`})}}function handleSearch(query){searchQuery.value=query,currentPage.value=1,loadCustomers()}function handlePageChange(page){currentPage.value=page,loadCustomers()}function handleSort(key){sortColumn.value===key?sortDirection.value=sortDirection.value===`asc`?`desc`:`asc`:(sortColumn.value=key,sortDirection.value=`asc`)}function resetForm(){formData.name=``,formData.email=``,formData.phone=``,formData.billingAddress=``,formData.shippingAddress=``,formData.paymentTerms=`Net 30`,formData.creditLimit=0,formData.notes=``}function markDirty(){listViewRef.value?.setDirty(!0)}function getInitials(name){return name?name.split(` `).map(w=>w[0]).join(``).substring(0,2).toUpperCase():`?`}function formatCurrency(amount){return new Intl.NumberFormat(`en-NG`,{style:`currency`,currency:`NGN`,minimumFractionDigits:0}).format(amount||0)}return(_ctx,_cache)=>(openBlock(),createBlock(EntityListView_default,{entityName:`Customer`,entityPluralName:`Customers`,columns,items:sortedCustomers.value,loading:loading.value,totalItems:totalItems.value,currentPage:currentPage.value,pageSize:pageSize.value,canDelete:canDeleteCustomer.value,deleteRestriction:deleteRestriction.value,sortColumn:sortColumn.value,sortDirection:sortDirection.value,onCreate:handleCreate,onSelect:handleSelect,onSave:handleSave,onDelete:handleDelete,onArchive:handleArchive,onSearch:handleSearch,onPageChange:handlePageChange,onSort:handleSort,ref_key:`listViewRef`,ref:listViewRef},{"cell-name":withCtx(({item})=>[createBaseVNode(`div`,_hoisted_1$24,[createBaseVNode(`div`,_hoisted_2$24,toDisplayString(getInitials(item.name)),1),createBaseVNode(`div`,null,[createBaseVNode(`p`,_hoisted_3$23,toDisplayString(item.name),1),createBaseVNode(`p`,_hoisted_4$23,toDisplayString(item.email),1)])])]),"cell-outstandingBalance":withCtx(({value})=>[createBaseVNode(`span`,{class:normalizeClass(value>0?`text-amber-600 font-medium`:`text-slate-500`)},toDisplayString(formatCurrency(value)),3)]),"cell-isActive":withCtx(({value})=>[createVNode(unref(Badge_default),{variant:value?`default`:`secondary`},{default:withCtx(()=>[createTextVNode(toDisplayString(value?`Active`:`Inactive`),1)]),_:2},1032,[`variant`])]),form:withCtx(({item,isNew})=>[createBaseVNode(`div`,_hoisted_5$23,[createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[8]||=[createTextVNode(`Customer Name *`,-1)]]),_:1}),createVNode(unref(Input_default),{modelValue:formData.name,"onUpdate:modelValue":_cache[0]||=$event=>formData.name=$event,placeholder:`Enter customer name`,class:`mt-1.5 rounded-full`,onInput:markDirty},null,8,[`modelValue`])]),createBaseVNode(`div`,_hoisted_6$22,[createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[9]||=[createTextVNode(`Email`,-1)]]),_:1}),createVNode(unref(Input_default),{modelValue:formData.email,"onUpdate:modelValue":_cache[1]||=$event=>formData.email=$event,type:`email`,placeholder:`customer@example.com`,class:`mt-1.5 rounded-full`,onInput:markDirty},null,8,[`modelValue`])]),createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[10]||=[createTextVNode(`Phone`,-1)]]),_:1}),createVNode(unref(Input_default),{modelValue:formData.phone,"onUpdate:modelValue":_cache[2]||=$event=>formData.phone=$event,placeholder:`+234 800 000 0000`,class:`mt-1.5 rounded-full`,onInput:markDirty},null,8,[`modelValue`])])]),createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[11]||=[createTextVNode(`Billing Address`,-1)]]),_:1}),createVNode(unref(Textarea_default),{modelValue:formData.billingAddress,"onUpdate:modelValue":_cache[3]||=$event=>formData.billingAddress=$event,placeholder:`Enter billing address`,rows:`3`,class:`mt-1.5 rounded-2xl`,onInput:markDirty},null,8,[`modelValue`])]),createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[12]||=[createTextVNode(`Shipping Address`,-1)]]),_:1}),createVNode(unref(Textarea_default),{modelValue:formData.shippingAddress,"onUpdate:modelValue":_cache[4]||=$event=>formData.shippingAddress=$event,placeholder:`Enter shipping address (leave blank if same as billing)`,rows:`3`,class:`mt-1.5 rounded-2xl`,onInput:markDirty},null,8,[`modelValue`])]),createBaseVNode(`div`,_hoisted_7$22,[createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[13]||=[createTextVNode(`Payment Terms`,-1)]]),_:1}),createVNode(unref(Input_default),{modelValue:formData.paymentTerms,"onUpdate:modelValue":_cache[5]||=$event=>formData.paymentTerms=$event,placeholder:`Net 30`,class:`mt-1.5 rounded-full`,onInput:markDirty},null,8,[`modelValue`])]),createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[14]||=[createTextVNode(`Credit Limit`,-1)]]),_:1}),createVNode(unref(Input_default),{modelValue:formData.creditLimit,"onUpdate:modelValue":_cache[6]||=$event=>formData.creditLimit=$event,modelModifiers:{number:!0},type:`number`,placeholder:`0.00`,class:`mt-1.5 rounded-full`,onInput:markDirty},null,8,[`modelValue`])])]),createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[15]||=[createTextVNode(`Notes`,-1)]]),_:1}),createVNode(unref(Textarea_default),{modelValue:formData.notes,"onUpdate:modelValue":_cache[7]||=$event=>formData.notes=$event,placeholder:`Internal notes about this customer`,rows:`2`,class:`mt-1.5 rounded-2xl`,onInput:markDirty},null,8,[`modelValue`])])])]),"mobile-card":withCtx(({item})=>[createBaseVNode(`div`,_hoisted_8$22,[createBaseVNode(`div`,_hoisted_9$22,[createBaseVNode(`div`,_hoisted_10$22,toDisplayString(getInitials(item.name)),1),createBaseVNode(`div`,null,[createBaseVNode(`p`,_hoisted_11$22,toDisplayString(item.name),1),createBaseVNode(`p`,_hoisted_12$21,toDisplayString(item.email),1)])]),createBaseVNode(`div`,_hoisted_13$17,[item.outstandingBalance>0?(openBlock(),createElementBlock(`p`,_hoisted_14$15,toDisplayString(formatCurrency(item.outstandingBalance)),1)):createCommentVNode(``,!0),createVNode(unref(ChevronRight),{class:`h-5 w-5 text-slate-300 ml-auto`})])])]),_:1},8,[`items`,`loading`,`totalItems`,`currentPage`,`pageSize`,`canDelete`,`deleteRestriction`,`sortColumn`,`sortDirection`]))}},ItemService_default={async getItems({page=0,size=20,search=``,active=null}={}){let query={page,size};return search&&(query.search=search),active!==null&&(query.active=active),API_default.get(`/org/items`,{query,authorizeRequest:!0,organisationAware:!0})},async getItem(reference){return API_default.get(`/org/items/${reference}`,{authorizeRequest:!0,organisationAware:!0})},async createItem(data){return API_default.post(`/org/items`,{data,authorizeRequest:!0,organisationAware:!0})},async updateItem(reference,data){return API_default.put(`/org/items/${reference}`,{data,authorizeRequest:!0,organisationAware:!0})},async deleteItem(reference){return API_default.delete(`/org/items/${reference}`,{authorizeRequest:!0,organisationAware:!0})},async archiveItem(reference){return API_default.post(`/org/items/${reference}/archive`,{data:{},authorizeRequest:!0,organisationAware:!0})},async getItemGroups({page=0,size=50}={}){return API_default.get(`/org/items/groups`,{query:{page,size},authorizeRequest:!0,organisationAware:!0})},async getItemGroup(reference){return API_default.get(`/org/items/groups/${reference}`,{authorizeRequest:!0,organisationAware:!0})},async createItemGroup(name,description$1){return API_default.post(`/org/items/groups`,{data:{name,description:description$1},authorizeRequest:!0,organisationAware:!0})},async updateItemGroup(reference,name,description$1){return API_default.put(`/org/items/groups/${reference}`,{data:{name,description:description$1},authorizeRequest:!0,organisationAware:!0})},async deleteItemGroup(reference){return API_default.delete(`/org/items/groups/${reference}`,{authorizeRequest:!0,organisationAware:!0})}},_hoisted_1$23={class:`flex items-center gap-3`},_hoisted_2$23={class:`w-8 h-8 rounded-lg bg-gradient-to-br from-orange-400 to-orange-600 flex items-center justify-center text-white text-xs font-semibold`},_hoisted_3$22={class:`font-medium text-slate-800`},_hoisted_4$22={class:`text-xs text-slate-500`},_hoisted_5$22={class:`font-medium text-slate-700`},_hoisted_6$21={key:1,class:`text-slate-400`},_hoisted_7$21={class:`space-y-4`},_hoisted_8$21={class:`grid grid-cols-2 gap-4`},_hoisted_9$21={class:`grid grid-cols-2 gap-4`},_hoisted_10$21={key:0,class:`grid grid-cols-2 gap-4`},_hoisted_11$21={class:`flex items-center justify-between`},_hoisted_12$20={class:`flex items-center gap-3`},_hoisted_13$16={class:`w-10 h-10 rounded-lg bg-gradient-to-br from-orange-400 to-orange-600 flex items-center justify-center text-white`},_hoisted_14$14={class:`font-medium text-slate-800`},_hoisted_15$13={class:`text-sm text-slate-500`},_hoisted_16$10={class:`text-right`},ItemListView_default={__name:`ItemListView`,setup(__props){let listViewRef=ref(null),notificationStore=getNotificationStore(),loading=ref(!1),items=ref([]),totalItems=ref(0),currentPage=ref(1),pageSize=ref(20),searchQuery=ref(``),selectedItem=ref(null),canDeleteItem=ref(!0),deleteRestriction=ref(``),isNewItem=ref(!1),sortColumn=ref(`name`),sortDirection=ref(`asc`),formData=reactive({name:``,type:`PRODUCT`,sku:``,description:``,sellingPrice:0,costPrice:0,stockQuantity:0,reorderLevel:10,unit:`pcs`}),columns=[{key:`name`,label:`Item`,sortable:!0},{key:`type`,label:`Type`,align:`center`},{key:`sellingPrice`,label:`Price`,align:`right`,sortable:!0},{key:`stockQuantity`,label:`Stock`,align:`right`,sortable:!0}],sortedItems=computed(()=>!items.value||items.value.length===0?[]:[...items.value].sort((a,b)=>{let aVal=a[sortColumn.value],bVal=b[sortColumn.value];return aVal??=``,bVal??=``,typeof aVal==`number`&&typeof bVal==`number`?sortDirection.value===`asc`?aVal-bVal:bVal-aVal:(aVal=String(aVal).toLowerCase(),bVal=String(bVal).toLowerCase(),aVal<bVal?sortDirection.value===`asc`?-1:1:aVal>bVal?sortDirection.value===`asc`?1:-1:0)}));onMounted(()=>{loadItems()});async function loadItems(){loading.value=!0;try{let response=await ItemService_default.getItems({page:currentPage.value-1,size:pageSize.value,search:searchQuery.value});response.content?(items.value=response.content,totalItems.value=response.totalElements||response.content.length):Array.isArray(response)?(items.value=response,totalItems.value=response.length):(items.value=[],totalItems.value=0)}catch(error){console.error(`Failed to load items:`,error),notificationStore.toast({title:`Error`,message:`Failed to load items. Please try again.`,variant:`error`}),items.value=[]}finally{loading.value=!1}}function handleCreate(){resetForm(),selectedItem.value=null,isNewItem.value=!0}function handleSelect(item){selectedItem.value=item,isNewItem.value=!1,formData.name=item.name||``,formData.type=item.type||`PRODUCT`,formData.sku=item.sku||``,formData.description=item.description||``,formData.sellingPrice=item.sellingPrice||0,formData.costPrice=item.costPrice||0,formData.stockQuantity=item.stockQuantity||0,formData.reorderLevel=item.reorderLevel||10,formData.unit=item.unit||`pcs`,canDeleteItem.value=!0,deleteRestriction.value=``}async function handleSave(item,isNew){if(!formData.name||formData.name.trim()===``){notificationStore.toast({title:`Validation Error`,message:`Item name is required.`,variant:`warning`}),listViewRef.value?.completeSave();return}try{let itemData={name:formData.name.trim(),type:formData.type,sku:formData.sku?.trim()||null,description:formData.description?.trim()||null,sellingPrice:formData.sellingPrice||0,costPrice:formData.costPrice||0,stockQuantity:formData.type===`PRODUCT`?formData.stockQuantity||0:null,reorderLevel:formData.type===`PRODUCT`?formData.reorderLevel||10:null,unit:formData.unit?.trim()||`pcs`};isNewItem.value?(await ItemService_default.createItem(itemData),notificationStore.toast({title:`Success`,message:`${formData.name} has been created successfully.`,variant:`success`})):(await ItemService_default.updateItem(selectedItem.value.reference,itemData),notificationStore.toast({title:`Success`,message:`${formData.name} has been updated successfully.`,variant:`success`})),listViewRef.value?.completeSave(),await loadItems(),resetForm(),isNewItem.value=!1,selectedItem.value=null}catch(error){console.error(`Failed to save item:`,error),notificationStore.toast({title:`Error`,message:error.message||`Failed to ${isNewItem.value?`create`:`update`} item.`,variant:`error`}),listViewRef.value?.completeSave()}}async function handleDelete(item){try{await ItemService_default.deleteItem(item.reference),notificationStore.toast({title:`Success`,message:`${item.name} has been deleted.`,variant:`success`}),await loadItems()}catch(error){console.error(`Failed to delete item:`,error),notificationStore.toast({title:`Error`,message:error.message||`Failed to delete item.`,variant:`error`})}}async function handleArchive(item){try{await ItemService_default.archiveItem(item.reference),notificationStore.toast({title:`Success`,message:`${item.name} has been archived.`,variant:`success`}),await loadItems()}catch(error){console.error(`Failed to archive item:`,error),notificationStore.toast({title:`Error`,message:error.message||`Failed to archive item.`,variant:`error`})}}function handleSearch(query){searchQuery.value=query,currentPage.value=1,loadItems()}function handlePageChange(page){currentPage.value=page,loadItems()}function handleSort(key){sortColumn.value===key?sortDirection.value=sortDirection.value===`asc`?`desc`:`asc`:(sortColumn.value=key,sortDirection.value=`asc`)}function resetForm(){formData.name=``,formData.type=`PRODUCT`,formData.sku=``,formData.description=``,formData.sellingPrice=0,formData.costPrice=0,formData.stockQuantity=0,formData.reorderLevel=10,formData.unit=`pcs`}function markDirty(){listViewRef.value?.setDirty(!0)}function formatCurrency(amount){return new Intl.NumberFormat(`en-NG`,{style:`currency`,currency:`NGN`,minimumFractionDigits:0}).format(amount||0)}return(_ctx,_cache)=>(openBlock(),createBlock(EntityListView_default,{entityName:`Item`,entityPluralName:`Items`,columns,items:sortedItems.value,loading:loading.value,totalItems:totalItems.value,currentPage:currentPage.value,pageSize:pageSize.value,canDelete:canDeleteItem.value,deleteRestriction:deleteRestriction.value,sortColumn:sortColumn.value,sortDirection:sortDirection.value,onCreate:handleCreate,onSelect:handleSelect,onSave:handleSave,onDelete:handleDelete,onArchive:handleArchive,onSearch:handleSearch,onPageChange:handlePageChange,onSort:handleSort,ref_key:`listViewRef`,ref:listViewRef},{"cell-name":withCtx(({item})=>[createBaseVNode(`div`,_hoisted_1$23,[createBaseVNode(`div`,_hoisted_2$23,[createVNode(unref(Package),{class:`h-4 w-4`})]),createBaseVNode(`div`,null,[createBaseVNode(`p`,_hoisted_3$22,toDisplayString(item.name),1),createBaseVNode(`p`,_hoisted_4$22,toDisplayString(item.sku||`No SKU`),1)])])]),"cell-type":withCtx(({value})=>[createVNode(unref(Badge_default),{variant:value===`SERVICE`?`secondary`:`default`},{default:withCtx(()=>[createTextVNode(toDisplayString(value===`SERVICE`?`Service`:`Product`),1)]),_:2},1032,[`variant`])]),"cell-sellingPrice":withCtx(({value})=>[createBaseVNode(`span`,_hoisted_5$22,toDisplayString(formatCurrency(value)),1)]),"cell-stockQuantity":withCtx(({value,item})=>[item.type===`PRODUCT`?(openBlock(),createElementBlock(`span`,{key:0,class:normalizeClass(value<=0?`text-red-600 font-medium`:`text-slate-600`)},toDisplayString(value||0),3)):(openBlock(),createElementBlock(`span`,_hoisted_6$21,``))]),form:withCtx(({item,isNew})=>[createBaseVNode(`div`,_hoisted_7$21,[createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[9]||=[createTextVNode(`Item Name *`,-1)]]),_:1}),createVNode(unref(Input_default),{modelValue:formData.name,"onUpdate:modelValue":_cache[0]||=$event=>formData.name=$event,placeholder:`Enter item name`,class:`mt-1.5 rounded-full`,onInput:markDirty},null,8,[`modelValue`])]),createBaseVNode(`div`,_hoisted_8$21,[createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[10]||=[createTextVNode(`Type`,-1)]]),_:1}),withDirectives(createBaseVNode(`select`,{"onUpdate:modelValue":_cache[1]||=$event=>formData.type=$event,class:`mt-1.5 w-full px-3 py-2 text-sm border border-slate-200 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500/20`,onChange:markDirty},[..._cache[11]||=[createBaseVNode(`option`,{value:`PRODUCT`},`Product`,-1),createBaseVNode(`option`,{value:`SERVICE`},`Service`,-1)]],544),[[vModelSelect,formData.type]])]),createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[12]||=[createTextVNode(`SKU`,-1)]]),_:1}),createVNode(unref(Input_default),{modelValue:formData.sku,"onUpdate:modelValue":_cache[2]||=$event=>formData.sku=$event,placeholder:`SKU-001`,class:`mt-1.5 rounded-full`,onInput:markDirty},null,8,[`modelValue`])])]),createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[13]||=[createTextVNode(`Description`,-1)]]),_:1}),createVNode(unref(Textarea_default),{modelValue:formData.description,"onUpdate:modelValue":_cache[3]||=$event=>formData.description=$event,placeholder:`Item description`,rows:`2`,class:`mt-1.5 rounded-2xl`,onInput:markDirty},null,8,[`modelValue`])]),createBaseVNode(`div`,_hoisted_9$21,[createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[14]||=[createTextVNode(`Selling Price`,-1)]]),_:1}),createVNode(unref(Input_default),{modelValue:formData.sellingPrice,"onUpdate:modelValue":_cache[4]||=$event=>formData.sellingPrice=$event,modelModifiers:{number:!0},type:`number`,placeholder:`0.00`,class:`mt-1.5 rounded-full`,onInput:markDirty},null,8,[`modelValue`])]),createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[15]||=[createTextVNode(`Cost Price`,-1)]]),_:1}),createVNode(unref(Input_default),{modelValue:formData.costPrice,"onUpdate:modelValue":_cache[5]||=$event=>formData.costPrice=$event,modelModifiers:{number:!0},type:`number`,placeholder:`0.00`,class:`mt-1.5 rounded-full`,onInput:markDirty},null,8,[`modelValue`])])]),formData.type===`PRODUCT`?(openBlock(),createElementBlock(`div`,_hoisted_10$21,[createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[16]||=[createTextVNode(`Stock Quantity`,-1)]]),_:1}),createVNode(unref(Input_default),{modelValue:formData.stockQuantity,"onUpdate:modelValue":_cache[6]||=$event=>formData.stockQuantity=$event,modelModifiers:{number:!0},type:`number`,placeholder:`0`,class:`mt-1.5 rounded-full`,onInput:markDirty},null,8,[`modelValue`])]),createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[17]||=[createTextVNode(`Reorder Level`,-1)]]),_:1}),createVNode(unref(Input_default),{modelValue:formData.reorderLevel,"onUpdate:modelValue":_cache[7]||=$event=>formData.reorderLevel=$event,modelModifiers:{number:!0},type:`number`,placeholder:`10`,class:`mt-1.5 rounded-full`,onInput:markDirty},null,8,[`modelValue`])])])):createCommentVNode(``,!0),createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[18]||=[createTextVNode(`Unit`,-1)]]),_:1}),createVNode(unref(Input_default),{modelValue:formData.unit,"onUpdate:modelValue":_cache[8]||=$event=>formData.unit=$event,placeholder:`pcs, kg, hrs, etc.`,class:`mt-1.5 rounded-full`,onInput:markDirty},null,8,[`modelValue`])])])]),"mobile-card":withCtx(({item})=>[createBaseVNode(`div`,_hoisted_11$21,[createBaseVNode(`div`,_hoisted_12$20,[createBaseVNode(`div`,_hoisted_13$16,[createVNode(unref(Package),{class:`h-5 w-5`})]),createBaseVNode(`div`,null,[createBaseVNode(`p`,_hoisted_14$14,toDisplayString(item.name),1),createBaseVNode(`p`,_hoisted_15$13,toDisplayString(formatCurrency(item.sellingPrice)),1)])]),createBaseVNode(`div`,_hoisted_16$10,[createVNode(unref(Badge_default),{variant:item.type===`SERVICE`?`secondary`:`default`,class:`mb-1`},{default:withCtx(()=>[createTextVNode(toDisplayString(item.type===`SERVICE`?`Service`:`Product`),1)]),_:2},1032,[`variant`]),createVNode(unref(ChevronRight),{class:`h-5 w-5 text-slate-300 ml-auto`})])])]),_:1},8,[`items`,`loading`,`totalItems`,`currentPage`,`pageSize`,`canDelete`,`deleteRestriction`,`sortColumn`,`sortDirection`]))}},VendorService_default={async getVendors({page=0,size=20,search=``,active=null}={}){let query={page,size};return search&&(query.search=search),active!==null&&(query.active=active),API_default.get(`/org/vendors`,{query,authorizeRequest:!0,organisationAware:!0})},async getVendor(reference){return API_default.get(`/org/vendors/${reference}`,{authorizeRequest:!0,organisationAware:!0})},async createVendor(data){return API_default.post(`/org/vendors`,{data,authorizeRequest:!0,organisationAware:!0})},async updateVendor(reference,data){return API_default.put(`/org/vendors/${reference}`,{data,authorizeRequest:!0,organisationAware:!0})},async deleteVendor(reference){return API_default.delete(`/org/vendors/${reference}`,{authorizeRequest:!0,organisationAware:!0})},async archiveVendor(reference){return API_default.post(`/org/vendors/${reference}/archive`,{data:{},authorizeRequest:!0,organisationAware:!0})},async getStats(){return API_default.get(`/org/vendors/stats`,{authorizeRequest:!0,organisationAware:!0})}},_hoisted_1$22={class:`flex items-center gap-3`},_hoisted_2$22={class:`w-8 h-8 rounded-full bg-gradient-to-br from-purple-400 to-purple-600 flex items-center justify-center text-white text-xs font-semibold`},_hoisted_3$21={class:`font-medium text-slate-800`},_hoisted_4$21={class:`text-xs text-slate-500`},_hoisted_5$21={class:`space-y-4`},_hoisted_6$20={class:`grid grid-cols-2 gap-4`},_hoisted_7$20={class:`grid grid-cols-2 gap-4`},_hoisted_8$20={class:`flex items-center justify-between`},_hoisted_9$20={class:`flex items-center gap-3`},_hoisted_10$20={class:`w-10 h-10 rounded-full bg-gradient-to-br from-purple-400 to-purple-600 flex items-center justify-center text-white text-sm font-semibold`},_hoisted_11$20={class:`font-medium text-slate-800`},_hoisted_12$19={class:`text-sm text-slate-500`},_hoisted_13$15={class:`text-right`},_hoisted_14$13={key:0,class:`text-sm font-medium text-purple-600`},VendorListView_default={__name:`VendorListView`,setup(__props){let listViewRef=ref(null),notificationStore=getNotificationStore(),loading=ref(!1),vendors=ref([]),totalItems=ref(0),currentPage=ref(1),pageSize=ref(20),searchQuery=ref(``),selectedVendor=ref(null),canDeleteVendor=ref(!0),deleteRestriction=ref(``),isNewVendor=ref(!1),sortColumn=ref(`name`),sortDirection=ref(`asc`),formData=reactive({name:``,email:``,phone:``,address:``,paymentTerms:`Net 30`,taxId:``,bankDetails:``,notes:``}),columns=[{key:`name`,label:`Vendor`,sortable:!0},{key:`phone`,label:`Phone`},{key:`outstandingBalance`,label:`Balance`,align:`right`,sortable:!0},{key:`isActive`,label:`Status`,align:`center`}],sortedVendors=computed(()=>!vendors.value||vendors.value.length===0?[]:[...vendors.value].sort((a,b)=>{let aVal=a[sortColumn.value],bVal=b[sortColumn.value];return aVal??=``,bVal??=``,typeof aVal==`number`&&typeof bVal==`number`?sortDirection.value===`asc`?aVal-bVal:bVal-aVal:(aVal=String(aVal).toLowerCase(),bVal=String(bVal).toLowerCase(),aVal<bVal?sortDirection.value===`asc`?-1:1:aVal>bVal?sortDirection.value===`asc`?1:-1:0)}));onMounted(()=>{loadVendors()});async function loadVendors(){loading.value=!0;try{let response=await VendorService_default.getVendors({page:currentPage.value-1,size:pageSize.value,search:searchQuery.value});response.content?(vendors.value=response.content,totalItems.value=response.totalElements||response.content.length):Array.isArray(response)?(vendors.value=response,totalItems.value=response.length):(vendors.value=[],totalItems.value=0)}catch(error){console.error(`Failed to load vendors:`,error),notificationStore.toast({title:`Error`,message:`Failed to load vendors. Please try again.`,variant:`error`}),vendors.value=[]}finally{loading.value=!1}}function handleCreate(){resetForm(),selectedVendor.value=null,isNewVendor.value=!0}function handleSelect(vendor){selectedVendor.value=vendor,isNewVendor.value=!1,formData.name=vendor.name||``,formData.email=vendor.email||``,formData.phone=vendor.phone||``,formData.address=vendor.address||``,formData.paymentTerms=vendor.paymentTerms||`Net 30`,formData.taxId=vendor.taxId||``,formData.bankDetails=vendor.bankDetails||``,formData.notes=vendor.notes||``,canDeleteVendor.value=(vendor.outstandingBalance||0)===0,deleteRestriction.value=vendor.outstandingBalance>0?`This vendor has an outstanding balance of ${formatCurrency(vendor.outstandingBalance)}. Clear the balance before deleting.`:``}async function handleSave(item,isNew){if(!formData.name||formData.name.trim()===``){notificationStore.toast({title:`Validation Error`,message:`Vendor name is required.`,variant:`warning`}),listViewRef.value?.completeSave();return}try{let vendorData={name:formData.name.trim(),email:formData.email?.trim()||null,phone:formData.phone?.trim()||null,address:formData.address?.trim()||null,paymentTerms:formData.paymentTerms?.trim()||`Net 30`,taxId:formData.taxId?.trim()||null,bankDetails:formData.bankDetails?.trim()||null,notes:formData.notes?.trim()||null};isNewVendor.value?(await VendorService_default.createVendor(vendorData),notificationStore.toast({title:`Success`,message:`${formData.name} has been created successfully.`,variant:`success`})):(await VendorService_default.updateVendor(selectedVendor.value.reference,vendorData),notificationStore.toast({title:`Success`,message:`${formData.name} has been updated successfully.`,variant:`success`})),listViewRef.value?.completeSave(),await loadVendors(),resetForm(),isNewVendor.value=!1,selectedVendor.value=null}catch(error){console.error(`Failed to save vendor:`,error),notificationStore.toast({title:`Error`,message:error.message||`Failed to ${isNewVendor.value?`create`:`update`} vendor.`,variant:`error`}),listViewRef.value?.completeSave()}}async function handleDelete(vendor){try{await VendorService_default.deleteVendor(vendor.reference),notificationStore.toast({title:`Success`,message:`${vendor.name} has been deleted.`,variant:`success`}),await loadVendors()}catch(error){console.error(`Failed to delete vendor:`,error),notificationStore.toast({title:`Error`,message:error.message||`Failed to delete vendor.`,variant:`error`})}}async function handleArchive(vendor){try{await VendorService_default.archiveVendor(vendor.reference),notificationStore.toast({title:`Success`,message:`${vendor.name} has been archived.`,variant:`success`}),await loadVendors()}catch(error){console.error(`Failed to archive vendor:`,error),notificationStore.toast({title:`Error`,message:error.message||`Failed to archive vendor.`,variant:`error`})}}function handleSearch(query){searchQuery.value=query,currentPage.value=1,loadVendors()}function handlePageChange(page){currentPage.value=page,loadVendors()}function handleSort(key){sortColumn.value===key?sortDirection.value=sortDirection.value===`asc`?`desc`:`asc`:(sortColumn.value=key,sortDirection.value=`asc`)}function resetForm(){formData.name=``,formData.email=``,formData.phone=``,formData.address=``,formData.paymentTerms=`Net 30`,formData.taxId=``,formData.bankDetails=``,formData.notes=``}function markDirty(){listViewRef.value?.setDirty(!0)}function getInitials(name){return name?name.split(` `).map(w=>w[0]).join(``).substring(0,2).toUpperCase():`?`}function formatCurrency(amount){return new Intl.NumberFormat(`en-NG`,{style:`currency`,currency:`NGN`,minimumFractionDigits:0}).format(amount||0)}return(_ctx,_cache)=>(openBlock(),createBlock(EntityListView_default,{entityName:`Vendor`,entityPluralName:`Vendors`,columns,items:sortedVendors.value,loading:loading.value,totalItems:totalItems.value,currentPage:currentPage.value,pageSize:pageSize.value,canDelete:canDeleteVendor.value,deleteRestriction:deleteRestriction.value,sortColumn:sortColumn.value,sortDirection:sortDirection.value,onCreate:handleCreate,onSelect:handleSelect,onSave:handleSave,onDelete:handleDelete,onArchive:handleArchive,onSearch:handleSearch,onPageChange:handlePageChange,onSort:handleSort,ref_key:`listViewRef`,ref:listViewRef},{"cell-name":withCtx(({item})=>[createBaseVNode(`div`,_hoisted_1$22,[createBaseVNode(`div`,_hoisted_2$22,toDisplayString(getInitials(item.name)),1),createBaseVNode(`div`,null,[createBaseVNode(`p`,_hoisted_3$21,toDisplayString(item.name),1),createBaseVNode(`p`,_hoisted_4$21,toDisplayString(item.email),1)])])]),"cell-outstandingBalance":withCtx(({value})=>[createBaseVNode(`span`,{class:normalizeClass(value>0?`text-purple-600 font-medium`:`text-slate-500`)},toDisplayString(formatCurrency(value)),3)]),"cell-isActive":withCtx(({value})=>[createVNode(unref(Badge_default),{variant:value?`default`:`secondary`},{default:withCtx(()=>[createTextVNode(toDisplayString(value?`Active`:`Inactive`),1)]),_:2},1032,[`variant`])]),form:withCtx(({item,isNew})=>[createBaseVNode(`div`,_hoisted_5$21,[createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[8]||=[createTextVNode(`Vendor Name *`,-1)]]),_:1}),createVNode(unref(Input_default),{modelValue:formData.name,"onUpdate:modelValue":_cache[0]||=$event=>formData.name=$event,placeholder:`Enter vendor name`,class:`mt-1.5 rounded-full`,onInput:markDirty},null,8,[`modelValue`])]),createBaseVNode(`div`,_hoisted_6$20,[createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[9]||=[createTextVNode(`Email`,-1)]]),_:1}),createVNode(unref(Input_default),{modelValue:formData.email,"onUpdate:modelValue":_cache[1]||=$event=>formData.email=$event,type:`email`,placeholder:`vendor@example.com`,class:`mt-1.5 rounded-full`,onInput:markDirty},null,8,[`modelValue`])]),createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[10]||=[createTextVNode(`Phone`,-1)]]),_:1}),createVNode(unref(Input_default),{modelValue:formData.phone,"onUpdate:modelValue":_cache[2]||=$event=>formData.phone=$event,placeholder:`+234 800 000 0000`,class:`mt-1.5 rounded-full`,onInput:markDirty},null,8,[`modelValue`])])]),createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[11]||=[createTextVNode(`Address`,-1)]]),_:1}),createVNode(unref(Textarea_default),{modelValue:formData.address,"onUpdate:modelValue":_cache[3]||=$event=>formData.address=$event,placeholder:`Enter vendor address`,rows:`3`,class:`mt-1.5 rounded-2xl`,onInput:markDirty},null,8,[`modelValue`])]),createBaseVNode(`div`,_hoisted_7$20,[createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[12]||=[createTextVNode(`Payment Terms`,-1)]]),_:1}),createVNode(unref(Input_default),{modelValue:formData.paymentTerms,"onUpdate:modelValue":_cache[4]||=$event=>formData.paymentTerms=$event,placeholder:`Net 30`,class:`mt-1.5 rounded-full`,onInput:markDirty},null,8,[`modelValue`])]),createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[13]||=[createTextVNode(`Tax ID`,-1)]]),_:1}),createVNode(unref(Input_default),{modelValue:formData.taxId,"onUpdate:modelValue":_cache[5]||=$event=>formData.taxId=$event,placeholder:`Tax identification number`,class:`mt-1.5 rounded-full`,onInput:markDirty},null,8,[`modelValue`])])]),createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[14]||=[createTextVNode(`Bank Details`,-1)]]),_:1}),createVNode(unref(Textarea_default),{modelValue:formData.bankDetails,"onUpdate:modelValue":_cache[6]||=$event=>formData.bankDetails=$event,placeholder:`Bank name, account number, etc.`,rows:`2`,class:`mt-1.5 rounded-2xl`,onInput:markDirty},null,8,[`modelValue`])]),createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[15]||=[createTextVNode(`Notes`,-1)]]),_:1}),createVNode(unref(Textarea_default),{modelValue:formData.notes,"onUpdate:modelValue":_cache[7]||=$event=>formData.notes=$event,placeholder:`Internal notes about this vendor`,rows:`2`,class:`mt-1.5 rounded-2xl`,onInput:markDirty},null,8,[`modelValue`])])])]),"mobile-card":withCtx(({item})=>[createBaseVNode(`div`,_hoisted_8$20,[createBaseVNode(`div`,_hoisted_9$20,[createBaseVNode(`div`,_hoisted_10$20,toDisplayString(getInitials(item.name)),1),createBaseVNode(`div`,null,[createBaseVNode(`p`,_hoisted_11$20,toDisplayString(item.name),1),createBaseVNode(`p`,_hoisted_12$19,toDisplayString(item.email),1)])]),createBaseVNode(`div`,_hoisted_13$15,[item.outstandingBalance>0?(openBlock(),createElementBlock(`p`,_hoisted_14$13,toDisplayString(formatCurrency(item.outstandingBalance)),1)):createCommentVNode(``,!0),createVNode(unref(ChevronRight),{class:`h-5 w-5 text-slate-300 ml-auto`})])])]),_:1},8,[`items`,`loading`,`totalItems`,`currentPage`,`pageSize`,`canDelete`,`deleteRestriction`,`sortColumn`,`sortDirection`]))}},_hoisted_1$21={class:`flex items-center gap-3`},_hoisted_2$21={class:`w-8 h-8 rounded-lg bg-gradient-to-br from-blue-400 to-blue-600 flex items-center justify-center text-white text-xs font-semibold`},_hoisted_3$20={class:`font-medium text-slate-800`},_hoisted_4$20={class:`text-xs text-slate-500`},_hoisted_5$20={class:`font-medium text-slate-700`},_hoisted_6$19={class:`space-y-4`},_hoisted_7$19=[`value`],_hoisted_8$19={class:`grid grid-cols-2 gap-4`},_hoisted_9$19={class:`flex items-center justify-between`},_hoisted_10$19={class:`flex items-center gap-3`},_hoisted_11$19={class:`w-10 h-10 rounded-lg bg-gradient-to-br from-blue-400 to-blue-600 flex items-center justify-center text-white`},_hoisted_12$18={class:`font-medium text-slate-800`},_hoisted_13$14={class:`text-sm text-slate-500`},_hoisted_14$12={class:`text-right`},_hoisted_15$12={class:`font-medium text-slate-700`},InvoiceListView_default={__name:`InvoiceListView`,setup(__props){let listViewRef=ref(null),notificationStore=getNotificationStore(),openTab=inject(`openTab`),loading=ref(!1),invoices=ref([]),customers=ref([]),totalItems=ref(0),currentPage=ref(1),pageSize=ref(20),searchQuery=ref(``),selectedInvoice=ref(null),canDeleteInvoice=ref(!0),deleteRestriction=ref(``),isNewInvoice=ref(!1),sortColumn=ref(`invoiceNumber`),sortDirection=ref(`desc`),formData=reactive({customerId:``,invoiceDate:new Date().toISOString().split(`T`)[0],dueDate:``,notes:``}),columns=[{key:`invoiceNumber`,label:`Invoice`,sortable:!0},{key:`status`,label:`Status`,align:`center`},{key:`total`,label:`Amount`,align:`right`,sortable:!0},{key:`dueDate`,label:`Due Date`,sortable:!0}],sortedInvoices=computed(()=>!invoices.value||invoices.value.length===0?[]:[...invoices.value].sort((a,b)=>{let aVal=a[sortColumn.value],bVal=b[sortColumn.value];return aVal??=``,bVal??=``,typeof aVal==`number`&&typeof bVal==`number`?sortDirection.value===`asc`?aVal-bVal:bVal-aVal:(aVal=String(aVal).toLowerCase(),bVal=String(bVal).toLowerCase(),aVal<bVal?sortDirection.value===`asc`?-1:1:aVal>bVal?sortDirection.value===`asc`?1:-1:0)}));onMounted(async()=>{await Promise.all([loadInvoices(),loadCustomers()])});async function loadInvoices(){loading.value=!0;try{let response=await InvoiceService_default.getInvoices(null,currentPage.value-1,pageSize.value);response.content?(invoices.value=response.content,totalItems.value=response.totalElements||response.content.length):Array.isArray(response)?(invoices.value=response,totalItems.value=response.length):(invoices.value=[],totalItems.value=0)}catch(error){console.error(`Failed to load invoices:`,error),notificationStore.toast({title:`Error`,message:`Failed to load invoices. Please try again.`,variant:`error`}),invoices.value=[]}finally{loading.value=!1}}async function loadCustomers(){try{let response=await CustomerService_default.getCustomers({page:0,size:100});customers.value=response.content||response||[]}catch(error){console.error(`Failed to load customers:`,error)}}function handleCreate(){openTab?openTab({type:`invoice`,title:`New Invoice`,data:{invoiceType:`INVOICE`}}):(resetForm(),selectedInvoice.value=null,isNewInvoice.value=!0)}function handleSelect(invoice){openTab?(openTab({type:`invoice`,title:invoice.invoiceNumber||`Invoice`,data:{reference:invoice.reference,invoiceType:invoice.type||`INVOICE`}}),listViewRef.value?.completeSave()):(selectedInvoice.value=invoice,isNewInvoice.value=!1,formData.customerId=invoice.customer?.reference||``,formData.invoiceDate=invoice.invoiceDate?.split(`T`)[0]||``,formData.dueDate=invoice.dueDate?.split(`T`)[0]||``,formData.notes=invoice.notes||``)}async function handleSave(item,isNew){if(!formData.customerId){notificationStore.toast({title:`Validation Error`,message:`Please select a customer.`,variant:`warning`}),listViewRef.value?.completeSave();return}try{let invoiceData={customerReference:formData.customerId,invoiceDate:formData.invoiceDate,dueDate:formData.dueDate,notes:formData.notes?.trim()||null,type:`INVOICE`};if(isNewInvoice.value){let created=await InvoiceService_default.createInvoice(invoiceData);notificationStore.toast({title:`Success`,message:`Invoice draft created successfully.`,variant:`success`}),openTab&&created.reference&&openTab({type:`invoice`,title:created.invoiceNumber||`Invoice`,data:{reference:created.reference,invoiceType:`INVOICE`}})}else await InvoiceService_default.updateInvoice(selectedInvoice.value.reference,invoiceData),notificationStore.toast({title:`Success`,message:`Invoice updated successfully.`,variant:`success`});listViewRef.value?.completeSave(),await loadInvoices(),resetForm(),isNewInvoice.value=!1,selectedInvoice.value=null}catch(error){console.error(`Failed to save invoice:`,error),notificationStore.toast({title:`Error`,message:error.message||`Failed to save invoice.`,variant:`error`}),listViewRef.value?.completeSave()}}async function handleDelete(invoice){try{await InvoiceService_default.cancelInvoice(invoice.reference),notificationStore.toast({title:`Success`,message:`Invoice cancelled.`,variant:`success`}),await loadInvoices()}catch(error){console.error(`Failed to cancel invoice:`,error),notificationStore.toast({title:`Error`,message:error.message||`Failed to cancel invoice.`,variant:`error`})}}async function handleArchive(invoice){await handleDelete(invoice)}function handleSearch(query){searchQuery.value=query,currentPage.value=1,loadInvoices()}function handlePageChange(page){currentPage.value=page,loadInvoices()}function handleSort(key){sortColumn.value===key?sortDirection.value=sortDirection.value===`asc`?`desc`:`asc`:(sortColumn.value=key,sortDirection.value=`asc`)}function resetForm(){formData.customerId=``,formData.invoiceDate=new Date().toISOString().split(`T`)[0],formData.dueDate=``,formData.notes=``}function markDirty(){listViewRef.value?.setDirty(!0)}function getStatusVariant(status){return{DRAFT:`secondary`,SENT:`default`,VIEWED:`default`,PARTIALLY_PAID:`warning`,PAID:`success`,OVERDUE:`destructive`,CANCELLED:`outline`}[status]||`secondary`}function formatStatus(status){return{DRAFT:`Draft`,SENT:`Sent`,VIEWED:`Viewed`,PARTIALLY_PAID:`Partial`,PAID:`Paid`,OVERDUE:`Overdue`,CANCELLED:`Cancelled`}[status]||status}function isOverdue(invoice){return invoice.status===`PAID`||invoice.status===`CANCELLED`||!invoice.dueDate?!1:new Date(invoice.dueDate)<new Date}function formatDate(date){return date?new Date(date).toLocaleDateString(`en-GB`,{day:`numeric`,month:`short`,year:`numeric`}):``}function formatCurrency(amount){return new Intl.NumberFormat(`en-NG`,{style:`currency`,currency:`NGN`,minimumFractionDigits:0}).format(amount||0)}return(_ctx,_cache)=>(openBlock(),createBlock(EntityListView_default,{entityName:`Invoice`,entityPluralName:`Invoices`,columns,items:sortedInvoices.value,loading:loading.value,totalItems:totalItems.value,currentPage:currentPage.value,pageSize:pageSize.value,canDelete:canDeleteInvoice.value,deleteRestriction:deleteRestriction.value,sortColumn:sortColumn.value,sortDirection:sortDirection.value,onCreate:handleCreate,onSelect:handleSelect,onSave:handleSave,onDelete:handleDelete,onArchive:handleArchive,onSearch:handleSearch,onPageChange:handlePageChange,onSort:handleSort,ref_key:`listViewRef`,ref:listViewRef},{"cell-invoiceNumber":withCtx(({item})=>[createBaseVNode(`div`,_hoisted_1$21,[createBaseVNode(`div`,_hoisted_2$21,[createVNode(unref(FileText),{class:`h-4 w-4`})]),createBaseVNode(`div`,null,[createBaseVNode(`p`,_hoisted_3$20,toDisplayString(item.invoiceNumber||`Draft`),1),createBaseVNode(`p`,_hoisted_4$20,toDisplayString(item.customer?.name||`No customer`),1)])])]),"cell-status":withCtx(({value})=>[createVNode(unref(Badge_default),{variant:getStatusVariant(value)},{default:withCtx(()=>[createTextVNode(toDisplayString(formatStatus(value)),1)]),_:2},1032,[`variant`])]),"cell-total":withCtx(({value})=>[createBaseVNode(`span`,_hoisted_5$20,toDisplayString(formatCurrency(value)),1)]),"cell-dueDate":withCtx(({value,item})=>[createBaseVNode(`span`,{class:normalizeClass(isOverdue(item)?`text-red-600 font-medium`:`text-slate-600`)},toDisplayString(formatDate(value)),3)]),form:withCtx(({item,isNew})=>[createBaseVNode(`div`,_hoisted_6$19,[_cache[9]||=createBaseVNode(`div`,{class:`bg-amber-50 border border-amber-200 rounded-xl p-4`},[createBaseVNode(`p`,{class:`text-sm text-amber-800`},[createBaseVNode(`strong`,null,`Note:`),createTextVNode(` For full invoice editing, use the Invoice Editor. This form is for quick creation only. `)])],-1),createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[4]||=[createTextVNode(`Customer *`,-1)]]),_:1}),withDirectives(createBaseVNode(`select`,{"onUpdate:modelValue":_cache[0]||=$event=>formData.customerId=$event,class:`mt-1.5 w-full px-3 py-2 text-sm border border-slate-200 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500/20`,onChange:markDirty},[_cache[5]||=createBaseVNode(`option`,{value:``},`Select a customer`,-1),(openBlock(!0),createElementBlock(Fragment,null,renderList(customers.value,customer=>(openBlock(),createElementBlock(`option`,{key:customer.reference,value:customer.reference},toDisplayString(customer.name),9,_hoisted_7$19))),128))],544),[[vModelSelect,formData.customerId]])]),createBaseVNode(`div`,_hoisted_8$19,[createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[6]||=[createTextVNode(`Invoice Date`,-1)]]),_:1}),createVNode(unref(Input_default),{modelValue:formData.invoiceDate,"onUpdate:modelValue":_cache[1]||=$event=>formData.invoiceDate=$event,type:`date`,class:`mt-1.5 rounded-full`,onInput:markDirty},null,8,[`modelValue`])]),createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[7]||=[createTextVNode(`Due Date`,-1)]]),_:1}),createVNode(unref(Input_default),{modelValue:formData.dueDate,"onUpdate:modelValue":_cache[2]||=$event=>formData.dueDate=$event,type:`date`,class:`mt-1.5 rounded-full`,onInput:markDirty},null,8,[`modelValue`])])]),createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[8]||=[createTextVNode(`Notes`,-1)]]),_:1}),createVNode(unref(Textarea_default),{modelValue:formData.notes,"onUpdate:modelValue":_cache[3]||=$event=>formData.notes=$event,placeholder:`Invoice notes`,rows:`2`,class:`mt-1.5 rounded-2xl`,onInput:markDirty},null,8,[`modelValue`])])])]),"mobile-card":withCtx(({item})=>[createBaseVNode(`div`,_hoisted_9$19,[createBaseVNode(`div`,_hoisted_10$19,[createBaseVNode(`div`,_hoisted_11$19,[createVNode(unref(FileText),{class:`h-5 w-5`})]),createBaseVNode(`div`,null,[createBaseVNode(`p`,_hoisted_12$18,toDisplayString(item.invoiceNumber||`Draft`),1),createBaseVNode(`p`,_hoisted_13$14,toDisplayString(item.customer?.name),1)])]),createBaseVNode(`div`,_hoisted_14$12,[createBaseVNode(`p`,_hoisted_15$12,toDisplayString(formatCurrency(item.total)),1),createVNode(unref(Badge_default),{variant:getStatusVariant(item.status),class:`mt-1`},{default:withCtx(()=>[createTextVNode(toDisplayString(formatStatus(item.status)),1)]),_:2},1032,[`variant`])])])]),_:1},8,[`items`,`loading`,`totalItems`,`currentPage`,`pageSize`,`canDelete`,`deleteRestriction`,`sortColumn`,`sortDirection`]))}},QuoteService_default={async getQuotes({page=0,size=20,status=null}={}){let query={page,size};return status&&(query.status=status),API_default.get(`/org/quotes`,{query,authorizeRequest:!0,organisationAware:!0})},async getQuote(reference){return API_default.get(`/org/quotes/${reference}`,{authorizeRequest:!0,organisationAware:!0})},async createQuote(data){return API_default.post(`/org/quotes`,{data,authorizeRequest:!0,organisationAware:!0})},async updateQuote(reference,data){return API_default.put(`/org/quotes/${reference}`,{data,authorizeRequest:!0,organisationAware:!0})},async sendQuote(reference){return API_default.post(`/org/quotes/${reference}/send`,{data:{},authorizeRequest:!0,organisationAware:!0})},async acceptQuote(reference){return API_default.post(`/org/quotes/${reference}/accept`,{data:{},authorizeRequest:!0,organisationAware:!0})},async rejectQuote(reference){return API_default.post(`/org/quotes/${reference}/reject`,{data:{},authorizeRequest:!0,organisationAware:!0})},async convertToInvoice(reference){return API_default.post(`/org/quotes/${reference}/convert`,{data:{},authorizeRequest:!0,organisationAware:!0})},async deleteQuote(reference){return API_default.delete(`/org/quotes/${reference}`,{authorizeRequest:!0,organisationAware:!0})},async getStats(){return API_default.get(`/org/quotes/stats`,{authorizeRequest:!0,organisationAware:!0})}},_hoisted_1$20={class:`flex items-center gap-3`},_hoisted_2$20={class:`w-8 h-8 rounded-full bg-gradient-to-br from-blue-400 to-blue-600 flex items-center justify-center text-white text-xs font-semibold`},_hoisted_3$19={class:`font-medium text-slate-800`},_hoisted_4$19={class:`text-xs text-slate-500`},_hoisted_5$19={class:`font-medium text-slate-700`},_hoisted_6$18={class:`space-y-4`},_hoisted_7$18={class:`grid grid-cols-2 gap-4`},_hoisted_8$18={class:`grid grid-cols-2 gap-4`},_hoisted_9$18={class:`grid grid-cols-2 gap-4`},_hoisted_10$18={class:`flex items-center justify-between`},_hoisted_11$18={class:`flex items-center gap-3`},_hoisted_12$17={class:`w-10 h-10 rounded-full bg-gradient-to-br from-blue-400 to-blue-600 flex items-center justify-center text-white text-sm font-semibold`},_hoisted_13$13={class:`font-medium text-slate-800`},_hoisted_14$11={class:`text-sm text-slate-500`},_hoisted_15$11={class:`text-right`},_hoisted_16$9={class:`text-sm font-medium text-slate-700`},QuoteListView_default={__name:`QuoteListView`,setup(__props){let listViewRef=ref(null),notificationStore=getNotificationStore(),loading=ref(!1),quotes=ref([]),totalItems=ref(0),currentPage=ref(1),pageSize=ref(20),searchQuery=ref(``),selectedQuote=ref(null),canDeleteQuote=ref(!0),deleteRestriction=ref(``),isNewQuote=ref(!1),sortColumn=ref(`createdAt`),sortDirection=ref(`desc`),formData=reactive({quoteNumber:``,customerName:``,customerEmail:``,issueDate:``,expiryDate:``,currency:`NGN`,notes:``,termsAndConditions:``}),columns=[{key:`customerName`,label:`Customer`,sortable:!0},{key:`totalAmount`,label:`Amount`,align:`right`,sortable:!0},{key:`status`,label:`Status`,align:`center`},{key:`expiryDate`,label:`Expires`,sortable:!0}],itemActions=computed(()=>{if(!selectedQuote.value)return[];let status=selectedQuote.value.status,actions=[];return status===`DRAFT`&&actions.push({id:`send`,label:`Send Quote`,variant:`default`}),(status===`DRAFT`||status===`SENT`)&&actions.push({id:`reject`,label:`Reject`,variant:`outline`}),(status===`SENT`||status===`DRAFT`)&&actions.push({id:`convert`,label:`Convert to Invoice`,variant:`secondary`}),actions}),sortedQuotes=computed(()=>!quotes.value||quotes.value.length===0?[]:[...quotes.value].sort((a,b)=>{let aVal=a[sortColumn.value],bVal=b[sortColumn.value];return aVal??=``,bVal??=``,typeof aVal==`number`&&typeof bVal==`number`?sortDirection.value===`asc`?aVal-bVal:bVal-aVal:(aVal=String(aVal).toLowerCase(),bVal=String(bVal).toLowerCase(),aVal<bVal?sortDirection.value===`asc`?-1:1:aVal>bVal?sortDirection.value===`asc`?1:-1:0)}));onMounted(()=>{loadQuotes()});async function loadQuotes(){loading.value=!0;try{let response=await QuoteService_default.getQuotes({page:currentPage.value-1,size:pageSize.value});response.content?(quotes.value=response.content,totalItems.value=response.totalElements||response.content.length):Array.isArray(response)?(quotes.value=response,totalItems.value=response.length):(quotes.value=[],totalItems.value=0)}catch(error){console.error(`Failed to load quotes:`,error),notificationStore.toast({title:`Error`,message:`Failed to load quotes. Please try again.`,variant:`error`}),quotes.value=[]}finally{loading.value=!1}}function handleCreate(){resetForm(),selectedQuote.value=null,isNewQuote.value=!0}function handleSelect(quote){selectedQuote.value=quote,isNewQuote.value=!1,formData.quoteNumber=quote.quoteNumber||``,formData.customerName=quote.customerName||``,formData.customerEmail=quote.customerEmail||``,formData.issueDate=quote.issueDate||``,formData.expiryDate=quote.expiryDate||``,formData.currency=quote.currency||`NGN`,formData.notes=quote.notes||``,formData.termsAndConditions=quote.termsAndConditions||``,canDeleteQuote.value=quote.status===`DRAFT`,deleteRestriction.value=quote.status===`DRAFT`?``:`Only draft quotes can be deleted.`}async function handleSave(item,isNew){if(!formData.customerName||formData.customerName.trim()===``){notificationStore.toast({title:`Validation Error`,message:`Customer name is required.`,variant:`warning`}),listViewRef.value?.completeSave();return}try{let quoteData={customerName:formData.customerName.trim(),customerEmail:formData.customerEmail?.trim()||null,issueDate:formData.issueDate||null,expiryDate:formData.expiryDate||null,currency:formData.currency||`NGN`,notes:formData.notes?.trim()||null,termsAndConditions:formData.termsAndConditions?.trim()||null};isNewQuote.value?(await QuoteService_default.createQuote(quoteData),notificationStore.toast({title:`Success`,message:`Quote created successfully.`,variant:`success`})):(await QuoteService_default.updateQuote(selectedQuote.value.reference,quoteData),notificationStore.toast({title:`Success`,message:`Quote updated successfully.`,variant:`success`})),listViewRef.value?.completeSave(),await loadQuotes(),resetForm(),isNewQuote.value=!1,selectedQuote.value=null}catch(error){console.error(`Failed to save quote:`,error),notificationStore.toast({title:`Error`,message:error.message||`Failed to save quote.`,variant:`error`}),listViewRef.value?.completeSave()}}async function handleDelete(quote){try{await QuoteService_default.deleteQuote(quote.reference),notificationStore.toast({title:`Success`,message:`Quote deleted successfully.`,variant:`success`}),await loadQuotes()}catch(error){console.error(`Failed to delete quote:`,error),notificationStore.toast({title:`Error`,message:error.message||`Failed to delete quote.`,variant:`error`})}}async function handleAction(action){if(selectedQuote.value)try{switch(action.id){case`send`:await QuoteService_default.sendQuote(selectedQuote.value.reference),notificationStore.toast({title:`Success`,message:`Quote sent successfully.`,variant:`success`});break;case`reject`:await QuoteService_default.rejectQuote(selectedQuote.value.reference),notificationStore.toast({title:`Success`,message:`Quote rejected.`,variant:`success`});break;case`convert`:await QuoteService_default.convertToInvoice(selectedQuote.value.reference),notificationStore.toast({title:`Success`,message:`Quote converted to invoice.`,variant:`success`});break}await loadQuotes(),listViewRef.value?.closeDetail()}catch(error){console.error(`Action failed:`,error),notificationStore.toast({title:`Error`,message:error.message||`Action failed.`,variant:`error`})}}function handleSearch(query){searchQuery.value=query,currentPage.value=1,loadQuotes()}function handlePageChange(page){currentPage.value=page,loadQuotes()}function handleSort(key){sortColumn.value===key?sortDirection.value=sortDirection.value===`asc`?`desc`:`asc`:(sortColumn.value=key,sortDirection.value=`asc`)}function resetForm(){formData.quoteNumber=``,formData.customerName=``,formData.customerEmail=``,formData.issueDate=``,formData.expiryDate=``,formData.currency=`NGN`,formData.notes=``,formData.termsAndConditions=``}function markDirty(){listViewRef.value?.setDirty(!0)}function getInitials(name){return name?name.split(` `).map(w=>w[0]).join(``).substring(0,2).toUpperCase():`?`}function formatCurrency(amount){return new Intl.NumberFormat(`en-NG`,{style:`currency`,currency:`NGN`,minimumFractionDigits:0}).format(amount||0)}function formatDate(dateStr){return dateStr?new Date(dateStr).toLocaleDateString(`en-NG`,{year:`numeric`,month:`short`,day:`numeric`}):`-`}function isExpired(dateStr){return dateStr?new Date(dateStr)<new Date:!1}function getStatusVariant(status){return{DRAFT:`secondary`,SENT:`default`,CONVERTED:`success`,REJECTED:`destructive`,EXPIRED:`outline`}[status]||`secondary`}return(_ctx,_cache)=>(openBlock(),createBlock(EntityListView_default,{entityName:`Quote`,entityPluralName:`Quotes`,columns,items:sortedQuotes.value,loading:loading.value,totalItems:totalItems.value,currentPage:currentPage.value,pageSize:pageSize.value,canDelete:canDeleteQuote.value,deleteRestriction:deleteRestriction.value,sortColumn:sortColumn.value,sortDirection:sortDirection.value,actions:itemActions.value,onCreate:handleCreate,onSelect:handleSelect,onSave:handleSave,onDelete:handleDelete,onSearch:handleSearch,onPageChange:handlePageChange,onSort:handleSort,onAction:handleAction,ref_key:`listViewRef`,ref:listViewRef},{"cell-customerName":withCtx(({item})=>[createBaseVNode(`div`,_hoisted_1$20,[createBaseVNode(`div`,_hoisted_2$20,toDisplayString(getInitials(item.customerName)),1),createBaseVNode(`div`,null,[createBaseVNode(`p`,_hoisted_3$19,toDisplayString(item.customerName||`No Customer`),1),createBaseVNode(`p`,_hoisted_4$19,toDisplayString(item.quoteNumber),1)])])]),"cell-totalAmount":withCtx(({value})=>[createBaseVNode(`span`,_hoisted_5$19,toDisplayString(formatCurrency(value)),1)]),"cell-status":withCtx(({value})=>[createVNode(unref(Badge_default),{variant:getStatusVariant(value)},{default:withCtx(()=>[createTextVNode(toDisplayString(value),1)]),_:2},1032,[`variant`])]),"cell-expiryDate":withCtx(({value})=>[createBaseVNode(`span`,{class:normalizeClass(isExpired(value)?`text-red-600`:`text-slate-600`)},toDisplayString(formatDate(value)),3)]),form:withCtx(({item,isNew})=>[createBaseVNode(`div`,_hoisted_6$18,[createBaseVNode(`div`,_hoisted_7$18,[createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[8]||=[createTextVNode(`Quote Number`,-1)]]),_:1}),createVNode(unref(Input_default),{modelValue:formData.quoteNumber,"onUpdate:modelValue":_cache[0]||=$event=>formData.quoteNumber=$event,placeholder:`QUO-001`,class:`mt-1.5 rounded-full`,disabled:!isNew},null,8,[`modelValue`,`disabled`])]),createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[9]||=[createTextVNode(`Customer Name *`,-1)]]),_:1}),createVNode(unref(Input_default),{modelValue:formData.customerName,"onUpdate:modelValue":_cache[1]||=$event=>formData.customerName=$event,placeholder:`Customer name`,class:`mt-1.5 rounded-full`,onInput:markDirty},null,8,[`modelValue`])])]),createBaseVNode(`div`,_hoisted_8$18,[createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[10]||=[createTextVNode(`Customer Email`,-1)]]),_:1}),createVNode(unref(Input_default),{modelValue:formData.customerEmail,"onUpdate:modelValue":_cache[2]||=$event=>formData.customerEmail=$event,type:`email`,placeholder:`email@example.com`,class:`mt-1.5 rounded-full`,onInput:markDirty},null,8,[`modelValue`])]),createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[11]||=[createTextVNode(`Currency`,-1)]]),_:1}),createVNode(unref(Input_default),{modelValue:formData.currency,"onUpdate:modelValue":_cache[3]||=$event=>formData.currency=$event,placeholder:`NGN`,class:`mt-1.5 rounded-full`,onInput:markDirty},null,8,[`modelValue`])])]),createBaseVNode(`div`,_hoisted_9$18,[createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[12]||=[createTextVNode(`Issue Date`,-1)]]),_:1}),createVNode(unref(Input_default),{modelValue:formData.issueDate,"onUpdate:modelValue":_cache[4]||=$event=>formData.issueDate=$event,type:`date`,class:`mt-1.5 rounded-full`,onInput:markDirty},null,8,[`modelValue`])]),createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[13]||=[createTextVNode(`Expiry Date`,-1)]]),_:1}),createVNode(unref(Input_default),{modelValue:formData.expiryDate,"onUpdate:modelValue":_cache[5]||=$event=>formData.expiryDate=$event,type:`date`,class:`mt-1.5 rounded-full`,onInput:markDirty},null,8,[`modelValue`])])]),createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[14]||=[createTextVNode(`Notes`,-1)]]),_:1}),createVNode(unref(Textarea_default),{modelValue:formData.notes,"onUpdate:modelValue":_cache[6]||=$event=>formData.notes=$event,placeholder:`Additional notes`,rows:`3`,class:`mt-1.5 rounded-2xl`,onInput:markDirty},null,8,[`modelValue`])]),createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[15]||=[createTextVNode(`Terms & Conditions`,-1)]]),_:1}),createVNode(unref(Textarea_default),{modelValue:formData.termsAndConditions,"onUpdate:modelValue":_cache[7]||=$event=>formData.termsAndConditions=$event,placeholder:`Terms and conditions`,rows:`3`,class:`mt-1.5 rounded-2xl`,onInput:markDirty},null,8,[`modelValue`])])])]),"mobile-card":withCtx(({item})=>[createBaseVNode(`div`,_hoisted_10$18,[createBaseVNode(`div`,_hoisted_11$18,[createBaseVNode(`div`,_hoisted_12$17,toDisplayString(getInitials(item.customerName)),1),createBaseVNode(`div`,null,[createBaseVNode(`p`,_hoisted_13$13,toDisplayString(item.customerName||`No Customer`),1),createBaseVNode(`p`,_hoisted_14$11,toDisplayString(item.quoteNumber),1)])]),createBaseVNode(`div`,_hoisted_15$11,[createBaseVNode(`p`,_hoisted_16$9,toDisplayString(formatCurrency(item.totalAmount)),1),createVNode(unref(Badge_default),{variant:getStatusVariant(item.status),class:`mt-1`},{default:withCtx(()=>[createTextVNode(toDisplayString(item.status),1)]),_:2},1032,[`variant`])])])]),_:1},8,[`items`,`loading`,`totalItems`,`currentPage`,`pageSize`,`canDelete`,`deleteRestriction`,`sortColumn`,`sortDirection`,`actions`]))}},SalesOrderService_default={async getSalesOrders({page=0,size=20,status=null}={}){let query={page,size};return status&&(query.status=status),API_default.get(`/org/sales-orders`,{query,authorizeRequest:!0,organisationAware:!0})},async getSalesOrder(reference){return API_default.get(`/org/sales-orders/${reference}`,{authorizeRequest:!0,organisationAware:!0})},async createSalesOrder(data){return API_default.post(`/org/sales-orders`,{data,authorizeRequest:!0,organisationAware:!0})},async updateSalesOrder(reference,data){return API_default.put(`/org/sales-orders/${reference}`,{data,authorizeRequest:!0,organisationAware:!0})},async confirmOrder(reference){return API_default.post(`/org/sales-orders/${reference}/confirm`,{data:{},authorizeRequest:!0,organisationAware:!0})},async markProcessing(reference){return API_default.post(`/org/sales-orders/${reference}/process`,{data:{},authorizeRequest:!0,organisationAware:!0})},async markShipped(reference){return API_default.post(`/org/sales-orders/${reference}/ship`,{data:{},authorizeRequest:!0,organisationAware:!0})},async markDelivered(reference){return API_default.post(`/org/sales-orders/${reference}/deliver`,{data:{},authorizeRequest:!0,organisationAware:!0})},async convertToInvoice(reference){return API_default.post(`/org/sales-orders/${reference}/convert`,{data:{},authorizeRequest:!0,organisationAware:!0})},async cancelOrder(reference){return API_default.post(`/org/sales-orders/${reference}/cancel`,{data:{},authorizeRequest:!0,organisationAware:!0})},async deleteSalesOrder(reference){return API_default.delete(`/org/sales-orders/${reference}`,{authorizeRequest:!0,organisationAware:!0})},async getStats(){return API_default.get(`/org/sales-orders/stats`,{authorizeRequest:!0,organisationAware:!0})}},_hoisted_1$19={class:`flex items-center gap-3`},_hoisted_2$19={class:`w-8 h-8 rounded-full bg-gradient-to-br from-green-400 to-green-600 flex items-center justify-center text-white text-xs font-semibold`},_hoisted_3$18={class:`font-medium text-slate-800`},_hoisted_4$18={class:`text-xs text-slate-500`},_hoisted_5$18={class:`font-medium text-slate-700`},_hoisted_6$17={class:`text-slate-600`},_hoisted_7$17={class:`space-y-4`},_hoisted_8$17={class:`grid grid-cols-2 gap-4`},_hoisted_9$17={class:`grid grid-cols-2 gap-4`},_hoisted_10$17={class:`grid grid-cols-2 gap-4`},_hoisted_11$17={class:`flex items-center justify-between`},_hoisted_12$16={class:`flex items-center gap-3`},_hoisted_13$12={class:`w-10 h-10 rounded-full bg-gradient-to-br from-green-400 to-green-600 flex items-center justify-center text-white text-sm font-semibold`},_hoisted_14$10={class:`font-medium text-slate-800`},_hoisted_15$10={class:`text-sm text-slate-500`},_hoisted_16$8={class:`text-right`},_hoisted_17$5={class:`text-sm font-medium text-slate-700`},SalesOrderListView_default={__name:`SalesOrderListView`,setup(__props){let listViewRef=ref(null),notificationStore=getNotificationStore(),loading=ref(!1),orders=ref([]),totalItems=ref(0),currentPage=ref(1),pageSize=ref(20),searchQuery=ref(``),selectedOrder=ref(null),canDeleteOrder=ref(!0),deleteRestriction=ref(``),isNewOrder=ref(!1),sortColumn=ref(`createdAt`),sortDirection=ref(`desc`),formData=reactive({orderNumber:``,customerName:``,customerEmail:``,orderDate:``,expectedDate:``,shippingAddress:``,currency:`NGN`,notes:``}),columns=[{key:`customerName`,label:`Customer`,sortable:!0},{key:`totalAmount`,label:`Amount`,align:`right`,sortable:!0},{key:`status`,label:`Status`,align:`center`},{key:`orderDate`,label:`Order Date`,sortable:!0}],itemActions=computed(()=>{if(!selectedOrder.value)return[];let status=selectedOrder.value.status,actions=[];return status===`DRAFT`&&actions.push({id:`confirm`,label:`Confirm Order`,variant:`default`}),status!==`DELIVERED`&&status!==`CANCELLED`&&actions.push({id:`cancel`,label:`Cancel Order`,variant:`destructive`}),status===`CONFIRMED`&&actions.push({id:`invoice`,label:`Create Invoice`,variant:`secondary`}),actions}),sortedOrders=computed(()=>!orders.value||orders.value.length===0?[]:[...orders.value].sort((a,b)=>{let aVal=a[sortColumn.value],bVal=b[sortColumn.value];return aVal??=``,bVal??=``,typeof aVal==`number`&&typeof bVal==`number`?sortDirection.value===`asc`?aVal-bVal:bVal-aVal:(aVal=String(aVal).toLowerCase(),bVal=String(bVal).toLowerCase(),aVal<bVal?sortDirection.value===`asc`?-1:1:aVal>bVal?sortDirection.value===`asc`?1:-1:0)}));onMounted(()=>{loadOrders()});async function loadOrders(){loading.value=!0;try{let response=await SalesOrderService_default.getSalesOrders({page:currentPage.value-1,size:pageSize.value});response.content?(orders.value=response.content,totalItems.value=response.totalElements||response.content.length):Array.isArray(response)?(orders.value=response,totalItems.value=response.length):(orders.value=[],totalItems.value=0)}catch(error){console.error(`Failed to load sales orders:`,error),notificationStore.toast({title:`Error`,message:`Failed to load sales orders.`,variant:`error`}),orders.value=[]}finally{loading.value=!1}}function handleCreate(){resetForm(),selectedOrder.value=null,isNewOrder.value=!0}function handleSelect(order){selectedOrder.value=order,isNewOrder.value=!1,formData.orderNumber=order.orderNumber||``,formData.customerName=order.customerName||``,formData.customerEmail=order.customerEmail||``,formData.orderDate=order.orderDate||``,formData.expectedDate=order.expectedDate||``,formData.shippingAddress=order.shippingAddress||``,formData.currency=order.currency||`NGN`,formData.notes=order.notes||``,canDeleteOrder.value=order.status===`DRAFT`,deleteRestriction.value=order.status===`DRAFT`?``:`Only draft orders can be deleted.`}async function handleSave(item,isNew){if(!formData.customerName||formData.customerName.trim()===``){notificationStore.toast({title:`Validation Error`,message:`Customer name is required.`,variant:`warning`}),listViewRef.value?.completeSave();return}try{let orderData={customerName:formData.customerName.trim(),customerEmail:formData.customerEmail?.trim()||null,orderDate:formData.orderDate||null,expectedDate:formData.expectedDate||null,shippingAddress:formData.shippingAddress?.trim()||null,currency:formData.currency||`NGN`,notes:formData.notes?.trim()||null};isNewOrder.value?(await SalesOrderService_default.createSalesOrder(orderData),notificationStore.toast({title:`Success`,message:`Sales order created successfully.`,variant:`success`})):(await SalesOrderService_default.updateSalesOrder(selectedOrder.value.reference,orderData),notificationStore.toast({title:`Success`,message:`Sales order updated successfully.`,variant:`success`})),listViewRef.value?.completeSave(),await loadOrders(),resetForm(),isNewOrder.value=!1,selectedOrder.value=null}catch(error){console.error(`Failed to save sales order:`,error),notificationStore.toast({title:`Error`,message:error.message||`Failed to save sales order.`,variant:`error`}),listViewRef.value?.completeSave()}}async function handleDelete(order){try{await SalesOrderService_default.deleteSalesOrder(order.reference),notificationStore.toast({title:`Success`,message:`Sales order deleted successfully.`,variant:`success`}),await loadOrders()}catch(error){console.error(`Failed to delete sales order:`,error),notificationStore.toast({title:`Error`,message:error.message||`Failed to delete sales order.`,variant:`error`})}}async function handleAction(action){if(selectedOrder.value)try{switch(action.id){case`confirm`:await SalesOrderService_default.confirmOrder(selectedOrder.value.reference),notificationStore.toast({title:`Success`,message:`Order confirmed.`,variant:`success`});break;case`cancel`:await SalesOrderService_default.cancelOrder(selectedOrder.value.reference),notificationStore.toast({title:`Success`,message:`Order cancelled.`,variant:`success`});break;case`invoice`:await SalesOrderService_default.createInvoice(selectedOrder.value.reference),notificationStore.toast({title:`Success`,message:`Invoice created from order.`,variant:`success`});break}await loadOrders(),listViewRef.value?.closeDetail()}catch(error){console.error(`Action failed:`,error),notificationStore.toast({title:`Error`,message:error.message||`Action failed.`,variant:`error`})}}function handleSearch(query){searchQuery.value=query,currentPage.value=1,loadOrders()}function handlePageChange(page){currentPage.value=page,loadOrders()}function handleSort(key){sortColumn.value===key?sortDirection.value=sortDirection.value===`asc`?`desc`:`asc`:(sortColumn.value=key,sortDirection.value=`asc`)}function resetForm(){formData.orderNumber=``,formData.customerName=``,formData.customerEmail=``,formData.orderDate=``,formData.expectedDate=``,formData.shippingAddress=``,formData.currency=`NGN`,formData.notes=``}function markDirty(){listViewRef.value?.setDirty(!0)}function getInitials(name){return name?name.split(` `).map(w=>w[0]).join(``).substring(0,2).toUpperCase():`?`}function formatCurrency(amount){return new Intl.NumberFormat(`en-NG`,{style:`currency`,currency:`NGN`,minimumFractionDigits:0}).format(amount||0)}function formatDate(dateStr){return dateStr?new Date(dateStr).toLocaleDateString(`en-NG`,{year:`numeric`,month:`short`,day:`numeric`}):`-`}function getStatusVariant(status){return{DRAFT:`secondary`,CONFIRMED:`default`,SHIPPED:`outline`,DELIVERED:`success`,CANCELLED:`destructive`}[status]||`secondary`}return(_ctx,_cache)=>(openBlock(),createBlock(EntityListView_default,{entityName:`Sales Order`,entityPluralName:`Sales Orders`,columns,items:sortedOrders.value,loading:loading.value,totalItems:totalItems.value,currentPage:currentPage.value,pageSize:pageSize.value,canDelete:canDeleteOrder.value,deleteRestriction:deleteRestriction.value,sortColumn:sortColumn.value,sortDirection:sortDirection.value,actions:itemActions.value,onCreate:handleCreate,onSelect:handleSelect,onSave:handleSave,onDelete:handleDelete,onSearch:handleSearch,onPageChange:handlePageChange,onSort:handleSort,onAction:handleAction,ref_key:`listViewRef`,ref:listViewRef},{"cell-customerName":withCtx(({item})=>[createBaseVNode(`div`,_hoisted_1$19,[createBaseVNode(`div`,_hoisted_2$19,toDisplayString(getInitials(item.customerName)),1),createBaseVNode(`div`,null,[createBaseVNode(`p`,_hoisted_3$18,toDisplayString(item.customerName||`No Customer`),1),createBaseVNode(`p`,_hoisted_4$18,toDisplayString(item.orderNumber),1)])])]),"cell-totalAmount":withCtx(({value})=>[createBaseVNode(`span`,_hoisted_5$18,toDisplayString(formatCurrency(value)),1)]),"cell-status":withCtx(({value})=>[createVNode(unref(Badge_default),{variant:getStatusVariant(value)},{default:withCtx(()=>[createTextVNode(toDisplayString(value),1)]),_:2},1032,[`variant`])]),"cell-orderDate":withCtx(({value})=>[createBaseVNode(`span`,_hoisted_6$17,toDisplayString(formatDate(value)),1)]),form:withCtx(({item,isNew})=>[createBaseVNode(`div`,_hoisted_7$17,[createBaseVNode(`div`,_hoisted_8$17,[createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[8]||=[createTextVNode(`Order Number`,-1)]]),_:1}),createVNode(unref(Input_default),{modelValue:formData.orderNumber,"onUpdate:modelValue":_cache[0]||=$event=>formData.orderNumber=$event,placeholder:`SO-001`,class:`mt-1.5 rounded-full`,disabled:!isNew},null,8,[`modelValue`,`disabled`])]),createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[9]||=[createTextVNode(`Customer Name *`,-1)]]),_:1}),createVNode(unref(Input_default),{modelValue:formData.customerName,"onUpdate:modelValue":_cache[1]||=$event=>formData.customerName=$event,placeholder:`Customer name`,class:`mt-1.5 rounded-full`,onInput:markDirty},null,8,[`modelValue`])])]),createBaseVNode(`div`,_hoisted_9$17,[createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[10]||=[createTextVNode(`Customer Email`,-1)]]),_:1}),createVNode(unref(Input_default),{modelValue:formData.customerEmail,"onUpdate:modelValue":_cache[2]||=$event=>formData.customerEmail=$event,type:`email`,placeholder:`email@example.com`,class:`mt-1.5 rounded-full`,onInput:markDirty},null,8,[`modelValue`])]),createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[11]||=[createTextVNode(`Currency`,-1)]]),_:1}),createVNode(unref(Input_default),{modelValue:formData.currency,"onUpdate:modelValue":_cache[3]||=$event=>formData.currency=$event,placeholder:`NGN`,class:`mt-1.5 rounded-full`,onInput:markDirty},null,8,[`modelValue`])])]),createBaseVNode(`div`,_hoisted_10$17,[createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[12]||=[createTextVNode(`Order Date`,-1)]]),_:1}),createVNode(unref(Input_default),{modelValue:formData.orderDate,"onUpdate:modelValue":_cache[4]||=$event=>formData.orderDate=$event,type:`date`,class:`mt-1.5 rounded-full`,onInput:markDirty},null,8,[`modelValue`])]),createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[13]||=[createTextVNode(`Expected Delivery Date`,-1)]]),_:1}),createVNode(unref(Input_default),{modelValue:formData.expectedDate,"onUpdate:modelValue":_cache[5]||=$event=>formData.expectedDate=$event,type:`date`,class:`mt-1.5 rounded-full`,onInput:markDirty},null,8,[`modelValue`])])]),createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[14]||=[createTextVNode(`Shipping Address`,-1)]]),_:1}),createVNode(unref(Textarea_default),{modelValue:formData.shippingAddress,"onUpdate:modelValue":_cache[6]||=$event=>formData.shippingAddress=$event,placeholder:`Delivery address`,rows:`2`,class:`mt-1.5 rounded-2xl`,onInput:markDirty},null,8,[`modelValue`])]),createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[15]||=[createTextVNode(`Notes`,-1)]]),_:1}),createVNode(unref(Textarea_default),{modelValue:formData.notes,"onUpdate:modelValue":_cache[7]||=$event=>formData.notes=$event,placeholder:`Additional notes`,rows:`2`,class:`mt-1.5 rounded-2xl`,onInput:markDirty},null,8,[`modelValue`])])])]),"mobile-card":withCtx(({item})=>[createBaseVNode(`div`,_hoisted_11$17,[createBaseVNode(`div`,_hoisted_12$16,[createBaseVNode(`div`,_hoisted_13$12,toDisplayString(getInitials(item.customerName)),1),createBaseVNode(`div`,null,[createBaseVNode(`p`,_hoisted_14$10,toDisplayString(item.customerName||`No Customer`),1),createBaseVNode(`p`,_hoisted_15$10,toDisplayString(item.orderNumber),1)])]),createBaseVNode(`div`,_hoisted_16$8,[createBaseVNode(`p`,_hoisted_17$5,toDisplayString(formatCurrency(item.totalAmount)),1),createVNode(unref(Badge_default),{variant:getStatusVariant(item.status),class:`mt-1`},{default:withCtx(()=>[createTextVNode(toDisplayString(item.status),1)]),_:2},1032,[`variant`])])])]),_:1},8,[`items`,`loading`,`totalItems`,`currentPage`,`pageSize`,`canDelete`,`deleteRestriction`,`sortColumn`,`sortDirection`,`actions`]))}},BillService_default={async getBills({page=0,size=20,status=null}={}){let query={page,size};return status&&(query.status=status),API_default.get(`/org/bills`,{query,authorizeRequest:!0,organisationAware:!0})},async getBill(reference){return API_default.get(`/org/bills/${reference}`,{authorizeRequest:!0,organisationAware:!0})},async createBill(data){return API_default.post(`/org/bills`,{data,authorizeRequest:!0,organisationAware:!0})},async updateBill(reference,data){return API_default.put(`/org/bills/${reference}`,{data,authorizeRequest:!0,organisationAware:!0})},async receiveBill(reference){return API_default.post(`/org/bills/${reference}/receive`,{data:{},authorizeRequest:!0,organisationAware:!0})},async recordPayment(reference,amount){return API_default.post(`/org/bills/${reference}/pay`,{data:{amount},authorizeRequest:!0,organisationAware:!0})},async voidBill(reference){return API_default.post(`/org/bills/${reference}/void`,{data:{},authorizeRequest:!0,organisationAware:!0})},async deleteBill(reference){return API_default.delete(`/org/bills/${reference}`,{authorizeRequest:!0,organisationAware:!0})},async getStats(){return API_default.get(`/org/bills/stats`,{authorizeRequest:!0,organisationAware:!0})}},_hoisted_1$18={class:`flex items-center gap-3`},_hoisted_2$18={class:`w-8 h-8 rounded-full bg-gradient-to-br from-purple-400 to-purple-600 flex items-center justify-center text-white text-xs font-semibold`},_hoisted_3$17={class:`font-medium text-slate-800`},_hoisted_4$17={class:`text-xs text-slate-500`},_hoisted_5$17={class:`font-medium text-slate-700`},_hoisted_6$16={class:`space-y-4`},_hoisted_7$16={class:`grid grid-cols-2 gap-4`},_hoisted_8$16={class:`grid grid-cols-2 gap-4`},_hoisted_9$16={class:`grid grid-cols-2 gap-4`},_hoisted_10$16={class:`flex items-center justify-between`},_hoisted_11$16={class:`flex items-center gap-3`},_hoisted_12$15={class:`w-10 h-10 rounded-full bg-gradient-to-br from-purple-400 to-purple-600 flex items-center justify-center text-white text-sm font-semibold`},_hoisted_13$11={class:`font-medium text-slate-800`},_hoisted_14$9={class:`text-sm text-slate-500`},_hoisted_15$9={class:`text-right`},_hoisted_16$7={class:`text-sm font-medium text-slate-700`},BillListView_default={__name:`BillListView`,setup(__props){let listViewRef=ref(null),notificationStore=getNotificationStore(),loading=ref(!1),bills=ref([]),totalItems=ref(0),currentPage=ref(1),pageSize=ref(20),searchQuery=ref(``),selectedBill=ref(null),canDeleteBill=ref(!0),deleteRestriction=ref(``),isNewBill=ref(!1),sortColumn=ref(`createdAt`),sortDirection=ref(`desc`),formData=reactive({billNumber:``,vendorName:``,billDate:``,dueDate:``,totalAmount:0,currency:`NGN`,notes:``}),columns=[{key:`vendorName`,label:`Vendor`,sortable:!0},{key:`totalAmount`,label:`Amount`,align:`right`,sortable:!0},{key:`amountDue`,label:`Due`,align:`right`,sortable:!0},{key:`status`,label:`Status`,align:`center`}],itemActions=computed(()=>{if(!selectedBill.value)return[];let status=selectedBill.value.status,actions=[];return status===`DRAFT`&&actions.push({id:`receive`,label:`Mark Received`,variant:`default`}),(status===`RECEIVED`||status===`PARTIALLY_PAID`)&&actions.push({id:`pay`,label:`Record Payment`,variant:`default`}),status!==`PAID`&&status!==`VOIDED`&&actions.push({id:`void`,label:`Void Bill`,variant:`destructive`}),actions}),sortedBills=computed(()=>!bills.value||bills.value.length===0?[]:[...bills.value].sort((a,b)=>{let aVal=a[sortColumn.value],bVal=b[sortColumn.value];return aVal??=``,bVal??=``,typeof aVal==`number`&&typeof bVal==`number`?sortDirection.value===`asc`?aVal-bVal:bVal-aVal:(aVal=String(aVal).toLowerCase(),bVal=String(bVal).toLowerCase(),aVal<bVal?sortDirection.value===`asc`?-1:1:aVal>bVal?sortDirection.value===`asc`?1:-1:0)}));onMounted(()=>{loadBills()});async function loadBills(){loading.value=!0;try{let response=await BillService_default.getBills({page:currentPage.value-1,size:pageSize.value});response.content?(bills.value=response.content,totalItems.value=response.totalElements||response.content.length):Array.isArray(response)?(bills.value=response,totalItems.value=response.length):(bills.value=[],totalItems.value=0)}catch(error){console.error(`Failed to load bills:`,error),notificationStore.toast({title:`Error`,message:`Failed to load bills.`,variant:`error`}),bills.value=[]}finally{loading.value=!1}}function handleCreate(){resetForm(),selectedBill.value=null,isNewBill.value=!0}function handleSelect(bill){selectedBill.value=bill,isNewBill.value=!1,formData.billNumber=bill.billNumber||``,formData.vendorName=bill.vendorName||``,formData.billDate=bill.billDate||``,formData.dueDate=bill.dueDate||``,formData.totalAmount=bill.totalAmount||0,formData.currency=bill.currency||`NGN`,formData.notes=bill.notes||``,canDeleteBill.value=bill.status===`DRAFT`,deleteRestriction.value=bill.status===`DRAFT`?``:`Only draft bills can be deleted.`}async function handleSave(item,isNew){if(!formData.vendorName||formData.vendorName.trim()===``){notificationStore.toast({title:`Validation Error`,message:`Vendor name is required.`,variant:`warning`}),listViewRef.value?.completeSave();return}try{let billData={vendorName:formData.vendorName.trim(),billDate:formData.billDate||null,dueDate:formData.dueDate||null,totalAmount:formData.totalAmount||0,currency:formData.currency||`NGN`,notes:formData.notes?.trim()||null};isNewBill.value?(await BillService_default.createBill(billData),notificationStore.toast({title:`Success`,message:`Bill created successfully.`,variant:`success`})):(await BillService_default.updateBill(selectedBill.value.reference,billData),notificationStore.toast({title:`Success`,message:`Bill updated successfully.`,variant:`success`})),listViewRef.value?.completeSave(),await loadBills(),resetForm(),isNewBill.value=!1,selectedBill.value=null}catch(error){console.error(`Failed to save bill:`,error),notificationStore.toast({title:`Error`,message:error.message||`Failed to save bill.`,variant:`error`}),listViewRef.value?.completeSave()}}async function handleDelete(bill){try{await BillService_default.deleteBill(bill.reference),notificationStore.toast({title:`Success`,message:`Bill deleted successfully.`,variant:`success`}),await loadBills()}catch(error){console.error(`Failed to delete bill:`,error),notificationStore.toast({title:`Error`,message:error.message||`Failed to delete bill.`,variant:`error`})}}async function handleAction(action){if(selectedBill.value)try{switch(action.id){case`receive`:await BillService_default.receiveBill(selectedBill.value.reference),notificationStore.toast({title:`Success`,message:`Bill marked as received.`,variant:`success`});break;case`pay`:await BillService_default.recordPayment(selectedBill.value.reference,selectedBill.value.amountDue),notificationStore.toast({title:`Success`,message:`Payment recorded.`,variant:`success`});break;case`void`:await BillService_default.voidBill(selectedBill.value.reference),notificationStore.toast({title:`Success`,message:`Bill voided.`,variant:`success`});break}await loadBills(),listViewRef.value?.closeDetail()}catch(error){console.error(`Action failed:`,error),notificationStore.toast({title:`Error`,message:error.message||`Action failed.`,variant:`error`})}}function handleSearch(query){searchQuery.value=query,currentPage.value=1,loadBills()}function handlePageChange(page){currentPage.value=page,loadBills()}function handleSort(key){sortColumn.value===key?sortDirection.value=sortDirection.value===`asc`?`desc`:`asc`:(sortColumn.value=key,sortDirection.value=`asc`)}function resetForm(){formData.billNumber=``,formData.vendorName=``,formData.billDate=``,formData.dueDate=``,formData.totalAmount=0,formData.currency=`NGN`,formData.notes=``}function markDirty(){listViewRef.value?.setDirty(!0)}function getInitials(name){return name?name.split(` `).map(w=>w[0]).join(``).substring(0,2).toUpperCase():`?`}function formatCurrency(amount){return new Intl.NumberFormat(`en-NG`,{style:`currency`,currency:`NGN`,minimumFractionDigits:0}).format(amount||0)}function getStatusVariant(status){return{DRAFT:`secondary`,RECEIVED:`default`,PARTIALLY_PAID:`outline`,PAID:`success`,VOIDED:`destructive`,OVERDUE:`destructive`}[status]||`secondary`}return(_ctx,_cache)=>(openBlock(),createBlock(EntityListView_default,{entityName:`Bill`,entityPluralName:`Bills`,columns,items:sortedBills.value,loading:loading.value,totalItems:totalItems.value,currentPage:currentPage.value,pageSize:pageSize.value,canDelete:canDeleteBill.value,deleteRestriction:deleteRestriction.value,sortColumn:sortColumn.value,sortDirection:sortDirection.value,actions:itemActions.value,onCreate:handleCreate,onSelect:handleSelect,onSave:handleSave,onDelete:handleDelete,onSearch:handleSearch,onPageChange:handlePageChange,onSort:handleSort,onAction:handleAction,ref_key:`listViewRef`,ref:listViewRef},{"cell-vendorName":withCtx(({item})=>[createBaseVNode(`div`,_hoisted_1$18,[createBaseVNode(`div`,_hoisted_2$18,toDisplayString(getInitials(item.vendorName)),1),createBaseVNode(`div`,null,[createBaseVNode(`p`,_hoisted_3$17,toDisplayString(item.vendorName||`No Vendor`),1),createBaseVNode(`p`,_hoisted_4$17,toDisplayString(item.billNumber),1)])])]),"cell-totalAmount":withCtx(({value})=>[createBaseVNode(`span`,_hoisted_5$17,toDisplayString(formatCurrency(value)),1)]),"cell-amountDue":withCtx(({value})=>[createBaseVNode(`span`,{class:normalizeClass(value>0?`text-amber-600 font-medium`:`text-green-600`)},toDisplayString(formatCurrency(value)),3)]),"cell-status":withCtx(({value})=>[createVNode(unref(Badge_default),{variant:getStatusVariant(value)},{default:withCtx(()=>[createTextVNode(toDisplayString(value),1)]),_:2},1032,[`variant`])]),form:withCtx(({item,isNew})=>[createBaseVNode(`div`,_hoisted_6$16,[createBaseVNode(`div`,_hoisted_7$16,[createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[7]||=[createTextVNode(`Bill Number`,-1)]]),_:1}),createVNode(unref(Input_default),{modelValue:formData.billNumber,"onUpdate:modelValue":_cache[0]||=$event=>formData.billNumber=$event,placeholder:`BILL-001`,class:`mt-1.5 rounded-full`,disabled:!isNew},null,8,[`modelValue`,`disabled`])]),createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[8]||=[createTextVNode(`Vendor Name *`,-1)]]),_:1}),createVNode(unref(Input_default),{modelValue:formData.vendorName,"onUpdate:modelValue":_cache[1]||=$event=>formData.vendorName=$event,placeholder:`Vendor name`,class:`mt-1.5 rounded-full`,onInput:markDirty},null,8,[`modelValue`])])]),createBaseVNode(`div`,_hoisted_8$16,[createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[9]||=[createTextVNode(`Bill Date`,-1)]]),_:1}),createVNode(unref(Input_default),{modelValue:formData.billDate,"onUpdate:modelValue":_cache[2]||=$event=>formData.billDate=$event,type:`date`,class:`mt-1.5 rounded-full`,onInput:markDirty},null,8,[`modelValue`])]),createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[10]||=[createTextVNode(`Due Date`,-1)]]),_:1}),createVNode(unref(Input_default),{modelValue:formData.dueDate,"onUpdate:modelValue":_cache[3]||=$event=>formData.dueDate=$event,type:`date`,class:`mt-1.5 rounded-full`,onInput:markDirty},null,8,[`modelValue`])])]),createBaseVNode(`div`,_hoisted_9$16,[createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[11]||=[createTextVNode(`Amount *`,-1)]]),_:1}),createVNode(unref(Input_default),{modelValue:formData.totalAmount,"onUpdate:modelValue":_cache[4]||=$event=>formData.totalAmount=$event,modelModifiers:{number:!0},type:`number`,placeholder:`0.00`,class:`mt-1.5 rounded-full`,onInput:markDirty},null,8,[`modelValue`])]),createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[12]||=[createTextVNode(`Currency`,-1)]]),_:1}),createVNode(unref(Input_default),{modelValue:formData.currency,"onUpdate:modelValue":_cache[5]||=$event=>formData.currency=$event,placeholder:`NGN`,class:`mt-1.5 rounded-full`,onInput:markDirty},null,8,[`modelValue`])])]),createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[13]||=[createTextVNode(`Notes`,-1)]]),_:1}),createVNode(unref(Textarea_default),{modelValue:formData.notes,"onUpdate:modelValue":_cache[6]||=$event=>formData.notes=$event,placeholder:`Additional notes`,rows:`2`,class:`mt-1.5 rounded-2xl`,onInput:markDirty},null,8,[`modelValue`])])])]),"mobile-card":withCtx(({item})=>[createBaseVNode(`div`,_hoisted_10$16,[createBaseVNode(`div`,_hoisted_11$16,[createBaseVNode(`div`,_hoisted_12$15,toDisplayString(getInitials(item.vendorName)),1),createBaseVNode(`div`,null,[createBaseVNode(`p`,_hoisted_13$11,toDisplayString(item.vendorName||`No Vendor`),1),createBaseVNode(`p`,_hoisted_14$9,toDisplayString(item.billNumber),1)])]),createBaseVNode(`div`,_hoisted_15$9,[createBaseVNode(`p`,_hoisted_16$7,toDisplayString(formatCurrency(item.totalAmount)),1),createVNode(unref(Badge_default),{variant:getStatusVariant(item.status),class:`mt-1`},{default:withCtx(()=>[createTextVNode(toDisplayString(item.status),1)]),_:2},1032,[`variant`])])])]),_:1},8,[`items`,`loading`,`totalItems`,`currentPage`,`pageSize`,`canDelete`,`deleteRestriction`,`sortColumn`,`sortDirection`,`actions`]))}},ExpenseService_default={async getExpenses({page=0,size=20,category=null}={}){let query={page,size};return category&&(query.category=category),API_default.get(`/org/expenses`,{query,authorizeRequest:!0,organisationAware:!0})},async getExpense(reference){return API_default.get(`/org/expenses/${reference}`,{authorizeRequest:!0,organisationAware:!0})},async createExpense(data){return API_default.post(`/org/expenses`,{data,authorizeRequest:!0,organisationAware:!0})},async updateExpense(reference,data){return API_default.put(`/org/expenses/${reference}`,{data,authorizeRequest:!0,organisationAware:!0})},async deleteExpense(reference){return API_default.delete(`/org/expenses/${reference}`,{authorizeRequest:!0,organisationAware:!0})},async getStats(){return API_default.get(`/org/expenses/stats`,{authorizeRequest:!0,organisationAware:!0})}},_hoisted_1$17={class:`font-medium text-slate-800`},_hoisted_2$17={class:`text-xs text-slate-500`},_hoisted_3$16={class:`font-medium text-slate-700`},_hoisted_4$16={class:`text-slate-600`},_hoisted_5$16={class:`space-y-4`},_hoisted_6$15={class:`grid grid-cols-2 gap-4`},_hoisted_7$15={class:`grid grid-cols-2 gap-4`},_hoisted_8$15={class:`grid grid-cols-2 gap-4`},_hoisted_9$15={class:`flex items-center justify-between`},_hoisted_10$15={class:`font-medium text-slate-800`},_hoisted_11$15={class:`text-sm text-slate-500`},_hoisted_12$14={class:`text-right`},_hoisted_13$10={class:`text-sm font-medium text-slate-700`},ExpenseListView_default={__name:`ExpenseListView`,setup(__props){let listViewRef=ref(null),notificationStore=getNotificationStore(),loading=ref(!1),expenses=ref([]),totalItems=ref(0),currentPage=ref(1),pageSize=ref(20),searchQuery=ref(``),selectedExpense=ref(null),isNewExpense=ref(!1),sortColumn=ref(`expenseDate`),sortDirection=ref(`desc`),formData=reactive({description:``,amount:0,currency:`NGN`,expenseDate:``,category:``,paymentMethod:``,vendorName:``,notes:``}),columns=[{key:`description`,label:`Description`,sortable:!0},{key:`amount`,label:`Amount`,align:`right`,sortable:!0},{key:`paymentMethod`,label:`Method`,align:`center`},{key:`expenseDate`,label:`Date`,sortable:!0}],sortedExpenses=computed(()=>!expenses.value||expenses.value.length===0?[]:[...expenses.value].sort((a,b)=>{let aVal=a[sortColumn.value],bVal=b[sortColumn.value];return aVal??=``,bVal??=``,typeof aVal==`number`&&typeof bVal==`number`?sortDirection.value===`asc`?aVal-bVal:bVal-aVal:(aVal=String(aVal).toLowerCase(),bVal=String(bVal).toLowerCase(),aVal<bVal?sortDirection.value===`asc`?-1:1:aVal>bVal?sortDirection.value===`asc`?1:-1:0)}));onMounted(()=>{loadExpenses()});async function loadExpenses(){loading.value=!0;try{let response=await ExpenseService_default.getExpenses({page:currentPage.value-1,size:pageSize.value});response.content?(expenses.value=response.content,totalItems.value=response.totalElements||response.content.length):Array.isArray(response)?(expenses.value=response,totalItems.value=response.length):(expenses.value=[],totalItems.value=0)}catch(error){console.error(`Failed to load expenses:`,error),notificationStore.toast({title:`Error`,message:`Failed to load expenses.`,variant:`error`}),expenses.value=[]}finally{loading.value=!1}}function handleCreate(){resetForm(),selectedExpense.value=null,isNewExpense.value=!0,formData.expenseDate=new Date().toISOString().split(`T`)[0]}function handleSelect(expense){selectedExpense.value=expense,isNewExpense.value=!1,formData.description=expense.description||``,formData.amount=expense.amount||0,formData.currency=expense.currency||`NGN`,formData.expenseDate=expense.expenseDate||``,formData.category=expense.category||``,formData.paymentMethod=expense.paymentMethod||``,formData.vendorName=expense.vendorName||``,formData.notes=expense.notes||``}async function handleSave(item,isNew){if(!formData.description||formData.description.trim()===``){notificationStore.toast({title:`Validation Error`,message:`Description is required.`,variant:`warning`}),listViewRef.value?.completeSave();return}if(!formData.amount||formData.amount<=0){notificationStore.toast({title:`Validation Error`,message:`Amount must be greater than zero.`,variant:`warning`}),listViewRef.value?.completeSave();return}try{let expenseData={description:formData.description.trim(),amount:formData.amount,currency:formData.currency||`NGN`,expenseDate:formData.expenseDate||null,category:formData.category?.trim()||null,paymentMethod:formData.paymentMethod||null,vendorName:formData.vendorName?.trim()||null,notes:formData.notes?.trim()||null};isNewExpense.value?(await ExpenseService_default.createExpense(expenseData),notificationStore.toast({title:`Success`,message:`Expense recorded successfully.`,variant:`success`})):(await ExpenseService_default.updateExpense(selectedExpense.value.reference,expenseData),notificationStore.toast({title:`Success`,message:`Expense updated successfully.`,variant:`success`})),listViewRef.value?.completeSave(),await loadExpenses(),resetForm(),isNewExpense.value=!1,selectedExpense.value=null}catch(error){console.error(`Failed to save expense:`,error),notificationStore.toast({title:`Error`,message:error.message||`Failed to save expense.`,variant:`error`}),listViewRef.value?.completeSave()}}async function handleDelete(expense){try{await ExpenseService_default.deleteExpense(expense.reference),notificationStore.toast({title:`Success`,message:`Expense deleted successfully.`,variant:`success`}),await loadExpenses()}catch(error){console.error(`Failed to delete expense:`,error),notificationStore.toast({title:`Error`,message:error.message||`Failed to delete expense.`,variant:`error`})}}function handleSearch(query){searchQuery.value=query,currentPage.value=1,loadExpenses()}function handlePageChange(page){currentPage.value=page,loadExpenses()}function handleSort(key){sortColumn.value===key?sortDirection.value=sortDirection.value===`asc`?`desc`:`asc`:(sortColumn.value=key,sortDirection.value=`asc`)}function resetForm(){formData.description=``,formData.amount=0,formData.currency=`NGN`,formData.expenseDate=``,formData.category=``,formData.paymentMethod=``,formData.vendorName=``,formData.notes=``}function markDirty(){listViewRef.value?.setDirty(!0)}function formatCurrency(amount){return new Intl.NumberFormat(`en-NG`,{style:`currency`,currency:`NGN`,minimumFractionDigits:0}).format(amount||0)}function formatDate(dateStr){return dateStr?new Date(dateStr).toLocaleDateString(`en-NG`,{year:`numeric`,month:`short`,day:`numeric`}):`-`}return(_ctx,_cache)=>(openBlock(),createBlock(EntityListView_default,{entityName:`Expense`,entityPluralName:`Expenses`,columns,items:sortedExpenses.value,loading:loading.value,totalItems:totalItems.value,currentPage:currentPage.value,pageSize:pageSize.value,canDelete:!0,sortColumn:sortColumn.value,sortDirection:sortDirection.value,onCreate:handleCreate,onSelect:handleSelect,onSave:handleSave,onDelete:handleDelete,onSearch:handleSearch,onPageChange:handlePageChange,onSort:handleSort,ref_key:`listViewRef`,ref:listViewRef},{"cell-description":withCtx(({item})=>[createBaseVNode(`div`,null,[createBaseVNode(`p`,_hoisted_1$17,toDisplayString(item.description||`No Description`),1),createBaseVNode(`p`,_hoisted_2$17,toDisplayString(item.category||`Uncategorized`),1)])]),"cell-amount":withCtx(({value})=>[createBaseVNode(`span`,_hoisted_3$16,toDisplayString(formatCurrency(value)),1)]),"cell-paymentMethod":withCtx(({value})=>[createVNode(unref(Badge_default),{variant:`outline`},{default:withCtx(()=>[createTextVNode(toDisplayString(value||`Not Set`),1)]),_:2},1024)]),"cell-expenseDate":withCtx(({value})=>[createBaseVNode(`span`,_hoisted_4$16,toDisplayString(formatDate(value)),1)]),form:withCtx(({item,isNew})=>[createBaseVNode(`div`,_hoisted_5$16,[createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[8]||=[createTextVNode(`Description *`,-1)]]),_:1}),createVNode(unref(Input_default),{modelValue:formData.description,"onUpdate:modelValue":_cache[0]||=$event=>formData.description=$event,placeholder:`What was this expense for?`,class:`mt-1.5 rounded-full`,onInput:markDirty},null,8,[`modelValue`])]),createBaseVNode(`div`,_hoisted_6$15,[createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[9]||=[createTextVNode(`Amount *`,-1)]]),_:1}),createVNode(unref(Input_default),{modelValue:formData.amount,"onUpdate:modelValue":_cache[1]||=$event=>formData.amount=$event,modelModifiers:{number:!0},type:`number`,placeholder:`0.00`,class:`mt-1.5 rounded-full`,onInput:markDirty},null,8,[`modelValue`])]),createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[10]||=[createTextVNode(`Currency`,-1)]]),_:1}),createVNode(unref(Input_default),{modelValue:formData.currency,"onUpdate:modelValue":_cache[2]||=$event=>formData.currency=$event,placeholder:`NGN`,class:`mt-1.5 rounded-full`,onInput:markDirty},null,8,[`modelValue`])])]),createBaseVNode(`div`,_hoisted_7$15,[createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[11]||=[createTextVNode(`Expense Date`,-1)]]),_:1}),createVNode(unref(Input_default),{modelValue:formData.expenseDate,"onUpdate:modelValue":_cache[3]||=$event=>formData.expenseDate=$event,type:`date`,class:`mt-1.5 rounded-full`,onInput:markDirty},null,8,[`modelValue`])]),createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[12]||=[createTextVNode(`Category`,-1)]]),_:1}),createVNode(unref(Input_default),{modelValue:formData.category,"onUpdate:modelValue":_cache[4]||=$event=>formData.category=$event,placeholder:`e.g., Office Supplies`,class:`mt-1.5 rounded-full`,onInput:markDirty},null,8,[`modelValue`])])]),createBaseVNode(`div`,_hoisted_8$15,[createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[13]||=[createTextVNode(`Payment Method`,-1)]]),_:1}),withDirectives(createBaseVNode(`select`,{"onUpdate:modelValue":_cache[5]||=$event=>formData.paymentMethod=$event,class:`w-full mt-1.5 rounded-full border border-slate-200 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-slate-400`,onChange:markDirty},[..._cache[14]||=[createBaseVNode(`option`,{value:``},`Select method`,-1),createBaseVNode(`option`,{value:`CASH`},`Cash`,-1),createBaseVNode(`option`,{value:`BANK_TRANSFER`},`Bank Transfer`,-1),createBaseVNode(`option`,{value:`CARD`},`Card`,-1),createBaseVNode(`option`,{value:`CHEQUE`},`Cheque`,-1)]],544),[[vModelSelect,formData.paymentMethod]])]),createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[15]||=[createTextVNode(`Vendor`,-1)]]),_:1}),createVNode(unref(Input_default),{modelValue:formData.vendorName,"onUpdate:modelValue":_cache[6]||=$event=>formData.vendorName=$event,placeholder:`Vendor name`,class:`mt-1.5 rounded-full`,onInput:markDirty},null,8,[`modelValue`])])]),createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[16]||=[createTextVNode(`Notes`,-1)]]),_:1}),createVNode(unref(Textarea_default),{modelValue:formData.notes,"onUpdate:modelValue":_cache[7]||=$event=>formData.notes=$event,placeholder:`Additional notes`,rows:`2`,class:`mt-1.5 rounded-2xl`,onInput:markDirty},null,8,[`modelValue`])])])]),"mobile-card":withCtx(({item})=>[createBaseVNode(`div`,_hoisted_9$15,[createBaseVNode(`div`,null,[createBaseVNode(`p`,_hoisted_10$15,toDisplayString(item.description||`No Description`),1),createBaseVNode(`p`,_hoisted_11$15,toDisplayString(item.category)+`  `+toDisplayString(formatDate(item.expenseDate)),1)]),createBaseVNode(`div`,_hoisted_12$14,[createBaseVNode(`p`,_hoisted_13$10,toDisplayString(formatCurrency(item.amount)),1)])])]),_:1},8,[`items`,`loading`,`totalItems`,`currentPage`,`pageSize`,`sortColumn`,`sortDirection`]))}},PurchaseOrderService_default={async getPurchaseOrders({page=0,size=20,status=null}={}){let query={page,size};return status&&(query.status=status),API_default.get(`/org/purchase-orders`,{query,authorizeRequest:!0,organisationAware:!0})},async getPurchaseOrder(reference){return API_default.get(`/org/purchase-orders/${reference}`,{authorizeRequest:!0,organisationAware:!0})},async createPurchaseOrder(data){return API_default.post(`/org/purchase-orders`,{data,authorizeRequest:!0,organisationAware:!0})},async updatePurchaseOrder(reference,data){return API_default.put(`/org/purchase-orders/${reference}`,{data,authorizeRequest:!0,organisationAware:!0})},async sendToVendor(reference){return API_default.post(`/org/purchase-orders/${reference}/send`,{data:{},authorizeRequest:!0,organisationAware:!0})},async confirmOrder(reference){return API_default.post(`/org/purchase-orders/${reference}/confirm`,{data:{},authorizeRequest:!0,organisationAware:!0})},async markPartiallyReceived(reference){return API_default.post(`/org/purchase-orders/${reference}/partial-receive`,{data:{},authorizeRequest:!0,organisationAware:!0})},async markReceived(reference){return API_default.post(`/org/purchase-orders/${reference}/receive`,{data:{},authorizeRequest:!0,organisationAware:!0})},async cancelOrder(reference){return API_default.post(`/org/purchase-orders/${reference}/cancel`,{data:{},authorizeRequest:!0,organisationAware:!0})},async deletePurchaseOrder(reference){return API_default.delete(`/org/purchase-orders/${reference}`,{authorizeRequest:!0,organisationAware:!0})},async getStats(){return API_default.get(`/org/purchase-orders/stats`,{authorizeRequest:!0,organisationAware:!0})}},_hoisted_1$16={class:`flex items-center gap-3`},_hoisted_2$16={class:`w-8 h-8 rounded-full bg-gradient-to-br from-indigo-400 to-indigo-600 flex items-center justify-center text-white text-xs font-semibold`},_hoisted_3$15={class:`font-medium text-slate-800`},_hoisted_4$15={class:`text-xs text-slate-500`},_hoisted_5$15={class:`font-medium text-slate-700`},_hoisted_6$14={class:`text-slate-600`},_hoisted_7$14={class:`space-y-4`},_hoisted_8$14={class:`grid grid-cols-2 gap-4`},_hoisted_9$14={class:`grid grid-cols-2 gap-4`},_hoisted_10$14={class:`grid grid-cols-2 gap-4`},_hoisted_11$14={class:`flex items-center justify-between`},_hoisted_12$13={class:`flex items-center gap-3`},_hoisted_13$9={class:`w-10 h-10 rounded-full bg-gradient-to-br from-indigo-400 to-indigo-600 flex items-center justify-center text-white text-sm font-semibold`},_hoisted_14$8={class:`font-medium text-slate-800`},_hoisted_15$8={class:`text-sm text-slate-500`},_hoisted_16$6={class:`text-right`},_hoisted_17$4={class:`text-sm font-medium text-slate-700`},PurchaseOrderListView_default={__name:`PurchaseOrderListView`,setup(__props){let listViewRef=ref(null),notificationStore=getNotificationStore(),loading=ref(!1),orders=ref([]),totalItems=ref(0),currentPage=ref(1),pageSize=ref(20),searchQuery=ref(``),selectedOrder=ref(null),canDeleteOrder=ref(!0),deleteRestriction=ref(``),isNewOrder=ref(!1),sortColumn=ref(`createdAt`),sortDirection=ref(`desc`),formData=reactive({poNumber:``,vendorName:``,orderDate:``,expectedDate:``,deliveryAddress:``,currency:`NGN`,discountAmount:0,notes:``}),columns=[{key:`vendorName`,label:`Vendor`,sortable:!0},{key:`totalAmount`,label:`Amount`,align:`right`,sortable:!0},{key:`status`,label:`Status`,align:`center`},{key:`orderDate`,label:`Order Date`,sortable:!0}],itemActions=computed(()=>{if(!selectedOrder.value)return[];let status=selectedOrder.value.status,actions=[];return status===`DRAFT`&&actions.push({id:`send`,label:`Send to Vendor`,variant:`default`}),status!==`RECEIVED`&&status!==`CANCELLED`&&actions.push({id:`cancel`,label:`Cancel Order`,variant:`destructive`}),status===`SENT`&&actions.push({id:`receive`,label:`Mark Received`,variant:`secondary`}),actions}),sortedOrders=computed(()=>!orders.value||orders.value.length===0?[]:[...orders.value].sort((a,b)=>{let aVal=a[sortColumn.value],bVal=b[sortColumn.value];return aVal??=``,bVal??=``,typeof aVal==`number`&&typeof bVal==`number`?sortDirection.value===`asc`?aVal-bVal:bVal-aVal:(aVal=String(aVal).toLowerCase(),bVal=String(bVal).toLowerCase(),aVal<bVal?sortDirection.value===`asc`?-1:1:aVal>bVal?sortDirection.value===`asc`?1:-1:0)}));onMounted(()=>{loadOrders()});async function loadOrders(){loading.value=!0;try{let response=await PurchaseOrderService_default.getPurchaseOrders({page:currentPage.value-1,size:pageSize.value});response.content?(orders.value=response.content,totalItems.value=response.totalElements||response.content.length):Array.isArray(response)?(orders.value=response,totalItems.value=response.length):(orders.value=[],totalItems.value=0)}catch(error){console.error(`Failed to load purchase orders:`,error),notificationStore.toast({title:`Error`,message:`Failed to load purchase orders.`,variant:`error`}),orders.value=[]}finally{loading.value=!1}}function handleCreate(){resetForm(),selectedOrder.value=null,isNewOrder.value=!0,formData.orderDate=new Date().toISOString().split(`T`)[0]}function handleSelect(order){selectedOrder.value=order,isNewOrder.value=!1,formData.poNumber=order.poNumber||``,formData.vendorName=order.vendorName||``,formData.orderDate=order.orderDate||``,formData.expectedDate=order.expectedDate||``,formData.deliveryAddress=order.deliveryAddress||``,formData.currency=order.currency||`NGN`,formData.discountAmount=order.discountAmount||0,formData.notes=order.notes||``,canDeleteOrder.value=order.status===`DRAFT`,deleteRestriction.value=order.status===`DRAFT`?``:`Only draft orders can be deleted.`}async function handleSave(item,isNew){if(!formData.vendorName||formData.vendorName.trim()===``){notificationStore.toast({title:`Validation Error`,message:`Vendor name is required.`,variant:`warning`}),listViewRef.value?.completeSave();return}try{let orderData={vendorName:formData.vendorName.trim(),orderDate:formData.orderDate||null,expectedDate:formData.expectedDate||null,deliveryAddress:formData.deliveryAddress?.trim()||null,currency:formData.currency||`NGN`,discountAmount:formData.discountAmount||0,notes:formData.notes?.trim()||null};isNewOrder.value?(await PurchaseOrderService_default.createPurchaseOrder(orderData),notificationStore.toast({title:`Success`,message:`Purchase order created successfully.`,variant:`success`})):(await PurchaseOrderService_default.updatePurchaseOrder(selectedOrder.value.reference,orderData),notificationStore.toast({title:`Success`,message:`Purchase order updated successfully.`,variant:`success`})),listViewRef.value?.completeSave(),await loadOrders(),resetForm(),isNewOrder.value=!1,selectedOrder.value=null}catch(error){console.error(`Failed to save purchase order:`,error),notificationStore.toast({title:`Error`,message:error.message||`Failed to save purchase order.`,variant:`error`}),listViewRef.value?.completeSave()}}async function handleDelete(order){try{await PurchaseOrderService_default.deletePurchaseOrder(order.reference),notificationStore.toast({title:`Success`,message:`Purchase order deleted successfully.`,variant:`success`}),await loadOrders()}catch(error){console.error(`Failed to delete purchase order:`,error),notificationStore.toast({title:`Error`,message:error.message||`Failed to delete purchase order.`,variant:`error`})}}async function handleAction(action){if(selectedOrder.value)try{switch(action.id){case`send`:await PurchaseOrderService_default.sendOrder(selectedOrder.value.reference),notificationStore.toast({title:`Success`,message:`Order sent to vendor.`,variant:`success`});break;case`cancel`:await PurchaseOrderService_default.cancelOrder(selectedOrder.value.reference),notificationStore.toast({title:`Success`,message:`Order cancelled.`,variant:`success`});break;case`receive`:await PurchaseOrderService_default.receiveOrder(selectedOrder.value.reference),notificationStore.toast({title:`Success`,message:`Order marked as received.`,variant:`success`});break}await loadOrders(),listViewRef.value?.closeDetail()}catch(error){console.error(`Action failed:`,error),notificationStore.toast({title:`Error`,message:error.message||`Action failed.`,variant:`error`})}}function handleSearch(query){searchQuery.value=query,currentPage.value=1,loadOrders()}function handlePageChange(page){currentPage.value=page,loadOrders()}function handleSort(key){sortColumn.value===key?sortDirection.value=sortDirection.value===`asc`?`desc`:`asc`:(sortColumn.value=key,sortDirection.value=`asc`)}function resetForm(){formData.poNumber=``,formData.vendorName=``,formData.orderDate=``,formData.expectedDate=``,formData.deliveryAddress=``,formData.currency=`NGN`,formData.discountAmount=0,formData.notes=``}function markDirty(){listViewRef.value?.setDirty(!0)}function getInitials(name){return name?name.split(` `).map(w=>w[0]).join(``).substring(0,2).toUpperCase():`?`}function formatCurrency(amount){return new Intl.NumberFormat(`en-NG`,{style:`currency`,currency:`NGN`,minimumFractionDigits:0}).format(amount||0)}function formatDate(dateStr){return dateStr?new Date(dateStr).toLocaleDateString(`en-NG`,{year:`numeric`,month:`short`,day:`numeric`}):`-`}function getStatusVariant(status){return{DRAFT:`secondary`,SENT:`default`,RECEIVED:`success`,CANCELLED:`destructive`,PARTIALLY_RECEIVED:`outline`}[status]||`secondary`}return(_ctx,_cache)=>(openBlock(),createBlock(EntityListView_default,{entityName:`Purchase Order`,entityPluralName:`Purchase Orders`,columns,items:sortedOrders.value,loading:loading.value,totalItems:totalItems.value,currentPage:currentPage.value,pageSize:pageSize.value,canDelete:canDeleteOrder.value,deleteRestriction:deleteRestriction.value,sortColumn:sortColumn.value,sortDirection:sortDirection.value,actions:itemActions.value,onCreate:handleCreate,onSelect:handleSelect,onSave:handleSave,onDelete:handleDelete,onSearch:handleSearch,onPageChange:handlePageChange,onSort:handleSort,onAction:handleAction,ref_key:`listViewRef`,ref:listViewRef},{"cell-vendorName":withCtx(({item})=>[createBaseVNode(`div`,_hoisted_1$16,[createBaseVNode(`div`,_hoisted_2$16,toDisplayString(getInitials(item.vendorName)),1),createBaseVNode(`div`,null,[createBaseVNode(`p`,_hoisted_3$15,toDisplayString(item.vendorName||`No Vendor`),1),createBaseVNode(`p`,_hoisted_4$15,toDisplayString(item.poNumber),1)])])]),"cell-totalAmount":withCtx(({value})=>[createBaseVNode(`span`,_hoisted_5$15,toDisplayString(formatCurrency(value)),1)]),"cell-status":withCtx(({value})=>[createVNode(unref(Badge_default),{variant:getStatusVariant(value)},{default:withCtx(()=>[createTextVNode(toDisplayString(value),1)]),_:2},1032,[`variant`])]),"cell-orderDate":withCtx(({value})=>[createBaseVNode(`span`,_hoisted_6$14,toDisplayString(formatDate(value)),1)]),form:withCtx(({item,isNew})=>[createBaseVNode(`div`,_hoisted_7$14,[createBaseVNode(`div`,_hoisted_8$14,[createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[8]||=[createTextVNode(`PO Number`,-1)]]),_:1}),createVNode(unref(Input_default),{modelValue:formData.poNumber,"onUpdate:modelValue":_cache[0]||=$event=>formData.poNumber=$event,placeholder:`PO-001`,class:`mt-1.5 rounded-full`,disabled:!isNew},null,8,[`modelValue`,`disabled`])]),createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[9]||=[createTextVNode(`Vendor Name *`,-1)]]),_:1}),createVNode(unref(Input_default),{modelValue:formData.vendorName,"onUpdate:modelValue":_cache[1]||=$event=>formData.vendorName=$event,placeholder:`Vendor name`,class:`mt-1.5 rounded-full`,onInput:markDirty},null,8,[`modelValue`])])]),createBaseVNode(`div`,_hoisted_9$14,[createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[10]||=[createTextVNode(`Order Date`,-1)]]),_:1}),createVNode(unref(Input_default),{modelValue:formData.orderDate,"onUpdate:modelValue":_cache[2]||=$event=>formData.orderDate=$event,type:`date`,class:`mt-1.5 rounded-full`,onInput:markDirty},null,8,[`modelValue`])]),createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[11]||=[createTextVNode(`Expected Delivery`,-1)]]),_:1}),createVNode(unref(Input_default),{modelValue:formData.expectedDate,"onUpdate:modelValue":_cache[3]||=$event=>formData.expectedDate=$event,type:`date`,class:`mt-1.5 rounded-full`,onInput:markDirty},null,8,[`modelValue`])])]),createBaseVNode(`div`,_hoisted_10$14,[createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[12]||=[createTextVNode(`Currency`,-1)]]),_:1}),createVNode(unref(Input_default),{modelValue:formData.currency,"onUpdate:modelValue":_cache[4]||=$event=>formData.currency=$event,placeholder:`NGN`,class:`mt-1.5 rounded-full`,onInput:markDirty},null,8,[`modelValue`])]),createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[13]||=[createTextVNode(`Discount Amount`,-1)]]),_:1}),createVNode(unref(Input_default),{modelValue:formData.discountAmount,"onUpdate:modelValue":_cache[5]||=$event=>formData.discountAmount=$event,modelModifiers:{number:!0},type:`number`,placeholder:`0.00`,class:`mt-1.5 rounded-full`,onInput:markDirty},null,8,[`modelValue`])])]),createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[14]||=[createTextVNode(`Delivery Address`,-1)]]),_:1}),createVNode(unref(Textarea_default),{modelValue:formData.deliveryAddress,"onUpdate:modelValue":_cache[6]||=$event=>formData.deliveryAddress=$event,placeholder:`Delivery address`,rows:`2`,class:`mt-1.5 rounded-2xl`,onInput:markDirty},null,8,[`modelValue`])]),createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[15]||=[createTextVNode(`Notes`,-1)]]),_:1}),createVNode(unref(Textarea_default),{modelValue:formData.notes,"onUpdate:modelValue":_cache[7]||=$event=>formData.notes=$event,placeholder:`Additional notes`,rows:`2`,class:`mt-1.5 rounded-2xl`,onInput:markDirty},null,8,[`modelValue`])])])]),"mobile-card":withCtx(({item})=>[createBaseVNode(`div`,_hoisted_11$14,[createBaseVNode(`div`,_hoisted_12$13,[createBaseVNode(`div`,_hoisted_13$9,toDisplayString(getInitials(item.vendorName)),1),createBaseVNode(`div`,null,[createBaseVNode(`p`,_hoisted_14$8,toDisplayString(item.vendorName||`No Vendor`),1),createBaseVNode(`p`,_hoisted_15$8,toDisplayString(item.poNumber),1)])]),createBaseVNode(`div`,_hoisted_16$6,[createBaseVNode(`p`,_hoisted_17$4,toDisplayString(formatCurrency(item.totalAmount)),1),createVNode(unref(Badge_default),{variant:getStatusVariant(item.status),class:`mt-1`},{default:withCtx(()=>[createTextVNode(toDisplayString(item.status),1)]),_:2},1032,[`variant`])])])]),_:1},8,[`items`,`loading`,`totalItems`,`currentPage`,`pageSize`,`canDelete`,`deleteRestriction`,`sortColumn`,`sortDirection`,`actions`]))}},CustomerPaymentService_default={async getPayments({page=0,size=20}={}){return API_default.get(`/org/customer-payments`,{query:{page,size},authorizeRequest:!0,organisationAware:!0})},async getPayment(reference){return API_default.get(`/org/customer-payments/${reference}`,{authorizeRequest:!0,organisationAware:!0})},async createPayment(data){return API_default.post(`/org/customer-payments`,{data,authorizeRequest:!0,organisationAware:!0})},async updatePayment(reference,data){return API_default.put(`/org/customer-payments/${reference}`,{data,authorizeRequest:!0,organisationAware:!0})},async deletePayment(reference){return API_default.delete(`/org/customer-payments/${reference}`,{authorizeRequest:!0,organisationAware:!0})},async getStats(){return API_default.get(`/org/customer-payments/stats`,{authorizeRequest:!0,organisationAware:!0})}},_hoisted_1$15={class:`flex items-center gap-3`},_hoisted_2$15={class:`w-8 h-8 rounded-full bg-gradient-to-br from-green-400 to-green-600 flex items-center justify-center text-white text-xs font-semibold`},_hoisted_3$14={class:`font-medium text-slate-800`},_hoisted_4$14={class:`text-xs text-slate-500`},_hoisted_5$14={class:`font-medium text-green-600`},_hoisted_6$13={class:`text-slate-600`},_hoisted_7$13={class:`space-y-4`},_hoisted_8$13={class:`grid grid-cols-2 gap-4`},_hoisted_9$13={class:`grid grid-cols-2 gap-4`},_hoisted_10$13={class:`grid grid-cols-2 gap-4`},_hoisted_11$13={class:`flex items-center justify-between`},_hoisted_12$12={class:`flex items-center gap-3`},_hoisted_13$8={class:`w-10 h-10 rounded-full bg-gradient-to-br from-green-400 to-green-600 flex items-center justify-center text-white text-sm font-semibold`},_hoisted_14$7={class:`font-medium text-slate-800`},_hoisted_15$7={class:`text-sm text-slate-500`},_hoisted_16$5={class:`text-right`},_hoisted_17$3={class:`text-sm font-medium text-green-600`},CustomerPaymentListView_default={__name:`CustomerPaymentListView`,setup(__props){let listViewRef=ref(null),notificationStore=getNotificationStore(),loading=ref(!1),payments=ref([]),totalItems=ref(0),currentPage=ref(1),pageSize=ref(20),searchQuery=ref(``),selectedPayment=ref(null),canDeletePayment=ref(!0),deleteRestriction=ref(``),isNewPayment=ref(!1),sortColumn=ref(`paymentDate`),sortDirection=ref(`desc`),formData=reactive({paymentNumber:``,customerName:``,amount:0,currency:`NGN`,paymentDate:``,paymentMethod:``,transactionReference:``,notes:``}),columns=[{key:`customerName`,label:`Customer`,sortable:!0},{key:`amount`,label:`Amount`,align:`right`,sortable:!0},{key:`paymentMethod`,label:`Method`,align:`center`},{key:`paymentDate`,label:`Date`,sortable:!0}],sortedPayments=computed(()=>!payments.value||payments.value.length===0?[]:[...payments.value].sort((a,b)=>{let aVal=a[sortColumn.value],bVal=b[sortColumn.value];return aVal??=``,bVal??=``,typeof aVal==`number`&&typeof bVal==`number`?sortDirection.value===`asc`?aVal-bVal:bVal-aVal:(aVal=String(aVal).toLowerCase(),bVal=String(bVal).toLowerCase(),aVal<bVal?sortDirection.value===`asc`?-1:1:aVal>bVal?sortDirection.value===`asc`?1:-1:0)}));onMounted(()=>{loadPayments()});async function loadPayments(){loading.value=!0;try{let response=await CustomerPaymentService_default.getPayments({page:currentPage.value-1,size:pageSize.value});response.content?(payments.value=response.content,totalItems.value=response.totalElements||response.content.length):Array.isArray(response)?(payments.value=response,totalItems.value=response.length):(payments.value=[],totalItems.value=0)}catch(error){console.error(`Failed to load payments:`,error),notificationStore.toast({title:`Error`,message:`Failed to load payments.`,variant:`error`}),payments.value=[]}finally{loading.value=!1}}function handleCreate(){resetForm(),selectedPayment.value=null,isNewPayment.value=!0,formData.paymentDate=new Date().toISOString().split(`T`)[0]}function handleSelect(payment){selectedPayment.value=payment,isNewPayment.value=!1,formData.paymentNumber=payment.paymentNumber||``,formData.customerName=payment.customerName||``,formData.amount=payment.amount||0,formData.currency=payment.currency||`NGN`,formData.paymentDate=payment.paymentDate||``,formData.paymentMethod=payment.paymentMethod||``,formData.transactionReference=payment.transactionReference||``,formData.notes=payment.notes||``,canDeletePayment.value=!1,deleteRestriction.value=`Recorded payments cannot be deleted. Void or reverse instead.`}async function handleSave(item,isNew){if(!formData.customerName||formData.customerName.trim()===``){notificationStore.toast({title:`Validation Error`,message:`Customer name is required.`,variant:`warning`}),listViewRef.value?.completeSave();return}if(!formData.amount||formData.amount<=0){notificationStore.toast({title:`Validation Error`,message:`Amount must be greater than zero.`,variant:`warning`}),listViewRef.value?.completeSave();return}try{let paymentData={customerName:formData.customerName.trim(),amount:formData.amount,currency:formData.currency||`NGN`,paymentDate:formData.paymentDate||null,paymentMethod:formData.paymentMethod||null,transactionReference:formData.transactionReference?.trim()||null,notes:formData.notes?.trim()||null};isNewPayment.value?(await CustomerPaymentService_default.createPayment(paymentData),notificationStore.toast({title:`Success`,message:`Payment recorded successfully.`,variant:`success`})):(await CustomerPaymentService_default.updatePayment(selectedPayment.value.reference,paymentData),notificationStore.toast({title:`Success`,message:`Payment updated successfully.`,variant:`success`})),listViewRef.value?.completeSave(),await loadPayments(),resetForm(),isNewPayment.value=!1,selectedPayment.value=null}catch(error){console.error(`Failed to save payment:`,error),notificationStore.toast({title:`Error`,message:error.message||`Failed to save payment.`,variant:`error`}),listViewRef.value?.completeSave()}}async function handleDelete(payment){try{await CustomerPaymentService_default.deletePayment(payment.reference),notificationStore.toast({title:`Success`,message:`Payment deleted successfully.`,variant:`success`}),await loadPayments()}catch(error){console.error(`Failed to delete payment:`,error),notificationStore.toast({title:`Error`,message:error.message||`Failed to delete payment.`,variant:`error`})}}function handleSearch(query){searchQuery.value=query,currentPage.value=1,loadPayments()}function handlePageChange(page){currentPage.value=page,loadPayments()}function handleSort(key){sortColumn.value===key?sortDirection.value=sortDirection.value===`asc`?`desc`:`asc`:(sortColumn.value=key,sortDirection.value=`asc`)}function resetForm(){formData.paymentNumber=``,formData.customerName=``,formData.amount=0,formData.currency=`NGN`,formData.paymentDate=``,formData.paymentMethod=``,formData.transactionReference=``,formData.notes=``}function markDirty(){listViewRef.value?.setDirty(!0)}function getInitials(name){return name?name.split(` `).map(w=>w[0]).join(``).substring(0,2).toUpperCase():`?`}function formatCurrency(amount){return new Intl.NumberFormat(`en-NG`,{style:`currency`,currency:`NGN`,minimumFractionDigits:0}).format(amount||0)}function formatDate(dateStr){return dateStr?new Date(dateStr).toLocaleDateString(`en-NG`,{year:`numeric`,month:`short`,day:`numeric`}):`-`}return(_ctx,_cache)=>(openBlock(),createBlock(EntityListView_default,{entityName:`Customer Payment`,entityPluralName:`Customer Payments`,columns,items:sortedPayments.value,loading:loading.value,totalItems:totalItems.value,currentPage:currentPage.value,pageSize:pageSize.value,canDelete:canDeletePayment.value,deleteRestriction:deleteRestriction.value,sortColumn:sortColumn.value,sortDirection:sortDirection.value,onCreate:handleCreate,onSelect:handleSelect,onSave:handleSave,onDelete:handleDelete,onSearch:handleSearch,onPageChange:handlePageChange,onSort:handleSort,ref_key:`listViewRef`,ref:listViewRef},{"cell-customerName":withCtx(({item})=>[createBaseVNode(`div`,_hoisted_1$15,[createBaseVNode(`div`,_hoisted_2$15,toDisplayString(getInitials(item.customerName)),1),createBaseVNode(`div`,null,[createBaseVNode(`p`,_hoisted_3$14,toDisplayString(item.customerName||`No Customer`),1),createBaseVNode(`p`,_hoisted_4$14,toDisplayString(item.paymentNumber),1)])])]),"cell-amount":withCtx(({value})=>[createBaseVNode(`span`,_hoisted_5$14,toDisplayString(formatCurrency(value)),1)]),"cell-paymentMethod":withCtx(({value})=>[createVNode(unref(Badge_default),{variant:`outline`},{default:withCtx(()=>[createTextVNode(toDisplayString(value||`Not Set`),1)]),_:2},1024)]),"cell-paymentDate":withCtx(({value})=>[createBaseVNode(`span`,_hoisted_6$13,toDisplayString(formatDate(value)),1)]),form:withCtx(({item,isNew})=>[createBaseVNode(`div`,_hoisted_7$13,[createBaseVNode(`div`,_hoisted_8$13,[createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[8]||=[createTextVNode(`Payment Number`,-1)]]),_:1}),createVNode(unref(Input_default),{modelValue:formData.paymentNumber,"onUpdate:modelValue":_cache[0]||=$event=>formData.paymentNumber=$event,placeholder:`PAY-001`,class:`mt-1.5 rounded-full`,disabled:!isNew},null,8,[`modelValue`,`disabled`])]),createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[9]||=[createTextVNode(`Customer Name *`,-1)]]),_:1}),createVNode(unref(Input_default),{modelValue:formData.customerName,"onUpdate:modelValue":_cache[1]||=$event=>formData.customerName=$event,placeholder:`Customer name`,class:`mt-1.5 rounded-full`,onInput:markDirty},null,8,[`modelValue`])])]),createBaseVNode(`div`,_hoisted_9$13,[createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[10]||=[createTextVNode(`Amount *`,-1)]]),_:1}),createVNode(unref(Input_default),{modelValue:formData.amount,"onUpdate:modelValue":_cache[2]||=$event=>formData.amount=$event,modelModifiers:{number:!0},type:`number`,placeholder:`0.00`,class:`mt-1.5 rounded-full`,onInput:markDirty},null,8,[`modelValue`])]),createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[11]||=[createTextVNode(`Currency`,-1)]]),_:1}),createVNode(unref(Input_default),{modelValue:formData.currency,"onUpdate:modelValue":_cache[3]||=$event=>formData.currency=$event,placeholder:`NGN`,class:`mt-1.5 rounded-full`,onInput:markDirty},null,8,[`modelValue`])])]),createBaseVNode(`div`,_hoisted_10$13,[createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[12]||=[createTextVNode(`Payment Date`,-1)]]),_:1}),createVNode(unref(Input_default),{modelValue:formData.paymentDate,"onUpdate:modelValue":_cache[4]||=$event=>formData.paymentDate=$event,type:`date`,class:`mt-1.5 rounded-full`,onInput:markDirty},null,8,[`modelValue`])]),createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[13]||=[createTextVNode(`Payment Method`,-1)]]),_:1}),withDirectives(createBaseVNode(`select`,{"onUpdate:modelValue":_cache[5]||=$event=>formData.paymentMethod=$event,class:`w-full mt-1.5 rounded-full border border-slate-200 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-slate-400`,onChange:markDirty},[..._cache[14]||=[createBaseVNode(`option`,{value:``},`Select method`,-1),createBaseVNode(`option`,{value:`CASH`},`Cash`,-1),createBaseVNode(`option`,{value:`BANK_TRANSFER`},`Bank Transfer`,-1),createBaseVNode(`option`,{value:`CARD`},`Card`,-1),createBaseVNode(`option`,{value:`CHEQUE`},`Cheque`,-1)]],544),[[vModelSelect,formData.paymentMethod]])])]),createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[15]||=[createTextVNode(`Transaction Reference`,-1)]]),_:1}),createVNode(unref(Input_default),{modelValue:formData.transactionReference,"onUpdate:modelValue":_cache[6]||=$event=>formData.transactionReference=$event,placeholder:`Transaction ID`,class:`mt-1.5 rounded-full`,onInput:markDirty},null,8,[`modelValue`])]),createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[16]||=[createTextVNode(`Notes`,-1)]]),_:1}),createVNode(unref(Textarea_default),{modelValue:formData.notes,"onUpdate:modelValue":_cache[7]||=$event=>formData.notes=$event,placeholder:`Additional notes`,rows:`2`,class:`mt-1.5 rounded-2xl`,onInput:markDirty},null,8,[`modelValue`])])])]),"mobile-card":withCtx(({item})=>[createBaseVNode(`div`,_hoisted_11$13,[createBaseVNode(`div`,_hoisted_12$12,[createBaseVNode(`div`,_hoisted_13$8,toDisplayString(getInitials(item.customerName)),1),createBaseVNode(`div`,null,[createBaseVNode(`p`,_hoisted_14$7,toDisplayString(item.customerName||`No Customer`),1),createBaseVNode(`p`,_hoisted_15$7,toDisplayString(formatDate(item.paymentDate)),1)])]),createBaseVNode(`div`,_hoisted_16$5,[createBaseVNode(`p`,_hoisted_17$3,toDisplayString(formatCurrency(item.amount)),1)])])]),_:1},8,[`items`,`loading`,`totalItems`,`currentPage`,`pageSize`,`canDelete`,`deleteRestriction`,`sortColumn`,`sortDirection`]))}},CreditNoteService_default={async getCreditNotes({page=0,size=20,status=null}={}){let query={page,size};return status&&(query.status=status),API_default.get(`/org/credit-notes`,{query,authorizeRequest:!0,organisationAware:!0})},async getCreditNote(reference){return API_default.get(`/org/credit-notes/${reference}`,{authorizeRequest:!0,organisationAware:!0})},async createCreditNote(data){return API_default.post(`/org/credit-notes`,{data,authorizeRequest:!0,organisationAware:!0})},async updateCreditNote(reference,data){return API_default.put(`/org/credit-notes/${reference}`,{data,authorizeRequest:!0,organisationAware:!0})},async issueCreditNote(reference){return API_default.post(`/org/credit-notes/${reference}/issue`,{data:{},authorizeRequest:!0,organisationAware:!0})},async applyToInvoice(reference,invoiceReference,amount){return API_default.post(`/org/credit-notes/${reference}/apply`,{data:{invoiceReference,amount},authorizeRequest:!0,organisationAware:!0})},async voidCreditNote(reference){return API_default.post(`/org/credit-notes/${reference}/void`,{data:{},authorizeRequest:!0,organisationAware:!0})},async deleteCreditNote(reference){return API_default.delete(`/org/credit-notes/${reference}`,{authorizeRequest:!0,organisationAware:!0})}},_hoisted_1$14={class:`flex items-center gap-3`},_hoisted_2$14={class:`w-8 h-8 rounded-full bg-gradient-to-br from-amber-400 to-amber-600 flex items-center justify-center text-white text-xs font-semibold`},_hoisted_3$13={class:`font-medium text-slate-800`},_hoisted_4$13={class:`text-xs text-slate-500`},_hoisted_5$13={class:`font-medium text-slate-700`},_hoisted_6$12={class:`space-y-4`},_hoisted_7$12={class:`grid grid-cols-2 gap-4`},_hoisted_8$12={class:`grid grid-cols-2 gap-4`},_hoisted_9$12={class:`flex items-center justify-between`},_hoisted_10$12={class:`flex items-center gap-3`},_hoisted_11$12={class:`w-10 h-10 rounded-full bg-gradient-to-br from-amber-400 to-amber-600 flex items-center justify-center text-white text-sm font-semibold`},_hoisted_12$11={class:`font-medium text-slate-800`},_hoisted_13$7={class:`text-sm text-slate-500`},_hoisted_14$6={class:`text-right`},_hoisted_15$6={class:`text-sm font-medium text-slate-700`},CreditNoteListView_default={__name:`CreditNoteListView`,setup(__props){let listViewRef=ref(null),notificationStore=getNotificationStore(),loading=ref(!1),creditNotes=ref([]),totalItems=ref(0),currentPage=ref(1),pageSize=ref(20),searchQuery=ref(``),selectedCreditNote=ref(null),canDeleteCreditNote=ref(!0),deleteRestriction=ref(``),isNewCreditNote=ref(!1),sortColumn=ref(`createdAt`),sortDirection=ref(`desc`),formData=reactive({creditNoteNumber:``,customerName:``,amount:0,issueDate:``,reason:``,notes:``}),columns=[{key:`customerName`,label:`Customer`,sortable:!0},{key:`amount`,label:`Amount`,align:`right`,sortable:!0},{key:`amountRemaining`,label:`Remaining`,align:`right`,sortable:!0},{key:`status`,label:`Status`,align:`center`}],itemActions=computed(()=>{if(!selectedCreditNote.value)return[];let status=selectedCreditNote.value.status,actions=[];return status===`ISSUED`&&selectedCreditNote.value.amountRemaining>0&&actions.push({id:`apply`,label:`Apply to Invoice`,variant:`default`}),status!==`VOIDED`&&status!==`FULLY_APPLIED`&&actions.push({id:`void`,label:`Void`,variant:`destructive`}),actions}),sortedCreditNotes=computed(()=>!creditNotes.value||creditNotes.value.length===0?[]:[...creditNotes.value].sort((a,b)=>{let aVal=a[sortColumn.value],bVal=b[sortColumn.value];return aVal??=``,bVal??=``,typeof aVal==`number`&&typeof bVal==`number`?sortDirection.value===`asc`?aVal-bVal:bVal-aVal:(aVal=String(aVal).toLowerCase(),bVal=String(bVal).toLowerCase(),aVal<bVal?sortDirection.value===`asc`?-1:1:aVal>bVal?sortDirection.value===`asc`?1:-1:0)}));onMounted(()=>{loadCreditNotes()});async function loadCreditNotes(){loading.value=!0;try{let response=await CreditNoteService_default.getCreditNotes({page:currentPage.value-1,size:pageSize.value});response.content?(creditNotes.value=response.content,totalItems.value=response.totalElements||response.content.length):Array.isArray(response)?(creditNotes.value=response,totalItems.value=response.length):(creditNotes.value=[],totalItems.value=0)}catch(error){console.error(`Failed to load credit notes:`,error),notificationStore.toast({title:`Error`,message:`Failed to load credit notes.`,variant:`error`}),creditNotes.value=[]}finally{loading.value=!1}}function handleCreate(){resetForm(),selectedCreditNote.value=null,isNewCreditNote.value=!0,formData.issueDate=new Date().toISOString().split(`T`)[0]}function handleSelect(creditNote){selectedCreditNote.value=creditNote,isNewCreditNote.value=!1,formData.creditNoteNumber=creditNote.creditNoteNumber||``,formData.customerName=creditNote.customerName||``,formData.amount=creditNote.amount||0,formData.issueDate=creditNote.issueDate||``,formData.reason=creditNote.reason||``,formData.notes=creditNote.notes||``,canDeleteCreditNote.value=creditNote.status===`DRAFT`,deleteRestriction.value=creditNote.status===`DRAFT`?``:`Only draft credit notes can be deleted.`}async function handleSave(item,isNew){if(!formData.customerName||formData.customerName.trim()===``){notificationStore.toast({title:`Validation Error`,message:`Customer name is required.`,variant:`warning`}),listViewRef.value?.completeSave();return}if(!formData.amount||formData.amount<=0){notificationStore.toast({title:`Validation Error`,message:`Amount must be greater than zero.`,variant:`warning`}),listViewRef.value?.completeSave();return}try{let creditNoteData={customerName:formData.customerName.trim(),amount:formData.amount,issueDate:formData.issueDate||null,reason:formData.reason?.trim()||null,notes:formData.notes?.trim()||null};isNewCreditNote.value?(await CreditNoteService_default.createCreditNote(creditNoteData),notificationStore.toast({title:`Success`,message:`Credit note created successfully.`,variant:`success`})):(await CreditNoteService_default.updateCreditNote(selectedCreditNote.value.reference,creditNoteData),notificationStore.toast({title:`Success`,message:`Credit note updated successfully.`,variant:`success`})),listViewRef.value?.completeSave(),await loadCreditNotes(),resetForm(),isNewCreditNote.value=!1,selectedCreditNote.value=null}catch(error){console.error(`Failed to save credit note:`,error),notificationStore.toast({title:`Error`,message:error.message||`Failed to save credit note.`,variant:`error`}),listViewRef.value?.completeSave()}}async function handleDelete(creditNote){try{await CreditNoteService_default.deleteCreditNote(creditNote.reference),notificationStore.toast({title:`Success`,message:`Credit note deleted successfully.`,variant:`success`}),await loadCreditNotes()}catch(error){console.error(`Failed to delete credit note:`,error),notificationStore.toast({title:`Error`,message:error.message||`Failed to delete credit note.`,variant:`error`})}}async function handleAction(action){if(selectedCreditNote.value)try{switch(action.id){case`apply`:notificationStore.toast({title:`Info`,message:`Apply to invoice functionality coming soon.`,variant:`info`});break;case`void`:await CreditNoteService_default.voidCreditNote(selectedCreditNote.value.reference),notificationStore.toast({title:`Success`,message:`Credit note voided.`,variant:`success`});break}await loadCreditNotes(),listViewRef.value?.closeDetail()}catch(error){console.error(`Action failed:`,error),notificationStore.toast({title:`Error`,message:error.message||`Action failed.`,variant:`error`})}}function handleSearch(query){searchQuery.value=query,currentPage.value=1,loadCreditNotes()}function handlePageChange(page){currentPage.value=page,loadCreditNotes()}function handleSort(key){sortColumn.value===key?sortDirection.value=sortDirection.value===`asc`?`desc`:`asc`:(sortColumn.value=key,sortDirection.value=`asc`)}function resetForm(){formData.creditNoteNumber=``,formData.customerName=``,formData.amount=0,formData.issueDate=``,formData.reason=``,formData.notes=``}function markDirty(){listViewRef.value?.setDirty(!0)}function getInitials(name){return name?name.split(` `).map(w=>w[0]).join(``).substring(0,2).toUpperCase():`?`}function formatCurrency(amount){return new Intl.NumberFormat(`en-NG`,{style:`currency`,currency:`NGN`,minimumFractionDigits:0}).format(amount||0)}function getStatusVariant(status){return{DRAFT:`secondary`,ISSUED:`default`,PARTIALLY_APPLIED:`outline`,FULLY_APPLIED:`success`,VOIDED:`destructive`}[status]||`secondary`}return(_ctx,_cache)=>(openBlock(),createBlock(EntityListView_default,{entityName:`Credit Note`,entityPluralName:`Credit Notes`,columns,items:sortedCreditNotes.value,loading:loading.value,totalItems:totalItems.value,currentPage:currentPage.value,pageSize:pageSize.value,canDelete:canDeleteCreditNote.value,deleteRestriction:deleteRestriction.value,sortColumn:sortColumn.value,sortDirection:sortDirection.value,actions:itemActions.value,onCreate:handleCreate,onSelect:handleSelect,onSave:handleSave,onDelete:handleDelete,onSearch:handleSearch,onPageChange:handlePageChange,onSort:handleSort,onAction:handleAction,ref_key:`listViewRef`,ref:listViewRef},{"cell-customerName":withCtx(({item})=>[createBaseVNode(`div`,_hoisted_1$14,[createBaseVNode(`div`,_hoisted_2$14,toDisplayString(getInitials(item.customerName)),1),createBaseVNode(`div`,null,[createBaseVNode(`p`,_hoisted_3$13,toDisplayString(item.customerName||`No Customer`),1),createBaseVNode(`p`,_hoisted_4$13,toDisplayString(item.creditNoteNumber),1)])])]),"cell-amount":withCtx(({value})=>[createBaseVNode(`span`,_hoisted_5$13,toDisplayString(formatCurrency(value)),1)]),"cell-amountRemaining":withCtx(({value})=>[createBaseVNode(`span`,{class:normalizeClass(value>0?`text-amber-600 font-medium`:`text-green-600`)},toDisplayString(formatCurrency(value)),3)]),"cell-status":withCtx(({value})=>[createVNode(unref(Badge_default),{variant:getStatusVariant(value)},{default:withCtx(()=>[createTextVNode(toDisplayString(value),1)]),_:2},1032,[`variant`])]),form:withCtx(({item,isNew})=>[createBaseVNode(`div`,_hoisted_6$12,[createBaseVNode(`div`,_hoisted_7$12,[createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[6]||=[createTextVNode(`Credit Note Number`,-1)]]),_:1}),createVNode(unref(Input_default),{modelValue:formData.creditNoteNumber,"onUpdate:modelValue":_cache[0]||=$event=>formData.creditNoteNumber=$event,placeholder:`CN-001`,class:`mt-1.5 rounded-full`,disabled:!isNew},null,8,[`modelValue`,`disabled`])]),createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[7]||=[createTextVNode(`Customer Name *`,-1)]]),_:1}),createVNode(unref(Input_default),{modelValue:formData.customerName,"onUpdate:modelValue":_cache[1]||=$event=>formData.customerName=$event,placeholder:`Customer name`,class:`mt-1.5 rounded-full`,onInput:markDirty},null,8,[`modelValue`])])]),createBaseVNode(`div`,_hoisted_8$12,[createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[8]||=[createTextVNode(`Amount *`,-1)]]),_:1}),createVNode(unref(Input_default),{modelValue:formData.amount,"onUpdate:modelValue":_cache[2]||=$event=>formData.amount=$event,modelModifiers:{number:!0},type:`number`,placeholder:`0.00`,class:`mt-1.5 rounded-full`,onInput:markDirty},null,8,[`modelValue`])]),createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[9]||=[createTextVNode(`Issue Date`,-1)]]),_:1}),createVNode(unref(Input_default),{modelValue:formData.issueDate,"onUpdate:modelValue":_cache[3]||=$event=>formData.issueDate=$event,type:`date`,class:`mt-1.5 rounded-full`,onInput:markDirty},null,8,[`modelValue`])])]),createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[10]||=[createTextVNode(`Reason`,-1)]]),_:1}),createVNode(unref(Input_default),{modelValue:formData.reason,"onUpdate:modelValue":_cache[4]||=$event=>formData.reason=$event,placeholder:`Reason for credit note`,class:`mt-1.5 rounded-full`,onInput:markDirty},null,8,[`modelValue`])]),createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[11]||=[createTextVNode(`Notes`,-1)]]),_:1}),createVNode(unref(Textarea_default),{modelValue:formData.notes,"onUpdate:modelValue":_cache[5]||=$event=>formData.notes=$event,placeholder:`Additional notes`,rows:`2`,class:`mt-1.5 rounded-2xl`,onInput:markDirty},null,8,[`modelValue`])])])]),"mobile-card":withCtx(({item})=>[createBaseVNode(`div`,_hoisted_9$12,[createBaseVNode(`div`,_hoisted_10$12,[createBaseVNode(`div`,_hoisted_11$12,toDisplayString(getInitials(item.customerName)),1),createBaseVNode(`div`,null,[createBaseVNode(`p`,_hoisted_12$11,toDisplayString(item.customerName||`No Customer`),1),createBaseVNode(`p`,_hoisted_13$7,toDisplayString(item.creditNoteNumber),1)])]),createBaseVNode(`div`,_hoisted_14$6,[createBaseVNode(`p`,_hoisted_15$6,toDisplayString(formatCurrency(item.amount)),1),createVNode(unref(Badge_default),{variant:getStatusVariant(item.status),class:`mt-1`},{default:withCtx(()=>[createTextVNode(toDisplayString(item.status),1)]),_:2},1032,[`variant`])])])]),_:1},8,[`items`,`loading`,`totalItems`,`currentPage`,`pageSize`,`canDelete`,`deleteRestriction`,`sortColumn`,`sortDirection`,`actions`]))}},VendorPaymentService_default={async getPayments({page=0,size=20}={}){return API_default.get(`/org/vendor-payments`,{query:{page,size},authorizeRequest:!0,organisationAware:!0})},async getPayment(reference){return API_default.get(`/org/vendor-payments/${reference}`,{authorizeRequest:!0,organisationAware:!0})},async createPayment(data){return API_default.post(`/org/vendor-payments`,{data,authorizeRequest:!0,organisationAware:!0})},async updatePayment(reference,data){return API_default.put(`/org/vendor-payments/${reference}`,{data,authorizeRequest:!0,organisationAware:!0})},async deletePayment(reference){return API_default.delete(`/org/vendor-payments/${reference}`,{authorizeRequest:!0,organisationAware:!0})},async getStats(){return API_default.get(`/org/vendor-payments/stats`,{authorizeRequest:!0,organisationAware:!0})}},_hoisted_1$13={class:`flex items-center gap-3`},_hoisted_2$13={class:`w-8 h-8 rounded-full bg-gradient-to-br from-rose-400 to-rose-600 flex items-center justify-center text-white text-xs font-semibold`},_hoisted_3$12={class:`font-medium text-slate-800`},_hoisted_4$12={class:`text-xs text-slate-500`},_hoisted_5$12={class:`font-medium text-rose-600`},_hoisted_6$11={class:`text-slate-600`},_hoisted_7$11={class:`space-y-4`},_hoisted_8$11={class:`grid grid-cols-2 gap-4`},_hoisted_9$11={class:`grid grid-cols-2 gap-4`},_hoisted_10$11={class:`grid grid-cols-2 gap-4`},_hoisted_11$11={class:`flex items-center justify-between`},_hoisted_12$10={class:`flex items-center gap-3`},_hoisted_13$6={class:`w-10 h-10 rounded-full bg-gradient-to-br from-rose-400 to-rose-600 flex items-center justify-center text-white text-sm font-semibold`},_hoisted_14$5={class:`font-medium text-slate-800`},_hoisted_15$5={class:`text-sm text-slate-500`},_hoisted_16$4={class:`text-right`},_hoisted_17$2={class:`text-sm font-medium text-rose-600`},VendorPaymentListView_default={__name:`VendorPaymentListView`,setup(__props){let listViewRef=ref(null),notificationStore=getNotificationStore(),loading=ref(!1),payments=ref([]),totalItems=ref(0),currentPage=ref(1),pageSize=ref(20),searchQuery=ref(``),selectedPayment=ref(null),canDeletePayment=ref(!1),deleteRestriction=ref(`Recorded payments cannot be deleted.`),isNewPayment=ref(!1),sortColumn=ref(`paymentDate`),sortDirection=ref(`desc`),formData=reactive({paymentNumber:``,vendorName:``,amount:0,currency:`NGN`,paymentDate:``,paymentMethod:``,transactionReference:``,notes:``}),columns=[{key:`vendorName`,label:`Vendor`,sortable:!0},{key:`amount`,label:`Amount`,align:`right`,sortable:!0},{key:`paymentMethod`,label:`Method`,align:`center`},{key:`paymentDate`,label:`Date`,sortable:!0}],sortedPayments=computed(()=>!payments.value||payments.value.length===0?[]:[...payments.value].sort((a,b)=>{let aVal=a[sortColumn.value],bVal=b[sortColumn.value];return aVal??=``,bVal??=``,typeof aVal==`number`&&typeof bVal==`number`?sortDirection.value===`asc`?aVal-bVal:bVal-aVal:(aVal=String(aVal).toLowerCase(),bVal=String(bVal).toLowerCase(),aVal<bVal?sortDirection.value===`asc`?-1:1:aVal>bVal?sortDirection.value===`asc`?1:-1:0)}));onMounted(()=>{loadPayments()});async function loadPayments(){loading.value=!0;try{let response=await VendorPaymentService_default.getPayments({page:currentPage.value-1,size:pageSize.value});response.content?(payments.value=response.content,totalItems.value=response.totalElements||response.content.length):Array.isArray(response)?(payments.value=response,totalItems.value=response.length):(payments.value=[],totalItems.value=0)}catch(error){console.error(`Failed to load payments:`,error),notificationStore.toast({title:`Error`,message:`Failed to load payments.`,variant:`error`}),payments.value=[]}finally{loading.value=!1}}function handleCreate(){resetForm(),selectedPayment.value=null,isNewPayment.value=!0,formData.paymentDate=new Date().toISOString().split(`T`)[0]}function handleSelect(payment){selectedPayment.value=payment,isNewPayment.value=!1,formData.paymentNumber=payment.paymentNumber||``,formData.vendorName=payment.vendorName||``,formData.amount=payment.amount||0,formData.currency=payment.currency||`NGN`,formData.paymentDate=payment.paymentDate||``,formData.paymentMethod=payment.paymentMethod||``,formData.transactionReference=payment.transactionReference||``,formData.notes=payment.notes||``}async function handleSave(item,isNew){if(!formData.vendorName||formData.vendorName.trim()===``){notificationStore.toast({title:`Validation Error`,message:`Vendor name is required.`,variant:`warning`}),listViewRef.value?.completeSave();return}if(!formData.amount||formData.amount<=0){notificationStore.toast({title:`Validation Error`,message:`Amount must be greater than zero.`,variant:`warning`}),listViewRef.value?.completeSave();return}try{let paymentData={vendorName:formData.vendorName.trim(),amount:formData.amount,currency:formData.currency||`NGN`,paymentDate:formData.paymentDate||null,paymentMethod:formData.paymentMethod||null,transactionReference:formData.transactionReference?.trim()||null,notes:formData.notes?.trim()||null};isNewPayment.value?(await VendorPaymentService_default.createPayment(paymentData),notificationStore.toast({title:`Success`,message:`Payment recorded successfully.`,variant:`success`})):(await VendorPaymentService_default.updatePayment(selectedPayment.value.reference,paymentData),notificationStore.toast({title:`Success`,message:`Payment updated successfully.`,variant:`success`})),listViewRef.value?.completeSave(),await loadPayments(),resetForm(),isNewPayment.value=!1,selectedPayment.value=null}catch(error){console.error(`Failed to save payment:`,error),notificationStore.toast({title:`Error`,message:error.message||`Failed to save payment.`,variant:`error`}),listViewRef.value?.completeSave()}}async function handleDelete(payment){try{await VendorPaymentService_default.deletePayment(payment.reference),notificationStore.toast({title:`Success`,message:`Payment deleted successfully.`,variant:`success`}),await loadPayments()}catch(error){console.error(`Failed to delete payment:`,error),notificationStore.toast({title:`Error`,message:error.message||`Failed to delete payment.`,variant:`error`})}}function handleSearch(query){searchQuery.value=query,currentPage.value=1,loadPayments()}function handlePageChange(page){currentPage.value=page,loadPayments()}function handleSort(key){sortColumn.value===key?sortDirection.value=sortDirection.value===`asc`?`desc`:`asc`:(sortColumn.value=key,sortDirection.value=`asc`)}function resetForm(){formData.paymentNumber=``,formData.vendorName=``,formData.amount=0,formData.currency=`NGN`,formData.paymentDate=``,formData.paymentMethod=``,formData.transactionReference=``,formData.notes=``}function markDirty(){listViewRef.value?.setDirty(!0)}function getInitials(name){return name?name.split(` `).map(w=>w[0]).join(``).substring(0,2).toUpperCase():`?`}function formatCurrency(amount){return new Intl.NumberFormat(`en-NG`,{style:`currency`,currency:`NGN`,minimumFractionDigits:0}).format(amount||0)}function formatDate(dateStr){return dateStr?new Date(dateStr).toLocaleDateString(`en-NG`,{year:`numeric`,month:`short`,day:`numeric`}):`-`}return(_ctx,_cache)=>(openBlock(),createBlock(EntityListView_default,{entityName:`Vendor Payment`,entityPluralName:`Vendor Payments`,columns,items:sortedPayments.value,loading:loading.value,totalItems:totalItems.value,currentPage:currentPage.value,pageSize:pageSize.value,canDelete:canDeletePayment.value,deleteRestriction:deleteRestriction.value,sortColumn:sortColumn.value,sortDirection:sortDirection.value,onCreate:handleCreate,onSelect:handleSelect,onSave:handleSave,onDelete:handleDelete,onSearch:handleSearch,onPageChange:handlePageChange,onSort:handleSort,ref_key:`listViewRef`,ref:listViewRef},{"cell-vendorName":withCtx(({item})=>[createBaseVNode(`div`,_hoisted_1$13,[createBaseVNode(`div`,_hoisted_2$13,toDisplayString(getInitials(item.vendorName)),1),createBaseVNode(`div`,null,[createBaseVNode(`p`,_hoisted_3$12,toDisplayString(item.vendorName||`No Vendor`),1),createBaseVNode(`p`,_hoisted_4$12,toDisplayString(item.paymentNumber),1)])])]),"cell-amount":withCtx(({value})=>[createBaseVNode(`span`,_hoisted_5$12,toDisplayString(formatCurrency(value)),1)]),"cell-paymentMethod":withCtx(({value})=>[createVNode(unref(Badge_default),{variant:`outline`},{default:withCtx(()=>[createTextVNode(toDisplayString(value||`Not Set`),1)]),_:2},1024)]),"cell-paymentDate":withCtx(({value})=>[createBaseVNode(`span`,_hoisted_6$11,toDisplayString(formatDate(value)),1)]),form:withCtx(({item,isNew})=>[createBaseVNode(`div`,_hoisted_7$11,[createBaseVNode(`div`,_hoisted_8$11,[createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[8]||=[createTextVNode(`Payment Number`,-1)]]),_:1}),createVNode(unref(Input_default),{modelValue:formData.paymentNumber,"onUpdate:modelValue":_cache[0]||=$event=>formData.paymentNumber=$event,placeholder:`VPAY-001`,class:`mt-1.5 rounded-full`,disabled:!isNew},null,8,[`modelValue`,`disabled`])]),createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[9]||=[createTextVNode(`Vendor Name *`,-1)]]),_:1}),createVNode(unref(Input_default),{modelValue:formData.vendorName,"onUpdate:modelValue":_cache[1]||=$event=>formData.vendorName=$event,placeholder:`Vendor name`,class:`mt-1.5 rounded-full`,onInput:markDirty},null,8,[`modelValue`])])]),createBaseVNode(`div`,_hoisted_9$11,[createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[10]||=[createTextVNode(`Amount *`,-1)]]),_:1}),createVNode(unref(Input_default),{modelValue:formData.amount,"onUpdate:modelValue":_cache[2]||=$event=>formData.amount=$event,modelModifiers:{number:!0},type:`number`,placeholder:`0.00`,class:`mt-1.5 rounded-full`,onInput:markDirty},null,8,[`modelValue`])]),createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[11]||=[createTextVNode(`Currency`,-1)]]),_:1}),createVNode(unref(Input_default),{modelValue:formData.currency,"onUpdate:modelValue":_cache[3]||=$event=>formData.currency=$event,placeholder:`NGN`,class:`mt-1.5 rounded-full`,onInput:markDirty},null,8,[`modelValue`])])]),createBaseVNode(`div`,_hoisted_10$11,[createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[12]||=[createTextVNode(`Payment Date`,-1)]]),_:1}),createVNode(unref(Input_default),{modelValue:formData.paymentDate,"onUpdate:modelValue":_cache[4]||=$event=>formData.paymentDate=$event,type:`date`,class:`mt-1.5 rounded-full`,onInput:markDirty},null,8,[`modelValue`])]),createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[13]||=[createTextVNode(`Payment Method`,-1)]]),_:1}),withDirectives(createBaseVNode(`select`,{"onUpdate:modelValue":_cache[5]||=$event=>formData.paymentMethod=$event,class:`w-full mt-1.5 rounded-full border border-slate-200 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-slate-400`,onChange:markDirty},[..._cache[14]||=[createBaseVNode(`option`,{value:``},`Select method`,-1),createBaseVNode(`option`,{value:`CASH`},`Cash`,-1),createBaseVNode(`option`,{value:`BANK_TRANSFER`},`Bank Transfer`,-1),createBaseVNode(`option`,{value:`CARD`},`Card`,-1),createBaseVNode(`option`,{value:`CHEQUE`},`Cheque`,-1)]],544),[[vModelSelect,formData.paymentMethod]])])]),createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[15]||=[createTextVNode(`Transaction Reference`,-1)]]),_:1}),createVNode(unref(Input_default),{modelValue:formData.transactionReference,"onUpdate:modelValue":_cache[6]||=$event=>formData.transactionReference=$event,placeholder:`Transaction ID`,class:`mt-1.5 rounded-full`,onInput:markDirty},null,8,[`modelValue`])]),createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[16]||=[createTextVNode(`Notes`,-1)]]),_:1}),createVNode(unref(Textarea_default),{modelValue:formData.notes,"onUpdate:modelValue":_cache[7]||=$event=>formData.notes=$event,placeholder:`Additional notes`,rows:`2`,class:`mt-1.5 rounded-2xl`,onInput:markDirty},null,8,[`modelValue`])])])]),"mobile-card":withCtx(({item})=>[createBaseVNode(`div`,_hoisted_11$11,[createBaseVNode(`div`,_hoisted_12$10,[createBaseVNode(`div`,_hoisted_13$6,toDisplayString(getInitials(item.vendorName)),1),createBaseVNode(`div`,null,[createBaseVNode(`p`,_hoisted_14$5,toDisplayString(item.vendorName||`No Vendor`),1),createBaseVNode(`p`,_hoisted_15$5,toDisplayString(formatDate(item.paymentDate)),1)])]),createBaseVNode(`div`,_hoisted_16$4,[createBaseVNode(`p`,_hoisted_17$2,toDisplayString(formatCurrency(item.amount)),1)])])]),_:1},8,[`items`,`loading`,`totalItems`,`currentPage`,`pageSize`,`canDelete`,`deleteRestriction`,`sortColumn`,`sortDirection`]))}},VendorCreditService_default={async getVendorCredits({page=0,size=20,status=null}={}){let query={page,size};return status&&(query.status=status),API_default.get(`/org/vendor-credits`,{query,authorizeRequest:!0,organisationAware:!0})},async getVendorCredit(reference){return API_default.get(`/org/vendor-credits/${reference}`,{authorizeRequest:!0,organisationAware:!0})},async createVendorCredit(data){return API_default.post(`/org/vendor-credits`,{data,authorizeRequest:!0,organisationAware:!0})},async updateVendorCredit(reference,data){return API_default.put(`/org/vendor-credits/${reference}`,{data,authorizeRequest:!0,organisationAware:!0})},async receiveCredit(reference){return API_default.post(`/org/vendor-credits/${reference}/receive`,{data:{},authorizeRequest:!0,organisationAware:!0})},async applyToBill(reference,billReference,amount){return API_default.post(`/org/vendor-credits/${reference}/apply`,{data:{billReference,amount},authorizeRequest:!0,organisationAware:!0})},async voidVendorCredit(reference){return API_default.post(`/org/vendor-credits/${reference}/void`,{data:{},authorizeRequest:!0,organisationAware:!0})},async deleteVendorCredit(reference){return API_default.delete(`/org/vendor-credits/${reference}`,{authorizeRequest:!0,organisationAware:!0})}},_hoisted_1$12={class:`flex items-center gap-3`},_hoisted_2$12={class:`w-8 h-8 rounded-full bg-gradient-to-br from-teal-400 to-teal-600 flex items-center justify-center text-white text-xs font-semibold`},_hoisted_3$11={class:`font-medium text-slate-800`},_hoisted_4$11={class:`text-xs text-slate-500`},_hoisted_5$11={class:`font-medium text-slate-700`},_hoisted_6$10={class:`space-y-4`},_hoisted_7$10={class:`grid grid-cols-2 gap-4`},_hoisted_8$10={class:`grid grid-cols-2 gap-4`},_hoisted_9$10={class:`flex items-center justify-between`},_hoisted_10$10={class:`flex items-center gap-3`},_hoisted_11$10={class:`w-10 h-10 rounded-full bg-gradient-to-br from-teal-400 to-teal-600 flex items-center justify-center text-white text-sm font-semibold`},_hoisted_12$9={class:`font-medium text-slate-800`},_hoisted_13$5={class:`text-sm text-slate-500`},_hoisted_14$4={class:`text-right`},_hoisted_15$4={class:`text-sm font-medium text-slate-700`},VendorCreditListView_default={__name:`VendorCreditListView`,setup(__props){let listViewRef=ref(null),notificationStore=getNotificationStore(),loading=ref(!1),credits=ref([]),totalItems=ref(0),currentPage=ref(1),pageSize=ref(20),searchQuery=ref(``),selectedCredit=ref(null),canDeleteCredit=ref(!0),deleteRestriction=ref(``),isNewCredit=ref(!1),sortColumn=ref(`createdAt`),sortDirection=ref(`desc`),formData=reactive({creditNumber:``,vendorName:``,amount:0,creditDate:``,reason:``,notes:``}),columns=[{key:`vendorName`,label:`Vendor`,sortable:!0},{key:`amount`,label:`Amount`,align:`right`,sortable:!0},{key:`amountRemaining`,label:`Remaining`,align:`right`,sortable:!0},{key:`status`,label:`Status`,align:`center`}],itemActions=computed(()=>{if(!selectedCredit.value)return[];let status=selectedCredit.value.status,actions=[];return(status===`ISSUED`||status===`PARTIALLY_APPLIED`)&&selectedCredit.value.amountRemaining>0&&actions.push({id:`apply`,label:`Apply to Bill`,variant:`default`}),status!==`VOIDED`&&status!==`FULLY_APPLIED`&&actions.push({id:`void`,label:`Void`,variant:`destructive`}),actions}),sortedCredits=computed(()=>!credits.value||credits.value.length===0?[]:[...credits.value].sort((a,b)=>{let aVal=a[sortColumn.value],bVal=b[sortColumn.value];return aVal??=``,bVal??=``,typeof aVal==`number`&&typeof bVal==`number`?sortDirection.value===`asc`?aVal-bVal:bVal-aVal:(aVal=String(aVal).toLowerCase(),bVal=String(bVal).toLowerCase(),aVal<bVal?sortDirection.value===`asc`?-1:1:aVal>bVal?sortDirection.value===`asc`?1:-1:0)}));onMounted(()=>{loadCredits()});async function loadCredits(){loading.value=!0;try{let response=await VendorCreditService_default.getVendorCredits({page:currentPage.value-1,size:pageSize.value});response.content?(credits.value=response.content,totalItems.value=response.totalElements||response.content.length):Array.isArray(response)?(credits.value=response,totalItems.value=response.length):(credits.value=[],totalItems.value=0)}catch(error){console.error(`Failed to load vendor credits:`,error),notificationStore.toast({title:`Error`,message:`Failed to load vendor credits.`,variant:`error`}),credits.value=[]}finally{loading.value=!1}}function handleCreate(){resetForm(),selectedCredit.value=null,isNewCredit.value=!0,formData.creditDate=new Date().toISOString().split(`T`)[0]}function handleSelect(credit){selectedCredit.value=credit,isNewCredit.value=!1,formData.creditNumber=credit.creditNumber||``,formData.vendorName=credit.vendorName||``,formData.amount=credit.amount||0,formData.creditDate=credit.creditDate||``,formData.reason=credit.reason||``,formData.notes=credit.notes||``,canDeleteCredit.value=credit.status===`DRAFT`,deleteRestriction.value=credit.status===`DRAFT`?``:`Only draft vendor credits can be deleted.`}async function handleSave(item,isNew){if(!formData.vendorName||formData.vendorName.trim()===``){notificationStore.toast({title:`Validation Error`,message:`Vendor name is required.`,variant:`warning`}),listViewRef.value?.completeSave();return}if(!formData.amount||formData.amount<=0){notificationStore.toast({title:`Validation Error`,message:`Amount must be greater than zero.`,variant:`warning`}),listViewRef.value?.completeSave();return}try{let creditData={vendorName:formData.vendorName.trim(),amount:formData.amount,creditDate:formData.creditDate||null,reason:formData.reason?.trim()||null,notes:formData.notes?.trim()||null};isNewCredit.value?(await VendorCreditService_default.createVendorCredit(creditData),notificationStore.toast({title:`Success`,message:`Vendor credit created successfully.`,variant:`success`})):(await VendorCreditService_default.updateVendorCredit(selectedCredit.value.reference,creditData),notificationStore.toast({title:`Success`,message:`Vendor credit updated successfully.`,variant:`success`})),listViewRef.value?.completeSave(),await loadCredits(),resetForm(),isNewCredit.value=!1,selectedCredit.value=null}catch(error){console.error(`Failed to save vendor credit:`,error),notificationStore.toast({title:`Error`,message:error.message||`Failed to save vendor credit.`,variant:`error`}),listViewRef.value?.completeSave()}}async function handleDelete(credit){try{await VendorCreditService_default.deleteVendorCredit(credit.reference),notificationStore.toast({title:`Success`,message:`Vendor credit deleted successfully.`,variant:`success`}),await loadCredits()}catch(error){console.error(`Failed to delete vendor credit:`,error),notificationStore.toast({title:`Error`,message:error.message||`Failed to delete vendor credit.`,variant:`error`})}}async function handleAction(action){if(selectedCredit.value)try{switch(action.id){case`apply`:notificationStore.toast({title:`Info`,message:`Apply to bill functionality coming soon.`,variant:`info`});break;case`void`:await VendorCreditService_default.voidVendorCredit(selectedCredit.value.reference),notificationStore.toast({title:`Success`,message:`Vendor credit voided.`,variant:`success`});break}await loadCredits(),listViewRef.value?.closeDetail()}catch(error){console.error(`Action failed:`,error),notificationStore.toast({title:`Error`,message:error.message||`Action failed.`,variant:`error`})}}function handleSearch(query){searchQuery.value=query,currentPage.value=1,loadCredits()}function handlePageChange(page){currentPage.value=page,loadCredits()}function handleSort(key){sortColumn.value===key?sortDirection.value=sortDirection.value===`asc`?`desc`:`asc`:(sortColumn.value=key,sortDirection.value=`asc`)}function resetForm(){formData.creditNumber=``,formData.vendorName=``,formData.amount=0,formData.creditDate=``,formData.reason=``,formData.notes=``}function markDirty(){listViewRef.value?.setDirty(!0)}function getInitials(name){return name?name.split(` `).map(w=>w[0]).join(``).substring(0,2).toUpperCase():`?`}function formatCurrency(amount){return new Intl.NumberFormat(`en-NG`,{style:`currency`,currency:`NGN`,minimumFractionDigits:0}).format(amount||0)}function getStatusVariant(status){return{DRAFT:`secondary`,ISSUED:`default`,PARTIALLY_APPLIED:`outline`,FULLY_APPLIED:`success`,VOIDED:`destructive`}[status]||`secondary`}return(_ctx,_cache)=>(openBlock(),createBlock(EntityListView_default,{entityName:`Vendor Credit`,entityPluralName:`Vendor Credits`,columns,items:sortedCredits.value,loading:loading.value,totalItems:totalItems.value,currentPage:currentPage.value,pageSize:pageSize.value,canDelete:canDeleteCredit.value,deleteRestriction:deleteRestriction.value,sortColumn:sortColumn.value,sortDirection:sortDirection.value,actions:itemActions.value,onCreate:handleCreate,onSelect:handleSelect,onSave:handleSave,onDelete:handleDelete,onSearch:handleSearch,onPageChange:handlePageChange,onSort:handleSort,onAction:handleAction,ref_key:`listViewRef`,ref:listViewRef},{"cell-vendorName":withCtx(({item})=>[createBaseVNode(`div`,_hoisted_1$12,[createBaseVNode(`div`,_hoisted_2$12,toDisplayString(getInitials(item.vendorName)),1),createBaseVNode(`div`,null,[createBaseVNode(`p`,_hoisted_3$11,toDisplayString(item.vendorName||`No Vendor`),1),createBaseVNode(`p`,_hoisted_4$11,toDisplayString(item.creditNumber),1)])])]),"cell-amount":withCtx(({value})=>[createBaseVNode(`span`,_hoisted_5$11,toDisplayString(formatCurrency(value)),1)]),"cell-amountRemaining":withCtx(({value})=>[createBaseVNode(`span`,{class:normalizeClass(value>0?`text-teal-600 font-medium`:`text-slate-500`)},toDisplayString(formatCurrency(value)),3)]),"cell-status":withCtx(({value})=>[createVNode(unref(Badge_default),{variant:getStatusVariant(value)},{default:withCtx(()=>[createTextVNode(toDisplayString(value),1)]),_:2},1032,[`variant`])]),form:withCtx(({item,isNew})=>[createBaseVNode(`div`,_hoisted_6$10,[createBaseVNode(`div`,_hoisted_7$10,[createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[6]||=[createTextVNode(`Credit Number`,-1)]]),_:1}),createVNode(unref(Input_default),{modelValue:formData.creditNumber,"onUpdate:modelValue":_cache[0]||=$event=>formData.creditNumber=$event,placeholder:`VC-001`,class:`mt-1.5 rounded-full`,disabled:!isNew},null,8,[`modelValue`,`disabled`])]),createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[7]||=[createTextVNode(`Vendor Name *`,-1)]]),_:1}),createVNode(unref(Input_default),{modelValue:formData.vendorName,"onUpdate:modelValue":_cache[1]||=$event=>formData.vendorName=$event,placeholder:`Vendor name`,class:`mt-1.5 rounded-full`,onInput:markDirty},null,8,[`modelValue`])])]),createBaseVNode(`div`,_hoisted_8$10,[createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[8]||=[createTextVNode(`Amount *`,-1)]]),_:1}),createVNode(unref(Input_default),{modelValue:formData.amount,"onUpdate:modelValue":_cache[2]||=$event=>formData.amount=$event,modelModifiers:{number:!0},type:`number`,placeholder:`0.00`,class:`mt-1.5 rounded-full`,onInput:markDirty},null,8,[`modelValue`])]),createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[9]||=[createTextVNode(`Credit Date`,-1)]]),_:1}),createVNode(unref(Input_default),{modelValue:formData.creditDate,"onUpdate:modelValue":_cache[3]||=$event=>formData.creditDate=$event,type:`date`,class:`mt-1.5 rounded-full`,onInput:markDirty},null,8,[`modelValue`])])]),createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[10]||=[createTextVNode(`Reason`,-1)]]),_:1}),createVNode(unref(Input_default),{modelValue:formData.reason,"onUpdate:modelValue":_cache[4]||=$event=>formData.reason=$event,placeholder:`Reason for vendor credit`,class:`mt-1.5 rounded-full`,onInput:markDirty},null,8,[`modelValue`])]),createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[11]||=[createTextVNode(`Notes`,-1)]]),_:1}),createVNode(unref(Textarea_default),{modelValue:formData.notes,"onUpdate:modelValue":_cache[5]||=$event=>formData.notes=$event,placeholder:`Additional notes`,rows:`2`,class:`mt-1.5 rounded-2xl`,onInput:markDirty},null,8,[`modelValue`])])])]),"mobile-card":withCtx(({item})=>[createBaseVNode(`div`,_hoisted_9$10,[createBaseVNode(`div`,_hoisted_10$10,[createBaseVNode(`div`,_hoisted_11$10,toDisplayString(getInitials(item.vendorName)),1),createBaseVNode(`div`,null,[createBaseVNode(`p`,_hoisted_12$9,toDisplayString(item.vendorName||`No Vendor`),1),createBaseVNode(`p`,_hoisted_13$5,toDisplayString(item.creditNumber),1)])]),createBaseVNode(`div`,_hoisted_14$4,[createBaseVNode(`p`,_hoisted_15$4,toDisplayString(formatCurrency(item.amount)),1),createVNode(unref(Badge_default),{variant:getStatusVariant(item.status),class:`mt-1`},{default:withCtx(()=>[createTextVNode(toDisplayString(item.status),1)]),_:2},1032,[`variant`])])])]),_:1},8,[`items`,`loading`,`totalItems`,`currentPage`,`pageSize`,`canDelete`,`deleteRestriction`,`sortColumn`,`sortDirection`,`actions`]))}},InventoryAdjustmentService_default={async getAdjustments({page=0,size=20,type=null}={}){let query={page,size};return type&&(query.type=type),API_default.get(`/org/inventory-adjustments`,{query,authorizeRequest:!0,organisationAware:!0})},async getAdjustment(reference){return API_default.get(`/org/inventory-adjustments/${reference}`,{authorizeRequest:!0,organisationAware:!0})},async createAdjustment(data){return API_default.post(`/org/inventory-adjustments`,{data,authorizeRequest:!0,organisationAware:!0})},async updateAdjustment(reference,data){return API_default.put(`/org/inventory-adjustments/${reference}`,{data,authorizeRequest:!0,organisationAware:!0})},async applyAdjustment(reference){return API_default.post(`/org/inventory-adjustments/${reference}/apply`,{data:{},authorizeRequest:!0,organisationAware:!0})},async deleteAdjustment(reference){return API_default.delete(`/org/inventory-adjustments/${reference}`,{authorizeRequest:!0,organisationAware:!0})},async getTypes(){return API_default.get(`/org/inventory-adjustments/types`,{authorizeRequest:!0,organisationAware:!0})}},_hoisted_1$11={class:`flex items-center gap-3`},_hoisted_2$11={class:`w-8 h-8 rounded-lg bg-gradient-to-br from-orange-400 to-orange-600 flex items-center justify-center text-white text-xs font-semibold`},_hoisted_3$10={class:`font-medium text-slate-800`},_hoisted_4$10={class:`text-xs text-slate-500`},_hoisted_5$10={class:`space-y-4`},_hoisted_6$9={class:`grid grid-cols-2 gap-4`},_hoisted_7$9={class:`grid grid-cols-2 gap-4`},_hoisted_8$9={class:`flex items-center justify-between`},_hoisted_9$9={class:`flex items-center gap-3`},_hoisted_10$9={class:`w-10 h-10 rounded-lg bg-gradient-to-br from-orange-400 to-orange-600 flex items-center justify-center text-white text-sm font-semibold`},_hoisted_11$9={class:`font-medium text-slate-800`},_hoisted_12$8={class:`text-sm text-slate-500`},_hoisted_13$4={class:`text-right`},InventoryAdjustmentListView_default={__name:`InventoryAdjustmentListView`,setup(__props){let listViewRef=ref(null),notificationStore=getNotificationStore(),loading=ref(!1),adjustments=ref([]),totalItems=ref(0),currentPage=ref(1),pageSize=ref(20),searchQuery=ref(``),selectedAdjustment=ref(null),canDeleteAdjustment=ref(!0),deleteRestriction=ref(``),isNewAdjustment=ref(!1),sortColumn=ref(`createdAt`),sortDirection=ref(`desc`),formData=reactive({itemName:``,adjustmentType:``,quantityChange:0,adjustmentDate:``,reason:``,notes:``}),columns=[{key:`itemName`,label:`Item`,sortable:!0},{key:`quantityChange`,label:`Qty Change`,align:`right`,sortable:!0},{key:`adjustmentType`,label:`Type`,align:`center`},{key:`status`,label:`Status`,align:`center`}],itemActions=computed(()=>{if(!selectedAdjustment.value)return[];let status=selectedAdjustment.value.status,actions=[];return status===`DRAFT`&&actions.push({id:`apply`,label:`Apply Adjustment`,variant:`default`}),actions}),sortedAdjustments=computed(()=>!adjustments.value||adjustments.value.length===0?[]:[...adjustments.value].sort((a,b)=>{let aVal=a[sortColumn.value],bVal=b[sortColumn.value];return aVal??=``,bVal??=``,typeof aVal==`number`&&typeof bVal==`number`?sortDirection.value===`asc`?aVal-bVal:bVal-aVal:(aVal=String(aVal).toLowerCase(),bVal=String(bVal).toLowerCase(),aVal<bVal?sortDirection.value===`asc`?-1:1:aVal>bVal?sortDirection.value===`asc`?1:-1:0)}));onMounted(()=>{loadAdjustments()});async function loadAdjustments(){loading.value=!0;try{let response=await InventoryAdjustmentService_default.getAdjustments({page:currentPage.value-1,size:pageSize.value});response.content?(adjustments.value=response.content,totalItems.value=response.totalElements||response.content.length):Array.isArray(response)?(adjustments.value=response,totalItems.value=response.length):(adjustments.value=[],totalItems.value=0)}catch(error){console.error(`Failed to load adjustments:`,error),notificationStore.toast({title:`Error`,message:`Failed to load inventory adjustments.`,variant:`error`}),adjustments.value=[]}finally{loading.value=!1}}function handleCreate(){resetForm(),selectedAdjustment.value=null,isNewAdjustment.value=!0,formData.adjustmentDate=new Date().toISOString().split(`T`)[0]}function handleSelect(adjustment){selectedAdjustment.value=adjustment,isNewAdjustment.value=!1,formData.itemName=adjustment.itemName||``,formData.adjustmentType=adjustment.adjustmentType||``,formData.quantityChange=adjustment.quantityChange||0,formData.adjustmentDate=adjustment.adjustmentDate||``,formData.reason=adjustment.reason||``,formData.notes=adjustment.notes||``,canDeleteAdjustment.value=adjustment.status===`DRAFT`,deleteRestriction.value=adjustment.status===`DRAFT`?``:`Applied adjustments cannot be deleted.`}async function handleSave(item,isNew){if(!formData.itemName||formData.itemName.trim()===``){notificationStore.toast({title:`Validation Error`,message:`Item name is required.`,variant:`warning`}),listViewRef.value?.completeSave();return}if(!formData.reason||formData.reason.trim()===``){notificationStore.toast({title:`Validation Error`,message:`Reason is required.`,variant:`warning`}),listViewRef.value?.completeSave();return}try{let adjustmentData={itemName:formData.itemName.trim(),adjustmentType:formData.adjustmentType||`CORRECTION`,quantityChange:formData.quantityChange||0,adjustmentDate:formData.adjustmentDate||null,reason:formData.reason.trim(),notes:formData.notes?.trim()||null};isNewAdjustment.value?(await InventoryAdjustmentService_default.createAdjustment(adjustmentData),notificationStore.toast({title:`Success`,message:`Adjustment created successfully.`,variant:`success`})):(await InventoryAdjustmentService_default.updateAdjustment(selectedAdjustment.value.reference,adjustmentData),notificationStore.toast({title:`Success`,message:`Adjustment updated successfully.`,variant:`success`})),listViewRef.value?.completeSave(),await loadAdjustments(),resetForm(),isNewAdjustment.value=!1,selectedAdjustment.value=null}catch(error){console.error(`Failed to save adjustment:`,error),notificationStore.toast({title:`Error`,message:error.message||`Failed to save adjustment.`,variant:`error`}),listViewRef.value?.completeSave()}}async function handleDelete(adjustment){try{await InventoryAdjustmentService_default.deleteAdjustment(adjustment.reference),notificationStore.toast({title:`Success`,message:`Adjustment deleted successfully.`,variant:`success`}),await loadAdjustments()}catch(error){console.error(`Failed to delete adjustment:`,error),notificationStore.toast({title:`Error`,message:error.message||`Failed to delete adjustment.`,variant:`error`})}}async function handleAction(action){if(selectedAdjustment.value)try{switch(action.id){case`apply`:await InventoryAdjustmentService_default.applyAdjustment(selectedAdjustment.value.reference),notificationStore.toast({title:`Success`,message:`Adjustment applied to stock levels.`,variant:`success`});break}await loadAdjustments(),listViewRef.value?.closeDetail()}catch(error){console.error(`Action failed:`,error),notificationStore.toast({title:`Error`,message:error.message||`Action failed.`,variant:`error`})}}function handleSearch(query){searchQuery.value=query,currentPage.value=1,loadAdjustments()}function handlePageChange(page){currentPage.value=page,loadAdjustments()}function handleSort(key){sortColumn.value===key?sortDirection.value=sortDirection.value===`asc`?`desc`:`asc`:(sortColumn.value=key,sortDirection.value=`asc`)}function resetForm(){formData.itemName=``,formData.adjustmentType=``,formData.quantityChange=0,formData.adjustmentDate=``,formData.reason=``,formData.notes=``}function markDirty(){listViewRef.value?.setDirty(!0)}function getInitials(name){return name?name.split(` `).map(w=>w[0]).join(``).substring(0,2).toUpperCase():`?`}function getTypeVariant(type){return{INCREASE:`success`,DECREASE:`destructive`,DAMAGE:`destructive`,THEFT:`destructive`,CORRECTION:`outline`}[type]||`secondary`}function getStatusVariant(status){return{DRAFT:`secondary`,APPLIED:`success`}[status]||`secondary`}return(_ctx,_cache)=>(openBlock(),createBlock(EntityListView_default,{entityName:`Inventory Adjustment`,entityPluralName:`Inventory Adjustments`,columns,items:sortedAdjustments.value,loading:loading.value,totalItems:totalItems.value,currentPage:currentPage.value,pageSize:pageSize.value,canDelete:canDeleteAdjustment.value,deleteRestriction:deleteRestriction.value,sortColumn:sortColumn.value,sortDirection:sortDirection.value,actions:itemActions.value,onCreate:handleCreate,onSelect:handleSelect,onSave:handleSave,onDelete:handleDelete,onSearch:handleSearch,onPageChange:handlePageChange,onSort:handleSort,onAction:handleAction,ref_key:`listViewRef`,ref:listViewRef},{"cell-itemName":withCtx(({item})=>[createBaseVNode(`div`,_hoisted_1$11,[createBaseVNode(`div`,_hoisted_2$11,toDisplayString(getInitials(item.itemName)),1),createBaseVNode(`div`,null,[createBaseVNode(`p`,_hoisted_3$10,toDisplayString(item.itemName||`Unknown Item`),1),createBaseVNode(`p`,_hoisted_4$10,toDisplayString(item.adjustmentNumber),1)])])]),"cell-quantityChange":withCtx(({value})=>[createBaseVNode(`span`,{class:normalizeClass(value>=0?`text-green-600 font-medium`:`text-red-600 font-medium`)},toDisplayString(value>=0?`+`:``)+toDisplayString(value),3)]),"cell-adjustmentType":withCtx(({value})=>[createVNode(unref(Badge_default),{variant:getTypeVariant(value)},{default:withCtx(()=>[createTextVNode(toDisplayString(value),1)]),_:2},1032,[`variant`])]),"cell-status":withCtx(({value})=>[createVNode(unref(Badge_default),{variant:getStatusVariant(value)},{default:withCtx(()=>[createTextVNode(toDisplayString(value),1)]),_:2},1032,[`variant`])]),form:withCtx(({item,isNew})=>[createBaseVNode(`div`,_hoisted_5$10,[createBaseVNode(`div`,_hoisted_6$9,[createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[6]||=[createTextVNode(`Item Name *`,-1)]]),_:1}),createVNode(unref(Input_default),{modelValue:formData.itemName,"onUpdate:modelValue":_cache[0]||=$event=>formData.itemName=$event,placeholder:`Select or enter item`,class:`mt-1.5 rounded-full`,onInput:markDirty},null,8,[`modelValue`])]),createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[7]||=[createTextVNode(`Adjustment Type`,-1)]]),_:1}),withDirectives(createBaseVNode(`select`,{"onUpdate:modelValue":_cache[1]||=$event=>formData.adjustmentType=$event,class:`w-full mt-1.5 rounded-full border border-slate-200 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-slate-400`,onChange:markDirty},[..._cache[8]||=[createBaseVNode(`option`,{value:``},`Select type`,-1),createBaseVNode(`option`,{value:`INCREASE`},`Increase (Stock In)`,-1),createBaseVNode(`option`,{value:`DECREASE`},`Decrease (Stock Out)`,-1),createBaseVNode(`option`,{value:`DAMAGE`},`Damaged Goods`,-1),createBaseVNode(`option`,{value:`THEFT`},`Theft/Loss`,-1),createBaseVNode(`option`,{value:`CORRECTION`},`Stock Correction`,-1)]],544),[[vModelSelect,formData.adjustmentType]])])]),createBaseVNode(`div`,_hoisted_7$9,[createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[9]||=[createTextVNode(`Quantity Change *`,-1)]]),_:1}),createVNode(unref(Input_default),{modelValue:formData.quantityChange,"onUpdate:modelValue":_cache[2]||=$event=>formData.quantityChange=$event,modelModifiers:{number:!0},type:`number`,placeholder:`0`,class:`mt-1.5 rounded-full`,onInput:markDirty},null,8,[`modelValue`]),_cache[10]||=createBaseVNode(`p`,{class:`text-xs text-slate-500 mt-1`},`Use negative for decrease`,-1)]),createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[11]||=[createTextVNode(`Adjustment Date`,-1)]]),_:1}),createVNode(unref(Input_default),{modelValue:formData.adjustmentDate,"onUpdate:modelValue":_cache[3]||=$event=>formData.adjustmentDate=$event,type:`date`,class:`mt-1.5 rounded-full`,onInput:markDirty},null,8,[`modelValue`])])]),createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[12]||=[createTextVNode(`Reason *`,-1)]]),_:1}),createVNode(unref(Input_default),{modelValue:formData.reason,"onUpdate:modelValue":_cache[4]||=$event=>formData.reason=$event,placeholder:`Reason for adjustment`,class:`mt-1.5 rounded-full`,onInput:markDirty},null,8,[`modelValue`])]),createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[13]||=[createTextVNode(`Notes`,-1)]]),_:1}),createVNode(unref(Textarea_default),{modelValue:formData.notes,"onUpdate:modelValue":_cache[5]||=$event=>formData.notes=$event,placeholder:`Additional notes or details`,rows:`2`,class:`mt-1.5 rounded-2xl`,onInput:markDirty},null,8,[`modelValue`])])])]),"mobile-card":withCtx(({item})=>[createBaseVNode(`div`,_hoisted_8$9,[createBaseVNode(`div`,_hoisted_9$9,[createBaseVNode(`div`,_hoisted_10$9,toDisplayString(getInitials(item.itemName)),1),createBaseVNode(`div`,null,[createBaseVNode(`p`,_hoisted_11$9,toDisplayString(item.itemName||`Unknown Item`),1),createBaseVNode(`p`,_hoisted_12$8,toDisplayString(item.adjustmentType),1)])]),createBaseVNode(`div`,_hoisted_13$4,[createBaseVNode(`p`,{class:normalizeClass([`text-sm font-medium`,item.quantityChange>=0?`text-green-600`:`text-red-600`])},toDisplayString(item.quantityChange>=0?`+`:``)+toDisplayString(item.quantityChange),3),createVNode(unref(Badge_default),{variant:getStatusVariant(item.status),class:`mt-1`},{default:withCtx(()=>[createTextVNode(toDisplayString(item.status),1)]),_:2},1032,[`variant`])])])]),_:1},8,[`items`,`loading`,`totalItems`,`currentPage`,`pageSize`,`canDelete`,`deleteRestriction`,`sortColumn`,`sortDirection`,`actions`]))}},RecurringInvoiceService_default={async getRecurringInvoices({page=0,size=20}={}){return API_default.get(`/org/recurring-invoices`,{query:{page,size},authorizeRequest:!0,organisationAware:!0})},async getRecurringInvoice(reference){return API_default.get(`/org/recurring-invoices/${reference}`,{authorizeRequest:!0,organisationAware:!0})},async createRecurringInvoice(data){return API_default.post(`/org/recurring-invoices`,{data,authorizeRequest:!0,organisationAware:!0})},async updateRecurringInvoice(reference,data){return API_default.put(`/org/recurring-invoices/${reference}`,{data,authorizeRequest:!0,organisationAware:!0})},async activateRecurringInvoice(reference){return API_default.post(`/org/recurring-invoices/${reference}/activate`,{data:{},authorizeRequest:!0,organisationAware:!0})},async pauseRecurringInvoice(reference){return API_default.post(`/org/recurring-invoices/${reference}/pause`,{data:{},authorizeRequest:!0,organisationAware:!0})},async deleteRecurringInvoice(reference){return API_default.delete(`/org/recurring-invoices/${reference}`,{authorizeRequest:!0,organisationAware:!0})}},_hoisted_1$10={class:`flex items-center gap-3`},_hoisted_2$10={class:`w-8 h-8 rounded-full bg-gradient-to-br from-blue-400 to-blue-600 flex items-center justify-center text-white text-xs font-semibold`},_hoisted_3$9={class:`font-medium text-slate-800`},_hoisted_4$9={class:`text-xs text-slate-500`},_hoisted_5$9={class:`font-medium text-slate-700`},_hoisted_6$8={class:`space-y-4`},_hoisted_7$8={class:`grid grid-cols-2 gap-4`},_hoisted_8$8={class:`grid grid-cols-2 gap-4`},_hoisted_9$8={class:`grid grid-cols-2 gap-4`},_hoisted_10$8={class:`flex items-center justify-between`},_hoisted_11$8={class:`flex items-center gap-3`},_hoisted_12$7={class:`w-10 h-10 rounded-full bg-gradient-to-br from-blue-400 to-blue-600 flex items-center justify-center text-white text-sm font-semibold`},_hoisted_13$3={class:`font-medium text-slate-800`},_hoisted_14$3={class:`text-sm text-slate-500`},_hoisted_15$3={class:`text-right`},_hoisted_16$3={class:`text-sm font-medium text-slate-700`},RecurringInvoiceListView_default={__name:`RecurringInvoiceListView`,setup(__props){let listViewRef=ref(null),notificationStore=getNotificationStore(),loading=ref(!1),items=ref([]),totalItems=ref(0),currentPage=ref(1),pageSize=ref(20),searchQuery=ref(``),selectedItem=ref(null),canDelete=ref(!0),deleteRestriction=ref(``),isNew=ref(!1),sortColumn=ref(`createdAt`),sortDirection=ref(`desc`),formData=reactive({profileName:``,customerName:``,amount:0,frequency:`MONTHLY`,startDate:``,endDate:``,notes:``}),columns=[{key:`customerName`,label:`Customer`,sortable:!0},{key:`amount`,label:`Amount`,align:`right`,sortable:!0},{key:`frequency`,label:`Frequency`,align:`center`},{key:`status`,label:`Status`,align:`center`}],itemActions=computed(()=>{if(!selectedItem.value)return[];let status=selectedItem.value.status,actions=[];return(status===`DRAFT`||status===`PAUSED`)&&actions.push({id:`activate`,label:`Activate`,variant:`default`}),status===`ACTIVE`&&actions.push({id:`pause`,label:`Pause`,variant:`secondary`}),actions}),sortedItems=computed(()=>!items.value||items.value.length===0?[]:[...items.value].sort((a,b)=>{let aVal=a[sortColumn.value],bVal=b[sortColumn.value];return aVal??=``,bVal??=``,typeof aVal==`number`&&typeof bVal==`number`?sortDirection.value===`asc`?aVal-bVal:bVal-aVal:(aVal=String(aVal).toLowerCase(),bVal=String(bVal).toLowerCase(),aVal<bVal?sortDirection.value===`asc`?-1:1:aVal>bVal?sortDirection.value===`asc`?1:-1:0)}));onMounted(()=>{loadItems()});async function loadItems(){loading.value=!0;try{let response=await RecurringInvoiceService_default.getRecurringInvoices({page:currentPage.value-1,size:pageSize.value});response.content?(items.value=response.content,totalItems.value=response.totalElements||response.content.length):Array.isArray(response)?(items.value=response,totalItems.value=response.length):(items.value=[],totalItems.value=0)}catch(error){console.error(`Failed to load:`,error),notificationStore.toast({title:`Error`,message:`Failed to load recurring invoices.`,variant:`error`}),items.value=[]}finally{loading.value=!1}}function handleCreate(){resetForm(),selectedItem.value=null,isNew.value=!0,formData.startDate=new Date().toISOString().split(`T`)[0]}function handleSelect(item){selectedItem.value=item,isNew.value=!1,formData.profileName=item.profileName||``,formData.customerName=item.customerName||``,formData.amount=item.amount||0,formData.frequency=item.frequency||`MONTHLY`,formData.startDate=item.startDate||``,formData.endDate=item.endDate||``,formData.notes=item.notes||``,canDelete.value=item.status===`DRAFT`,deleteRestriction.value=item.status===`DRAFT`?``:`Active recurring invoices cannot be deleted.`}async function handleSave(item,creating){if(!formData.profileName?.trim()||!formData.customerName?.trim()){notificationStore.toast({title:`Validation Error`,message:`Profile and customer name required.`,variant:`warning`}),listViewRef.value?.completeSave();return}try{let data={profileName:formData.profileName.trim(),customerName:formData.customerName.trim(),amount:formData.amount,frequency:formData.frequency,startDate:formData.startDate||null,endDate:formData.endDate||null,notes:formData.notes?.trim()||null};isNew.value?(await RecurringInvoiceService_default.createRecurringInvoice(data),notificationStore.toast({title:`Success`,message:`Recurring invoice created.`,variant:`success`})):(await RecurringInvoiceService_default.updateRecurringInvoice(selectedItem.value.reference,data),notificationStore.toast({title:`Success`,message:`Recurring invoice updated.`,variant:`success`})),listViewRef.value?.completeSave(),await loadItems(),resetForm(),isNew.value=!1,selectedItem.value=null}catch(error){console.error(`Failed to save:`,error),notificationStore.toast({title:`Error`,message:error.message||`Failed to save.`,variant:`error`}),listViewRef.value?.completeSave()}}async function handleDelete(item){try{await RecurringInvoiceService_default.deleteRecurringInvoice(item.reference),notificationStore.toast({title:`Success`,message:`Deleted.`,variant:`success`}),await loadItems()}catch(error){notificationStore.toast({title:`Error`,message:error.message||`Failed to delete.`,variant:`error`})}}async function handleAction(action){if(selectedItem.value)try{action.id===`activate`?(await RecurringInvoiceService_default.activateRecurringInvoice(selectedItem.value.reference),notificationStore.toast({title:`Success`,message:`Activated.`,variant:`success`})):action.id===`pause`&&(await RecurringInvoiceService_default.pauseRecurringInvoice(selectedItem.value.reference),notificationStore.toast({title:`Success`,message:`Paused.`,variant:`success`})),await loadItems(),listViewRef.value?.closeDetail()}catch(error){notificationStore.toast({title:`Error`,message:error.message||`Action failed.`,variant:`error`})}}function handleSearch(query){searchQuery.value=query,currentPage.value=1,loadItems()}function handlePageChange(page){currentPage.value=page,loadItems()}function handleSort(key){sortColumn.value===key?sortDirection.value=sortDirection.value===`asc`?`desc`:`asc`:(sortColumn.value=key,sortDirection.value=`asc`)}function resetForm(){formData.profileName=``,formData.customerName=``,formData.amount=0,formData.frequency=`MONTHLY`,formData.startDate=``,formData.endDate=``,formData.notes=``}function markDirty(){listViewRef.value?.setDirty(!0)}function getInitials(name){return name?name.split(` `).map(w=>w[0]).join(``).substring(0,2).toUpperCase():`?`}function formatCurrency(amount){return new Intl.NumberFormat(`en-NG`,{style:`currency`,currency:`NGN`,minimumFractionDigits:0}).format(amount||0)}function getStatusVariant(status){return{DRAFT:`secondary`,ACTIVE:`success`,PAUSED:`outline`,EXPIRED:`destructive`}[status]||`secondary`}return(_ctx,_cache)=>(openBlock(),createBlock(EntityListView_default,{entityName:`Recurring Invoice`,entityPluralName:`Recurring Invoices`,columns,items:sortedItems.value,loading:loading.value,totalItems:totalItems.value,currentPage:currentPage.value,pageSize:pageSize.value,canDelete:canDelete.value,deleteRestriction:deleteRestriction.value,sortColumn:sortColumn.value,sortDirection:sortDirection.value,actions:itemActions.value,onCreate:handleCreate,onSelect:handleSelect,onSave:handleSave,onDelete:handleDelete,onSearch:handleSearch,onPageChange:handlePageChange,onSort:handleSort,onAction:handleAction,ref_key:`listViewRef`,ref:listViewRef},{"cell-customerName":withCtx(({item})=>[createBaseVNode(`div`,_hoisted_1$10,[createBaseVNode(`div`,_hoisted_2$10,toDisplayString(getInitials(item.customerName)),1),createBaseVNode(`div`,null,[createBaseVNode(`p`,_hoisted_3$9,toDisplayString(item.customerName||`No Customer`),1),createBaseVNode(`p`,_hoisted_4$9,toDisplayString(item.profileName),1)])])]),"cell-amount":withCtx(({value})=>[createBaseVNode(`span`,_hoisted_5$9,toDisplayString(formatCurrency(value)),1)]),"cell-frequency":withCtx(({value})=>[createVNode(unref(Badge_default),{variant:`outline`},{default:withCtx(()=>[createTextVNode(toDisplayString(value),1)]),_:2},1024)]),"cell-status":withCtx(({value})=>[createVNode(unref(Badge_default),{variant:getStatusVariant(value)},{default:withCtx(()=>[createTextVNode(toDisplayString(value),1)]),_:2},1032,[`variant`])]),form:withCtx(({item,isNew:isNew$1})=>[createBaseVNode(`div`,_hoisted_6$8,[createBaseVNode(`div`,_hoisted_7$8,[createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[7]||=[createTextVNode(`Profile Name *`,-1)]]),_:1}),createVNode(unref(Input_default),{modelValue:formData.profileName,"onUpdate:modelValue":_cache[0]||=$event=>formData.profileName=$event,placeholder:`Monthly Service Fee`,class:`mt-1.5 rounded-full`,onInput:markDirty},null,8,[`modelValue`])]),createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[8]||=[createTextVNode(`Customer Name *`,-1)]]),_:1}),createVNode(unref(Input_default),{modelValue:formData.customerName,"onUpdate:modelValue":_cache[1]||=$event=>formData.customerName=$event,placeholder:`Customer name`,class:`mt-1.5 rounded-full`,onInput:markDirty},null,8,[`modelValue`])])]),createBaseVNode(`div`,_hoisted_8$8,[createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[9]||=[createTextVNode(`Amount *`,-1)]]),_:1}),createVNode(unref(Input_default),{modelValue:formData.amount,"onUpdate:modelValue":_cache[2]||=$event=>formData.amount=$event,modelModifiers:{number:!0},type:`number`,placeholder:`0.00`,class:`mt-1.5 rounded-full`,onInput:markDirty},null,8,[`modelValue`])]),createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[10]||=[createTextVNode(`Frequency`,-1)]]),_:1}),withDirectives(createBaseVNode(`select`,{"onUpdate:modelValue":_cache[3]||=$event=>formData.frequency=$event,class:`w-full mt-1.5 rounded-full border border-slate-200 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-slate-400`,onChange:markDirty},[..._cache[11]||=[createBaseVNode(`option`,{value:`WEEKLY`},`Weekly`,-1),createBaseVNode(`option`,{value:`MONTHLY`},`Monthly`,-1),createBaseVNode(`option`,{value:`QUARTERLY`},`Quarterly`,-1),createBaseVNode(`option`,{value:`YEARLY`},`Yearly`,-1)]],544),[[vModelSelect,formData.frequency]])])]),createBaseVNode(`div`,_hoisted_9$8,[createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[12]||=[createTextVNode(`Start Date`,-1)]]),_:1}),createVNode(unref(Input_default),{modelValue:formData.startDate,"onUpdate:modelValue":_cache[4]||=$event=>formData.startDate=$event,type:`date`,class:`mt-1.5 rounded-full`,onInput:markDirty},null,8,[`modelValue`])]),createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[13]||=[createTextVNode(`End Date (optional)`,-1)]]),_:1}),createVNode(unref(Input_default),{modelValue:formData.endDate,"onUpdate:modelValue":_cache[5]||=$event=>formData.endDate=$event,type:`date`,class:`mt-1.5 rounded-full`,onInput:markDirty},null,8,[`modelValue`])])]),createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[14]||=[createTextVNode(`Notes`,-1)]]),_:1}),createVNode(unref(Textarea_default),{modelValue:formData.notes,"onUpdate:modelValue":_cache[6]||=$event=>formData.notes=$event,placeholder:`Additional notes`,rows:`2`,class:`mt-1.5 rounded-2xl`,onInput:markDirty},null,8,[`modelValue`])])])]),"mobile-card":withCtx(({item})=>[createBaseVNode(`div`,_hoisted_10$8,[createBaseVNode(`div`,_hoisted_11$8,[createBaseVNode(`div`,_hoisted_12$7,toDisplayString(getInitials(item.customerName)),1),createBaseVNode(`div`,null,[createBaseVNode(`p`,_hoisted_13$3,toDisplayString(item.profileName),1),createBaseVNode(`p`,_hoisted_14$3,toDisplayString(item.customerName),1)])]),createBaseVNode(`div`,_hoisted_15$3,[createBaseVNode(`p`,_hoisted_16$3,toDisplayString(formatCurrency(item.amount)),1),createVNode(unref(Badge_default),{variant:getStatusVariant(item.status),class:`mt-1`},{default:withCtx(()=>[createTextVNode(toDisplayString(item.status),1)]),_:2},1032,[`variant`])])])]),_:1},8,[`items`,`loading`,`totalItems`,`currentPage`,`pageSize`,`canDelete`,`deleteRestriction`,`sortColumn`,`sortDirection`,`actions`]))}},RecurringExpenseService_default={async getRecurringExpenses({page=0,size=20}={}){return API_default.get(`/org/recurring-expenses`,{query:{page,size},authorizeRequest:!0,organisationAware:!0})},async getRecurringExpense(reference){return API_default.get(`/org/recurring-expenses/${reference}`,{authorizeRequest:!0,organisationAware:!0})},async createRecurringExpense(data){return API_default.post(`/org/recurring-expenses`,{data,authorizeRequest:!0,organisationAware:!0})},async updateRecurringExpense(reference,data){return API_default.put(`/org/recurring-expenses/${reference}`,{data,authorizeRequest:!0,organisationAware:!0})},async activateRecurringExpense(reference){return API_default.post(`/org/recurring-expenses/${reference}/activate`,{data:{},authorizeRequest:!0,organisationAware:!0})},async pauseRecurringExpense(reference){return API_default.post(`/org/recurring-expenses/${reference}/pause`,{data:{},authorizeRequest:!0,organisationAware:!0})},async deleteRecurringExpense(reference){return API_default.delete(`/org/recurring-expenses/${reference}`,{authorizeRequest:!0,organisationAware:!0})}},_hoisted_1$9={class:`font-medium text-slate-800`},_hoisted_2$9={class:`text-xs text-slate-500`},_hoisted_3$8={class:`font-medium text-slate-700`},_hoisted_4$8={class:`space-y-4`},_hoisted_5$8={class:`grid grid-cols-2 gap-4`},_hoisted_6$7={class:`grid grid-cols-2 gap-4`},_hoisted_7$7={class:`grid grid-cols-2 gap-4`},_hoisted_8$7={class:`flex items-center justify-between`},_hoisted_9$7={class:`font-medium text-slate-800`},_hoisted_10$7={class:`text-sm text-slate-500`},_hoisted_11$7={class:`text-right`},_hoisted_12$6={class:`text-sm font-medium text-slate-700`},RecurringExpenseListView_default={__name:`RecurringExpenseListView`,setup(__props){let listViewRef=ref(null),notificationStore=getNotificationStore(),loading=ref(!1),items=ref([]),totalItems=ref(0),currentPage=ref(1),pageSize=ref(20),selectedItem=ref(null),canDelete=ref(!0),deleteRestriction=ref(``),isNew=ref(!1),sortColumn=ref(`createdAt`),sortDirection=ref(`desc`),formData=reactive({description:``,amount:0,frequency:`MONTHLY`,category:``,vendorName:``,startDate:``,endDate:``}),columns=[{key:`description`,label:`Description`,sortable:!0},{key:`amount`,label:`Amount`,align:`right`,sortable:!0},{key:`frequency`,label:`Frequency`,align:`center`},{key:`status`,label:`Status`,align:`center`}],itemActions=computed(()=>{if(!selectedItem.value)return[];let status=selectedItem.value.status,actions=[];return(status===`DRAFT`||status===`PAUSED`)&&actions.push({id:`activate`,label:`Activate`,variant:`default`}),status===`ACTIVE`&&actions.push({id:`pause`,label:`Pause`,variant:`secondary`}),actions}),sortedItems=computed(()=>items.value?.length?[...items.value].sort((a,b)=>{let aVal=a[sortColumn.value]??``,bVal=b[sortColumn.value]??``;return typeof aVal==`number`?sortDirection.value===`asc`?aVal-bVal:bVal-aVal:sortDirection.value===`asc`?String(aVal).localeCompare(String(bVal)):String(bVal).localeCompare(String(aVal))}):[]);onMounted(()=>loadItems());async function loadItems(){loading.value=!0;try{let res=await RecurringExpenseService_default.getRecurringExpenses({page:currentPage.value-1,size:pageSize.value});items.value=res.content||(Array.isArray(res)?res:[]),totalItems.value=res.totalElements||items.value.length}catch{notificationStore.toast({title:`Error`,message:`Failed to load.`,variant:`error`}),items.value=[]}finally{loading.value=!1}}function handleCreate(){resetForm(),selectedItem.value=null,isNew.value=!0,formData.startDate=new Date().toISOString().split(`T`)[0]}function handleSelect(item){selectedItem.value=item,isNew.value=!1,Object.assign(formData,{description:item.description||``,amount:item.amount||0,frequency:item.frequency||`MONTHLY`,category:item.category||``,vendorName:item.vendorName||``,startDate:item.startDate||``,endDate:item.endDate||``}),canDelete.value=item.status===`DRAFT`,deleteRestriction.value=item.status===`DRAFT`?``:`Active recurring expenses cannot be deleted.`}async function handleSave(){if(!formData.description?.trim()){notificationStore.toast({title:`Error`,message:`Description required.`,variant:`warning`}),listViewRef.value?.completeSave();return}try{let data={description:formData.description.trim(),amount:formData.amount,frequency:formData.frequency,category:formData.category?.trim()||null,vendorName:formData.vendorName?.trim()||null,startDate:formData.startDate||null,endDate:formData.endDate||null};isNew.value?await RecurringExpenseService_default.createRecurringExpense(data):await RecurringExpenseService_default.updateRecurringExpense(selectedItem.value.reference,data),notificationStore.toast({title:`Success`,message:isNew.value?`Created.`:`Updated.`,variant:`success`}),listViewRef.value?.completeSave(),await loadItems(),resetForm(),isNew.value=!1,selectedItem.value=null}catch(e){notificationStore.toast({title:`Error`,message:e.message||`Failed.`,variant:`error`}),listViewRef.value?.completeSave()}}async function handleDelete(item){try{await RecurringExpenseService_default.deleteRecurringExpense(item.reference),notificationStore.toast({title:`Success`,message:`Deleted.`,variant:`success`}),await loadItems()}catch(e){notificationStore.toast({title:`Error`,message:e.message||`Failed.`,variant:`error`})}}async function handleAction(action){if(selectedItem.value)try{action.id===`activate`?await RecurringExpenseService_default.activateRecurringExpense(selectedItem.value.reference):action.id===`pause`&&await RecurringExpenseService_default.pauseRecurringExpense(selectedItem.value.reference),notificationStore.toast({title:`Success`,message:action.id===`activate`?`Activated.`:`Paused.`,variant:`success`}),await loadItems(),listViewRef.value?.closeDetail()}catch(e){notificationStore.toast({title:`Error`,message:e.message||`Failed.`,variant:`error`})}}function handleSearch(){currentPage.value=1,loadItems()}function handlePageChange(page){currentPage.value=page,loadItems()}function handleSort(key){sortColumn.value===key?sortDirection.value=sortDirection.value===`asc`?`desc`:`asc`:(sortColumn.value=key,sortDirection.value=`asc`)}function resetForm(){Object.assign(formData,{description:``,amount:0,frequency:`MONTHLY`,category:``,vendorName:``,startDate:``,endDate:``})}function markDirty(){listViewRef.value?.setDirty(!0)}function formatCurrency(amount){return new Intl.NumberFormat(`en-NG`,{style:`currency`,currency:`NGN`,minimumFractionDigits:0}).format(amount||0)}function getStatusVariant(status){return{DRAFT:`secondary`,ACTIVE:`success`,PAUSED:`outline`,EXPIRED:`destructive`}[status]||`secondary`}return(_ctx,_cache)=>(openBlock(),createBlock(EntityListView_default,{entityName:`Recurring Expense`,entityPluralName:`Recurring Expenses`,columns,items:sortedItems.value,loading:loading.value,totalItems:totalItems.value,currentPage:currentPage.value,pageSize:pageSize.value,canDelete:canDelete.value,deleteRestriction:deleteRestriction.value,sortColumn:sortColumn.value,sortDirection:sortDirection.value,actions:itemActions.value,onCreate:handleCreate,onSelect:handleSelect,onSave:handleSave,onDelete:handleDelete,onSearch:handleSearch,onPageChange:handlePageChange,onSort:handleSort,onAction:handleAction,ref_key:`listViewRef`,ref:listViewRef},{"cell-description":withCtx(({item})=>[createBaseVNode(`div`,null,[createBaseVNode(`p`,_hoisted_1$9,toDisplayString(item.description||`No Description`),1),createBaseVNode(`p`,_hoisted_2$9,toDisplayString(item.category||`Uncategorized`),1)])]),"cell-amount":withCtx(({value})=>[createBaseVNode(`span`,_hoisted_3$8,toDisplayString(formatCurrency(value)),1)]),"cell-frequency":withCtx(({value})=>[createVNode(unref(Badge_default),{variant:`outline`},{default:withCtx(()=>[createTextVNode(toDisplayString(value),1)]),_:2},1024)]),"cell-status":withCtx(({value})=>[createVNode(unref(Badge_default),{variant:getStatusVariant(value)},{default:withCtx(()=>[createTextVNode(toDisplayString(value),1)]),_:2},1032,[`variant`])]),form:withCtx(({item,isNew:isNew$1})=>[createBaseVNode(`div`,_hoisted_4$8,[createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[7]||=[createTextVNode(`Description *`,-1)]]),_:1}),createVNode(unref(Input_default),{modelValue:formData.description,"onUpdate:modelValue":_cache[0]||=$event=>formData.description=$event,placeholder:`Monthly subscription`,class:`mt-1.5 rounded-full`,onInput:markDirty},null,8,[`modelValue`])]),createBaseVNode(`div`,_hoisted_5$8,[createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[8]||=[createTextVNode(`Amount *`,-1)]]),_:1}),createVNode(unref(Input_default),{modelValue:formData.amount,"onUpdate:modelValue":_cache[1]||=$event=>formData.amount=$event,modelModifiers:{number:!0},type:`number`,placeholder:`0.00`,class:`mt-1.5 rounded-full`,onInput:markDirty},null,8,[`modelValue`])]),createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[9]||=[createTextVNode(`Frequency`,-1)]]),_:1}),withDirectives(createBaseVNode(`select`,{"onUpdate:modelValue":_cache[2]||=$event=>formData.frequency=$event,class:`w-full mt-1.5 rounded-full border border-slate-200 px-3 py-2 text-sm`,onChange:markDirty},[..._cache[10]||=[createBaseVNode(`option`,{value:`WEEKLY`},`Weekly`,-1),createBaseVNode(`option`,{value:`MONTHLY`},`Monthly`,-1),createBaseVNode(`option`,{value:`QUARTERLY`},`Quarterly`,-1),createBaseVNode(`option`,{value:`YEARLY`},`Yearly`,-1)]],544),[[vModelSelect,formData.frequency]])])]),createBaseVNode(`div`,_hoisted_6$7,[createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[11]||=[createTextVNode(`Category`,-1)]]),_:1}),createVNode(unref(Input_default),{modelValue:formData.category,"onUpdate:modelValue":_cache[3]||=$event=>formData.category=$event,placeholder:`e.g., Software`,class:`mt-1.5 rounded-full`,onInput:markDirty},null,8,[`modelValue`])]),createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[12]||=[createTextVNode(`Vendor`,-1)]]),_:1}),createVNode(unref(Input_default),{modelValue:formData.vendorName,"onUpdate:modelValue":_cache[4]||=$event=>formData.vendorName=$event,placeholder:`Vendor name`,class:`mt-1.5 rounded-full`,onInput:markDirty},null,8,[`modelValue`])])]),createBaseVNode(`div`,_hoisted_7$7,[createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[13]||=[createTextVNode(`Start Date`,-1)]]),_:1}),createVNode(unref(Input_default),{modelValue:formData.startDate,"onUpdate:modelValue":_cache[5]||=$event=>formData.startDate=$event,type:`date`,class:`mt-1.5 rounded-full`,onInput:markDirty},null,8,[`modelValue`])]),createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[14]||=[createTextVNode(`End Date`,-1)]]),_:1}),createVNode(unref(Input_default),{modelValue:formData.endDate,"onUpdate:modelValue":_cache[6]||=$event=>formData.endDate=$event,type:`date`,class:`mt-1.5 rounded-full`,onInput:markDirty},null,8,[`modelValue`])])])])]),"mobile-card":withCtx(({item})=>[createBaseVNode(`div`,_hoisted_8$7,[createBaseVNode(`div`,null,[createBaseVNode(`p`,_hoisted_9$7,toDisplayString(item.description),1),createBaseVNode(`p`,_hoisted_10$7,toDisplayString(item.frequency),1)]),createBaseVNode(`div`,_hoisted_11$7,[createBaseVNode(`p`,_hoisted_12$6,toDisplayString(formatCurrency(item.amount)),1),createVNode(unref(Badge_default),{variant:getStatusVariant(item.status),class:`mt-1`},{default:withCtx(()=>[createTextVNode(toDisplayString(item.status),1)]),_:2},1032,[`variant`])])])]),_:1},8,[`items`,`loading`,`totalItems`,`currentPage`,`pageSize`,`canDelete`,`deleteRestriction`,`sortColumn`,`sortDirection`,`actions`]))}},RecurringBillService_default={async getRecurringBills({page=0,size=20}={}){return API_default.get(`/org/recurring-bills`,{query:{page,size},authorizeRequest:!0,organisationAware:!0})},async getRecurringBill(reference){return API_default.get(`/org/recurring-bills/${reference}`,{authorizeRequest:!0,organisationAware:!0})},async createRecurringBill(data){return API_default.post(`/org/recurring-bills`,{data,authorizeRequest:!0,organisationAware:!0})},async updateRecurringBill(reference,data){return API_default.put(`/org/recurring-bills/${reference}`,{data,authorizeRequest:!0,organisationAware:!0})},async activateRecurringBill(reference){return API_default.post(`/org/recurring-bills/${reference}/activate`,{data:{},authorizeRequest:!0,organisationAware:!0})},async pauseRecurringBill(reference){return API_default.post(`/org/recurring-bills/${reference}/pause`,{data:{},authorizeRequest:!0,organisationAware:!0})},async deleteRecurringBill(reference){return API_default.delete(`/org/recurring-bills/${reference}`,{authorizeRequest:!0,organisationAware:!0})}},_hoisted_1$8={class:`flex items-center gap-3`},_hoisted_2$8={class:`w-8 h-8 rounded-full bg-gradient-to-br from-purple-400 to-purple-600 flex items-center justify-center text-white text-xs font-semibold`},_hoisted_3$7={class:`font-medium text-slate-800`},_hoisted_4$7={class:`text-xs text-slate-500`},_hoisted_5$7={class:`font-medium text-slate-700`},_hoisted_6$6={class:`space-y-4`},_hoisted_7$6={class:`grid grid-cols-2 gap-4`},_hoisted_8$6={class:`grid grid-cols-2 gap-4`},_hoisted_9$6={class:`grid grid-cols-2 gap-4`},_hoisted_10$6={class:`flex items-center justify-between`},_hoisted_11$6={class:`flex items-center gap-3`},_hoisted_12$5={class:`w-10 h-10 rounded-full bg-gradient-to-br from-purple-400 to-purple-600 flex items-center justify-center text-white text-sm font-semibold`},_hoisted_13$2={class:`font-medium text-slate-800`},_hoisted_14$2={class:`text-sm text-slate-500`},_hoisted_15$2={class:`text-right`},_hoisted_16$2={class:`text-sm font-medium text-slate-700`},RecurringBillListView_default={__name:`RecurringBillListView`,setup(__props){let listViewRef=ref(null),notificationStore=getNotificationStore(),loading=ref(!1),items=ref([]),totalItems=ref(0),currentPage=ref(1),pageSize=ref(20),selectedItem=ref(null),canDelete=ref(!0),deleteRestriction=ref(``),isNew=ref(!1),sortColumn=ref(`createdAt`),sortDirection=ref(`desc`),formData=reactive({profileName:``,vendorName:``,amount:0,frequency:`MONTHLY`,startDate:``,endDate:``}),columns=[{key:`vendorName`,label:`Vendor`,sortable:!0},{key:`amount`,label:`Amount`,align:`right`,sortable:!0},{key:`frequency`,label:`Frequency`,align:`center`},{key:`status`,label:`Status`,align:`center`}],itemActions=computed(()=>{if(!selectedItem.value)return[];let status=selectedItem.value.status,actions=[];return(status===`DRAFT`||status===`PAUSED`)&&actions.push({id:`activate`,label:`Activate`,variant:`default`}),status===`ACTIVE`&&actions.push({id:`pause`,label:`Pause`,variant:`secondary`}),actions}),sortedItems=computed(()=>items.value?.length?[...items.value].sort((a,b)=>{let aVal=a[sortColumn.value]??``,bVal=b[sortColumn.value]??``;return typeof aVal==`number`?sortDirection.value===`asc`?aVal-bVal:bVal-aVal:sortDirection.value===`asc`?String(aVal).localeCompare(String(bVal)):String(bVal).localeCompare(String(aVal))}):[]);onMounted(()=>loadItems());async function loadItems(){loading.value=!0;try{let res=await RecurringBillService_default.getRecurringBills({page:currentPage.value-1,size:pageSize.value});items.value=res.content||(Array.isArray(res)?res:[]),totalItems.value=res.totalElements||items.value.length}catch{notificationStore.toast({title:`Error`,message:`Failed to load.`,variant:`error`}),items.value=[]}finally{loading.value=!1}}function handleCreate(){resetForm(),selectedItem.value=null,isNew.value=!0,formData.startDate=new Date().toISOString().split(`T`)[0]}function handleSelect(item){selectedItem.value=item,isNew.value=!1,Object.assign(formData,{profileName:item.profileName||``,vendorName:item.vendorName||``,amount:item.amount||0,frequency:item.frequency||`MONTHLY`,startDate:item.startDate||``,endDate:item.endDate||``}),canDelete.value=item.status===`DRAFT`,deleteRestriction.value=item.status===`DRAFT`?``:`Active recurring bills cannot be deleted.`}async function handleSave(){if(!formData.profileName?.trim()||!formData.vendorName?.trim()){notificationStore.toast({title:`Error`,message:`Profile and vendor required.`,variant:`warning`}),listViewRef.value?.completeSave();return}try{let data={profileName:formData.profileName.trim(),vendorName:formData.vendorName.trim(),amount:formData.amount,frequency:formData.frequency,startDate:formData.startDate||null,endDate:formData.endDate||null};isNew.value?await RecurringBillService_default.createRecurringBill(data):await RecurringBillService_default.updateRecurringBill(selectedItem.value.reference,data),notificationStore.toast({title:`Success`,message:isNew.value?`Created.`:`Updated.`,variant:`success`}),listViewRef.value?.completeSave(),await loadItems(),resetForm(),isNew.value=!1,selectedItem.value=null}catch(e){notificationStore.toast({title:`Error`,message:e.message||`Failed.`,variant:`error`}),listViewRef.value?.completeSave()}}async function handleDelete(item){try{await RecurringBillService_default.deleteRecurringBill(item.reference),notificationStore.toast({title:`Success`,message:`Deleted.`,variant:`success`}),await loadItems()}catch(e){notificationStore.toast({title:`Error`,message:e.message||`Failed.`,variant:`error`})}}async function handleAction(action){if(selectedItem.value)try{action.id===`activate`?await RecurringBillService_default.activateRecurringBill(selectedItem.value.reference):action.id===`pause`&&await RecurringBillService_default.pauseRecurringBill(selectedItem.value.reference),notificationStore.toast({title:`Success`,message:action.id===`activate`?`Activated.`:`Paused.`,variant:`success`}),await loadItems(),listViewRef.value?.closeDetail()}catch(e){notificationStore.toast({title:`Error`,message:e.message||`Failed.`,variant:`error`})}}function handleSearch(){currentPage.value=1,loadItems()}function handlePageChange(page){currentPage.value=page,loadItems()}function handleSort(key){sortColumn.value===key?sortDirection.value=sortDirection.value===`asc`?`desc`:`asc`:(sortColumn.value=key,sortDirection.value=`asc`)}function resetForm(){Object.assign(formData,{profileName:``,vendorName:``,amount:0,frequency:`MONTHLY`,startDate:``,endDate:``})}function markDirty(){listViewRef.value?.setDirty(!0)}function getInitials(name){return name?name.split(` `).map(w=>w[0]).join(``).substring(0,2).toUpperCase():`?`}function formatCurrency(amount){return new Intl.NumberFormat(`en-NG`,{style:`currency`,currency:`NGN`,minimumFractionDigits:0}).format(amount||0)}function getStatusVariant(status){return{DRAFT:`secondary`,ACTIVE:`success`,PAUSED:`outline`,EXPIRED:`destructive`}[status]||`secondary`}return(_ctx,_cache)=>(openBlock(),createBlock(EntityListView_default,{entityName:`Recurring Bill`,entityPluralName:`Recurring Bills`,columns,items:sortedItems.value,loading:loading.value,totalItems:totalItems.value,currentPage:currentPage.value,pageSize:pageSize.value,canDelete:canDelete.value,deleteRestriction:deleteRestriction.value,sortColumn:sortColumn.value,sortDirection:sortDirection.value,actions:itemActions.value,onCreate:handleCreate,onSelect:handleSelect,onSave:handleSave,onDelete:handleDelete,onSearch:handleSearch,onPageChange:handlePageChange,onSort:handleSort,onAction:handleAction,ref_key:`listViewRef`,ref:listViewRef},{"cell-vendorName":withCtx(({item})=>[createBaseVNode(`div`,_hoisted_1$8,[createBaseVNode(`div`,_hoisted_2$8,toDisplayString(getInitials(item.vendorName)),1),createBaseVNode(`div`,null,[createBaseVNode(`p`,_hoisted_3$7,toDisplayString(item.vendorName||`No Vendor`),1),createBaseVNode(`p`,_hoisted_4$7,toDisplayString(item.profileName),1)])])]),"cell-amount":withCtx(({value})=>[createBaseVNode(`span`,_hoisted_5$7,toDisplayString(formatCurrency(value)),1)]),"cell-frequency":withCtx(({value})=>[createVNode(unref(Badge_default),{variant:`outline`},{default:withCtx(()=>[createTextVNode(toDisplayString(value),1)]),_:2},1024)]),"cell-status":withCtx(({value})=>[createVNode(unref(Badge_default),{variant:getStatusVariant(value)},{default:withCtx(()=>[createTextVNode(toDisplayString(value),1)]),_:2},1032,[`variant`])]),form:withCtx(({item,isNew:isNew$1})=>[createBaseVNode(`div`,_hoisted_6$6,[createBaseVNode(`div`,_hoisted_7$6,[createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[6]||=[createTextVNode(`Profile Name *`,-1)]]),_:1}),createVNode(unref(Input_default),{modelValue:formData.profileName,"onUpdate:modelValue":_cache[0]||=$event=>formData.profileName=$event,placeholder:`Monthly Rent`,class:`mt-1.5 rounded-full`,onInput:markDirty},null,8,[`modelValue`])]),createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[7]||=[createTextVNode(`Vendor Name *`,-1)]]),_:1}),createVNode(unref(Input_default),{modelValue:formData.vendorName,"onUpdate:modelValue":_cache[1]||=$event=>formData.vendorName=$event,placeholder:`Vendor name`,class:`mt-1.5 rounded-full`,onInput:markDirty},null,8,[`modelValue`])])]),createBaseVNode(`div`,_hoisted_8$6,[createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[8]||=[createTextVNode(`Amount *`,-1)]]),_:1}),createVNode(unref(Input_default),{modelValue:formData.amount,"onUpdate:modelValue":_cache[2]||=$event=>formData.amount=$event,modelModifiers:{number:!0},type:`number`,placeholder:`0.00`,class:`mt-1.5 rounded-full`,onInput:markDirty},null,8,[`modelValue`])]),createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[9]||=[createTextVNode(`Frequency`,-1)]]),_:1}),withDirectives(createBaseVNode(`select`,{"onUpdate:modelValue":_cache[3]||=$event=>formData.frequency=$event,class:`w-full mt-1.5 rounded-full border border-slate-200 px-3 py-2 text-sm`,onChange:markDirty},[..._cache[10]||=[createBaseVNode(`option`,{value:`WEEKLY`},`Weekly`,-1),createBaseVNode(`option`,{value:`MONTHLY`},`Monthly`,-1),createBaseVNode(`option`,{value:`QUARTERLY`},`Quarterly`,-1),createBaseVNode(`option`,{value:`YEARLY`},`Yearly`,-1)]],544),[[vModelSelect,formData.frequency]])])]),createBaseVNode(`div`,_hoisted_9$6,[createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[11]||=[createTextVNode(`Start Date`,-1)]]),_:1}),createVNode(unref(Input_default),{modelValue:formData.startDate,"onUpdate:modelValue":_cache[4]||=$event=>formData.startDate=$event,type:`date`,class:`mt-1.5 rounded-full`,onInput:markDirty},null,8,[`modelValue`])]),createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[12]||=[createTextVNode(`End Date`,-1)]]),_:1}),createVNode(unref(Input_default),{modelValue:formData.endDate,"onUpdate:modelValue":_cache[5]||=$event=>formData.endDate=$event,type:`date`,class:`mt-1.5 rounded-full`,onInput:markDirty},null,8,[`modelValue`])])])])]),"mobile-card":withCtx(({item})=>[createBaseVNode(`div`,_hoisted_10$6,[createBaseVNode(`div`,_hoisted_11$6,[createBaseVNode(`div`,_hoisted_12$5,toDisplayString(getInitials(item.vendorName)),1),createBaseVNode(`div`,null,[createBaseVNode(`p`,_hoisted_13$2,toDisplayString(item.profileName),1),createBaseVNode(`p`,_hoisted_14$2,toDisplayString(item.vendorName),1)])]),createBaseVNode(`div`,_hoisted_15$2,[createBaseVNode(`p`,_hoisted_16$2,toDisplayString(formatCurrency(item.amount)),1),createVNode(unref(Badge_default),{variant:getStatusVariant(item.status),class:`mt-1`},{default:withCtx(()=>[createTextVNode(toDisplayString(item.status),1)]),_:2},1032,[`variant`])])])]),_:1},8,[`items`,`loading`,`totalItems`,`currentPage`,`pageSize`,`canDelete`,`deleteRestriction`,`sortColumn`,`sortDirection`,`actions`]))}},PackageService_default={async getPackages({page=0,size=20}={}){return API_default.get(`/org/packages`,{query:{page,size},authorizeRequest:!0,organisationAware:!0})},async getPackage(reference){return API_default.get(`/org/packages/${reference}`,{authorizeRequest:!0,organisationAware:!0})},async createPackage(data){return API_default.post(`/org/packages`,{data,authorizeRequest:!0,organisationAware:!0})},async updatePackage(reference,data){return API_default.put(`/org/packages/${reference}`,{data,authorizeRequest:!0,organisationAware:!0})},async shipPackage(reference){return API_default.post(`/org/packages/${reference}/ship`,{data:{},authorizeRequest:!0,organisationAware:!0})},async deliverPackage(reference){return API_default.post(`/org/packages/${reference}/deliver`,{data:{},authorizeRequest:!0,organisationAware:!0})},async deletePackage(reference){return API_default.delete(`/org/packages/${reference}`,{authorizeRequest:!0,organisationAware:!0})}},_hoisted_1$7={class:`flex items-center gap-3`},_hoisted_2$7={class:`font-medium text-slate-800`},_hoisted_3$6={class:`text-xs text-slate-500`},_hoisted_4$6={class:`text-slate-600`},_hoisted_5$6={class:`text-slate-600`},_hoisted_6$5={class:`space-y-4`},_hoisted_7$5={class:`grid grid-cols-2 gap-4`},_hoisted_8$5={class:`grid grid-cols-2 gap-4`},_hoisted_9$5={class:`flex items-center justify-between`},_hoisted_10$5={class:`flex items-center gap-3`},_hoisted_11$5={class:`font-medium text-slate-800`},_hoisted_12$4={class:`text-sm text-slate-500`},PackageListView_default={__name:`PackageListView`,setup(__props){let listViewRef=ref(null),notificationStore=getNotificationStore(),loading=ref(!1),items=ref([]),totalItems=ref(0),currentPage=ref(1),pageSize=ref(20),selectedItem=ref(null),canDelete=ref(!0),deleteRestriction=ref(``),isNew=ref(!1),sortColumn=ref(`createdAt`),sortDirection=ref(`desc`),formData=reactive({packageNumber:``,salesOrderNumber:``,weight:0,dimensions:``,trackingNumber:``,notes:``}),columns=[{key:`packageNumber`,label:`Package`,sortable:!0},{key:`weight`,label:`Weight`,align:`right`,sortable:!0},{key:`status`,label:`Status`,align:`center`},{key:`createdAt`,label:`Created`,sortable:!0}],itemActions=computed(()=>{if(!selectedItem.value)return[];let status=selectedItem.value.status,actions=[];return(status===`DRAFT`||status===`PACKED`)&&actions.push({id:`ship`,label:`Ship Package`,variant:`default`}),status===`SHIPPED`&&actions.push({id:`deliver`,label:`Mark Delivered`,variant:`success`}),actions}),sortedItems=computed(()=>items.value?.length?[...items.value].sort((a,b)=>{let aVal=a[sortColumn.value]??``,bVal=b[sortColumn.value]??``;return typeof aVal==`number`?sortDirection.value===`asc`?aVal-bVal:bVal-aVal:sortDirection.value===`asc`?String(aVal).localeCompare(String(bVal)):String(bVal).localeCompare(String(aVal))}):[]);onMounted(()=>loadItems());async function loadItems(){loading.value=!0;try{let res=await PackageService_default.getPackages({page:currentPage.value-1,size:pageSize.value});items.value=res.content||(Array.isArray(res)?res:[]),totalItems.value=res.totalElements||items.value.length}catch{notificationStore.toast({title:`Error`,message:`Failed to load packages.`,variant:`error`}),items.value=[]}finally{loading.value=!1}}function handleCreate(){resetForm(),selectedItem.value=null,isNew.value=!0}function handleSelect(item){selectedItem.value=item,isNew.value=!1,Object.assign(formData,{packageNumber:item.packageNumber||``,salesOrderNumber:item.salesOrderNumber||``,weight:item.weight||0,dimensions:item.dimensions||``,trackingNumber:item.trackingNumber||``,notes:item.notes||``}),canDelete.value=item.status===`DRAFT`,deleteRestriction.value=item.status===`DRAFT`?``:`Shipped packages cannot be deleted.`}async function handleSave(){try{let data={salesOrderNumber:formData.salesOrderNumber?.trim()||null,weight:formData.weight,dimensions:formData.dimensions?.trim()||null,trackingNumber:formData.trackingNumber?.trim()||null,notes:formData.notes?.trim()||null};isNew.value?await PackageService_default.createPackage(data):await PackageService_default.updatePackage(selectedItem.value.reference,data),notificationStore.toast({title:`Success`,message:isNew.value?`Created.`:`Updated.`,variant:`success`}),listViewRef.value?.completeSave(),await loadItems(),resetForm(),isNew.value=!1,selectedItem.value=null}catch(e){notificationStore.toast({title:`Error`,message:e.message||`Failed.`,variant:`error`}),listViewRef.value?.completeSave()}}async function handleDelete(item){try{await PackageService_default.deletePackage(item.reference),notificationStore.toast({title:`Success`,message:`Deleted.`,variant:`success`}),await loadItems()}catch(e){notificationStore.toast({title:`Error`,message:e.message||`Failed.`,variant:`error`})}}async function handleAction(action){if(selectedItem.value)try{action.id===`ship`?await PackageService_default.shipPackage(selectedItem.value.reference):action.id===`deliver`&&await PackageService_default.deliverPackage(selectedItem.value.reference),notificationStore.toast({title:`Success`,message:action.id===`ship`?`Shipped.`:`Delivered.`,variant:`success`}),await loadItems(),listViewRef.value?.closeDetail()}catch(e){notificationStore.toast({title:`Error`,message:e.message||`Failed.`,variant:`error`})}}function handleSearch(){currentPage.value=1,loadItems()}function handlePageChange(page){currentPage.value=page,loadItems()}function handleSort(key){sortColumn.value===key?sortDirection.value=sortDirection.value===`asc`?`desc`:`asc`:(sortColumn.value=key,sortDirection.value=`asc`)}function resetForm(){Object.assign(formData,{packageNumber:``,salesOrderNumber:``,weight:0,dimensions:``,trackingNumber:``,notes:``})}function markDirty(){listViewRef.value?.setDirty(!0)}function formatDate(d){return d?new Date(d).toLocaleDateString(`en-NG`,{year:`numeric`,month:`short`,day:`numeric`}):`-`}function getStatusVariant(status){return{DRAFT:`secondary`,PACKED:`outline`,SHIPPED:`default`,DELIVERED:`success`}[status]||`secondary`}return(_ctx,_cache)=>(openBlock(),createBlock(EntityListView_default,{entityName:`Package`,entityPluralName:`Packages`,columns,items:sortedItems.value,loading:loading.value,totalItems:totalItems.value,currentPage:currentPage.value,pageSize:pageSize.value,canDelete:canDelete.value,deleteRestriction:deleteRestriction.value,sortColumn:sortColumn.value,sortDirection:sortDirection.value,actions:itemActions.value,onCreate:handleCreate,onSelect:handleSelect,onSave:handleSave,onDelete:handleDelete,onSearch:handleSearch,onPageChange:handlePageChange,onSort:handleSort,onAction:handleAction,ref_key:`listViewRef`,ref:listViewRef},{"cell-packageNumber":withCtx(({item})=>[createBaseVNode(`div`,_hoisted_1$7,[_cache[6]||=createBaseVNode(`div`,{class:`w-8 h-8 rounded-lg bg-gradient-to-br from-orange-400 to-orange-600 flex items-center justify-center text-white text-xs font-semibold`},`  `,-1),createBaseVNode(`div`,null,[createBaseVNode(`p`,_hoisted_2$7,toDisplayString(item.packageNumber||`No Number`),1),createBaseVNode(`p`,_hoisted_3$6,toDisplayString(item.salesOrderNumber),1)])])]),"cell-weight":withCtx(({value})=>[createBaseVNode(`span`,_hoisted_4$6,toDisplayString(value?`${value} kg`:`-`),1)]),"cell-status":withCtx(({value})=>[createVNode(unref(Badge_default),{variant:getStatusVariant(value)},{default:withCtx(()=>[createTextVNode(toDisplayString(value),1)]),_:2},1032,[`variant`])]),"cell-createdAt":withCtx(({value})=>[createBaseVNode(`span`,_hoisted_5$6,toDisplayString(formatDate(value)),1)]),form:withCtx(({item,isNew:isNew$1})=>[createBaseVNode(`div`,_hoisted_6$5,[createBaseVNode(`div`,_hoisted_7$5,[createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[7]||=[createTextVNode(`Package Number`,-1)]]),_:1}),createVNode(unref(Input_default),{modelValue:formData.packageNumber,"onUpdate:modelValue":_cache[0]||=$event=>formData.packageNumber=$event,placeholder:`PKG-001`,class:`mt-1.5 rounded-full`,disabled:!isNew$1},null,8,[`modelValue`,`disabled`])]),createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[8]||=[createTextVNode(`Sales Order`,-1)]]),_:1}),createVNode(unref(Input_default),{modelValue:formData.salesOrderNumber,"onUpdate:modelValue":_cache[1]||=$event=>formData.salesOrderNumber=$event,placeholder:`SO-001`,class:`mt-1.5 rounded-full`,onInput:markDirty},null,8,[`modelValue`])])]),createBaseVNode(`div`,_hoisted_8$5,[createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[9]||=[createTextVNode(`Weight (kg)`,-1)]]),_:1}),createVNode(unref(Input_default),{modelValue:formData.weight,"onUpdate:modelValue":_cache[2]||=$event=>formData.weight=$event,modelModifiers:{number:!0},type:`number`,placeholder:`0`,class:`mt-1.5 rounded-full`,onInput:markDirty},null,8,[`modelValue`])]),createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[10]||=[createTextVNode(`Dimensions (LxWxH)`,-1)]]),_:1}),createVNode(unref(Input_default),{modelValue:formData.dimensions,"onUpdate:modelValue":_cache[3]||=$event=>formData.dimensions=$event,placeholder:`30x20x15`,class:`mt-1.5 rounded-full`,onInput:markDirty},null,8,[`modelValue`])])]),createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[11]||=[createTextVNode(`Tracking Number`,-1)]]),_:1}),createVNode(unref(Input_default),{modelValue:formData.trackingNumber,"onUpdate:modelValue":_cache[4]||=$event=>formData.trackingNumber=$event,placeholder:`Carrier tracking number`,class:`mt-1.5 rounded-full`,onInput:markDirty},null,8,[`modelValue`])]),createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[12]||=[createTextVNode(`Notes`,-1)]]),_:1}),createVNode(unref(Textarea_default),{modelValue:formData.notes,"onUpdate:modelValue":_cache[5]||=$event=>formData.notes=$event,placeholder:`Package contents, special handling`,rows:`2`,class:`mt-1.5 rounded-2xl`,onInput:markDirty},null,8,[`modelValue`])])])]),"mobile-card":withCtx(({item})=>[createBaseVNode(`div`,_hoisted_9$5,[createBaseVNode(`div`,_hoisted_10$5,[_cache[13]||=createBaseVNode(`div`,{class:`w-10 h-10 rounded-lg bg-gradient-to-br from-orange-400 to-orange-600 flex items-center justify-center text-white`},` `,-1),createBaseVNode(`div`,null,[createBaseVNode(`p`,_hoisted_11$5,toDisplayString(item.packageNumber),1),createBaseVNode(`p`,_hoisted_12$4,toDisplayString(item.weight?`${item.weight} kg`:`No weight`),1)])]),createVNode(unref(Badge_default),{variant:getStatusVariant(item.status)},{default:withCtx(()=>[createTextVNode(toDisplayString(item.status),1)]),_:2},1032,[`variant`])])]),_:1},8,[`items`,`loading`,`totalItems`,`currentPage`,`pageSize`,`canDelete`,`deleteRestriction`,`sortColumn`,`sortDirection`,`actions`]))}},ShipmentService_default={async getShipments({page=0,size=20}={}){return API_default.get(`/org/shipments`,{query:{page,size},authorizeRequest:!0,organisationAware:!0})},async getShipment(reference){return API_default.get(`/org/shipments/${reference}`,{authorizeRequest:!0,organisationAware:!0})},async createShipment(data){return API_default.post(`/org/shipments`,{data,authorizeRequest:!0,organisationAware:!0})},async updateShipment(reference,data){return API_default.put(`/org/shipments/${reference}`,{data,authorizeRequest:!0,organisationAware:!0})},async markInTransit(reference){return API_default.post(`/org/shipments/${reference}/in-transit`,{data:{},authorizeRequest:!0,organisationAware:!0})},async markDelivered(reference){return API_default.post(`/org/shipments/${reference}/delivered`,{data:{},authorizeRequest:!0,organisationAware:!0})},async deleteShipment(reference){return API_default.delete(`/org/shipments/${reference}`,{authorizeRequest:!0,organisationAware:!0})}},_hoisted_1$6={class:`flex items-center gap-3`},_hoisted_2$6={class:`font-medium text-slate-800`},_hoisted_3$5={class:`text-xs text-slate-500`},_hoisted_4$5={class:`text-slate-600 text-sm`},_hoisted_5$5={class:`text-slate-600`},_hoisted_6$4={class:`space-y-4`},_hoisted_7$4={class:`grid grid-cols-2 gap-4`},_hoisted_8$4={class:`grid grid-cols-2 gap-4`},_hoisted_9$4={class:`flex items-center justify-between`},_hoisted_10$4={class:`flex items-center gap-3`},_hoisted_11$4={class:`font-medium text-slate-800`},_hoisted_12$3={class:`text-sm text-slate-500`},ShipmentListView_default={__name:`ShipmentListView`,setup(__props){let listViewRef=ref(null),notificationStore=getNotificationStore(),loading=ref(!1),items=ref([]),totalItems=ref(0),currentPage=ref(1),pageSize=ref(20),selectedItem=ref(null),canDelete=ref(!0),deleteRestriction=ref(``),isNew=ref(!1),sortColumn=ref(`createdAt`),sortDirection=ref(`desc`),formData=reactive({shipmentNumber:``,carrier:``,shipDate:``,expectedDelivery:``,destination:``,trackingNumber:``}),columns=[{key:`shipmentNumber`,label:`Shipment`,sortable:!0},{key:`destination`,label:`Destination`,sortable:!1},{key:`status`,label:`Status`,align:`center`},{key:`shipDate`,label:`Ship Date`,sortable:!0}],itemActions=computed(()=>{if(!selectedItem.value)return[];let status=selectedItem.value.status,actions=[];return status===`PENDING`&&actions.push({id:`transit`,label:`Mark In Transit`,variant:`default`}),status===`IN_TRANSIT`&&actions.push({id:`deliver`,label:`Mark Delivered`,variant:`success`}),actions}),sortedItems=computed(()=>items.value?.length?[...items.value].sort((a,b)=>{let aVal=a[sortColumn.value]??``,bVal=b[sortColumn.value]??``;return typeof aVal==`number`?sortDirection.value===`asc`?aVal-bVal:bVal-aVal:sortDirection.value===`asc`?String(aVal).localeCompare(String(bVal)):String(bVal).localeCompare(String(aVal))}):[]);onMounted(()=>loadItems());async function loadItems(){loading.value=!0;try{let res=await ShipmentService_default.getShipments({page:currentPage.value-1,size:pageSize.value});items.value=res.content||(Array.isArray(res)?res:[]),totalItems.value=res.totalElements||items.value.length}catch{notificationStore.toast({title:`Error`,message:`Failed to load shipments.`,variant:`error`}),items.value=[]}finally{loading.value=!1}}function handleCreate(){resetForm(),selectedItem.value=null,isNew.value=!0,formData.shipDate=new Date().toISOString().split(`T`)[0]}function handleSelect(item){selectedItem.value=item,isNew.value=!1,Object.assign(formData,{shipmentNumber:item.shipmentNumber||``,carrier:item.carrier||``,shipDate:item.shipDate||``,expectedDelivery:item.expectedDelivery||``,destination:item.destination||``,trackingNumber:item.trackingNumber||``}),canDelete.value=item.status===`PENDING`,deleteRestriction.value=item.status===`PENDING`?``:`Active shipments cannot be deleted.`}async function handleSave(){try{let data={carrier:formData.carrier?.trim()||null,shipDate:formData.shipDate||null,expectedDelivery:formData.expectedDelivery||null,destination:formData.destination?.trim()||null,trackingNumber:formData.trackingNumber?.trim()||null};isNew.value?await ShipmentService_default.createShipment(data):await ShipmentService_default.updateShipment(selectedItem.value.reference,data),notificationStore.toast({title:`Success`,message:isNew.value?`Created.`:`Updated.`,variant:`success`}),listViewRef.value?.completeSave(),await loadItems(),resetForm(),isNew.value=!1,selectedItem.value=null}catch(e){notificationStore.toast({title:`Error`,message:e.message||`Failed.`,variant:`error`}),listViewRef.value?.completeSave()}}async function handleDelete(item){try{await ShipmentService_default.deleteShipment(item.reference),notificationStore.toast({title:`Success`,message:`Deleted.`,variant:`success`}),await loadItems()}catch(e){notificationStore.toast({title:`Error`,message:e.message||`Failed.`,variant:`error`})}}async function handleAction(action){if(selectedItem.value)try{action.id===`transit`?await ShipmentService_default.markInTransit(selectedItem.value.reference):action.id===`deliver`&&await ShipmentService_default.markDelivered(selectedItem.value.reference),notificationStore.toast({title:`Success`,message:action.id===`transit`?`In transit.`:`Delivered.`,variant:`success`}),await loadItems(),listViewRef.value?.closeDetail()}catch(e){notificationStore.toast({title:`Error`,message:e.message||`Failed.`,variant:`error`})}}function handleSearch(){currentPage.value=1,loadItems()}function handlePageChange(page){currentPage.value=page,loadItems()}function handleSort(key){sortColumn.value===key?sortDirection.value=sortDirection.value===`asc`?`desc`:`asc`:(sortColumn.value=key,sortDirection.value=`asc`)}function resetForm(){Object.assign(formData,{shipmentNumber:``,carrier:``,shipDate:``,expectedDelivery:``,destination:``,trackingNumber:``})}function markDirty(){listViewRef.value?.setDirty(!0)}function formatDate(d){return d?new Date(d).toLocaleDateString(`en-NG`,{year:`numeric`,month:`short`,day:`numeric`}):`-`}function getStatusVariant(status){return{PENDING:`secondary`,IN_TRANSIT:`default`,DELIVERED:`success`,CANCELLED:`destructive`}[status]||`secondary`}return(_ctx,_cache)=>(openBlock(),createBlock(EntityListView_default,{entityName:`Shipment`,entityPluralName:`Shipments`,columns,items:sortedItems.value,loading:loading.value,totalItems:totalItems.value,currentPage:currentPage.value,pageSize:pageSize.value,canDelete:canDelete.value,deleteRestriction:deleteRestriction.value,sortColumn:sortColumn.value,sortDirection:sortDirection.value,actions:itemActions.value,onCreate:handleCreate,onSelect:handleSelect,onSave:handleSave,onDelete:handleDelete,onSearch:handleSearch,onPageChange:handlePageChange,onSort:handleSort,onAction:handleAction,ref_key:`listViewRef`,ref:listViewRef},{"cell-shipmentNumber":withCtx(({item})=>[createBaseVNode(`div`,_hoisted_1$6,[_cache[6]||=createBaseVNode(`div`,{class:`w-8 h-8 rounded-lg bg-gradient-to-br from-orange-400 to-orange-600 flex items-center justify-center text-white text-xs font-semibold`},`  `,-1),createBaseVNode(`div`,null,[createBaseVNode(`p`,_hoisted_2$6,toDisplayString(item.shipmentNumber||`No Number`),1),createBaseVNode(`p`,_hoisted_3$5,toDisplayString(item.carrier||`No carrier`),1)])])]),"cell-destination":withCtx(({value})=>[createBaseVNode(`span`,_hoisted_4$5,toDisplayString(value||`-`),1)]),"cell-status":withCtx(({value})=>[createVNode(unref(Badge_default),{variant:getStatusVariant(value)},{default:withCtx(()=>[createTextVNode(toDisplayString(value),1)]),_:2},1032,[`variant`])]),"cell-shipDate":withCtx(({value})=>[createBaseVNode(`span`,_hoisted_5$5,toDisplayString(formatDate(value)),1)]),form:withCtx(({item,isNew:isNew$1})=>[createBaseVNode(`div`,_hoisted_6$4,[createBaseVNode(`div`,_hoisted_7$4,[createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[7]||=[createTextVNode(`Shipment Number`,-1)]]),_:1}),createVNode(unref(Input_default),{modelValue:formData.shipmentNumber,"onUpdate:modelValue":_cache[0]||=$event=>formData.shipmentNumber=$event,placeholder:`SHP-001`,class:`mt-1.5 rounded-full`,disabled:!isNew$1},null,8,[`modelValue`,`disabled`])]),createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[8]||=[createTextVNode(`Carrier`,-1)]]),_:1}),createVNode(unref(Input_default),{modelValue:formData.carrier,"onUpdate:modelValue":_cache[1]||=$event=>formData.carrier=$event,placeholder:`DHL, FedEx, etc.`,class:`mt-1.5 rounded-full`,onInput:markDirty},null,8,[`modelValue`])])]),createBaseVNode(`div`,_hoisted_8$4,[createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[9]||=[createTextVNode(`Ship Date`,-1)]]),_:1}),createVNode(unref(Input_default),{modelValue:formData.shipDate,"onUpdate:modelValue":_cache[2]||=$event=>formData.shipDate=$event,type:`date`,class:`mt-1.5 rounded-full`,onInput:markDirty},null,8,[`modelValue`])]),createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[10]||=[createTextVNode(`Expected Delivery`,-1)]]),_:1}),createVNode(unref(Input_default),{modelValue:formData.expectedDelivery,"onUpdate:modelValue":_cache[3]||=$event=>formData.expectedDelivery=$event,type:`date`,class:`mt-1.5 rounded-full`,onInput:markDirty},null,8,[`modelValue`])])]),createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[11]||=[createTextVNode(`Destination Address`,-1)]]),_:1}),createVNode(unref(Textarea_default),{modelValue:formData.destination,"onUpdate:modelValue":_cache[4]||=$event=>formData.destination=$event,placeholder:`Delivery address`,rows:`2`,class:`mt-1.5 rounded-2xl`,onInput:markDirty},null,8,[`modelValue`])]),createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[12]||=[createTextVNode(`Tracking Number`,-1)]]),_:1}),createVNode(unref(Input_default),{modelValue:formData.trackingNumber,"onUpdate:modelValue":_cache[5]||=$event=>formData.trackingNumber=$event,placeholder:`Carrier tracking number`,class:`mt-1.5 rounded-full`,onInput:markDirty},null,8,[`modelValue`])])])]),"mobile-card":withCtx(({item})=>[createBaseVNode(`div`,_hoisted_9$4,[createBaseVNode(`div`,_hoisted_10$4,[_cache[13]||=createBaseVNode(`div`,{class:`w-10 h-10 rounded-lg bg-gradient-to-br from-orange-400 to-orange-600 flex items-center justify-center text-white`},` `,-1),createBaseVNode(`div`,null,[createBaseVNode(`p`,_hoisted_11$4,toDisplayString(item.shipmentNumber),1),createBaseVNode(`p`,_hoisted_12$3,toDisplayString(item.carrier||`No carrier`),1)])]),createVNode(unref(Badge_default),{variant:getStatusVariant(item.status)},{default:withCtx(()=>[createTextVNode(toDisplayString(item.status),1)]),_:2},1032,[`variant`])])]),_:1},8,[`items`,`loading`,`totalItems`,`currentPage`,`pageSize`,`canDelete`,`deleteRestriction`,`sortColumn`,`sortDirection`,`actions`]))}},PurchaseReceiveService_default={async getPurchaseReceives({page=0,size=20}={}){return API_default.get(`/org/purchase-receives`,{query:{page,size},authorizeRequest:!0,organisationAware:!0})},async getPurchaseReceive(reference){return API_default.get(`/org/purchase-receives/${reference}`,{authorizeRequest:!0,organisationAware:!0})},async createPurchaseReceive(data){return API_default.post(`/org/purchase-receives`,{data,authorizeRequest:!0,organisationAware:!0})},async updatePurchaseReceive(reference,data){return API_default.put(`/org/purchase-receives/${reference}`,{data,authorizeRequest:!0,organisationAware:!0})},async confirmReceive(reference){return API_default.post(`/org/purchase-receives/${reference}/confirm`,{data:{},authorizeRequest:!0,organisationAware:!0})},async deletePurchaseReceive(reference){return API_default.delete(`/org/purchase-receives/${reference}`,{authorizeRequest:!0,organisationAware:!0})}},_hoisted_1$5={class:`flex items-center gap-3`},_hoisted_2$5={class:`font-medium text-slate-800`},_hoisted_3$4={class:`text-xs text-slate-500`},_hoisted_4$4={class:`text-slate-600`},_hoisted_5$4={class:`text-slate-600`},_hoisted_6$3={class:`space-y-4`},_hoisted_7$3={class:`grid grid-cols-2 gap-4`},_hoisted_8$3={class:`grid grid-cols-2 gap-4`},_hoisted_9$3={class:`flex items-center justify-between`},_hoisted_10$3={class:`flex items-center gap-3`},_hoisted_11$3={class:`font-medium text-slate-800`},_hoisted_12$2={class:`text-sm text-slate-500`},PurchaseReceiveListView_default={__name:`PurchaseReceiveListView`,setup(__props){let listViewRef=ref(null),notificationStore=getNotificationStore(),loading=ref(!1),items=ref([]),totalItems=ref(0),currentPage=ref(1),pageSize=ref(20),selectedItem=ref(null),canDelete=ref(!0),deleteRestriction=ref(``),isNew=ref(!1),sortColumn=ref(`createdAt`),sortDirection=ref(`desc`),formData=reactive({receiveNumber:``,purchaseOrderNumber:``,vendorName:``,receiveDate:``,notes:``}),columns=[{key:`receiveNumber`,label:`Receive #`,sortable:!0},{key:`vendorName`,label:`Vendor`,sortable:!0},{key:`status`,label:`Status`,align:`center`},{key:`receiveDate`,label:`Date`,sortable:!0}],itemActions=computed(()=>{if(!selectedItem.value)return[];let status=selectedItem.value.status,actions=[];return status===`DRAFT`&&actions.push({id:`confirm`,label:`Confirm Receipt`,variant:`default`}),actions}),sortedItems=computed(()=>items.value?.length?[...items.value].sort((a,b)=>{let aVal=a[sortColumn.value]??``,bVal=b[sortColumn.value]??``;return typeof aVal==`number`?sortDirection.value===`asc`?aVal-bVal:bVal-aVal:sortDirection.value===`asc`?String(aVal).localeCompare(String(bVal)):String(bVal).localeCompare(String(aVal))}):[]);onMounted(()=>loadItems());async function loadItems(){loading.value=!0;try{let res=await PurchaseReceiveService_default.getPurchaseReceives({page:currentPage.value-1,size:pageSize.value});items.value=res.content||(Array.isArray(res)?res:[]),totalItems.value=res.totalElements||items.value.length}catch{notificationStore.toast({title:`Error`,message:`Failed to load.`,variant:`error`}),items.value=[]}finally{loading.value=!1}}function handleCreate(){resetForm(),selectedItem.value=null,isNew.value=!0,formData.receiveDate=new Date().toISOString().split(`T`)[0]}function handleSelect(item){selectedItem.value=item,isNew.value=!1,Object.assign(formData,{receiveNumber:item.receiveNumber||``,purchaseOrderNumber:item.purchaseOrderNumber||``,vendorName:item.vendorName||``,receiveDate:item.receiveDate||``,notes:item.notes||``}),canDelete.value=item.status===`DRAFT`,deleteRestriction.value=item.status===`DRAFT`?``:`Confirmed receives cannot be deleted.`}async function handleSave(){try{let data={purchaseOrderNumber:formData.purchaseOrderNumber?.trim()||null,vendorName:formData.vendorName?.trim()||null,receiveDate:formData.receiveDate||null,notes:formData.notes?.trim()||null};isNew.value?await PurchaseReceiveService_default.createPurchaseReceive(data):await PurchaseReceiveService_default.updatePurchaseReceive(selectedItem.value.reference,data),notificationStore.toast({title:`Success`,message:isNew.value?`Created.`:`Updated.`,variant:`success`}),listViewRef.value?.completeSave(),await loadItems(),resetForm(),isNew.value=!1,selectedItem.value=null}catch(e){notificationStore.toast({title:`Error`,message:e.message||`Failed.`,variant:`error`}),listViewRef.value?.completeSave()}}async function handleDelete(item){try{await PurchaseReceiveService_default.deletePurchaseReceive(item.reference),notificationStore.toast({title:`Success`,message:`Deleted.`,variant:`success`}),await loadItems()}catch(e){notificationStore.toast({title:`Error`,message:e.message||`Failed.`,variant:`error`})}}async function handleAction(action){if(selectedItem.value)try{action.id===`confirm`&&await PurchaseReceiveService_default.confirmReceive(selectedItem.value.reference),notificationStore.toast({title:`Success`,message:`Confirmed.`,variant:`success`}),await loadItems(),listViewRef.value?.closeDetail()}catch(e){notificationStore.toast({title:`Error`,message:e.message||`Failed.`,variant:`error`})}}function handleSearch(){currentPage.value=1,loadItems()}function handlePageChange(page){currentPage.value=page,loadItems()}function handleSort(key){sortColumn.value===key?sortDirection.value=sortDirection.value===`asc`?`desc`:`asc`:(sortColumn.value=key,sortDirection.value=`asc`)}function resetForm(){Object.assign(formData,{receiveNumber:``,purchaseOrderNumber:``,vendorName:``,receiveDate:``,notes:``})}function markDirty(){listViewRef.value?.setDirty(!0)}function formatDate(d){return d?new Date(d).toLocaleDateString(`en-NG`,{year:`numeric`,month:`short`,day:`numeric`}):`-`}function getStatusVariant(status){return{DRAFT:`secondary`,CONFIRMED:`success`}[status]||`secondary`}return(_ctx,_cache)=>(openBlock(),createBlock(EntityListView_default,{entityName:`Purchase Receive`,entityPluralName:`Purchase Receives`,columns,items:sortedItems.value,loading:loading.value,totalItems:totalItems.value,currentPage:currentPage.value,pageSize:pageSize.value,canDelete:canDelete.value,deleteRestriction:deleteRestriction.value,sortColumn:sortColumn.value,sortDirection:sortDirection.value,actions:itemActions.value,onCreate:handleCreate,onSelect:handleSelect,onSave:handleSave,onDelete:handleDelete,onSearch:handleSearch,onPageChange:handlePageChange,onSort:handleSort,onAction:handleAction,ref_key:`listViewRef`,ref:listViewRef},{"cell-receiveNumber":withCtx(({item})=>[createBaseVNode(`div`,_hoisted_1$5,[_cache[5]||=createBaseVNode(`div`,{class:`w-8 h-8 rounded-lg bg-gradient-to-br from-purple-400 to-purple-600 flex items-center justify-center text-white text-xs font-semibold`},`  `,-1),createBaseVNode(`div`,null,[createBaseVNode(`p`,_hoisted_2$5,toDisplayString(item.receiveNumber||`No Number`),1),createBaseVNode(`p`,_hoisted_3$4,`PO: `+toDisplayString(item.purchaseOrderNumber||`-`),1)])])]),"cell-vendorName":withCtx(({value})=>[createBaseVNode(`span`,_hoisted_4$4,toDisplayString(value||`-`),1)]),"cell-status":withCtx(({value})=>[createVNode(unref(Badge_default),{variant:getStatusVariant(value)},{default:withCtx(()=>[createTextVNode(toDisplayString(value),1)]),_:2},1032,[`variant`])]),"cell-receiveDate":withCtx(({value})=>[createBaseVNode(`span`,_hoisted_5$4,toDisplayString(formatDate(value)),1)]),form:withCtx(({item,isNew:isNew$1})=>[createBaseVNode(`div`,_hoisted_6$3,[createBaseVNode(`div`,_hoisted_7$3,[createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[6]||=[createTextVNode(`Receive Number`,-1)]]),_:1}),createVNode(unref(Input_default),{modelValue:formData.receiveNumber,"onUpdate:modelValue":_cache[0]||=$event=>formData.receiveNumber=$event,placeholder:`RCV-001`,class:`mt-1.5 rounded-full`,disabled:!isNew$1},null,8,[`modelValue`,`disabled`])]),createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[7]||=[createTextVNode(`Purchase Order`,-1)]]),_:1}),createVNode(unref(Input_default),{modelValue:formData.purchaseOrderNumber,"onUpdate:modelValue":_cache[1]||=$event=>formData.purchaseOrderNumber=$event,placeholder:`PO-001`,class:`mt-1.5 rounded-full`,onInput:markDirty},null,8,[`modelValue`])])]),createBaseVNode(`div`,_hoisted_8$3,[createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[8]||=[createTextVNode(`Vendor Name`,-1)]]),_:1}),createVNode(unref(Input_default),{modelValue:formData.vendorName,"onUpdate:modelValue":_cache[2]||=$event=>formData.vendorName=$event,placeholder:`Vendor`,class:`mt-1.5 rounded-full`,onInput:markDirty},null,8,[`modelValue`])]),createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[9]||=[createTextVNode(`Receive Date`,-1)]]),_:1}),createVNode(unref(Input_default),{modelValue:formData.receiveDate,"onUpdate:modelValue":_cache[3]||=$event=>formData.receiveDate=$event,type:`date`,class:`mt-1.5 rounded-full`,onInput:markDirty},null,8,[`modelValue`])])]),createBaseVNode(`div`,null,[createVNode(unref(Label_default),{class:`text-sm font-medium text-slate-700`},{default:withCtx(()=>[..._cache[10]||=[createTextVNode(`Notes`,-1)]]),_:1}),createVNode(unref(Textarea_default),{modelValue:formData.notes,"onUpdate:modelValue":_cache[4]||=$event=>formData.notes=$event,placeholder:`Items received, condition, etc.`,rows:`2`,class:`mt-1.5 rounded-2xl`,onInput:markDirty},null,8,[`modelValue`])])])]),"mobile-card":withCtx(({item})=>[createBaseVNode(`div`,_hoisted_9$3,[createBaseVNode(`div`,_hoisted_10$3,[_cache[11]||=createBaseVNode(`div`,{class:`w-10 h-10 rounded-lg bg-gradient-to-br from-purple-400 to-purple-600 flex items-center justify-center text-white`},` `,-1),createBaseVNode(`div`,null,[createBaseVNode(`p`,_hoisted_11$3,toDisplayString(item.receiveNumber),1),createBaseVNode(`p`,_hoisted_12$2,toDisplayString(item.vendorName||`No vendor`),1)])]),createVNode(unref(Badge_default),{variant:getStatusVariant(item.status)},{default:withCtx(()=>[createTextVNode(toDisplayString(item.status),1)]),_:2},1032,[`variant`])])]),_:1},8,[`items`,`loading`,`totalItems`,`currentPage`,`pageSize`,`canDelete`,`deleteRestriction`,`sortColumn`,`sortDirection`,`actions`]))}},_hoisted_1$4={key:0,class:`h-px bg-stone-200 my-1`},_hoisted_2$4=[`onClick`],ContextMenu_default={__name:`ContextMenu`,props:{x:Number,y:Number,items:Array},emits:[`close`,`select`],setup(__props){return(_ctx,_cache)=>(openBlock(),createBlock(Teleport,{to:`body`},[(openBlock(),createElementBlock(`div`,{key:0,class:`fixed inset-0 z-50`,onClick:_cache[1]||=$event=>_ctx.$emit(`close`)},[createBaseVNode(`div`,{style:normalizeStyle({left:__props.x+`px`,top:__props.y+`px`}),class:`absolute bg-stone-50 border border-white rounded-[4px] shadow-lg py-1 min-w-[160px] animate-in fade-in zoom-in-95`,onClick:_cache[0]||=withModifiers(()=>{},[`stop`])},[(openBlock(!0),createElementBlock(Fragment,null,renderList(__props.items,(item,index)=>(openBlock(),createElementBlock(Fragment,{key:index},[item.type===`separator`?(openBlock(),createElementBlock(`div`,_hoisted_1$4)):(openBlock(),createElementBlock(`button`,{key:1,class:normalizeClass([`flex items-center gap-2 w-full px-3 py-1 text-xs text-left transition-colors`,item.variant===`destructive`?`text-red-600 hover:bg-red-50`:`text-stone-700 hover:bg-white`]),onClick:$event=>_ctx.$emit(`select`,item.action)},[item.icon?(openBlock(),createBlock(resolveDynamicComponent(item.icon),{key:0,class:`h-3.5 w-3.5`})):createCommentVNode(``,!0),createTextVNode(` `+toDisplayString(item.label),1)],10,_hoisted_2$4))],64))),128))],4)]))]))}},_hoisted_1$3={class:`flex flex-col h-full`},_hoisted_2$3={class:`flex items-center bg-white border-b border-slate-100 overflow-x-auto`,style:{"scrollbar-width":`none`}},_hoisted_3$3=[`onClick`,`onContextmenu`],_hoisted_4$3={class:`max-w-32 truncate`},_hoisted_5$3={key:0,class:`h-2 w-2 rounded-full bg-blue-500`},_hoisted_6$2={class:`flex-1 overflow-hidden`},_hoisted_7$2={key:29,class:`flex items-center justify-center h-full bg-slate-50`},_hoisted_8$2={class:`text-center`},_hoisted_9$2={class:`text-xl font-semibold text-slate-700`},_hoisted_10$2={key:30,class:`flex items-center justify-center h-full text-slate-400`},_hoisted_11$2={class:`text-center`},WorkspacePanel_default={__name:`WorkspacePanel`,props:{account:Object,openTabs:Array,activeTabId:String},emits:[`tab-change`,`tab-close`,`tab-reorder`,`new-tab`],setup(__props,{emit:__emit}){let props=__props,emit=__emit,openTab=inject(`openTab`),tabContextMenu=ref({show:!1,x:0,y:0,target:null}),saveDialog=ref({show:!1,tabId:null,tabTitle:``}),tabContextMenuItems=computed(()=>[{label:`Close`,action:`close`},{label:`Close Others`,action:`close-others`},{label:`Close All`,action:`close-all`},{type:`separator`},{label:`Duplicate`,action:`duplicate`}]);function getTabIcon(tab){let iconMap={flow:House,document:FileText,spreadsheet:FileSpreadsheet,chart:ChartColumn,text:FileText,image:Image,reconciliation:GitCompare,invoice:Receipt,"tax-report":FileText,Package,Box,SlidersHorizontal,TrendingUp,Users,UserPlus,FileText,Landmark,Scale,Link,BookOpen,Library,Folder,Clock,User,Building,Pin,Settings,BarChart:ChartNoAxesColumnIncreasing,HelpCircle:CircleQuestionMark,Image};return tab.icon&&iconMap[tab.icon]?iconMap[tab.icon]:iconMap[tab.type]||FileText}function createNewTab(type){let timestamp=Date.now();switch(type){case`invoice`:openTab?.({id:`new-invoice-${timestamp}`,type:`invoice`,title:`New Invoice`,icon:`Receipt`,data:{invoiceType:`INVOICE`}});break;case`receipt`:openTab?.({id:`new-receipt-${timestamp}`,type:`invoice`,title:`New Receipt`,icon:`Receipt`,data:{invoiceType:`RECEIPT`}});break;case`spreadsheet`:openTab?.({id:`new-table-${timestamp}`,type:`spreadsheet`,title:`Untitled Table`,icon:`FileSpreadsheet`,data:null});break;case`reconciliation`:openTab?.({id:`new-recon-${timestamp}`,type:`reconciliation`,title:`New Reconciliation`,icon:`GitCompare`,data:null});break;case`upload`:break;case`tax-report`:openTab?.({id:`tax-report-${timestamp}`,type:`tax-report`,title:`Tax Report`,icon:`FileText`,data:null});break}}function handleTabClose(tab){tab.unsaved?saveDialog.value={show:!0,tabId:tab.id,tabTitle:tab.title}:emit(`tab-close`,tab.id)}function saveAndClose(){emit(`tab-close`,saveDialog.value.tabId),saveDialog.value.show=!1}function discardAndClose(){emit(`tab-close`,saveDialog.value.tabId),saveDialog.value.show=!1}function handleInvoiceSaved(tab,invoice){tab.title=invoice.invoiceNumber||`Invoice`,tab.unsaved=!1,invoice.reference&&(tab.data={...tab.data,reference:invoice.reference})}function handleInvoiceSent(tab,invoice){tab.title=invoice.invoiceNumber}function markTabUnsaved(tabId){let tab=props.openTabs.find(t=>t.id===tabId);tab&&(tab.unsaved=!0)}function openTabContextMenu(event,tab){tabContextMenu.value={show:!0,x:event.clientX,y:event.clientY,target:tab}}function handleTabContextAction(action){let target=tabContextMenu.value.target;switch(tabContextMenu.value.show=!1,action){case`close`:handleTabClose(target);break;case`close-others`:props.openTabs.forEach(tab=>{tab.id!==target.id&&tab.closable!==!1&&handleTabClose(tab)});break;case`close-all`:props.openTabs.forEach(tab=>{tab.closable!==!1&&handleTabClose(tab)});break;case`duplicate`:break}}return(_ctx,_cache)=>(openBlock(),createElementBlock(`div`,_hoisted_1$3,[createBaseVNode(`div`,_hoisted_2$3,[(openBlock(!0),createElementBlock(Fragment,null,renderList(__props.openTabs,tab=>(openBlock(),createElementBlock(`div`,{key:tab.id,class:normalizeClass([`group flex items-center gap-2 px-3 py-2 border-r border-slate-100 cursor-pointer text-sm transition-colors min-w-max`,__props.activeTabId===tab.id?`bg-stone-50 text-slate-900`:`bg-white text-slate-500 hover:bg-slate-50`]),onClick:$event=>_ctx.$emit(`tab-change`,tab.id),onContextmenu:withModifiers($event=>openTabContextMenu($event,tab),[`prevent`])},[(openBlock(),createBlock(resolveDynamicComponent(getTabIcon(tab)),{class:`h-3.5 w-3.5`})),createBaseVNode(`span`,_hoisted_4$3,toDisplayString(tab.title),1),tab.unsaved?(openBlock(),createElementBlock(`div`,_hoisted_5$3)):createCommentVNode(``,!0),tab.closable===!1?createCommentVNode(``,!0):(openBlock(),createBlock(unref(Button_default),{key:1,variant:`ghost`,size:`sm`,class:`h-5 w-5 p-0 opacity-0 group-hover:opacity-100 hover:bg-slate-200 rounded-sm`,onClick:withModifiers($event=>handleTabClose(tab),[`stop`])},{default:withCtx(()=>[createVNode(unref(X),{class:`h-3 w-3`})]),_:1},8,[`onClick`]))],42,_hoisted_3$3))),128)),createVNode(unref(DropdownMenu_default),null,{default:withCtx(()=>[createVNode(unref(DropdownMenuTrigger_default),{asChild:``},{default:withCtx(()=>[createVNode(unref(Button_default),{variant:`ghost`,size:`sm`,class:`h-8 w-8 p-0 ml-1`},{default:withCtx(()=>[createVNode(unref(Plus),{class:`h-4 w-4`})]),_:1})]),_:1}),createVNode(unref(DropdownMenuContent_default),{align:`start`,class:`w-48`},{default:withCtx(()=>[createVNode(unref(DropdownMenuItem_default),{onClick:_cache[0]||=$event=>createNewTab(`invoice`)},{default:withCtx(()=>[createVNode(unref(Receipt),{class:`h-4 w-4 mr-2`}),_cache[9]||=createTextVNode(` New Invoice `,-1)]),_:1}),createVNode(unref(DropdownMenuItem_default),{onClick:_cache[1]||=$event=>createNewTab(`receipt`)},{default:withCtx(()=>[createVNode(unref(FileCheck),{class:`h-4 w-4 mr-2`}),_cache[10]||=createTextVNode(` New Receipt `,-1)]),_:1}),createVNode(unref(DropdownMenuSeparator_default)),createVNode(unref(DropdownMenuItem_default),{onClick:_cache[2]||=$event=>createNewTab(`spreadsheet`)},{default:withCtx(()=>[createVNode(unref(FileSpreadsheet),{class:`h-4 w-4 mr-2`}),_cache[11]||=createTextVNode(` New Table `,-1)]),_:1}),createVNode(unref(DropdownMenuItem_default),{onClick:_cache[3]||=$event=>createNewTab(`reconciliation`)},{default:withCtx(()=>[createVNode(unref(GitCompare),{class:`h-4 w-4 mr-2`}),_cache[12]||=createTextVNode(` New Reconciliation `,-1)]),_:1}),createVNode(unref(DropdownMenuSeparator_default)),createVNode(unref(DropdownMenuItem_default),{onClick:_cache[4]||=$event=>createNewTab(`upload`)},{default:withCtx(()=>[createVNode(unref(Upload),{class:`h-4 w-4 mr-2`}),_cache[13]||=createTextVNode(` Upload Document `,-1)]),_:1}),createVNode(unref(DropdownMenuSeparator_default)),createVNode(unref(DropdownMenuItem_default),{onClick:_cache[5]||=$event=>createNewTab(`tax-report`)},{default:withCtx(()=>[createVNode(unref(FileText),{class:`h-4 w-4 mr-2`}),_cache[14]||=createTextVNode(` Tax Report `,-1)]),_:1})]),_:1})]),_:1})]),createBaseVNode(`div`,_hoisted_6$2,[(openBlock(!0),createElementBlock(Fragment,null,renderList(__props.openTabs,tab=>withDirectives((openBlock(),createElementBlock(`div`,{key:tab.id,class:`h-full`},[tab.type===`flow`?(openBlock(),createBlock(WelcomeView_default,{key:0,account:__props.account},null,8,[`account`])):tab.type===`document`?(openBlock(),createBlock(DocumentViewer_default,{key:1,document:tab.data},null,8,[`document`])):tab.type===`spreadsheet`?(openBlock(),createBlock(SpreadsheetEditor_default,{key:2,document:tab.data,onChange:$event=>markTabUnsaved(tab.id)},null,8,[`document`,`onChange`])):tab.type===`chart`?(openBlock(),createBlock(ChartEditor_default,{key:3,document:tab.data,onChange:$event=>markTabUnsaved(tab.id)},null,8,[`document`,`onChange`])):tab.type===`text`?(openBlock(),createBlock(TextEditor_default,{key:4,document:tab.data,onChange:$event=>markTabUnsaved(tab.id)},null,8,[`document`,`onChange`])):tab.type===`image`?(openBlock(),createBlock(ImageViewer_default,{key:5,document:tab.data},null,8,[`document`])):tab.type===`reconciliation`?(openBlock(),createBlock(ReconciliationView_default,{key:6,sessionReference:tab.data?.reference,account:__props.account},null,8,[`sessionReference`,`account`])):tab.type===`invoice`?(openBlock(),createBlock(InvoiceEditor_default,{key:7,invoiceRef:tab.data?.reference,invoiceType:tab.data?.invoiceType||`INVOICE`,account:__props.account,onSaved:$event=>handleInvoiceSaved(tab,$event),onSent:$event=>handleInvoiceSent(tab,$event)},null,8,[`invoiceRef`,`invoiceType`,`account`,`onSaved`,`onSent`])):tab.type===`tax-report`?(openBlock(),createBlock(TaxReportTab_default,{key:8,account:__props.account},null,8,[`account`])):tab.type===`application`&&tab.appId===`customers`?(openBlock(),createBlock(CustomerListView_default,{key:9})):tab.type===`application`&&tab.appId===`items`?(openBlock(),createBlock(ItemListView_default,{key:10})):tab.type===`application`&&tab.appId===`vendors`?(openBlock(),createBlock(VendorListView_default,{key:11})):tab.type===`application`&&tab.appId===`invoices`?(openBlock(),createBlock(InvoiceListView_default,{key:12})):tab.type===`application`&&tab.appId===`quotes`?(openBlock(),createBlock(QuoteListView_default,{key:13})):tab.type===`application`&&tab.appId===`sales-orders`?(openBlock(),createBlock(SalesOrderListView_default,{key:14})):tab.type===`application`&&tab.appId===`bills`?(openBlock(),createBlock(BillListView_default,{key:15})):tab.type===`application`&&tab.appId===`expenses`?(openBlock(),createBlock(ExpenseListView_default,{key:16})):tab.type===`application`&&tab.appId===`purchase-orders`?(openBlock(),createBlock(PurchaseOrderListView_default,{key:17})):tab.type===`application`&&tab.appId===`customer-payments`?(openBlock(),createBlock(CustomerPaymentListView_default,{key:18})):tab.type===`application`&&tab.appId===`credit-notes`?(openBlock(),createBlock(CreditNoteListView_default,{key:19})):tab.type===`application`&&tab.appId===`vendor-payments`?(openBlock(),createBlock(VendorPaymentListView_default,{key:20})):tab.type===`application`&&tab.appId===`vendor-credits`?(openBlock(),createBlock(VendorCreditListView_default,{key:21})):tab.type===`application`&&tab.appId===`inventory-adjustments`?(openBlock(),createBlock(InventoryAdjustmentListView_default,{key:22})):tab.type===`application`&&tab.appId===`recurring-invoices`?(openBlock(),createBlock(RecurringInvoiceListView_default,{key:23})):tab.type===`application`&&tab.appId===`recurring-expenses`?(openBlock(),createBlock(RecurringExpenseListView_default,{key:24})):tab.type===`application`&&tab.appId===`recurring-bills`?(openBlock(),createBlock(RecurringBillListView_default,{key:25})):tab.type===`application`&&tab.appId===`packages`?(openBlock(),createBlock(PackageListView_default,{key:26})):tab.type===`application`&&tab.appId===`shipments`?(openBlock(),createBlock(ShipmentListView_default,{key:27})):tab.type===`application`&&tab.appId===`purchase-receives`?(openBlock(),createBlock(PurchaseReceiveListView_default,{key:28})):tab.type===`application`?(openBlock(),createElementBlock(`div`,_hoisted_7$2,[createBaseVNode(`div`,_hoisted_8$2,[(openBlock(),createBlock(resolveDynamicComponent(getTabIcon(tab)),{class:`h-16 w-16 mx-auto mb-4 text-slate-300`})),createBaseVNode(`h3`,_hoisted_9$2,toDisplayString(tab.title),1),_cache[15]||=createBaseVNode(`p`,{class:`text-slate-500 mt-2`},`Application view coming soon`,-1)])])):(openBlock(),createElementBlock(`div`,_hoisted_10$2,[createBaseVNode(`div`,_hoisted_11$2,[createVNode(unref(FileQuestionMark),{class:`h-12 w-12 mx-auto mb-4 opacity-50`}),createBaseVNode(`p`,null,`Unknown tab type: `+toDisplayString(tab.type),1)])]))],512)),[[vShow,__props.activeTabId===tab.id]])),128))]),tabContextMenu.value.show?(openBlock(),createBlock(ContextMenu_default,{key:0,x:tabContextMenu.value.x,y:tabContextMenu.value.y,items:tabContextMenuItems.value,onClose:_cache[6]||=$event=>tabContextMenu.value.show=!1,onSelect:handleTabContextAction},null,8,[`x`,`y`,`items`])):createCommentVNode(``,!0),createVNode(unref(Dialog_default),{open:saveDialog.value.show,"onUpdate:open":_cache[8]||=$event=>saveDialog.value.show=$event},{default:withCtx(()=>[createVNode(unref(DialogContent_default),{class:`sm:max-w-md`},{default:withCtx(()=>[createVNode(unref(DialogHeader_default),null,{default:withCtx(()=>[createVNode(unref(DialogTitle_default),null,{default:withCtx(()=>[..._cache[16]||=[createTextVNode(`Unsaved Changes`,-1)]]),_:1}),createVNode(unref(DialogDescription_default),null,{default:withCtx(()=>[createTextVNode(` "`+toDisplayString(saveDialog.value.tabTitle)+`" has unsaved changes. Do you want to save before closing? `,1)]),_:1})]),_:1}),createVNode(unref(DialogFooter_default),{class:`flex gap-2 sm:justify-end`},{default:withCtx(()=>[createVNode(unref(Button_default),{variant:`outline`,onClick:discardAndClose},{default:withCtx(()=>[..._cache[17]||=[createTextVNode(` Don't Save `,-1)]]),_:1}),createVNode(unref(Button_default),{variant:`ghost`,onClick:_cache[7]||=$event=>saveDialog.value.show=!1},{default:withCtx(()=>[..._cache[18]||=[createTextVNode(` Cancel `,-1)]]),_:1}),createVNode(unref(Button_default),{onClick:saveAndClose},{default:withCtx(()=>[..._cache[19]||=[createTextVNode(` Save `,-1)]]),_:1})]),_:1})]),_:1})]),_:1},8,[`open`])]))}},_hoisted_1$2={class:`relative border-t-2 border-white flex h-full w-full overflow-hidden`},_hoisted_2$2={class:`flex-1 flex flex-col bg-stone-50 min-w-0`},_hoisted_3$2={class:`p-2 border-b border-slate-100 flex items-center justify-between`},_hoisted_4$2={key:0,class:`text-xs font-semibold text-slate-500 uppercase tracking-wider`},_hoisted_5$2={key:1,class:`flex flex-col items-center py-2`},FlowWorkspace_default={__name:`FlowWorkspace`,props:{account:Object},emits:[`close`,`account-change`],setup(__props,{emit:__emit}){let props=__props,workspaceStore=useWorkspaceStore(),assistantCollapsed=ref(!1),workspaceRef=ref(null),currentContext=computed(()=>({tab:workspaceStore.openTabs.find(t=>t.id===workspaceStore.activeTabId),account:props.account}));return provide(`openTab`,workspaceStore.openTab),(_ctx,_cache)=>(openBlock(),createElementBlock(`div`,_hoisted_1$2,[createBaseVNode(`div`,_hoisted_2$2,[createVNode(WorkspacePanel_default,{ref_key:`workspaceRef`,ref:workspaceRef,account:__props.account,"open-tabs":unref(workspaceStore).openTabs,"active-tab-id":unref(workspaceStore).activeTabId,onTabChange:_cache[0]||=$event=>unref(workspaceStore).setActiveTab($event),onTabClose:_cache[1]||=$event=>unref(workspaceStore).closeTab($event),onTabReorder:_cache[2]||=$event=>unref(workspaceStore).reorderTabs($event)},null,8,[`account`,`open-tabs`,`active-tab-id`])]),createBaseVNode(`div`,{class:normalizeClass([`border-l border-slate-100 bg-white transition-all duration-300 flex flex-col`,assistantCollapsed.value?`w-12`:`w-96`])},[createBaseVNode(`div`,_hoisted_3$2,[createVNode(unref(Button_default),{variant:`ghost`,size:`sm`,class:`h-6 w-6 p-0`,onClick:_cache[3]||=$event=>assistantCollapsed.value=!assistantCollapsed.value},{default:withCtx(()=>[assistantCollapsed.value?(openBlock(),createBlock(unref(ChevronLeft),{key:0,class:`h-4 w-4`})):(openBlock(),createBlock(unref(ChevronRight),{key:1,class:`h-4 w-4`}))]),_:1}),assistantCollapsed.value?createCommentVNode(``,!0):(openBlock(),createElementBlock(`span`,_hoisted_4$2,` Flow Assistant `))]),assistantCollapsed.value?(openBlock(),createElementBlock(`div`,_hoisted_5$2,[createVNode(unref(Button_default),{variant:`ghost`,size:`sm`,class:`h-8 w-8 p-0`,title:`Open Assistant`,onClick:_cache[4]||=$event=>assistantCollapsed.value=!1},{default:withCtx(()=>[createVNode(unref(Sparkles),{class:`h-4 w-4 text-blue-500`})]),_:1})])):(openBlock(),createBlock(AccountAssistant_default,{key:0,account:__props.account,context:currentContext.value,class:`flex-1 overflow-hidden`},null,8,[`account`,`context`]))],2)]))}};const applications=[{id:`inventory-group`,name:`Inventory`,type:`group`,icon:`Package`,background:`bg-orange-500`,apps:[{id:`items`,name:`Items`,icon:`Box`,route:`/inventory/items`,background:`bg-orange-400`},{id:`inventory-adjustments`,name:`Inventory Adjustments`,icon:`SlidersHorizontal`,route:`/inventory/adjustments`,background:`bg-orange-400`},{id:`packages`,name:`Packages`,icon:`Package`,route:`/inventory/packages`,background:`bg-orange-400`},{id:`shipments`,name:`Shipment`,icon:`Truck`,route:`/inventory/shipments`,background:`bg-orange-400`}]},{id:`sales-group`,name:`Sales`,type:`group`,icon:`TrendingUp`,background:`bg-blue-500`,apps:[{id:`customers`,name:`Customers`,icon:`Users`,route:`/sales/customers`,background:`bg-blue-400`},{id:`quotes`,name:`Quotes`,icon:`FileQuestion`,route:`/sales/quotes`,background:`bg-blue-400`},{id:`invoices`,name:`Invoices`,icon:`FileText`,route:`/sales/invoices`,background:`bg-blue-400`},{id:`recurring-invoices`,name:`Recurring Invoice`,icon:`RefreshCw`,route:`/sales/recurring-invoices`,background:`bg-blue-400`},{id:`sales-orders`,name:`Sales Orders`,icon:`ClipboardList`,route:`/sales/orders`,background:`bg-blue-400`},{id:`customer-payments`,name:`Customer Payments`,icon:`Banknote`,route:`/sales/payments`,background:`bg-blue-400`},{id:`credit-notes`,name:`Credit Notes`,icon:`FileMinus`,route:`/sales/credit-notes`,background:`bg-blue-400`}]},{id:`purchases-group`,name:`Purchases`,type:`group`,icon:`ShoppingCart`,background:`bg-purple-500`,apps:[{id:`vendors`,name:`Vendors`,icon:`Store`,route:`/purchases/vendors`,background:`bg-purple-400`},{id:`expenses`,name:`Expenses`,icon:`Wallet`,route:`/purchases/expenses`,background:`bg-purple-400`},{id:`recurring-expenses`,name:`Recurring Expense`,icon:`RefreshCcw`,route:`/purchases/recurring-expenses`,background:`bg-purple-400`},{id:`bills`,name:`Bills`,icon:`FileInput`,route:`/purchases/bills`,background:`bg-purple-400`},{id:`recurring-bills`,name:`Recurring Bill`,icon:`CalendarClock`,route:`/purchases/recurring-bills`,background:`bg-purple-400`},{id:`purchase-orders`,name:`Purchase Orders`,icon:`ShoppingBag`,route:`/purchases/orders`,background:`bg-purple-400`},{id:`purchase-receives`,name:`Purchase Receive`,icon:`PackageCheck`,route:`/purchases/receives`,background:`bg-purple-400`},{id:`vendor-payments`,name:`Vendor Payments`,icon:`Send`,route:`/purchases/payments`,background:`bg-purple-400`},{id:`vendor-credits`,name:`Vendor Credits`,icon:`FilePlus`,route:`/purchases/credits`,background:`bg-purple-400`}]},{id:`finance-group`,name:`Finance`,type:`group`,icon:`Landmark`,background:`bg-green-600`,apps:[{id:`reconciliations`,name:`Reconciliations`,icon:`Scale`,route:`/finance/reconciliations`,background:`bg-green-500`},{id:`connections`,name:`Connections`,icon:`Link`,route:`/finance/connections`,background:`bg-green-500`},{id:`journals`,name:`Journals`,icon:`BookOpen`,route:`/finance/journals`,background:`bg-green-500`},{id:`ledgers`,name:`Ledgers`,icon:`Library`,route:`/finance/ledgers`,background:`bg-green-500`}]},{id:`files-group`,name:`Files`,type:`group`,icon:`Folder`,background:`bg-yellow-500`,apps:[{id:`recents`,name:`Recents`,icon:`Clock`,route:`/files/recents`,background:`bg-yellow-400`},{id:`personal`,name:`Personal`,icon:`User`,route:`/files/personal`,background:`bg-yellow-400`},{id:`organisation`,name:`Organisation`,icon:`Building`,route:`/files/organisation`,background:`bg-yellow-400`},{id:`pinned`,name:`Pinned Files`,icon:`Pin`,route:`/files/pinned`,background:`bg-yellow-400`}]},{id:`settings`,name:`Settings`,type:`app`,icon:`Settings`,route:`/settings`,background:`bg-slate-600`},{id:`users`,name:`Users`,type:`app`,icon:`Users`,route:`/users`,background:`bg-indigo-500`},{id:`reports`,name:`Reports`,type:`app`,icon:`BarChart`,route:`/reports`,background:`bg-purple-500`},{id:`help`,name:`Help`,type:`app`,icon:`HelpCircle`,route:`/help`,background:`bg-teal-500`}];var _hoisted_1$1={key:0,class:`absolute inset-0 z-[100] flex flex-col`},_hoisted_2$1={class:`relative z-10 flex flex-col h-full w-full max-w-7xl mx-auto p-4 md:p-8 pointer-events-none`},_hoisted_3$1={class:`flex justify-center mb-8 mt-4`},_hoisted_4$1={class:`relative w-full max-w-md pointer-events-auto`},_hoisted_5$1={class:`flex-1 relative overflow-hidden flex flex-col justify-center`},_hoisted_6$1={key:0,class:`grid-container h-full`},_hoisted_7$1=[`draggable`,`onDragstart`,`onDrop`,`onClick`],_hoisted_8$1={key:0,class:`grid grid-cols-2 gap-1 p-1.5 w-full h-full`},_hoisted_9$1={class:`text-black text-xs md:text-sm font-medium text-center line-clamp-2 shadow-black drop-shadow-md`},_hoisted_10$1={key:1,class:`h-full overflow-y-auto`},_hoisted_11$1={class:`grid grid-cols-3 md:grid-cols-6 gap-4 md:gap-8 justify-items-center content-start`},_hoisted_12$1=[`onClick`],_hoisted_13$1={class:`text-black text-xs md:text-sm font-medium text-center line-clamp-2 shadow-black drop-shadow-md`},_hoisted_14$1={key:0,class:`flex justify-center gap-2 mt-4 mb-4 pointer-events-auto`},_hoisted_15$1=[`onClick`],_hoisted_16$1={key:0,class:`absolute inset-0 z-20 flex items-center justify-center p-4`},_hoisted_17$1={class:`bg-stone-100/90 backdrop-blur-md rounded-3xl p-6 w-full max-w-2xl shadow-2xl border-4 border-white/50 relative`},_hoisted_18$1={class:`text-xl font-semibold text-slate-800 mb-6 mx-2`},_hoisted_19$1={class:`grid grid-cols-3 md:grid-cols-4 gap-6 justify-items-center`},_hoisted_20$1=[`onClick`],_hoisted_21$1={class:`text-slate-700 text-xs font-medium text-center line-clamp-2`},MOBILE_COLS=3,MOBILE_ROWS=5,ITEMS_PER_PAGE_DESKTOP=24,_sfc_main={__name:`ApplicationsPane`,props:{isOpen:Boolean},emits:[`close`,`open-flow`],setup(__props,{emit:__emit}){let props=__props,emit=__emit,workspaceStore=useWorkspaceStore(),iconMap={Package,Box,SlidersHorizontal,Truck,TrendingUp,Users,UserPlus,FileText,FileQuestion:FileQuestionMark,Receipt,Bookmark,ClipboardList,Banknote,FileMinus,RefreshCw,CreditCard,ShoppingCart,Store,Wallet,FileInput,CalendarClock,ShoppingBag,PackageCheck,Send,FilePlus,RefreshCcw,Landmark,Scale,Link,BookOpen,Library,Folder,Clock,User,Building,Pin,Settings,BarChart:ChartNoAxesColumnIncreasing,HelpCircle:CircleQuestionMark};function cloneApp(app){return app.type===`group`?{...app,apps:app.apps.map(a=>({...a}))}:{...app}}function mergeApplications(persisted,canonical){let canonicalMap=new Map;canonical.forEach(app=>{canonicalMap.set(app.id,app)});let persistedIds=new Set(persisted.map(app=>app.id)),result=[];return persisted.forEach(persistedApp=>{let canonicalApp=canonicalMap.get(persistedApp.id);if(canonicalApp)if(canonicalApp.type===`group`&&persistedApp.type===`group`){let mergedGroup=cloneApp(canonicalApp);mergedGroup.apps=mergeApplications(persistedApp.apps||[],canonicalApp.apps||[]),result.push(mergedGroup)}else result.push(cloneApp(canonicalApp))}),canonical.forEach(canonicalApp=>{persistedIds.has(canonicalApp.id)||result.push(cloneApp(canonicalApp))}),result}let persistedOrder=useStorage(`flow-applications-order`,null),appsList=ref([]);onMounted(()=>{persistedOrder.value&&Array.isArray(persistedOrder.value)?appsList.value=mergeApplications(persistedOrder.value,applications):appsList.value=applications.map(cloneApp)}),watch(appsList,newValue=>{persistedOrder.value=newValue},{deep:!0});let searchQuery=ref(``),currentPage=ref(0),openGroup=ref(null),draggedItem=ref(null),ITEMS_PER_PAGE_MOBILE=MOBILE_COLS*MOBILE_ROWS,isMobile=ref(window.innerWidth<768);window.addEventListener(`resize`,()=>{isMobile.value=window.innerWidth<768});let itemsPerPage=computed(()=>isMobile.value?ITEMS_PER_PAGE_MOBILE:ITEMS_PER_PAGE_DESKTOP),filteredApps=computed(()=>{if(!searchQuery.value)return appsList.value;let query=searchQuery.value.toLowerCase(),results=[],searchInApp=app=>!!app.name.toLowerCase().includes(query);return appsList.value.forEach(item=>{item.type===`group`?(item.name.toLowerCase().includes(query)&&results.push(item),item.apps.forEach(subApp=>{searchInApp(subApp)&&results.push(subApp)})):searchInApp(item)&&results.push(item)}),[...new Set(results)]}),totalPages=computed(()=>Math.ceil(filteredApps.value.length/itemsPerPage.value)),paginatedApps=computed(()=>{if(searchQuery.value)return filteredApps.value;let start=currentPage.value*itemsPerPage.value;return filteredApps.value.slice(start,start+itemsPerPage.value)}),handleAppClick=app=>{app.type===`group`?openGroup.value=app:(workspaceStore.openTab({id:app.id,appId:app.id,title:app.name,icon:app.icon,type:`application`,route:app.route,closable:!0}),emit(`close`),emit(`open-flow`))},closeGroup=()=>{openGroup.value=null},onDragStart=(event,app)=>{searchQuery.value||(draggedItem.value=app,event.dataTransfer.effectAllowed=`move`)},onDragOver=event=>{searchQuery.value||(event.preventDefault(),event.dataTransfer.dropEffect=`move`)},onDrop=(event,targetApp)=>{if(!searchQuery.value){if(event.preventDefault(),draggedItem.value&&draggedItem.value.id!==targetApp.id){let fromIndex=appsList.value.findIndex(a=>a.id===draggedItem.value.id),toIndex=appsList.value.findIndex(a=>a.id===targetApp.id);if(fromIndex!==-1&&toIndex!==-1){let[item]=appsList.value.splice(fromIndex,1);appsList.value.splice(toIndex,0,item)}}draggedItem.value=null}};return watch(()=>props.isOpen,newVal=>{newVal||setTimeout(()=>{searchQuery.value=``,currentPage.value=0,openGroup.value=null},300)}),onKeyStroke(`Escape`,()=>{props.isOpen&&emit(`close`)}),(_ctx,_cache)=>(openBlock(),createBlock(Transition,{name:`fade`},{default:withCtx(()=>[__props.isOpen?(openBlock(),createElementBlock(`div`,_hoisted_1$1,[createBaseVNode(`div`,{class:`absolute inset-0 bg-white/40 backdrop-blur-xl`,onClick:_cache[0]||=$event=>_ctx.$emit(`close`)}),createBaseVNode(`div`,_hoisted_2$1,[createBaseVNode(`div`,_hoisted_3$1,[createBaseVNode(`div`,_hoisted_4$1,[createVNode(unref(Search),{class:`absolute left-3 top-1/2 -translate-y-1/2 text-black/60 h-5 w-5`}),withDirectives(createBaseVNode(`input`,{"onUpdate:modelValue":_cache[1]||=$event=>searchQuery.value=$event,type:`text`,placeholder:`Type to search...`,class:`w-full bg-white/10 border-4 border-stone-50 rounded-full py-3 pl-10 pr-4 text-black placeholder-black/50 focus:outline-none focus:bg-white/20 focus:border-stone-100/80 transition-all`},null,512),[[vModelText,searchQuery.value]])])]),createBaseVNode(`div`,_hoisted_5$1,[searchQuery.value?(openBlock(),createElementBlock(`div`,_hoisted_10$1,[createBaseVNode(`div`,_hoisted_11$1,[(openBlock(!0),createElementBlock(Fragment,null,renderList(filteredApps.value,app=>(openBlock(),createElementBlock(`div`,{key:app.id,class:`flex flex-col items-center gap-2 group cursor-pointer w-20 md:w-24 pointer-events-auto`,onClick:$event=>handleAppClick(app)},[createBaseVNode(`div`,{class:normalizeClass([`w-14 h-14 md:w-16 md:h-16 rounded-2xl flex items-center justify-center shadow-lg transition-transform group-hover:scale-110 duration-200`,app.background])},[(openBlock(),createBlock(resolveDynamicComponent(iconMap[app.icon]),{class:`text-white h-7 w-7 md:h-8 md:w-8`}))],2),createBaseVNode(`span`,_hoisted_13$1,toDisplayString(app.name),1)],8,_hoisted_12$1))),128))])])):(openBlock(),createElementBlock(`div`,_hoisted_6$1,[createVNode(Transition,{name:`slide-fade`,mode:`out-in`},{default:withCtx(()=>[(openBlock(),createElementBlock(`div`,{key:currentPage.value,class:`grid grid-cols-3 md:grid-cols-6 gap-4 md:gap-8 justify-items-center content-start md:content-center h-full`},[(openBlock(!0),createElementBlock(Fragment,null,renderList(paginatedApps.value,app=>(openBlock(),createElementBlock(`div`,{key:app.id,class:`flex flex-col items-center gap-2 group cursor-pointer w-20 md:w-24 pointer-events-auto`,draggable:!searchQuery.value,onDragstart:$event=>onDragStart($event,app),onDragover:onDragOver,onDrop:$event=>onDrop($event,app),onClick:$event=>handleAppClick(app)},[createBaseVNode(`div`,{class:normalizeClass([`w-14 h-14 md:w-16 md:h-16 rounded-2xl flex items-center justify-center shadow-lg transition-transform group-hover:scale-110 duration-200 overflow-hidden`,app.type===`group`?`bg-white/20 backdrop-blur-md border border-white/10`:app.background])},[app.type===`group`?(openBlock(),createElementBlock(`div`,_hoisted_8$1,[(openBlock(!0),createElementBlock(Fragment,null,renderList(app.apps.slice(0,4),subApp=>(openBlock(),createElementBlock(`div`,{key:subApp.id,class:normalizeClass([`rounded-md flex items-center justify-center`,subApp.background])},[(openBlock(),createBlock(resolveDynamicComponent(iconMap[subApp.icon]),{class:`text-white h-3 w-3 md:h-3.5 md:w-3.5`}))],2))),128))])):(openBlock(),createBlock(resolveDynamicComponent(iconMap[app.icon]),{key:1,class:`text-white h-7 w-7 md:h-8 md:w-8`}))],2),createBaseVNode(`span`,_hoisted_9$1,toDisplayString(app.name),1)],40,_hoisted_7$1))),128))]))]),_:1})]))]),!searchQuery.value&&totalPages.value>1?(openBlock(),createElementBlock(`div`,_hoisted_14$1,[(openBlock(!0),createElementBlock(Fragment,null,renderList(totalPages.value,page=>(openBlock(),createElementBlock(`button`,{key:page,onClick:$event=>currentPage.value=page-1,class:normalizeClass([`w-2 h-2 rounded-full transition-all duration-300`,currentPage.value===page-1?`bg-white w-4`:`bg-white/30 hover:bg-white/50`])},null,10,_hoisted_15$1))),128))])):createCommentVNode(``,!0)]),createVNode(Transition,{name:`folder-zoom`},{default:withCtx(()=>[openGroup.value?(openBlock(),createElementBlock(`div`,_hoisted_16$1,[createBaseVNode(`div`,{class:`absolute inset-0 bg-white/50`,onClick:closeGroup}),createBaseVNode(`div`,_hoisted_17$1,[createBaseVNode(`button`,{onClick:closeGroup,class:`absolute top-4 right-4 p-1 rounded-full hover:bg-black/10 transition-colors`},[createVNode(unref(X),{class:`h-5 w-5 text-slate-600`})]),createBaseVNode(`h3`,_hoisted_18$1,toDisplayString(openGroup.value.name),1),createBaseVNode(`div`,_hoisted_19$1,[(openBlock(!0),createElementBlock(Fragment,null,renderList(openGroup.value.apps,app=>(openBlock(),createElementBlock(`div`,{key:app.id,class:`flex flex-col items-center gap-2 group cursor-pointer w-20`,onClick:$event=>handleAppClick(app)},[createBaseVNode(`div`,{class:normalizeClass([`w-14 h-14 rounded-2xl flex items-center justify-center shadow-md transition-transform group-hover:scale-110 duration-200`,app.background])},[(openBlock(),createBlock(resolveDynamicComponent(iconMap[app.icon]),{class:`text-white h-7 w-7`}))],2),createBaseVNode(`span`,_hoisted_21$1,toDisplayString(app.name),1)],8,_hoisted_20$1))),128))])])])):createCommentVNode(``,!0)]),_:1})])):createCommentVNode(``,!0)]),_:1}))}},ApplicationsPane_default=__plugin_vue_export_helper_default(_sfc_main,[[`__scopeId`,`data-v-6724da60`]]),Breadcrumb_default=defineComponent({__name:`Breadcrumb`,props:{class:{}},setup(__props){let props=__props;return(_ctx,_cache)=>(openBlock(),createElementBlock(`nav`,{"aria-label":`breadcrumb`,class:normalizeClass(props.class)},[renderSlot(_ctx.$slots,`default`)],2))}}),BreadcrumbItem_default=defineComponent({__name:`BreadcrumbItem`,props:{class:{}},setup(__props){let props=__props;return(_ctx,_cache)=>(openBlock(),createElementBlock(`li`,{class:normalizeClass(unref(cn)(`inline-flex items-center gap-1.5`,props.class))},[renderSlot(_ctx.$slots,`default`)],2))}}),BreadcrumbLink_default=defineComponent({__name:`BreadcrumbLink`,props:{asChild:{type:Boolean},as:{default:`a`},class:{}},setup(__props){let props=__props;return(_ctx,_cache)=>(openBlock(),createBlock(unref(Primitive),{as:__props.as,"as-child":__props.asChild,class:normalizeClass(unref(cn)(`transition-colors hover:text-foreground`,props.class))},{default:withCtx(()=>[renderSlot(_ctx.$slots,`default`)]),_:3},8,[`as`,`as-child`,`class`]))}}),BreadcrumbList_default=defineComponent({__name:`BreadcrumbList`,props:{class:{}},setup(__props){let props=__props;return(_ctx,_cache)=>(openBlock(),createElementBlock(`ol`,{class:normalizeClass(unref(cn)(`flex flex-wrap items-center gap-1.5 break-words text-xs text-muted-foreground sm:gap-2.5`,props.class))},[renderSlot(_ctx.$slots,`default`)],2))}}),BreadcrumbPage_default=defineComponent({__name:`BreadcrumbPage`,props:{class:{}},setup(__props){let props=__props;return(_ctx,_cache)=>(openBlock(),createElementBlock(`span`,{role:`link`,"aria-disabled":`true`,"aria-current":`page`,class:normalizeClass(unref(cn)(`font-normal text-slate-700`,props.class))},[renderSlot(_ctx.$slots,`default`)],2))}}),_hoisted_1={class:`absolute w-full top-0 z-50`},_hoisted_2={class:`grid grid-flow-col xl:grid-cols-3 shrink-0 items-center gap-2 backdrop-blur-lg bg-stone-50/95 py-1 px-2 border-b-[3px] border-stone-50`},_hoisted_3={class:`flex flex-row items-center opacity-80`},_hoisted_4={class:`lg:flex justify-center space-x-2 hidden`},_hoisted_5={class:`flex justify-end space-x-2`},_hoisted_6={key:0,class:`bg-red-500 h-2 w-2 absolute rounded-full top-[4px] right-[4px] animate-pulse`},_hoisted_7={class:`carousel-container`,style:{height:`100%`}},_hoisted_8={class:`carousel-panel`},_hoisted_9={class:`h-full overflow-y-auto p-4 bg-stone-50`,style:{"scrollbar-width":`none`}},_hoisted_10={class:`carousel-panel`,style:{"padding-top":`45px`}},_hoisted_11={key:0,class:`h-full bg-white`},_hoisted_12={key:0,class:`notifications-overlay`},_hoisted_13={class:`notifications-panel mx-auto md:max-w-3xl mt-4`},_hoisted_14={class:`px-6 py-3 border-b border-slate-100`},_hoisted_15={class:`flex items-center justify-between`},_hoisted_16={class:`text-xs text-black`},_hoisted_17={class:`flex items-center gap-2`},_hoisted_18={class:`flex-1 overflow-y-auto`,style:{"scrollbar-width":`none`,"max-height":`60vh`}},_hoisted_19={key:0,class:`flex flex-col items-center justify-center py-12`},_hoisted_20={class:`px-6 py-4`},_hoisted_21={class:`flex items-start gap-3`},_hoisted_22={class:`flex-shrink-0 mt-0.5`},_hoisted_23={class:`flex-1 min-w-0`},_hoisted_24={class:`text-sm font-medium text-slate-800`},_hoisted_25={class:`text-xs text-slate-500 mt-0.5 line-clamp-2`},_hoisted_26={class:`flex items-center gap-2 mt-2`},_hoisted_27={class:`text-xs text-slate-400`},_hoisted_28={class:`flex items-center gap-1`},_hoisted_29=[`onClick`],_hoisted_30=[`onClick`];const description=`Collapsible nested sidebars.`,iframeHeight=`800px`;var Index_default=__plugin_vue_export_helper_default(defineComponent({__name:`Index`,setup(__props){let notificationStore=getNotificationStore(),unreadCount=computed(()=>notificationStore.unreadCount),notifications=computed(()=>notificationStore.notifications||[]),isFlowOpen=ref(!1),isNotificationsOpen=ref(!1),isApplicationsOpen=ref(!1),toggleFlow=()=>{isFlowOpen.value=!isFlowOpen.value},toggleNotifications=()=>{isNotificationsOpen.value=!isNotificationsOpen.value},closeNotifications=()=>{isNotificationsOpen.value=!1},toggleApplications=()=>{isApplicationsOpen.value=!isApplicationsOpen.value},isCommandDialogOpen=ref(!1),isCalculatorOpen=ref(!1),selectedFlowAccount=ref(null),router=useRouter(),route=useRoute();watch(()=>route.path,()=>{isFlowOpen.value=!1,isNotificationsOpen.value=!1,isApplicationsOpen.value=!1});let handleCommandSelect=command=>{switch(command){case`calculator`:isCalculatorOpen.value=!0;break;case`settings`:router.push(`/manage-organisations`);break;case`profile`:router.push(`/me/profile`);break;case`billing`:router.push(`/billing`);break;default:console.log(`Unknown command:`,command)}},markAsRead=id=>{notificationStore.markAsRead?.(id)},deleteNotification=id=>{notificationStore.deleteNotification?.(id)},markAllAsRead=()=>{notificationStore.markAllAsRead?.()},formatTime=timestamp=>{if(!timestamp)return``;let date=new Date(timestamp),diffMs=new Date().getTime()-date.getTime(),diffMins=Math.floor(diffMs/6e4);return diffMins<1?`Just now`:diffMins<60?`${diffMins}m ago`:diffMins<1440?`${Math.floor(diffMins/60)}h ago`:date.toLocaleDateString()},{ctrl_m}=useMagicKeys();return whenever(ctrl_m,()=>{isCommandDialogOpen.value=!isCommandDialogOpen.value}),(_ctx,_cache)=>{let _component_RouterView=resolveComponent(`RouterView`);return openBlock(),createBlock(unref(SidebarProvider_default),{"storage-key":`navigationSidebar`,style:normalizeStyle([{position:`fixed`},{"--sidebar-width":`260px`}])},{default:withCtx(()=>[(openBlock(),createBlock(Suspense,null,{default:withCtx(()=>[createVNode(AppSidebar_default,{"is-flow-open":isFlowOpen.value,onToggleFlow:toggleFlow,onToggleApplications:toggleApplications},null,8,[`is-flow-open`])]),_:1})),createVNode(unref(SidebarInset_default),{style:{overflow:`hidden`,"max-height":`98vh`},class:`border-solid border border-slate-50`},{default:withCtx(()=>[createBaseVNode(`header`,_hoisted_1,[createBaseVNode(`div`,_hoisted_2,[createBaseVNode(`div`,_hoisted_3,[createVNode(unref(SidebarTrigger_default),{class:`me-1 text-slate-600`}),createVNode(unref(Separator_default),{orientation:`vertical`,class:`ml-0.5 mr-2 h-4 bg-slate-400 opacity-10`}),createVNode(unref(Breadcrumb_default),null,{default:withCtx(()=>[createVNode(unref(BreadcrumbList_default),null,{default:withCtx(()=>[createVNode(unref(BreadcrumbItem_default),{class:`hidden md:block`},{default:withCtx(()=>[createVNode(unref(BreadcrumbLink_default),{href:`#`},{default:withCtx(()=>[..._cache[7]||=[createTextVNode(` Accounts `,-1)]]),_:1})]),_:1}),_cache[8]||=createTextVNode(` / `,-1),createVNode(unref(BreadcrumbItem_default),null,{default:withCtx(()=>[createVNode(unref(BreadcrumbPage_default),null,{default:withCtx(()=>[createTextVNode(toDisplayString(_ctx.$route.name),1)]),_:1})]),_:1})]),_:1})]),_:1})]),createBaseVNode(`div`,_hoisted_4,[createVNode(HeaderCommandInput_default,{onOpenDialog:_cache[0]||=$event=>isCommandDialogOpen.value=!0})]),createBaseVNode(`div`,_hoisted_5,[_ctx.$route.meta.organisationAware?(openBlock(),createElementBlock(`div`,{key:0,class:`cursor-pointer text-xs rounded-full p-2 border border-slate-50 hover:text-neutral-700 hover:bg-stone-200 text-blue-900 transition-all duration-200`,onClick:toggleFlow},[createVNode(unref(Terminal),{class:normalizeClass([`size-4 text-blue-800`,{"text-blue-600":isFlowOpen.value}])},null,8,[`class`])])):createCommentVNode(``,!0),createBaseVNode(`div`,{class:normalizeClass([`relative cursor-pointer rounded-full p-2 border border-slate-50 hover:text-neutral-700 hover:bg-stone-200 text-blue-900 transition-all duration-200`,{"bg-stone-200":isApplicationsOpen.value}]),onClick:toggleApplications},[createVNode(unref(Grip),{class:`size-4`})],2),createBaseVNode(`div`,{class:normalizeClass([`relative cursor-pointer rounded-full p-2 border border-slate-50 hover:text-neutral-700 hover:bg-stone-200 text-blue-900 transition-all duration-200`,{"bg-amber-100 border-amber-200":isNotificationsOpen.value}]),onClick:toggleNotifications},[createVNode(unref(Bell),{class:`size-4`}),unreadCount.value>0?(openBlock(),createElementBlock(`div`,_hoisted_6)):createCommentVNode(``,!0)],2)])])]),createBaseVNode(`div`,_hoisted_7,[createBaseVNode(`div`,{class:normalizeClass([`carousel-track`,{"show-flow":isFlowOpen.value}])},[createBaseVNode(`div`,_hoisted_8,[createBaseVNode(`div`,_hoisted_9,[createVNode(_component_RouterView)])]),createBaseVNode(`div`,_hoisted_10,[_ctx.$route.meta.organisationAware?(openBlock(),createElementBlock(`div`,_hoisted_11,[createVNode(FlowWorkspace_default,{account:selectedFlowAccount.value,onClose:_cache[1]||=$event=>isFlowOpen.value=!1,onAccountChange:_cache[2]||=$event=>selectedFlowAccount.value=$event},null,8,[`account`])])):createCommentVNode(``,!0)])],2)]),createVNode(Transition,{name:`notifications-slide`},{default:withCtx(()=>[isNotificationsOpen.value?(openBlock(),createElementBlock(`div`,_hoisted_12,[createBaseVNode(`div`,{class:`notifications-backdrop`,onClick:closeNotifications}),createBaseVNode(`div`,_hoisted_13,[_cache[11]||=createBaseVNode(`div`,{class:`flex justify-center py-2`},[createBaseVNode(`div`,{class:`w-10 h-1 bg-slate-300 rounded-full`})],-1),createBaseVNode(`div`,_hoisted_14,[createBaseVNode(`div`,_hoisted_15,[createBaseVNode(`div`,null,[_cache[9]||=createBaseVNode(`h2`,{class:`text-lg font-semibold text-black`},`Notifications`,-1),createBaseVNode(`p`,_hoisted_16,toDisplayString(unreadCount.value)+` unread`,1)]),createBaseVNode(`div`,_hoisted_17,[unreadCount.value>0?(openBlock(),createElementBlock(`button`,{key:0,onClick:markAllAsRead,class:`text-xs text-blue-400 hover:text-blue-300 font-medium`},` Mark all read `)):createCommentVNode(``,!0),createBaseVNode(`button`,{onClick:closeNotifications,class:`p-1.5 rounded-full hover:bg-slate-100 text-black hover:text-slate-600`},[createVNode(unref(X),{class:`h-5 w-5`})])])])]),createBaseVNode(`div`,_hoisted_18,[notifications.value.length===0?(openBlock(),createElementBlock(`div`,_hoisted_19,[createVNode(unref(Bell),{class:`h-12 w-12 text-slate-900 mb-4`}),_cache[10]||=createBaseVNode(`p`,{class:`text-black text-sm`},`No notifications yet`,-1)])):createCommentVNode(``,!0),createVNode(TransitionGroup,{name:`notification-item`,tag:`div`,class:`divide-y divide-slate-100`},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(notifications.value,notification=>(openBlock(),createElementBlock(`div`,{key:notification.id,class:normalizeClass([`notification-card text-black hover:text-slate-600 transition-colors`,{"text-blue-50/50":!notification.read}])},[createBaseVNode(`div`,_hoisted_20,[createBaseVNode(`div`,_hoisted_21,[createBaseVNode(`div`,_hoisted_22,[createBaseVNode(`div`,{class:normalizeClass([`h-8 w-8 rounded-full flex items-center justify-center`,notification.type===`success`?`bg-green-100 text-green-600`:notification.type===`warning`?`bg-amber-100 text-amber-600`:notification.type===`error`?`bg-red-100 text-red-600`:`bg-blue-100 text-blue-600`])},[createVNode(unref(Bell),{class:`h-4 w-4`})],2)]),createBaseVNode(`div`,_hoisted_23,[createBaseVNode(`p`,_hoisted_24,toDisplayString(notification.title),1),createBaseVNode(`p`,_hoisted_25,toDisplayString(notification.message),1),createBaseVNode(`div`,_hoisted_26,[createVNode(unref(Clock),{class:`h-3 w-3 text-slate-400`}),createBaseVNode(`span`,_hoisted_27,toDisplayString(formatTime(notification.createdAt)),1)])]),createBaseVNode(`div`,_hoisted_28,[notification.read?createCommentVNode(``,!0):(openBlock(),createElementBlock(`button`,{key:0,onClick:withModifiers($event=>markAsRead(notification.id),[`stop`]),class:`p-1.5 rounded-full hover:bg-green-100 text-slate-400 hover:text-green-600 transition-colors`,title:`Mark as read`},[createVNode(unref(Check),{class:`h-4 w-4`})],8,_hoisted_29)),createBaseVNode(`button`,{onClick:withModifiers($event=>deleteNotification(notification.id),[`stop`]),class:`p-1.5 rounded-full hover:bg-red-100 text-slate-400 hover:text-red-600 transition-colors`,title:`Delete`},[createVNode(unref(Trash2),{class:`h-4 w-4`})],8,_hoisted_30)])])])],2))),128))]),_:1})])])])):createCommentVNode(``,!0)]),_:1}),createVNode(ApplicationsPane_default,{"is-open":isApplicationsOpen.value,onClose:_cache[3]||=$event=>isApplicationsOpen.value=!1,onOpenFlow:_cache[4]||=$event=>isFlowOpen.value=!0},null,8,[`is-open`])]),_:1}),createVNode(CommandDialog_default,{open:isCommandDialogOpen.value,"onUpdate:open":_cache[5]||=$event=>isCommandDialogOpen.value=$event,onSelect:handleCommandSelect},null,8,[`open`]),createVNode(CalculatorDialog_default,{open:isCalculatorOpen.value,"onUpdate:open":_cache[6]||=$event=>isCalculatorOpen.value=$event},null,8,[`open`])]),_:1})}}}),[[`__scopeId`,`data-v-cd073c48`]]);export{Index_default as default,description,iframeHeight};