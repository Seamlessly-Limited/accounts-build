import{A as e,Ct as t,D as n,F as r,K as i,N as a,R as o,S as s,St as c,T as l,U as u,V as d,W as f,X as p,Z as m,b as h,bt as g,f as _,ft as v,g as y,gt as b,i as x,k as S,m as C,o as w,tt as T,v as E,vt as D,w as O,x as k,xt as A,y as j,z as M}from"./index-vegYmq3T.js";import{s as N}from"./dist-CKYLtmjs.js";import"./createLucideIcon-D9N7ZvZo.js";import{_ as P,b as F,g as I}from"./DialogTitle-D9hN0Tmp.js";import{t as L}from"./Collection-X55jeECX.js";import{c as R,i as z,l as B,t as V}from"./VisuallyHidden-DQsaJJLU.js";import{n as ee}from"./DismissableLayer-C7Xmpggo.js";import"./nullish-DDde92Cm.js";import{n as H,t as te}from"./dist-7nj00zp2.js";import{b as ne,c as re,h as ie,i as ae,r as oe,t as U,u as se}from"./useForwardExpose-CjVMQCNw.js";import"./useDirection-BqIOTVvD.js";import{t as ce}from"./Presence-CYlSWKC0.js";import"./PopperRoot-CKXNyGqR.js";import{t as le}from"./BubbleSelect-mf_TJGH-.js";import{t as W}from"./utils-CaRsx_gg.js";import"./UserService-Zddafzqw.js";import{t as ue}from"./Card-j0QewLne.js";import"./BackgroundAnimation-Yw787zml.js";import{t as G}from"./button-LdAq2q73.js";import{t as K}from"./Input-BZy8RJbz.js";import{t as q}from"./use-toast-AQC4aQAd.js";import{t as de}from"./OrganisationService-D-jMBywg.js";import{a as fe,i as pe,n as me,o as J,r as he,t as ge}from"./DialogTitle-BVaO2uHn.js";var _e=n({__name:`DismissableLayerBranch`,props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){let t=e,{forwardRef:n,currentElement:i}=U();return o(()=>{ee.branches.add(i.value)}),M(()=>{ee.branches.delete(i.value)}),(e,i)=>(d(),h(D(H),r({ref:D(n)},t),{default:T(()=>[f(e.$slots,`default`)]),_:3},16))}}),ve=n({__name:`ToastAnnounceExclude`,props:{altText:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){return(e,t)=>(d(),h(D(H),{as:e.as,"as-child":e.asChild,"data-reka-toast-announce-exclude":``,"data-reka-toast-announce-alt":e.altText||void 0},{default:T(()=>[f(e.$slots,`default`)]),_:3},8,[`as`,`as-child`,`data-reka-toast-announce-alt`]))}}),[Y,ye]=B(`ToastProvider`),be=n({inheritAttrs:!1,__name:`ToastProvider`,props:{label:{type:String,required:!1,default:`Notification`},duration:{type:Number,required:!1,default:5e3},disableSwipe:{type:Boolean,required:!1},swipeDirection:{type:String,required:!1,default:`right`},swipeThreshold:{type:Number,required:!1,default:50}},setup(e){let t=e,{label:n,duration:r,disableSwipe:i,swipeDirection:a,swipeThreshold:o}=b(t);L({isProvider:!0});let s=v(),c=v(0),l=v(!1),u=v(!1);if(t.label&&typeof t.label==`string`&&!t.label.trim())throw Error("Invalid prop `label` supplied to `ToastProvider`. Expected non-empty `string`.");return ye({label:n,duration:r,disableSwipe:i,swipeDirection:a,swipeThreshold:o,toastCount:c,viewport:s,onViewportChange(e){s.value=e},onToastAdd(){c.value++},onToastRemove(){c.value--},isFocusedToastEscapeKeyDownRef:l,isClosePausedRef:u}),(e,t)=>f(e.$slots,`default`)}}),xe=n({__name:`ToastAnnounce`,setup(e){let n=Y(),r=ne(1e3),i=v(!1);return re(()=>{i.value=!0}),(e,a)=>D(r)||i.value?(d(),h(D(V),{key:0},{default:T(()=>[O(t(D(n).label.value)+` `,1),f(e.$slots,`default`)]),_:3})):k(`v-if`,!0)}}),X=`toast.viewportPause`,Z=`toast.viewportResume`;function Q(e,t,n){let r=n.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&r.addEventListener(e,t,{once:!0}),r.dispatchEvent(i)}function Se(e,t,n=0){let r=Math.abs(e.x),i=Math.abs(e.y),a=r>i;return t===`left`||t===`right`?a&&r>n:!a&&i>n}function Ce(e){return e.nodeType===e.ELEMENT_NODE}function we(e){let t=[];return Array.from(e.childNodes).forEach(e=>{if(e.nodeType===e.TEXT_NODE&&e.textContent&&t.push(e.textContent),Ce(e)){let n=e.ariaHidden||e.hidden||e.style.display===`none`,r=e.dataset.rekaToastAnnounceExclude===``;if(!n)if(r){let n=e.dataset.rekaToastAnnounceAlt;n&&t.push(n)}else t.push(...we(e))}}),t}var[Te,Ee]=B(`ToastRoot`),De=n({inheritAttrs:!1,__name:`ToastRootImpl`,props:{type:{type:String,required:!1},open:{type:Boolean,required:!1,default:!1},duration:{type:Number,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:`li`}},emits:[`close`,`escapeKeyDown`,`pause`,`resume`,`swipeStart`,`swipeMove`,`swipeCancel`,`swipeEnd`],setup(e,{emit:n}){let i=e,a=n,{forwardRef:c,currentElement:u}=U(),{CollectionItem:g}=L(),b=Y(),x=v(null),S=v(null),w=E(()=>typeof i.duration==`number`?i.duration:b.duration.value),A=v(0),j=v(w.value),N=v(0),P=v(w.value),F=re(()=>{let e=new Date().getTime()-A.value;P.value=Math.max(j.value-e,0)},{fpsLimit:60});function I(e){e<=0||e===1/0||ie&&(window.clearTimeout(N.value),A.value=new Date().getTime(),N.value=window.setTimeout(z,e))}function z(e){let t=e?.pointerType===``;u.value?.contains(R())&&t&&b.viewport.value?.focus(),t&&(b.isClosePausedRef.value=!1),a(`close`)}let B=E(()=>u.value?we(u.value):null);if(i.type&&![`foreground`,`background`].includes(i.type))throw Error("Invalid prop `type` supplied to `Toast`. Expected `foreground | background`.");return m(e=>{let t=b.viewport.value;if(t){let e=()=>{I(j.value),F.resume(),a(`resume`)},n=()=>{let e=new Date().getTime()-A.value;j.value-=e,window.clearTimeout(N.value),F.pause(),a(`pause`)};return t.addEventListener(X,n),t.addEventListener(Z,e),()=>{t.removeEventListener(X,n),t.removeEventListener(Z,e)}}}),p(()=>[i.open,w.value],()=>{j.value=w.value,i.open&&!b.isClosePausedRef.value&&I(w.value)},{immediate:!0}),oe(`Escape`,e=>{a(`escapeKeyDown`,e),e.defaultPrevented||(b.isFocusedToastEscapeKeyDownRef.value=!0,z())}),o(()=>{b.onToastAdd()}),M(()=>{b.onToastRemove()}),Ee({onClose:z}),(e,n)=>(d(),s(C,null,[B.value?(d(),h(xe,{key:0,role:`alert`,"aria-live":e.type===`foreground`?`assertive`:`polite`,"aria-atomic":`true`},{default:T(()=>[O(t(B.value),1)]),_:1},8,[`aria-live`])):k(`v-if`,!0),D(b).viewport.value?(d(),h(y,{key:1,to:D(b).viewport.value},[l(D(g),null,{default:T(()=>[l(D(H),r({ref:D(c),role:`alert`,"aria-live":`off`,"aria-atomic":`true`,tabindex:`0`},e.$attrs,{as:e.as,"as-child":e.asChild,"data-state":e.open?`open`:`closed`,"data-swipe-direction":D(b).swipeDirection.value,style:D(b).disableSwipe.value?void 0:{userSelect:`none`,touchAction:`none`},onPointerdown:n[0]||=_(e=>{D(b).disableSwipe.value||(x.value={x:e.clientX,y:e.clientY})},[`left`]),onPointermove:n[1]||=e=>{if(D(b).disableSwipe.value||!x.value)return;let t=e.clientX-x.value.x,n=e.clientY-x.value.y,r=!!S.value,i=[`left`,`right`].includes(D(b).swipeDirection.value),o=[`left`,`up`].includes(D(b).swipeDirection.value)?Math.min:Math.max,s=i?o(0,t):0,c=i?0:o(0,n),l=e.pointerType===`touch`?10:2,u={x:s,y:c},d={originalEvent:e,delta:u};r?(S.value=u,D(Q)(D(`toast.swipeMove`),e=>a(`swipeMove`,e),d)):D(Se)(u,D(b).swipeDirection.value,l)?(S.value=u,D(Q)(D(`toast.swipeStart`),e=>a(`swipeStart`,e),d),e.target.setPointerCapture(e.pointerId)):(Math.abs(t)>l||Math.abs(n)>l)&&(x.value=null)},onPointerup:n[2]||=e=>{if(D(b).disableSwipe.value)return;let t=S.value,n=e.target;if(n.hasPointerCapture(e.pointerId)&&n.releasePointerCapture(e.pointerId),S.value=null,x.value=null,t){let n=e.currentTarget,r={originalEvent:e,delta:t};D(Se)(t,D(b).swipeDirection.value,D(b).swipeThreshold.value)?D(Q)(D(`toast.swipeEnd`),e=>a(`swipeEnd`,e),r):D(Q)(D(`toast.swipeCancel`),e=>a(`swipeCancel`,e),r),n?.addEventListener(`click`,e=>e.preventDefault(),{once:!0})}}}),{default:T(()=>[f(e.$slots,`default`,{remaining:P.value,duration:w.value})]),_:3},16,[`as`,`as-child`,`data-state`,`data-swipe-direction`,`style`])]),_:3})],8,[`to`])):k(`v-if`,!0)],64))}}),Oe=n({__name:`ToastClose`,props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:`button`}},setup(e){let t=e,n=Te(),{forwardRef:i}=U();return(e,a)=>(d(),h(ve,{"as-child":``},{default:T(()=>[l(D(H),r(t,{ref:D(i),type:e.as===`button`?`button`:void 0,onClick:D(n).onClose}),{default:T(()=>[f(e.$slots,`default`)]),_:3},16,[`type`,`onClick`])]),_:3}))}}),ke=n({__name:`ToastDescription`,props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){let t=e;return U(),(e,n)=>(d(),h(D(H),A(S(t)),{default:T(()=>[f(e.$slots,`default`)]),_:3},16))}}),Ae=n({__name:`ToastRoot`,props:{defaultOpen:{type:Boolean,required:!1,default:!0},forceMount:{type:Boolean,required:!1},type:{type:String,required:!1,default:`foreground`},open:{type:Boolean,required:!1,default:void 0},duration:{type:Number,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:`li`}},emits:[`escapeKeyDown`,`pause`,`resume`,`swipeStart`,`swipeMove`,`swipeCancel`,`swipeEnd`,`update:open`],setup(e,{emit:t}){let n=e,i=t,{forwardRef:a}=U(),o=se(n,`open`,i,{defaultValue:n.defaultOpen,passive:n.open===void 0});return(e,t)=>(d(),h(D(ce),{present:e.forceMount||D(o)},{default:T(()=>[l(De,r({ref:D(a),open:D(o),type:e.type,as:e.as,"as-child":e.asChild,duration:e.duration},e.$attrs,{onClose:t[0]||=e=>o.value=!1,onPause:t[1]||=e=>i(`pause`),onResume:t[2]||=e=>i(`resume`),onEscapeKeyDown:t[3]||=e=>i(`escapeKeyDown`,e),onSwipeStart:t[4]||=e=>{i(`swipeStart`,e),e.defaultPrevented||e.currentTarget.setAttribute(`data-swipe`,`start`)},onSwipeMove:t[5]||=e=>{if(i(`swipeMove`,e),!e.defaultPrevented){let{x:t,y:n}=e.detail.delta,r=e.currentTarget;r.setAttribute(`data-swipe`,`move`),r.style.setProperty(`--reka-toast-swipe-move-x`,`${t}px`),r.style.setProperty(`--reka-toast-swipe-move-y`,`${n}px`)}},onSwipeCancel:t[6]||=e=>{if(i(`swipeCancel`,e),!e.defaultPrevented){let t=e.currentTarget;t.setAttribute(`data-swipe`,`cancel`),t.style.removeProperty(`--reka-toast-swipe-move-x`),t.style.removeProperty(`--reka-toast-swipe-move-y`),t.style.removeProperty(`--reka-toast-swipe-end-x`),t.style.removeProperty(`--reka-toast-swipe-end-y`)}},onSwipeEnd:t[7]||=e=>{if(i(`swipeEnd`,e),!e.defaultPrevented){let{x:t,y:n}=e.detail.delta,r=e.currentTarget;r.setAttribute(`data-swipe`,`end`),r.style.removeProperty(`--reka-toast-swipe-move-x`),r.style.removeProperty(`--reka-toast-swipe-move-y`),r.style.setProperty(`--reka-toast-swipe-end-x`,`${t}px`),r.style.setProperty(`--reka-toast-swipe-end-y`,`${n}px`),o.value=!1}}}),{default:T(({remaining:t,duration:n})=>[f(e.$slots,`default`,{remaining:t,duration:n,open:D(o)})]),_:3},16,[`open`,`type`,`as`,`as-child`,`duration`])]),_:3},8,[`present`]))}}),je=n({__name:`ToastTitle`,props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){let t=e;return U(),(e,n)=>(d(),h(D(H),A(S(t)),{default:T(()=>[f(e.$slots,`default`)]),_:3},16))}}),Me=n({__name:`FocusProxy`,emits:[`focusFromOutsideViewport`],setup(e,{emit:t}){let n=t,r=Y();return(e,t)=>(d(),h(D(V),{"aria-hidden":`true`,tabindex:`0`,style:{position:`fixed`},onFocus:t[0]||=e=>{let t=e.relatedTarget;D(r).viewport.value?.contains(t)||n(`focusFromOutsideViewport`)}},{default:T(()=>[f(e.$slots,`default`)]),_:3}))}}),Ne=n({inheritAttrs:!1,__name:`ToastViewport`,props:{hotkey:{type:Array,required:!1,default:()=>[`F8`]},label:{type:[String,Function],required:!1,default:`Notifications ({hotkey})`},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:`ol`}},setup(e){let{hotkey:t,label:n}=b(e),{forwardRef:i,currentElement:a}=U(),{CollectionSlot:s,getItems:u}=L(),p=Y(),g=E(()=>p.toastCount.value>0),_=v(),y=v(),x=E(()=>t.value.join(`+`).replace(/Key/g,``).replace(/Digit/g,``));oe(t.value,()=>{a.value.focus()}),o(()=>{p.onViewportChange(a.value)}),m(e=>{let t=a.value;if(g.value&&t){let n=()=>{if(!p.isClosePausedRef.value){let e=new CustomEvent(X);t.dispatchEvent(e),p.isClosePausedRef.value=!0}},r=()=>{if(p.isClosePausedRef.value){let e=new CustomEvent(Z);t.dispatchEvent(e),p.isClosePausedRef.value=!1}},i=e=>{t.contains(e.relatedTarget)||r()},a=()=>{t.contains(R())||r()},o=e=>{let n=e.altKey||e.ctrlKey||e.metaKey;if(e.key===`Tab`&&!n){let n=R(),r=e.shiftKey;if(e.target===t&&r){_.value?.focus();return}let i=S({tabbingDirection:r?`backwards`:`forwards`}),a=i.findIndex(e=>e===n);I(i.slice(a+1))?e.preventDefault():r?_.value?.focus():y.value?.focus()}};t.addEventListener(`focusin`,n),t.addEventListener(`focusout`,i),t.addEventListener(`pointermove`,n),t.addEventListener(`pointerleave`,a),t.addEventListener(`keydown`,o),window.addEventListener(`blur`,n),window.addEventListener(`focus`,r),e(()=>{t.removeEventListener(`focusin`,n),t.removeEventListener(`focusout`,i),t.removeEventListener(`pointermove`,n),t.removeEventListener(`pointerleave`,a),t.removeEventListener(`keydown`,o),window.removeEventListener(`blur`,n),window.removeEventListener(`focus`,r)})}});function S({tabbingDirection:e}){let t=u().map(e=>e.ref).map(t=>{let n=[t,...P(t)];return e===`forwards`?n:n.reverse()});return(e===`forwards`?t.reverse():t).flat()}return(e,t)=>(d(),h(D(_e),{role:`region`,"aria-label":typeof D(n)==`string`?D(n).replace(`{hotkey}`,x.value):D(n)(x.value),tabindex:`-1`,style:c({pointerEvents:g.value?void 0:`none`})},{default:T(()=>[g.value?(d(),h(Me,{key:0,ref:e=>{_.value=D(ae)(e)},onFocusFromOutsideViewport:t[0]||=()=>{let e=S({tabbingDirection:`forwards`});D(I)(e)}},null,512)):k(`v-if`,!0),l(D(s),null,{default:T(()=>[l(D(H),r({ref:D(i),tabindex:`-1`,as:e.as,"as-child":e.asChild},e.$attrs),{default:T(()=>[f(e.$slots,`default`)]),_:3},16,[`as`,`as-child`])]),_:3}),g.value?(d(),h(Me,{key:1,ref:e=>{y.value=D(ae)(e)},onFocusFromOutsideViewport:t[1]||=()=>{let e=S({tabbingDirection:`backwards`});D(I)(e)}},null,512)):k(`v-if`,!0)]),_:3},8,[`aria-label`,`style`]))}}),Pe=n({__name:`Select`,props:{open:{type:Boolean},defaultOpen:{type:Boolean},defaultValue:{},modelValue:{},by:{type:[String,Function]},dir:{},multiple:{type:Boolean},autocomplete:{},disabled:{type:Boolean},name:{},required:{type:Boolean}},emits:[`update:modelValue`,`update:open`],setup(e,{emit:t}){let n=z(e,t);return(e,t)=>(d(),h(D(le),r({"data-slot":`select`},D(n)),{default:T(()=>[f(e.$slots,`default`)]),_:3},16))}}),Fe=n({__name:`DialogFooter`,props:{class:{}},setup(e){let t=e;return(e,n)=>(d(),s(`div`,{"data-slot":`dialog-footer`,class:g(D(W)(`flex flex-col-reverse gap-2 sm:flex-row sm:justify-end`,t.class))},[f(e.$slots,`default`)],2))}}),Ie=n({__name:`Toast`,props:{class:{},variant:{},onOpenChange:{type:Function},defaultOpen:{type:Boolean},forceMount:{type:Boolean},type:{},open:{type:Boolean},duration:{},asChild:{type:Boolean},as:{}},emits:[`escapeKeyDown`,`pause`,`resume`,`swipeStart`,`swipeMove`,`swipeCancel`,`swipeEnd`,`update:open`],setup(e,{emit:t}){let n=e,i=t,a=N(n,`class`),o=z(a,i);return(t,i)=>(d(),h(D(Ae),r(D(o),{class:D(W)(D(Ue)({variant:e.variant}),n.class),"onUpdate:open":e.onOpenChange}),{default:T(()=>[f(t.$slots,`default`)]),_:3},16,[`class`,`onUpdate:open`]))}}),Le=n({__name:`ToastClose`,props:{asChild:{type:Boolean},as:{},class:{}},setup(e){let t=e,n=N(t,`class`);return(e,i)=>(d(),h(D(Oe),r(D(n),{class:D(W)(`absolute right-1 top-1 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-1 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600`,t.class)}),{default:T(()=>[l(D(F),{class:`h-4 w-4`})]),_:1},16,[`class`]))}}),$=n({__name:`ToastDescription`,props:{asChild:{type:Boolean},as:{},class:{}},setup(e){let t=e,n=N(t,`class`);return(e,i)=>(d(),h(D(ke),r({class:D(W)(`text-sm opacity-90`,t.class)},D(n)),{default:T(()=>[f(e.$slots,`default`)]),_:3},16,[`class`]))}}),Re={class:`grid gap-1`},ze=n({__name:`Toaster`,setup(e){let{toasts:n}=q();return(e,o)=>(d(),h(D(Be),null,{default:T(()=>[(d(!0),s(C,null,u(D(n),e=>(d(),h(D(Ie),r({class:`rounded-sm border-slate-300 border-solid my-2`,key:e.id},{ref_for:!0},e),{default:T(()=>[j(`div`,Re,[e.title?(d(),h(D(Ve),{key:0},{default:T(()=>[O(t(e.title),1)]),_:2},1024)):k(``,!0),e.description?(d(),s(C,{key:1},[a(e.description)?(d(),h(D($),{key:0},{default:T(()=>[(d(),h(i(e.description)))]),_:2},1024)):(d(),h(D($),{key:1},{default:T(()=>[O(t(e.description),1)]),_:2},1024))],64)):k(``,!0),l(D(Le))]),(d(),h(i(e.action)))]),_:2},1040))),128)),l(D(He))]),_:1}))}}),Be=n({__name:`ToastProvider`,props:{label:{},duration:{},disableSwipe:{type:Boolean},swipeDirection:{},swipeThreshold:{}},setup(e){let t=e;return(e,n)=>(d(),h(D(be),A(S(t)),{default:T(()=>[f(e.$slots,`default`)]),_:3},16))}}),Ve=n({__name:`ToastTitle`,props:{asChild:{type:Boolean},as:{},class:{}},setup(e){let t=e,n=N(t,`class`);return(e,i)=>(d(),h(D(je),r(D(n),{class:D(W)(`text-sm font-semibold [&+div]:text-xs`,t.class)}),{default:T(()=>[f(e.$slots,`default`)]),_:3},16,[`class`]))}}),He=n({__name:`ToastViewport`,props:{hotkey:{},label:{type:[String,Function]},asChild:{type:Boolean},as:{},class:{}},setup(e){let t=e,n=N(t,`class`);return(e,i)=>(d(),h(D(Ne),r(D(n),{class:D(W)(`fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]`,t.class)}),null,16,[`class`]))}});const Ue=te(`group pointer-events-auto relative flex w-full items-center justify-between space-x-2 overflow-hidden rounded-md border p-4 pr-6 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--reka-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--reka-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full`,{variants:{variant:{default:`border bg-background text-foreground`,destructive:`destructive group border-destructive bg-destructive text-destructive-foreground`}},defaultVariants:{variant:`default`}});var We={class:`relative w-full min-h-screen overflow-y-scroll rounded-sm`,style:{"scrollbar-width":`none`}},Ge={class:`container mx-auto py-12 md:py-15 relative`},Ke={key:0,class:`flex justify-between items-center mb-8`},qe={key:1,class:`text-center py-20`},Je={key:2,class:`text-center py-40`},Ye={key:3,class:`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6`},Xe={class:`flex justify-between items-start mb-4`},Ze={class:`font-semibold text-lg text-slate-800`},Qe={class:`space-y-2 text-sm text-gray-600`},$e={class:`flex items-center`},et={class:`flex items-center`},tt={key:0,class:`flex items-center`},nt={class:`flex justify-between items-center mt-6 pt-4 border-t`},rt={class:`text-xs text-gray-500`},it={class:`grid gap-4 py-4`},at={class:`grid grid-cols-2 gap-4`},ot={class:`grid grid-cols-2 gap-4`},st={key:0,class:`fa fa-cog animate-spin mr-2`},ct={__name:`Manage`,setup(n){let{toast:r}=q(),i=x(),a=w(),c=v(!0),f=v(!1),p=v(!1),m=v([]),g=[{label:`Limited Company`,value:`limited`},{label:`Enterprise`,value:`enterprise`},{label:`Sole Proprietorship`,value:`sole_proprietorship`},{label:`Partnership`,value:`partnership`}],y=v({name:``,type:``,tin:``,cac_no:``,country:``,state:``});o(async()=>{await b()});async function b(){try{c.value=!0,m.value=await de.list()}catch{r({id:`load-organisations-error`,title:`Uh oh! Something went wrong.`,description:`We could not load your organisations`,action:e(G,{variant:`default`,size:`sm`,onClick:b},`Retry`)})}finally{c.value=!1}}async function S(){try{f.value=!0;let e=await de.create(y.value);a.toast({message:`Organisation created successfully!`,duration:3e3,type:`success`}),p.value=!1,m.value.push(e),P()}catch(e){a.toast({message:e.message||`Failed to create organisation`,duration:5e3,type:`error`})}finally{f.value=!1}}function E(e){i.push(`/organisations/${e.id}/dashboard`)}function A(e){i.push(`/organisations/${e.id}/settings`)}function M(e){return{Owner:`default`,Accountant:`secondary`,Auditor:`outline`}[e]||`outline`}function N(e){return new Date(e).toLocaleDateString()}function P(){y.value={name:``,type:``,tin:``,cac_no:``,country:``,state:``}}return(e,n)=>(d(),s(C,null,[l(D(ze),{top:``}),j(`div`,We,[j(`div`,Ge,[m.value.length===0?k(``,!0):(d(),s(`div`,Ke,[n[11]||=j(`div`,null,[j(`h1`,{class:`text-3xl font-bold text-slate-700`},`My Organisations`),j(`p`,{class:`text-gray-600 mt-2`},`Manage your business entities and teams`)],-1),l(D(G),{class:`rounded-full`,onClick:n[0]||=e=>p.value=!0},{default:T(()=>[...n[10]||=[j(`i`,{class:`fa fa-plus mr-2`},null,-1),O(` New Organisation `,-1)]]),_:1})])),c.value?(d(),s(`div`,qe,[...n[12]||=[j(`i`,{class:`fa fa-cog animate-spin text-4xl text-gray-500`},null,-1),j(`p`,{class:`mt-4 text-gray-600`},`Loading organisations...`,-1)]])):m.value.length===0?(d(),s(`div`,Je,[n[14]||=j(`i`,{class:`fa fa-building text-4xl text-gray-300 mb-4`},null,-1),n[15]||=j(`h3`,{class:`text-xl font-semibold text-gray-700`},`No organisations yet`,-1),n[16]||=j(`p`,{class:`text-gray-600 mt-2 mb-6`},`Create your first organisation to get started`,-1),l(D(G),{class:`rounded-full`,onClick:n[1]||=e=>D(i).push(`/add-organisation`)},{default:T(()=>[...n[13]||=[O(` Create Organisation `,-1)]]),_:1})])):(d(),s(`div`,Ye,[(d(!0),s(C,null,u(m.value,e=>(d(),h(D(ue),{key:e.id,class:`p-6 shadow-none transition-shadow cursor-pointer`,onClick:t=>E(e)},{default:T(()=>[j(`div`,Xe,[j(`div`,null,[j(`h3`,Ze,t(e.name),1),l(D(J),{variant:M(e.userRole),class:`mt-1`},{default:T(()=>[O(t(e.userRole),1)]),_:2},1032,[`variant`])]),n[17]||=j(`i`,{class:`fa fa-building text-gray-400 text-xl`},null,-1)]),j(`div`,Qe,[j(`div`,$e,[n[18]||=j(`i`,{class:`fa fa-id-card mr-2 w-4`},null,-1),j(`span`,null,t(e.type),1)]),j(`div`,et,[n[19]||=j(`i`,{class:`fa fa-map-marker mr-2 w-4`},null,-1),j(`span`,null,t(e.country)+`, `+t(e.state),1)]),e.jurisdiction_code?(d(),s(`div`,tt,[n[20]||=j(`i`,{class:`fa fa-balance-scale mr-2 w-4`},null,-1),j(`span`,null,t(e.jurisdiction_code),1),e.ai_confidence_score?(d(),h(D(J),{key:0,class:`ml-2`,variant:`outline`},{default:T(()=>[O(t(Math.round(e.ai_confidence_score*100))+`% `,1)]),_:2},1024)):k(``,!0)])):k(``,!0)]),j(`div`,nt,[j(`span`,rt,t(N(e.created_at)),1),e.userRole===`Owner`?(d(),h(D(G),{key:0,variant:`ghost`,size:`sm`,onClick:_(t=>A(e),[`stop`]),class:`rounded-full`},{default:T(()=>[...n[21]||=[j(`i`,{class:`fa fa-cog`},null,-1)]]),_:1},8,[`onClick`])):k(``,!0)])]),_:2},1032,[`onClick`]))),128))]))]),l(D(fe),{open:p.value,"onUpdate:open":n[9]||=e=>p.value=e},{default:T(()=>[l(D(pe),{class:`sm:max-w-[500px]`},{default:T(()=>[l(D(me),null,{default:T(()=>[l(D(ge),null,{default:T(()=>[...n[22]||=[O(`Create New Organisation`,-1)]]),_:1}),l(D(he),null,{default:T(()=>[...n[23]||=[O(` Register a new business entity to manage taxes and compliance. `,-1)]]),_:1})]),_:1}),j(`form`,{onSubmit:_(S,[`prevent`])},[j(`div`,it,[l(D(K),{label:`Organisation Name`,modelValue:y.value.name,"onUpdate:modelValue":n[2]||=e=>y.value.name=e,required:``},null,8,[`modelValue`]),l(D(Pe),{label:`Organisation Type`,modelValue:y.value.type,"onUpdate:modelValue":n[3]||=e=>y.value.type=e,options:g,required:``},null,8,[`modelValue`]),j(`div`,at,[l(D(K),{label:`TIN`,modelValue:y.value.tin,"onUpdate:modelValue":n[4]||=e=>y.value.tin=e,required:``},null,8,[`modelValue`]),l(D(K),{label:`CAC Number`,modelValue:y.value.cac_no,"onUpdate:modelValue":n[5]||=e=>y.value.cac_no=e},null,8,[`modelValue`])]),j(`div`,ot,[l(D(K),{label:`Country`,modelValue:y.value.country,"onUpdate:modelValue":n[6]||=e=>y.value.country=e,required:``},null,8,[`modelValue`]),l(D(K),{label:`State/Region`,modelValue:y.value.state,"onUpdate:modelValue":n[7]||=e=>y.value.state=e,required:``},null,8,[`modelValue`])])]),l(D(Fe),null,{default:T(()=>[l(D(G),{type:`button`,variant:`outline`,onClick:n[8]||=e=>p.value=!1},{default:T(()=>[...n[24]||=[O(`Cancel`,-1)]]),_:1}),l(D(G),{type:`submit`,disabled:f.value},{default:T(()=>[f.value?(d(),s(`i`,st)):k(``,!0),n[25]||=O(` Create Organisation `,-1)]),_:1},8,[`disabled`])]),_:1})],32)]),_:1})]),_:1},8,[`open`])])],64))}};export{ct as default};