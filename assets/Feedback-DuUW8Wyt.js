import"./useFormControl-Dnp3iC5X.js";import"./nullish-CfjOSA4G.js";import"./CheckboxIndicator-CPem_8FL.js";import"./ConfigProvider-Ckl6KgMj.js";import"./useDirection-B1kSZwKq.js";import"./useId-Da-MS2me.js";import"./utils-BFR0tnUV.js";import"./RovingFocusGroup-BhwVgyO_.js";import"./RovingFocusItem-DP4RL6Sr.js";import"./VisuallyHiddenInput-B3HVdvGc.js";import"./Label-BsQm4x39.js";import{$i as e,Bi as t,Ea as n,Fi as r,H as i,Li as a,Mi as o,Ni as s,Nt as c,Oi as l,Ri as u,Ta as d,Zi as f,a as p,da as m,et as h,fn as g,i as _,ka as v,o as y,r as b,x,ya as S}from"./index-CHNvwQRL.js";import{t as C}from"./Input-i1kcrjFD.js";import{t as w}from"./button-BRhnnMH3.js";import{t as T}from"./BackgroundAnimation-DnlEY4kt.js";import{t as E}from"./Card-BJPZ_LNY.js";import{t as D}from"./CardContent-B3hEl7e8.js";import{n as O,r as k,t as A}from"./CardTitle-Btl171BV.js";import{t as j}from"./Label-q_qRHf8-.js";import{t as M}from"./badge-BQsIJJpl.js";import{t as N}from"./Checkbox-CDVlNxvg.js";import{t as P}from"./Textarea-BWn0Ir5g.js";var F={createFeedback(e){return y.post(`/feedback`,{data:e})}},I={class:`fixed w-full h-full overflow-y-scroll bg-[radial-gradient(ellipse_at_bottom,_var(--tw-gradient-stops))] from-slate-950/95 to-slate-900 from-5% scrollbar-hide`},L={class:`py-20`},R={key:0,class:`p-4 mb-6 text-sm text-green-800 bg-green-50 rounded-lg border border-green-200`},z={key:1},B={class:`mb-6`},V={class:`flex flex-row gap-2 w-full overflow-x-scroll`,style:{"scrollbar-width":`none`}},H={class:`mb-6`},U={class:`mb-6`},W={class:`flex items-start space-x-2 mb-6 p-4 bg-muted/30 rounded-lg`},G={class:`grid gap-1.5`},K={class:`flex gap-3`},q=_(t({__name:`Feedback`,setup(t){let _=S({rating:null,message:``,email:``,allowContact:!1}),y=S(!1),q=S(!1),J=p(),Y=[{value:1,label:`Very Poor`},{value:2,label:`Poor`},{value:3,label:`Average`},{value:4,label:`Good`},{value:5,label:`Excellent`}],X=async()=>{if(!(!_.value.rating||!_.value.message.trim())){y.value=!0;try{await F.createFeedback(_.value),q.value=!0,J.toast({message:`Thank you for your feedback!`,variant:`success`,duration:5e3})}catch{J.toast({message:`Failed to submit feedback. Please try again.`,variant:`error`,duration:5e3})}finally{y.value=!1}}},Z=()=>{_.value={rating:null,message:``,email:``,allowContact:!1},q.value=!1},Q=b(),$=()=>{try{return Q.back()}catch{Q.push(`/`)}};return(t,p)=>(f(),r(`div`,I,[u(T),o(`div`,L,[u(d(E),{class:`w-11/12 max-w-2xl mx-auto relative border-white border-8 bg-stone-50`},{default:m(()=>[p[15]||=o(`div`,{class:`absolute`},null,-1),o(`span`,{onClick:$,class:`absolute z-50 right-1.5 top-1 border border-slate-200 p-1 cursor-pointer bg-white rounded-full ring-offset-background transition-opacity hover:border-slate-500 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none bg-accent text-muted-foreground`},[u(d(x),{class:`w-4 h-4`}),p[3]||=o(`span`,{class:`sr-only`},`Close`,-1)]),u(d(O),null,{default:m(()=>[u(d(A),{class:`flex items-center gap-2`},{default:m(()=>[u(d(g),{class:`w-5 h-5`}),p[4]||=a(` Product Feedback `,-1)]),_:1}),u(d(k),null,{default:m(()=>[...p[5]||=[a(` Help us improve Seamlessly by sharing your thoughts and experience with us. `,-1)]]),_:1})]),_:1}),u(d(D),null,{default:m(()=>[q.value?(f(),r(`div`,R,[...p[6]||=[o(`div`,{class:`flex items-center gap-2`},[o(`span`,{class:`font-medium`},`Thank you for your feedback!`)],-1),o(`p`,{class:`mt-1 text-green-700`},` We appreciate you taking the time to help us improve. `,-1)]])):(f(),r(`div`,z,[o(`div`,B,[u(d(j),{class:`text-sm font-medium mb-3 block`},{default:m(()=>[...p[7]||=[a(` How would you rate your experience? * `,-1)]]),_:1}),o(`div`,V,[(f(),r(l,null,e(Y,e=>u(d(w),{key:e.value,type:`button`,variant:`outline`,size:`sm`,class:n([`flex items-center gap-2 transition-all pe-1 rounded-full`,_.value.rating===e.value?`bg-primary text-primary-foreground border-primary`:`hover:bg-accent`]),onClick:t=>_.value.rating=e.value},{default:m(()=>[u(d(i),{class:n([`w-4 h-4`,_.value.rating===e.value?`fill-current`:``])},null,8,[`class`]),a(` `+v(e.value)+` `,1),u(d(M),{variant:`secondary`,class:n([`ml-1 text-xs`,_.value.rating===e.value?`bg-primary-foreground text-primary`:``])},{default:m(()=>[a(v(e.label),1)]),_:2},1032,[`class`])]),_:2},1032,[`class`,`onClick`])),64))])]),o(`div`,H,[u(d(j),{for:`feedback-message`,class:`text-sm font-medium mb-3 block`},{default:m(()=>[...p[8]||=[a(` Your Feedback * `,-1)]]),_:1}),u(d(P),{id:`feedback-message`,modelValue:_.value.message,"onUpdate:modelValue":p[0]||=e=>_.value.message=e,placeholder:`What did you like? What can we improve? Any specific features you'd like to see?`,class:`min-h-[120px] resize-vertical rounded-sm`,disabled:y.value},null,8,[`modelValue`,`disabled`])]),o(`div`,U,[u(d(j),{for:`email`,class:`text-sm font-medium mb-3 block`},{default:m(()=>[...p[9]||=[a(` Email Address (Optional) `,-1)]]),_:1}),u(d(C),{id:`email`,modelValue:_.value.email,"onUpdate:modelValue":p[1]||=e=>_.value.email=e,type:`email`,placeholder:`your.email@example.com`,class:`rounded-full`,disabled:y.value},null,8,[`modelValue`,`disabled`]),p[10]||=o(`p`,{class:`text-xs text-muted-foreground mt-2`},` We'll only use this to follow up on your feedback if you allow contact. `,-1)]),o(`div`,W,[u(d(N),{id:`allow-contact`,checked:_.value.allowContact,"onUpdate:checked":p[2]||=e=>_.value.allowContact=e,disabled:y.value},null,8,[`checked`,`disabled`]),o(`div`,G,[u(d(j),{for:`allow-contact`,class:`text-sm font-medium cursor-pointer`},{default:m(()=>[...p[11]||=[a(` Allow us to contact you about this feedback `,-1)]]),_:1}),p[12]||=o(`p`,{class:`text-xs text-muted-foreground`},` If checked, we may reach out to you via email to learn more about your experience and discuss how we can improve. `,-1)])]),o(`div`,K,[u(d(w),{type:`submit`,disabled:!_.value.rating||!_.value.message.trim()||y.value,class:`flex-1 rounded-full`,onClick:X},{default:m(()=>[y.value?(f(),s(d(c),{key:0,class:`w-4 h-4 mr-2 animate-spin`})):(f(),s(d(h),{key:1,class:`w-4 h-4 mr-2`})),a(` `+v(y.value?`Submitting...`:`Submit Feedback`),1)]),_:1},8,[`disabled`]),u(d(w),{class:`rounded-full`,type:`button`,variant:`outline`,disabled:y.value,onClick:Z},{default:m(()=>[...p[13]||=[a(` Reset `,-1)]]),_:1},8,[`disabled`])]),p[14]||=o(`div`,{class:`mt-4 p-3 bg-muted/20 rounded-lg`},[o(`p`,{class:`text-xs text-muted-foreground`},[o(`strong`,null,`Note:`),a(` Fields marked with * are required. Your feedback helps us understand what's working well and where we can improve. `)])],-1)]))]),_:1})]),_:1})])]))}}),[[`__scopeId`,`data-v-99edabbc`]]);export{q as default};