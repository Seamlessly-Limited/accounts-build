import{t as e}from"./useId-D_f_Mvzd.js";import{a as t,i as n,r}from"./utils-CvELSmVb.js";import{n as i}from"./RovingFocusGroup-lT9rxWDq.js";import{D as a,Dt as o,Et as s,It as c,Lt as l,Pt as u,Qt as d,Rt as f,Vt as p,_ as m,fn as h,xt as g,yt as _}from"./index-BQW5AyZv.js";var v=o({__name:`RovingFocusItem`,props:{tabStopId:{type:String,required:!1},focusable:{type:Boolean,required:!1,default:!0},active:{type:Boolean,required:!1},allowShiftKey:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:`span`}},setup(o){let v=o,y=i(),b=e(),x=_(()=>v.tabStopId||b),S=_(()=>y.currentTabStopId.value===x.value),{getItems:C,CollectionItem:w}=m();c(()=>{v.focusable&&y.onFocusableItemAdd()}),l(()=>{v.focusable&&y.onFocusableItemRemove()});function T(e){if(e.key===`Tab`&&e.shiftKey){y.onItemShiftTab();return}if(e.target!==e.currentTarget)return;let i=n(e,y.orientation.value,y.dir.value);if(i!==void 0){if(e.metaKey||e.ctrlKey||e.altKey||!v.allowShiftKey&&e.shiftKey)return;e.preventDefault();let n=[...C().map(e=>e.ref).filter(e=>e.dataset.disabled!==``)];if(i===`last`)n.reverse();else if(i===`prev`||i===`next`){i===`prev`&&n.reverse();let r=n.indexOf(e.currentTarget);n=y.loop.value?t(n,r+1):n.slice(r+1)}u(()=>r(n))}}return(e,t)=>(f(),g(h(w),null,{default:d(()=>[s(h(a),{tabindex:S.value?0:-1,"data-orientation":h(y).orientation.value,"data-active":e.active?``:void 0,"data-disabled":e.focusable?void 0:``,as:e.as,"as-child":e.asChild,onMousedown:t[0]||=t=>{e.focusable?h(y).onItemFocus(x.value):t.preventDefault()},onFocus:t[1]||=e=>h(y).onItemFocus(x.value),onKeydown:T},{default:d(()=>[p(e.$slots,`default`)]),_:3},8,[`tabindex`,`data-orientation`,`data-active`,`data-disabled`,`as`,`as-child`])]),_:3}))}});export{v as t};