import { n as e, t } from "./useFormControl-Dnp3iC5X.js"; import { t as n } from "./useArrowNavigation-siWGBYoD.js"; import { t as r } from "./useDirection-B1kSZwKq.js"; import { t as i } from "./useId-Da-MS2me.js"; import { t as a } from "./VisuallyHiddenInput-B3HVdvGc.js"; import { t as o } from "./SelectGroup-DgFFtqHX.js"; import { a as s, i as c, n as l, t as u } from "./tabs-B4YTpODo.js"; import { $i as d, Bi as f, Ca as p, D as ee, Ea as te, Ei as ne, Fi as m, Fr as h, I as re, Ir as g, Ki as _, Li as v, Lr as y, Mi as b, Ni as x, Oi as S, P as C, Pi as w, Ri as T, Ta as E, Ti as D, Vr as O, Wr as k, Yi as ie, Zi as A, a as ae, da as j, ea as M, hi as N, i as P, ji as F, jr as I, ka as L, oi as R, qi as z, x as oe, xr as se, ya as B, yr as V } from "./index-CHNvwQRL.js"; import { n as H, t as U } from "./DialogContent-BczLmPtx.js"; import { n as W, r as G, t as K } from "./DialogTitle-Dz9VmaLr.js"; import { t as q } from "./DialogFooter-DcKhuorP.js"; import { t as ce } from "./Input-i1kcrjFD.js"; import { t as J } from "./button-BRhnnMH3.js"; import { r as le } from "./avatar-VRDRg2CA.js"; import { t as Y } from "./OrganisationService-DLV_nwEW.js"; import { a as ue, i as de, n as fe, o as pe, t as me } from "./form-Dn3ejRID.js"; import { t as X } from "./Label-q_qRHf8-.js"; import { a as Z, i as he, n as ge, r as Q, t as _e } from "./SelectValue-DyPaSYfc.js"; import { t as ve } from "./badge-BQsIJJpl.js"; import { t as ye } from "./Checkbox-CDVlNxvg.js"; var [$, be] = R(`TagsInputRoot`), xe = f({ __name: `TagsInputRoot`, props: { modelValue: { type: [Array, null], required: !1 }, defaultValue: { type: Array, required: !1, default: () => [] }, addOnPaste: { type: Boolean, required: !1 }, addOnTab: { type: Boolean, required: !1 }, addOnBlur: { type: Boolean, required: !1 }, duplicate: { type: Boolean, required: !1 }, disabled: { type: Boolean, required: !1 }, delimiter: { type: null, required: !1, default: `,` }, dir: { type: String, required: !1 }, max: { type: Number, required: !1, default: 0 }, id: { type: String, required: !1 }, convertValue: { type: Function, required: !1 }, displayValue: { type: Function, required: !1, default: e => e.toString() }, asChild: { type: Boolean, required: !1 }, as: { type: null, required: !1 }, name: { type: String, required: !1 }, required: { type: Boolean, required: !1 } }, emits: [`update:modelValue`, `invalid`, `addTag`, `removeTag`], setup(e, { emit: i }) { let o = e, s = i, { addOnPaste: c, disabled: l, delimiter: u, max: d, id: f, dir: ee, addOnBlur: te, addOnTab: ne } = p(o), m = r(ee), h = k(o, `modelValue`, s, { defaultValue: o.defaultValue, passive: !0, deep: !0 }), { forwardRef: re, currentElement: g } = y(), { focused: _ } = O(g), v = t(g), { getItems: b, CollectionSlot: S } = se({ isProvider: !0 }), C = B(), D = B(!1), ie = F(() => Array.isArray(h.value) ? [...h.value] : []); function ae(e) { if (e !== -1) { let t = b().filter(e => e.ref.dataset.disabled !== ``); h.value = h.value.filter((t, n) => n !== e), s(`removeTag`, t[e].value) } } return be({ modelValue: h, onAddValue: e => { let t = [...ie.value], n = t.length > 0 && typeof t[0] == `object`, r = t.length > 0 && typeof o.defaultValue[0] == `object`; if ((n || r) && typeof o.convertValue != `function`) throw Error("You must provide a `convertValue` function when using objects as values."); let i = o.convertValue ? o.convertValue(e) : e; if (t.length >= d.value && d.value) return s(`invalid`, i), !1; if (o.duplicate) return h.value = [...t, i], s(`addTag`, i), !0; if (t.includes(i)) D.value = !0; else return h.value = [...t, i], s(`addTag`, i), !0; return s(`invalid`, i), !1 }, onRemoveValue: ae, onInputKeydown: e => { let t = e.target, r = b().map(e => e.ref).filter(e => e.dataset.disabled !== ``); if (!r.length) return; let i = r.at(-1); switch (e.key) { case `Delete`: case `Backspace`: if (t.selectionStart !== 0 || t.selectionEnd !== 0) break; if (C.value) { let t = r.findIndex(e => e === C.value); ae(t), C.value = C.value === i ? r.at(t - 1) : r.at(t + 1), e.preventDefault() } else e.key === `Backspace` && (C.value = i, e.preventDefault()); break; case `Home`: case `End`: case `ArrowRight`: case `ArrowLeft`: { let a = e.key === `ArrowRight` && m.value === `ltr` || e.key === `ArrowLeft` && m.value === `rtl`, o = !a; if (t.selectionStart !== 0 || t.selectionEnd !== 0) break; if (o && !C.value) C.value = i, e.preventDefault(); else if (a && i && C.value === i) C.value = void 0, e.preventDefault(); else if (C.value) { let t = n(e, C.value, void 0, { itemsArray: r, loop: !1, dir: m.value }); t && (C.value = t), e.preventDefault() } break } case `ArrowUp`: case `ArrowDown`: C.value && e.preventDefault(); break; default: C.value = void 0 } }, selectedElement: C, isInvalidInput: D, addOnPaste: c, addOnBlur: te, addOnTab: ne, dir: m, disabled: l, delimiter: u, max: d, id: f, displayValue: o.displayValue }), (e, t) => (A(), x(E(S), null, { default: j(() => [T(E(I), { ref: E(re), dir: E(m), as: e.as, "as-child": e.asChild, "data-invalid": D.value ? `` : void 0, "data-disabled": E(l) ? `` : void 0, "data-focused": E(_) ? `` : void 0 }, { default: j(() => [M(e.$slots, `default`, { modelValue: E(h) }), E(v) && e.name ? (A(), x(E(a), { key: 0, name: e.name, value: E(h), required: e.required, disabled: E(l) }, null, 8, [`name`, `value`, `required`, `disabled`])) : w(`v-if`, !0)]), _: 3 }, 8, [`dir`, `as`, `as-child`, `data-invalid`, `data-disabled`, `data-focused`])]), _: 3 })) } }), Se = f({ __name: `TagsInputInput`, props: { placeholder: { type: String, required: !1 }, autoFocus: { type: Boolean, required: !1 }, maxLength: { type: Number, required: !1 }, asChild: { type: Boolean, required: !1 }, as: { type: null, required: !1, default: `input` } }, setup(e) { let t = e, n = $(), { forwardRef: r, currentElement: i } = y(); function a(e) { if (n.selectedElement.value = void 0, !n.addOnBlur.value) return; let t = e.target; t.value && n.onAddValue(t.value) && (t.value = ``) } function o(e) { n.addOnTab.value && u(e) } let s = B(!1); function c() { s.value = !0 } function l() { z(() => { s.value = !1 }) } async function u(e) { if (s.value || (await z(), e.defaultPrevented)) return; let t = e.target; t.value && (n.onAddValue(t.value) && (t.value = ``), e.preventDefault()) } function d(e) { if (n.isInvalidInput.value = !1, e.data === null) return; let t = n.delimiter.value; if (t === e.data || t instanceof RegExp && t.test(e.data)) { let r = e.target; if (r.value = r.value.replace(t, ``), r.value.trim() === ``) { r.value = ``; return } n.onAddValue(r.value) && (r.value = ``) } } function f(e) { if (n.addOnPaste.value) { e.preventDefault(); let t = e.clipboardData; if (!t) return; let r = t.getData(`text`); n.delimiter.value ? r.split(n.delimiter.value).forEach(e => { n.onAddValue(e) }) : n.onAddValue(r) } } return ie(() => { let e = i.value.nodeName === `INPUT` ? i.value : i.value.querySelector(`input`); e && setTimeout(() => { t.autoFocus && e?.focus() }, 1) }), (e, t) => (A(), x(E(I), { id: E(n).id?.value, ref: E(r), type: `text`, autocomplete: `off`, autocorrect: `off`, autocapitalize: `off`, as: e.as, "as-child": e.asChild, maxlength: e.maxLength, placeholder: e.placeholder, disabled: E(n).disabled.value, "data-invalid": E(n).isInvalidInput.value ? `` : void 0, onInput: d, onKeydown: [D(u, [`enter`]), D(o, [`tab`]), E(n).onInputKeydown], onBlur: a, onCompositionstart: c, onCompositionend: l, onPaste: f }, { default: j(() => [M(e.$slots, `default`)]), _: 3 }, 8, [`id`, `as`, `as-child`, `maxlength`, `placeholder`, `disabled`, `data-invalid`, `onKeydown`])) } }), [Ce, we] = R(`TagsInputItem`), Te = f({ __name: `TagsInputItem`, props: { value: { type: null, required: !0 }, disabled: { type: Boolean, required: !1 }, asChild: { type: Boolean, required: !1 }, as: { type: null, required: !1 } }, setup(e) { let t = e, { value: n } = p(t), r = $(), { forwardRef: i, currentElement: a } = y(), { CollectionItem: o } = se(), s = F(() => r.selectedElement.value === a.value), c = F(() => t.disabled || r.disabled.value), l = we({ value: n, isSelected: s, disabled: c, textId: ``, displayValue: F(() => r.displayValue(n.value)) }); return (e, t) => (A(), x(E(o), { value: E(n) }, { default: j(() => [T(E(I), { ref: E(i), as: e.as, "as-child": e.asChild, "aria-labelledby": E(l).textId, "aria-current": s.value, "data-disabled": c.value ? `` : void 0, "data-state": s.value ? `active` : `inactive` }, { default: j(() => [M(e.$slots, `default`)]), _: 3 }, 8, [`as`, `as-child`, `aria-labelledby`, `aria-current`, `data-disabled`, `data-state`])]), _: 3 }, 8, [`value`])) } }), Ee = f({ __name: `TagsInputItemDelete`, props: { asChild: { type: Boolean, required: !1 }, as: { type: null, required: !1, default: `button` } }, setup(t) { let n = t; y(); let r = $(), i = Ce(), a = F(() => i.disabled?.value || r.disabled.value); function o() { if (a.value) return; let t = r.modelValue.value.findIndex(t => e(t, i.value.value)); r.onRemoveValue(t) } return (e, t) => (A(), x(E(I), _({ tabindex: `-1` }, n, { "aria-labelledby": E(i).textId, "aria-current": E(i).isSelected.value, "data-state": E(i).isSelected.value ? `active` : `inactive`, "data-disabled": a.value ? `` : void 0, type: e.as === `button` ? `button` : void 0, onClick: o }), { default: j(() => [M(e.$slots, `default`)]), _: 3 }, 16, [`aria-labelledby`, `aria-current`, `data-state`, `data-disabled`, `type`])) } }), De = f({ __name: `TagsInputItemText`, props: { asChild: { type: Boolean, required: !1 }, as: { type: null, required: !1, default: `span` } }, setup(e) { let t = e, n = Ce(); return y(), n.textId ||= i(void 0, `reka-tags-input-item-text`), (e, r) => (A(), x(E(I), _(t, { id: E(n).textId }), { default: j(() => [M(e.$slots, `default`, {}, () => [v(L(E(n).displayValue.value), 1)])]), _: 3 }, 16, [`id`])) } }), Oe = f({ __name: `TagsInput`, props: { modelValue: {}, defaultValue: {}, addOnPaste: { type: Boolean }, addOnTab: { type: Boolean }, addOnBlur: { type: Boolean }, duplicate: { type: Boolean }, disabled: { type: Boolean }, delimiter: {}, dir: {}, max: {}, id: {}, convertValue: { type: Function }, displayValue: { type: Function }, asChild: { type: Boolean }, as: {}, name: {}, required: { type: Boolean }, class: {} }, emits: [`update:modelValue`, `invalid`, `addTag`, `removeTag`], setup(e, { emit: t }) { let n = e, r = t, i = N(n, `class`), a = h(i, r); return (e, t) => (A(), x(E(xe), _(E(a), { class: E(V)(`flex flex-wrap gap-2 items-center rounded-md border border-input bg-background px-3 py-1.5 text-sm`, n.class) }), { default: j(() => [M(e.$slots, `default`)]), _: 3 }, 16, [`class`])) } }), ke = f({ __name: `TagsInputInput`, props: { placeholder: {}, autoFocus: { type: Boolean }, maxLength: {}, asChild: { type: Boolean }, as: {}, class: {} }, setup(e) { let t = e, n = N(t, `class`), r = g(n); return (e, n) => (A(), x(E(Se), _(E(r), { class: E(V)(`text-sm min-h-5 focus:outline-none flex-1 bg-transparent px-1`, t.class) }), null, 16, [`class`])) } }), Ae = f({ __name: `TagsInputItem`, props: { value: {}, disabled: { type: Boolean }, asChild: { type: Boolean }, as: {}, class: {} }, setup(e) { let t = e, n = N(t, `class`), r = g(n); return (e, n) => (A(), x(E(Te), _(E(r), { class: E(V)(`flex h-5 items-center rounded-md bg-secondary data-[state=active]:ring-ring data-[state=active]:ring-2 data-[state=active]:ring-offset-2 ring-offset-background`, t.class) }), { default: j(() => [M(e.$slots, `default`)]), _: 3 }, 16, [`class`])) } }), je = f({ __name: `TagsInputItemDelete`, props: { asChild: { type: Boolean }, as: {}, class: {} }, setup(e) { let t = e, n = N(t, `class`), r = g(n); return (e, n) => (A(), x(E(Ee), _(E(r), { class: E(V)(`flex rounded bg-transparent mr-1`, t.class) }), { default: j(() => [M(e.$slots, `default`, {}, () => [T(E(oe), { class: `w-4 h-4` })])]), _: 3 }, 16, [`class`])) } }), Me = f({ __name: `TagsInputItemText`, props: { asChild: { type: Boolean }, as: {}, class: {} }, setup(e) { let t = e, n = N(t, `class`), r = g(n); return (e, n) => (A(), x(E(De), _(E(r), { class: E(V)(`py-0.5 px-2 text-sm rounded bg-transparent`, t.class) }), null, 16, [`class`])) } }), Ne = { class: `container mx-auto py-5 relative` }, Pe = { class: `flex justify-center` }, Fe = { class: `w-full p-8 space-y-6 shadow-none border-none bg-transparent rounded-2xl min-h-[80vh]` }, Ie = { class: `flex flex-col sm:flex-row sm:justify-between w-full` }, Le = { class: `flex gap-2 mt-4` }, Re = { class: `block md:hidden mb-6` }, ze = { class: `flex flex-col` }, Be = { class: `flex items-center gap-4` }, Ve = { class: `flex items-center gap-3` }, He = { class: `text-sm font-medium text-gray-600` }, Ue = { class: `flex flex-col gap-2` }, We = { class: `font-medium text-gray-900` }, Ge = { key: 0, class: `flex items-center gap-2` }, Ke = { key: 0, class: `text-center text-sm py-6 text-slate-500` }, qe = { key: 0, class: `text-center py-6 text-sm text-slate-500` }, Je = { class: `flex flex-col gap-4 py-6` }, Ye = { class: `font-medium text-gray-800` }, Xe = { class: `text-sm text-gray-500` }, Ze = { class: `flex gap-2` }, Qe = { class: `space-y-4 py-4` }, $e = { class: `space-y-2` }, et = { class: `space-y-2` }, tt = { class: `space-y-2` }, nt = { class: `flex items-center space-x-2` }, rt = { class: `flex items-center space-x-2` }, it = { class: `flex items-center space-x-2` }, at = { class: `space-y-4 py-4` }, ot = { class: `my-4` }, st = { class: `bg-amber-50 border border-amber-200 border-solid rounded-md p-4` }, ct = { class: `flex items-start gap-3` }, lt = { class: `text-sm text-amber-800` }, ut = { class: `mt-1` }, dt = { key: 0, class: `mt-2 font-semibold` }, ft = { class: `space-y-3` }, pt = { key: 0, class: `text-sm text-red-600` }, mt = { class: `py-4` }, ht = P({
    __name: `Team`, setup(e) {
        let t = ae().toast, n = B(`members`), r = B(``), i = B(!1), a = B(!1), f = B(!1), p = B(!1), h = B(null), g = B(``), _ = B({ includeEmail: !0, includeRole: !0, includeDate: !1 }), y = B(``), D = B([]), O = B(`MEMBER`), k = B([]), M = B([]), N = B(!1), P = B(!1), I = B(!1), R = B(``), z = F(() => { if (!r.value) return M.value; let e = r.value.toLowerCase(); return M.value.filter(t => t.name.toLowerCase().includes(e) || t.email.toLowerCase().includes(e) || t.role && t.role.toLowerCase().includes(e)) }), oe = e => (e || `S`).split(` `).map(e => e[0]).join(``).toUpperCase(), se = () => { i.value = !1, g.value = `` }, V = e => Array.from(new Set(e.split(/[\s,;\n]+/).map(e => e.trim().toLowerCase()).filter(Boolean))), $ = async () => { let e = Array.isArray(D.value) ? D.value : V(D.value), n = Array.from(new Set(e.map(e => String(e).trim().toLowerCase()).filter(Boolean))); if (n.length === 0) return; P.value = !0; let r = { role: O.value, emails: n }; try { let { data: e, message: n } = await Y.createMembers(r); Ee(), D.value = [], O.value = `Member`, a.value = !1, t({ duration: 5e3, message: n || `Done`, variant: `success` }) } catch (e) { t({ duration: 5e3, title: `Failed to send invitation`, message: e.message ?? `Connect to the internet and try again.`, variant: `error` }) } finally { P.value = !1 } }, be = async e => { try { let { message: n } = await Y.createMembers({ emails: [e.email] }); t({ duration: 5e3, message: n || `Done`, variant: `success` }) } catch (e) { t({ duration: 5e3, title: `Failed to send invitation`, message: e.message ?? `Connect to the internet and try again.`, variant: `error` }) } finally { P.value = !1 } }, xe = async e => { try { let { message: n } = await Y.deleteMember(e.reference, !0); k.value.splice(k.value.indexOf(e), 1), t({ duration: 5e3, message: n || `Done`, variant: `success` }) } catch (e) { t({ duration: 5e3, title: `Failed to delete invitation`, message: e.message ?? `Connect to the internet and try again.`, variant: `error` }) } finally { P.value = !1 } }, Se = e => { h.value = e, f.value = !0 }, Ce = async () => { if (h.value) { I.value = !0; try { let { message: e } = await Y.deleteMember(h.value.reference, !0); M.value = M.value.filter(e => e.reference !== h.value.reference), t({ duration: 5e3, message: e || `Done`, variant: `success` }) } catch (e) { t({ duration: 5e3, title: `Failed to delete member`, message: e.message ?? `Connect to the internet and try again.`, variant: `error` }) } finally { I.value = !1, h.value = null, f.value = !1 } } }, we = e => { h.value = e, y.value = e.role || `Member`, p.value = !0 }, Te = async () => { if (h.value) try { let { message: e } = await Y.updateMember(h.value.reference, { role: y.value }), n = M.value.find(e => e.reference === h.value.reference); n && (n.role = y.value), h.value = null, p.value = !1, y.value = ``, t({ duration: 5e3, message: e || `Done`, variant: `success` }) } catch (e) { t({ duration: 5e3, title: `Failed to change member role`, message: e.message ?? `Connect to the internet and try again.`, variant: `error` }) } }; ie(async () => { await Ee() }); async function Ee() { try { N.value = !0; let { data: e } = await Y.getMembers(); M.value = [], k.value = []; for (let t of e || []) { let { email: e } = JSON.parse(localStorage.getItem(`user`)); t.email != e && (t.status == `INVITED` ? k.value.push(t) : M.value.push(t)) } } catch (e) { t({ title: `Failed to load members`, message: e.message ?? `Connect to the internet and try again.`, variant: `error` }) } finally { N.value = !1 } } let De = B([]), ht = e => typeof e == `string` && /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.trim()), gt = e => Array.isArray(e) ? e.map(String) : e ? String(e).split(/[\s,;\n]+/).map(e => e.trim()).filter(Boolean) : [], _t = e => { let t = gt(e), n = Array.from(new Set(t.map(e => e.toLowerCase()))), r = [], i = []; n.forEach(e => { ht(e) ? r.push(e) : i.push(e) }), D.value = r, De.value = i, i.length }; return (e, t) => (A(), m(`div`, Ne, [b(`div`, Pe, [b(`div`, Fe, [b(`div`, Ie, [t[18] ||= b(`div`, null, [b(`h1`, { class: `text-2xl font-bold text-slate-800` }, `People`), b(`p`, { class: `text-sm text-slate-600` }, `Members of your organisation and workspace`)], -1), b(`div`, Le, [T(E(J), { class: `flex gap-2 rounded-full`, onClick: t[0] ||= e => a.value = !0 }, { default: j(() => [T(E(ee), { class: `h-4 w-4` }), t[17] ||= v(` Add Member `, -1)]), _: 1 })])]), b(`div`, Re, [T(E(Z), { modelValue: n.value, "onUpdate:modelValue": t[1] ||= e => n.value = e }, { default: j(() => [T(E(ge), { class: `w-full border rounded-xl py-2 px-3 text-sm` }, { default: j(() => [T(E(_e), { placeholder: `Select section` })]), _: 1 }), T(E(he), null, { default: j(() => [T(E(o), null, { default: j(() => [T(E(Q), { value: `members` }, { default: j(() => [...t[19] ||= [v(`Members`, -1)]]), _: 1 }), T(E(Q), { value: `invitations` }, { default: j(() => [...t[20] ||= [v(`Invitations`, -1)]]), _: 1 })]), _: 1 })]), _: 1 })]), _: 1 }, 8, [`modelValue`])]), T(E(s), { modelValue: n.value, "onUpdate:modelValue": t[2] ||= e => n.value = e, "default-value": `members`, class: `hidden md:block mb-6` }, { default: j(() => [t[29] ||= b(`hr`, { class: `h-1 bg-slate-50 mt-10 mb-1 opacity-20` }, null, -1), T(E(l), { class: `rounded-full bg-stone-100 text-blue-950 px-0.5 py-0.5 w-fit` }, { default: j(() => [T(E(u), { value: `members`, class: `px-4 py-1 rounded-full data-[state=active]:bg-stone-50 data-[state=active]:text-blue-950` }, { default: j(() => [...t[21] ||= [v(` Members `, -1)]]), _: 1 }), T(E(u), { value: `invitations`, class: `px-4 py-1 rounded-full data-[state=active]:bg-stone-50 data-[state=active]:text-blue-950` }, { default: j(() => [...t[22] ||= [v(` Invitations `, -1)]]), _: 1 })]), _: 1 }), t[30] ||= b(`hr`, { class: `h-1 bg-slate-50 mb-10 mt-2 opacity-30` }, null, -1), T(E(c), { value: `members`, class: `mt-6` }, { default: j(() => [b(`div`, ze, [(A(!0), m(S, null, d(z.value, e => (A(), m(`div`, { key: e.reference, class: `flex items-center justify-between p-4 border border-gray-200 hover:shadow-md rounded-sm transition-colors` }, [b(`div`, Be, [b(`div`, Ve, [T(E(le), { class: `h-10 w-10 bg-gray-300 rounded-full flex items-center justify-center` }, { default: j(() => [b(`span`, He, L(oe(e.memberName)), 1)]), _: 2 }, 1024), b(`div`, null, [b(`div`, Ue, [b(`span`, We, L(e.memberName), 1), e.role ? (A(), x(E(ve), { key: 0, variant: `secondary`, class: `border-slate-50 text-slate-800 text-xs px-2 py-0.5 rounded-full` }, { default: j(() => [v(L(e.role), 1)]), _: 2 }, 1024)) : w(``, !0)])])])]), e.role == `OWNER` ? w(``, !0) : (A(), m(`div`, Ge, [T(E(J), { variant: `outline`, size: `sm`, class: `text-gray-700 border-gray-300 hover:bg-gray-50 rounded-full`, onClick: t => we(e) }, { default: j(() => [...t[23] ||= [v(` Role `, -1)]]), _: 1 }, 8, [`onClick`]), T(E(J), { variant: `outline`, size: `sm`, class: `text-gray-700 border-gray-300 hover:bg-destructive hover:border-destructive/95 hover:text-white rounded-full`, onClick: t => Se(e) }, { default: j(() => [...t[24] ||= [v(` Remove `, -1)]]), _: 1 }, 8, [`onClick`])]))]))), 128))]), z.value.length === 0 ? (A(), m(`div`, Ke, [...t[25] ||= [b(`div`, { class: `w-full rounded-md shadow-md border border-slate-200 py-20` }, [b(`div`, null, ` No other members yet. Click "Add Member" to start inviting members. `)], -1)]])) : w(``, !0)]), _: 1 }), T(E(c), { value: `invitations`, class: `mt-6` }, { default: j(() => [k.value.length === 0 ? (A(), m(`div`, qe, [...t[26] ||= [b(`div`, { class: `w-full rounded-md shadow-md border border-slate-200 py-20` }, [b(`div`, null, ` No invitations yet. Click "Add Member" to start inviting members. `)], -1)]])) : w(``, !0), b(`div`, Je, [(A(!0), m(S, null, d(k.value.sort((e, t) => e.deliveryTime < t.deliveryTime), e => (A(), m(`div`, { key: e.reference, class: `flex items-center justify-between p-4 border border-gray-200 rounded-sm` }, [b(`div`, null, [b(`div`, Ye, L(e.email), 1), b(`div`, Xe, `Invited on ` + L(e.formattedDeliveryTime), 1)]), b(`div`, Ze, [T(E(J), { size: `sm`, variant: `outline`, onClick: t => be(e) }, { default: j(() => [...t[27] ||= [v(`Resend`, -1)]]), _: 1 }, 8, [`onClick`]), T(E(J), { size: `sm`, variant: `destructive`, onClick: t => xe(e) }, { default: j(() => [...t[28] ||= [v(`Cancel`, -1)]]), _: 1 }, 8, [`onClick`])])]))), 128))])]), _: 1 })]), _: 1 }, 8, [`modelValue`]), T(E(H), { open: i.value, "onUpdate:open": t[8] ||= e => i.value = e }, { default: j(() => [T(E(U), { class: `sm:max-w-md bg-white` }, { default: j(() => [T(E(W), null, { default: j(() => [T(E(K), null, { default: j(() => [...t[31] ||= [v(`Export Members`, -1)]]), _: 1 }), T(E(G), null, { default: j(() => [...t[32] ||= [v(` Choose the format and data you want to export. `, -1)]]), _: 1 })]), _: 1 }), b(`div`, Qe, [b(`div`, $e, [T(E(X), { for: `export-format` }, { default: j(() => [...t[33] ||= [v(`Format`, -1)]]), _: 1 }), T(E(Z), { modelValue: g.value, "onUpdate:modelValue": t[3] ||= e => g.value = e }, { default: j(() => [T(E(ge), { class: `w-full rounded-full` }, { default: j(() => [T(E(_e), { placeholder: `Select format` })]), _: 1 }), T(E(he), null, { default: j(() => [T(E(Q), { value: `csv` }, { default: j(() => [...t[34] ||= [v(`CSV`, -1)]]), _: 1 }), T(E(Q), { value: `pdf` }, { default: j(() => [...t[35] ||= [v(`PDF`, -1)]]), _: 1 })]), _: 1 })]), _: 1 }, 8, [`modelValue`])]), b(`div`, et, [T(E(X), null, { default: j(() => [...t[36] ||= [v(`Include Data`, -1)]]), _: 1 }), b(`div`, tt, [b(`div`, nt, [T(E(ye), { id: `include-email`, modelValue: _.value.includeEmail, "onUpdate:modelValue": t[4] ||= e => _.value.includeEmail = e }, null, 8, [`modelValue`]), T(E(X), { for: `include-email` }, { default: j(() => [...t[37] ||= [v(`Email addresses`, -1)]]), _: 1 })]), b(`div`, rt, [T(E(ye), { id: `include-role`, modelValue: _.value.includeRole, "onUpdate:modelValue": t[5] ||= e => _.value.includeRole = e }, null, 8, [`modelValue`]), T(E(X), { for: `include-role` }, { default: j(() => [...t[38] ||= [v(`Roles`, -1)]]), _: 1 })]), b(`div`, it, [T(E(ye), { id: `include-date`, modelValue: _.value.includeDate, "onUpdate:modelValue": t[6] ||= e => _.value.includeDate = e }, null, 8, [`modelValue`]), T(E(X), { for: `include-date` }, { default: j(() => [...t[39] ||= [v(`Join date`, -1)]]), _: 1 })])])])]), T(E(q), { class: `gap-2 sm:gap-2` }, { default: j(() => [T(E(J), { class: `rounded-full`, variant: `outline`, onClick: t[7] ||= e => i.value = !1 }, { default: j(() => [...t[40] ||= [v(`Cancel`, -1)]]), _: 1 }), T(E(J), { class: `rounded-full`, onClick: se, disabled: !g.value }, { default: j(() => [...t[41] ||= [v(` Export `, -1)]]), _: 1 }, 8, [`disabled`])]), _: 1 })]), _: 1 })]), _: 1 }, 8, [`open`]), T(E(H), { open: a.value, "onUpdate:open": t[11] ||= e => a.value = e }, {
            default: j(() => [T(E(U), { class: `sm:max-w-md bg-white` }, {
                default: j(() => [T(E(W), null, { default: j(() => [T(E(K), null, { default: j(() => [...t[42] ||= [v(`Invite Members`, -1)]]), _: 1 }), T(E(G), null, { default: j(() => [...t[43] ||= [v(` Invite one or more people by email. Comma or newline separated. `, -1)]]), _: 1 })]), _: 1 }), b(`div`, at, [T(E(pe), { name: `addTeamMembers`, onSubmit: ne($, [`prevent`]) }, {
                    default: j(() => [T(E(ue), { name: `invite` }, {
                        default: j(({ componentField: e }) => [T(E(fe), null, {
                            default: j(() => [T(E(me), null, { default: j(() => [...t[44] ||= [v(`Email Addresses`, -1)]]), _: 1 }), T(E(de), null, {
                                default: j(() => [T(E(Oe), { "model-value": D.value, "onUpdate:modelValue": _t }, {
                                    default: j(() => [(A(!0), m(S, null, d(D.value, e => (A(), x(E(Ae), { key: e, value: e }, { default: j(() => [T(E(Me)), T(E(je))]), _: 1 }, 8, [`value`]))), 128)), T(E(ke), {
                                        placeholder: `member@example.com, 
member2@example.com, ...`})]), _: 1
                                }, 8, [`model-value`])]), _: 1
                            })]), _: 1
                        })]), _: 1
                    }), b(`div`, ot, [T(E(X), { for: `invite-role` }, { default: j(() => [...t[45] ||= [v(`Assign role`, -1)]]), _: 1 }), T(E(Z), { modelValue: O.value, "onUpdate:modelValue": t[9] ||= e => O.value = e }, { default: j(() => [T(E(ge), { class: `w-full rounded-full` }, { default: j(() => [T(E(_e), { placeholder: `Select role` })]), _: 1 }), T(E(he), null, { default: j(() => [T(E(Q), { value: `OWNER` }, { default: j(() => [...t[46] ||= [v(`Owner`, -1)]]), _: 1 }), T(E(Q), { value: `ADMIN` }, { default: j(() => [...t[47] ||= [v(`Admin`, -1)]]), _: 1 }), T(E(Q), { value: `MANAGER` }, { default: j(() => [...t[48] ||= [v(`Manager`, -1)]]), _: 1 }), T(E(Q), { value: `AUDITOR` }, { default: j(() => [...t[49] ||= [v(`Auditor`, -1)]]), _: 1 }), T(E(Q), { value: `MEMBER` }, { default: j(() => [...t[50] ||= [v(`Member`, -1)]]), _: 1 })]), _: 1 })]), _: 1 }, 8, [`modelValue`])])]), _: 1
                })]), T(E(q), { class: `gap-2 sm:gap-2` }, { default: j(() => [T(E(J), { class: `rounded-full`, variant: `outline`, onClick: t[10] ||= e => a.value = !1 }, { default: j(() => [...t[51] ||= [v(`Cancel`, -1)]]), _: 1 }), T(E(J), { class: `rounded-full`, onClick: $, disabled: !(D.value && D.value.length) }, { default: j(() => [...t[52] ||= [v(`Invite`, -1)]]), _: 1 }, 8, [`disabled`])]), _: 1 })]), _: 1
            })]), _: 1
        }, 8, [`open`]), T(E(H), { open: f.value, "onUpdate:open": t[13] ||= e => f.value = e }, { default: j(() => [T(E(U), { class: `sm:max-w-md bg-white` }, { default: j(() => [T(E(W), null, { default: j(() => [T(E(K), null, { default: j(() => [...t[53] ||= [v(`Remove Member`, -1)]]), _: 1 }), T(E(G), null, { default: j(() => [v(` Are you sure you want to remove ` + L(h.value?.memberName || h.value?.email) + ` from the organisation? `, 1)]), _: 1 })]), _: 1 }), b(`div`, st, [b(`div`, ct, [T(E(C), { class: `h-5 w-5 text-amber-600 mt-0.5` }), b(`div`, lt, [t[54] ||= b(`p`, { class: `font-medium` }, `This action cannot be undone.`, -1), b(`p`, ut, L(h.value?.memberName || h.value?.email) + ` will lose access to all organisation resources and data. `, 1), h.value?.role === `ADMIN` ? (A(), m(`p`, dt, ` ⚠️ You are removing an owner. This may affect organisation administration. `)) : w(``, !0)])])]), b(`div`, ft, [T(E(X), { for: `confirm-remove`, class: `text-sm font-medium` }, { default: j(() => [...t[55] ||= [v(` Type "REMOVE" to confirm: `, -1)]]), _: 1 }), T(ce, { id: `confirm-remove`, modelValue: R.value, "onUpdate:modelValue": t[12] ||= e => R.value = e, placeholder: `Enter REMOVE to confirm`, class: te([`w-full`, { "border-red-300": e.removeConfirmationError }]) }, null, 8, [`modelValue`, `class`]), e.removeConfirmationError ? (A(), m(`p`, pt, L(e.removeConfirmationError), 1)) : w(``, !0)]), T(E(q), { class: `gap-2 sm:gap-2` }, { default: j(() => [T(E(J), { class: `rounded-full`, variant: `outline`, onClick: e.cancelRemove, disabled: I.value }, { default: j(() => [...t[56] ||= [v(` Cancel `, -1)]]), _: 1 }, 8, [`onClick`, `disabled`]), T(E(J), { class: `rounded-full`, variant: `destructive`, onClick: Ce, disabled: R.value != `REMOVE` || I.value }, { default: j(() => [I.value ? (A(), x(E(re), { key: 0, class: `h-4 w-4 mr-2 animate-spin` })) : (A(), x(E(C), { key: 1, class: `h-4 w-4 mr-2` })), v(` ` + L(I.value ? `Removing...` : `Remove Member`), 1)]), _: 1 }, 8, [`disabled`])]), _: 1 })]), _: 1 })]), _: 1 }, 8, [`open`]), T(E(H), { open: p.value, "onUpdate:open": t[16] ||= e => p.value = e }, { default: j(() => [T(E(U), { class: `sm:max-w-sm bg-white` }, { default: j(() => [T(E(W), null, { default: j(() => [T(E(K), null, { default: j(() => [...t[57] ||= [v(`Change Role`, -1)]]), _: 1 }), T(E(G), null, { default: j(() => [v(` Change role for ` + L(h.value?.memberName), 1)]), _: 1 })]), _: 1 }), b(`div`, mt, [T(E(X), { for: `role-select` }, { default: j(() => [...t[58] ||= [v(`Role`, -1)]]), _: 1 }), T(E(Z), { modelValue: y.value, "onUpdate:modelValue": t[14] ||= e => y.value = e }, { default: j(() => [T(E(ge), { class: `w-full rounded-full` }, { default: j(() => [T(E(_e), { placeholder: `Select role` })]), _: 1 }), T(E(he), null, { default: j(() => [T(E(Q), { value: `OWNER` }, { default: j(() => [...t[59] ||= [v(`Owner`, -1)]]), _: 1 }), T(E(Q), { value: `ADMIN` }, { default: j(() => [...t[60] ||= [v(`Admin`, -1)]]), _: 1 }), T(E(Q), { value: `MANAGER` }, { default: j(() => [...t[61] ||= [v(`Manager`, -1)]]), _: 1 }), T(E(Q), { value: `AUDITOR` }, { default: j(() => [...t[62] ||= [v(`Auditor`, -1)]]), _: 1 }), T(E(Q), { value: `MEMBER` }, { default: j(() => [...t[63] ||= [v(`Member`, -1)]]), _: 1 })]), _: 1 })]), _: 1 }, 8, [`modelValue`])]), T(E(q), { class: `gap-2 sm:gap-2` }, { default: j(() => [T(E(J), { class: `rounded-full`, variant: `outline`, onClick: t[15] ||= e => p.value = !1 }, { default: j(() => [...t[64] ||= [v(`Cancel`, -1)]]), _: 1 }), T(E(J), { class: `rounded-full`, onClick: Te, disabled: !y.value }, { default: j(() => [...t[65] ||= [v(`Save`, -1)]]), _: 1 }, 8, [`disabled`])]), _: 1 })]), _: 1 })]), _: 1 }, 8, [`open`])])])]))
    }
}, [[`__scopeId`, `data-v-6d5c2a10`]]); export { ht as t };