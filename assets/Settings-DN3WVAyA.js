import"./utils-Cb55IaNq.js";import"./useNonce-Vl2Sb9LF.js";import"./nullish-CfjOSA4G.js";import"./CheckboxIndicator-C9eREzVL.js";import"./useArrowNavigation-siWGBYoD.js";import"./ConfigProvider-Cwcb-esP.js";import"./useHideOthers-CKkDonT7.js";import"./useDirection-DpFczioB.js";import{a as e,i as t,n,r,t as i}from"./SelectValue-DkkNj2UZ.js";import"./useId-CKDl4U8b.js";import"./PopperContent-CD4mGCho.js";import"./DialogTitle-Dt23Ztb9.js";import"./Teleport-BQdEDRNz.js";import"./AvatarImage-Cs8CUfiN.js";import"./RovingFocusGroup-D8x5VOJK.js";import"./RovingFocusItem-DZ88BgT1.js";import"./VisuallyHiddenInput-EVOIdqSa.js";import"./Label-ZezVc_wi.js";import{t as a}from"./SelectGroup-jkw9yXmK.js";import{a as o,i as s,n as c,r as l,t as u}from"./tabs-D6MYdXij.js";import"./Team-CtVFqP4S.js";import"./check-MXlyHwEu.js";import"./circle-x-u8v33r6X.js";import"./credit-card-DFrHAbug.js";import{t as d}from"./Billing-Dk-PY9SU.js";import"./receipt-ZotMppXR.js";import"./avatar-DrT6DSO3.js";import"./user-plus-0p2XONmx.js";import{Ct as f,Et as p,Ot as m,St as h,Ut as g,Vt as _,_t as v,a as y,d as b,gn as x,gt as ee,hn as S,kt as C,ln as w,mt as T,n as E,nn as te,r as D,t as O,tn as k,wt as A,yn as j,yt as M,zt as N}from"./index-Du2czi9R.js";import{t as P}from"./Input-BoBIN1Do.js";import{t as F}from"./button-B9kMoAqM.js";import{t as I}from"./OrganisationService-DGbWQj7B.js";import"./DialogTitle-C6WKHeiB.js";import{t as L}from"./Card-Cwar_GGu.js";import{t as R}from"./Card-FrBmkbtK.js";import"./CardContent-D9pZntMi.js";import"./CardTitle-CgMBvI2E.js";import"./form-B6HG63aO.js";import{t as z}from"./Label-C7Xl7GdX.js";import{t as B}from"./badge-DJ-9zaYA.js";import"./Checkbox-CMuMpURe.js";var V={class:`w-full pb-7 block justify-center`},H={class:`grid grid-cols-1 md:grid-cols-1 gap-12 pt-0 max-w-2xl w-full mx-auto`},U={class:`flex justify-end`},W={key:0},G={key:1},K=D({__name:`Profile`,setup(a){let o=w({id:null,name:``,type:``,tin:``,cac_no:``,country:``,state:``,website:``,industry:``}),s=w([]),c=w([]),l=w([{label:`Agriculture`,value:`agriculture`},{label:`Manufacturing`,value:`manufacturing`},{label:`Finance & Insurance`,value:`finance`},{label:`Technology`,value:`technology`},{label:`Healthcare`,value:`healthcare`},{label:`Real Estate`,value:`real_estate`},{label:`Education`,value:`education`},{label:`Hospitality`,value:`hospitality`}]),u=w(!1),d=w(!1);N(async()=>{await h(),await v()});async function h(){try{o.value=await I.getById(`current`)||{}}catch{b({title:`Error`,description:`Failed to load organisation`})}}async function v(){let e=window.configurations.countries;e&&Array.isArray(e)&&(s.value=e.map(e=>({label:e.name||e,value:e.code||e.name||e})))}async function y(e){if(e){d.value=!0;try{c.value=((await(await fetch(`https://countriesnow.space/api/v0.1/countries/states`,{method:`POST`,headers:{"Content-Type":`application/json`},body:JSON.stringify({country:e})})).json()).data?.states||[]).map(e=>({label:e.name,value:e.name}))||[]}catch{b({title:`Error`,description:`Unable to load states. Please try again.`})}finally{d.value=!1}}}async function x(){u.value=!0;try{let e=await I.update(o.value.id,o.value);b({title:`Organisation Updated`,description:`${e.name} has been saved successfully.`})}catch(e){b({title:`Error`,description:e.message||`Failed to save organisation.`})}finally{u.value=!1}}return(a,h)=>(_(),p(`div`,V,[f(`div`,H,[f(`div`,null,[C(S(z),{for:`name`},{default:k(()=>[...h[5]||=[m(`Legal Name`,-1)]]),_:1}),C(S(P),{id:`name`,modelValue:o.value.name,"onUpdate:modelValue":h[0]||=e=>o.value.name=e,placeholder:`Registered name`,class:`rounded-full mt-2`},null,8,[`modelValue`])]),f(`div`,null,[C(S(z),{for:`industry`},{default:k(()=>[...h[6]||=[m(`Industry / Category`,-1)]]),_:1}),C(S(e),{modelValue:o.value.industry,"onUpdate:modelValue":h[1]||=e=>o.value.industry=e},{default:k(()=>[C(S(n),{id:`industry`,class:`rounded-full mt-2`},{default:k(()=>[C(S(i),{placeholder:`Select industry`})]),_:1}),C(S(t),null,{default:k(()=>[(_(!0),p(M,null,g(l.value,e=>(_(),A(S(r),{key:e.value,value:e.label},{default:k(()=>[m(j(e.label),1)]),_:2},1032,[`value`]))),128))]),_:1})]),_:1},8,[`modelValue`])]),f(`div`,null,[C(S(z),{for:`country`},{default:k(()=>[...h[7]||=[m(`Country`,-1)]]),_:1}),C(S(e),{modelValue:o.value.country,"onUpdate:modelValue":[h[2]||=e=>o.value.country=e,y]},{default:k(()=>[C(S(n),{id:`country`,class:`rounded-full mt-2`},{default:k(()=>[C(S(i),{placeholder:`Select country`})]),_:1}),C(S(t),null,{default:k(()=>[(_(!0),p(M,null,g(s.value,e=>(_(),A(S(r),{key:e.value,value:e.label},{default:k(()=>[m(j(e.label),1)]),_:2},1032,[`value`]))),128))]),_:1})]),_:1},8,[`modelValue`])]),f(`div`,null,[C(S(z),{for:`state`},{default:k(()=>[...h[8]||=[m(`State / County`,-1)]]),_:1}),C(S(e),{modelValue:o.value.state,"onUpdate:modelValue":h[3]||=e=>o.value.state=e},{default:k(()=>[C(S(n),{id:`state`,class:`rounded-full mt-2`,disabled:d.value},{default:k(()=>[C(S(i),{placeholder:`Select state`})]),_:1},8,[`disabled`]),C(S(t),null,{default:k(()=>[(_(!0),p(M,null,g(c.value,e=>(_(),A(S(r),{key:e.value,value:e.label},{default:k(()=>[m(j(e.label),1)]),_:2},1032,[`value`]))),128))]),_:1})]),_:1},8,[`modelValue`])]),f(`div`,null,[C(S(z),{for:`website`},{default:k(()=>[...h[9]||=[m(`Website (optional)`,-1)]]),_:1}),C(S(P),{id:`website`,modelValue:o.value.website,"onUpdate:modelValue":h[4]||=e=>o.value.website=e,placeholder:`https://yourbusiness.com`,class:`rounded-full mt-2`},null,8,[`modelValue`])]),f(`div`,U,[C(S(F),{class:`rounded-full px-8`,disabled:u.value,onClick:x},{default:k(()=>[u.value?(_(),p(`span`,G,`Processing...`)):(_(),p(`span`,W,`Save Changes`))]),_:1},8,[`disabled`])])])]))}},[[`__scopeId`,`data-v-8336469e`]]),q={async fetchUserComplianceData(e){return await y.get(`me/compliances/${e}`,{authorizeRequest:!0})},async saveComplianceData(e,t,n){return await y.patch(`me/compliances/${e}/${n}`,{authorizeRequest:!0,data:{complianceData:t}})},async getFrameworks(){return[{id:1,name:`CAMA 2020`,description:`Companies and Allied Matters Act`,policyLevel:`federal`,longDescription:`The Companies and Allied Matters Act (CAMA) 2020 is the principal legislation governing the formation and management of companies in Nigeria.`},{id:2,name:`Finance Act 2023`,description:`Annual Finance Act amendments`,policyLevel:`federal`,longDescription:`The Finance Act 2023 introduces changes to various tax laws to support the implementation of the federal budget.`},{id:3,name:`Lagos State Revenue Law`,description:`State internal revenue regulations`,policyLevel:`state`,longDescription:`Governs the collection of taxes and revenues in Lagos State.`}]},async getRegistration(e=`current`){return(await y.get(`organisations/${e}/compliance/registration`,{authorizeRequest:!0})).data||{}},async updateRegistration(e,t=`current`){return(await y.put(`organisations/${t}/compliance/registration`,{authorizeRequest:!0,data:e})).data}},J={class:`w-full`},Y={class:`border border-gray-200 rounded-2xl p-6 bg-white`},X={class:`grid grid-cols-1 md:grid-cols-2 gap-6`},Z={class:`mt-8 text-right`},Q={key:0},ne={key:1},re={class:`flex flex-col lg:flex-row gap-6`},ie={class:`flex-1 space-y-6`},ae={class:`text-lg font-semibold text-slate-800 mb-3 capitalize`},oe={class:`grid grid-cols-1 sm:grid-cols-2 gap-4`},se={class:`flex justify-between items-start`},ce={class:`font-semibold text-slate-800`},le={class:`text-sm text-slate-600 mb-3`},ue={class:`w-full lg:w-80 xl:w-96 border border-gray-200 rounded-2xl bg-white flex flex-col`},de={class:`font-semibold text-slate-800 mb-2`},$={class:`text-sm text-slate-600 leading-relaxed whitespace-pre-line`},fe={class:`flex-1 overflow-y-auto space-y-3`},pe={class:`mt-4 flex gap-2`},me={__name:`TrustCentre`,setup(e){let t=w(`registrations`),n=w(`overview`),r=w(!1),i=w({nationalTaxId:``,stateTaxId:``,businessRegId:``,notes:``}),a=w([]),c=w(null),d=w([]),y=w(``),E=h(()=>{let e={};return a.value.forEach(t=>{let n=t.policyLevel||`general`;e[n]||(e[n]=[]),e[n].push(t)}),e});N(async()=>{await D(),await O()});async function D(){try{a.value=await q.getFrameworks()}catch{b({title:`Error`,description:`Unable to load frameworks`})}}async function O(){try{let e=await q.getRegistration();Object.assign(i.value,e)}catch{}}async function I(){r.value=!0;try{await q.updateRegistration(i.value),b({title:`Saved`,description:`Compliance credentials updated.`})}catch(e){b({title:`Error`,description:e.message||`Failed to save credentials`})}finally{r.value=!1}}function L(e){c.value=e,n.value=`overview`}async function V(){if(!y.value.trim())return;let e={id:Date.now(),role:`user`,content:y.value};d.value.push(e),y.value=``,setTimeout(()=>{d.value.push({id:Date.now()+1,role:`assistant`,content:`This framework covers your obligations under the `+(c.value?.name||`selected policy`)+` and includes compliance filing schedules, due dates, and exemptions.`})},800)}return(e,a)=>(_(),p(`div`,J,[C(S(o),{modelValue:t.value,"onUpdate:modelValue":a[6]||=e=>t.value=e,class:`w-full`},{default:k(()=>[C(S(l),{class:`mb-6 flex gap-2`},{default:k(()=>[C(S(u),{value:`registrations`,class:`rounded-full px-6 py-2`},{default:k(()=>[...a[7]||=[m(`Registrations`,-1)]]),_:1}),C(S(u),{value:`frameworks`,class:`rounded-full px-6 py-2`},{default:k(()=>[...a[8]||=[m(`Tax Frameworks`,-1)]]),_:1})]),_:1}),C(S(s),{value:`registrations`},{default:k(()=>[f(`div`,Y,[a[13]||=f(`h2`,{class:`text-lg font-semibold text-slate-800 mb-6`},`Registration Credentials`,-1),f(`div`,X,[f(`div`,null,[C(S(z),{for:`nationalTaxId`},{default:k(()=>[...a[9]||=[m(`National Tax Identifier`,-1)]]),_:1}),C(S(P),{id:`nationalTaxId`,modelValue:i.value.nationalTaxId,"onUpdate:modelValue":a[0]||=e=>i.value.nationalTaxId=e,placeholder:`Enter your national tax identifier`,class:`rounded-full mt-2`},null,8,[`modelValue`])]),f(`div`,null,[C(S(z),{for:`stateTaxId`},{default:k(()=>[...a[10]||=[m(`State Tax Identifier`,-1)]]),_:1}),C(S(P),{id:`stateTaxId`,modelValue:i.value.stateTaxId,"onUpdate:modelValue":a[1]||=e=>i.value.stateTaxId=e,placeholder:`Enter your state tax identifier`,class:`rounded-full mt-2`},null,8,[`modelValue`])]),f(`div`,null,[C(S(z),{for:`businessRegId`},{default:k(()=>[...a[11]||=[m(`Registration Identifier`,-1)]]),_:1}),C(S(P),{id:`businessRegId`,modelValue:i.value.businessRegId,"onUpdate:modelValue":a[2]||=e=>i.value.businessRegId=e,placeholder:`Enter your official registration identifier`,class:`rounded-full mt-2`},null,8,[`modelValue`])]),f(`div`,null,[C(S(z),{for:`additionalNotes`},{default:k(()=>[...a[12]||=[m(`Additional Notes (optional)`,-1)]]),_:1}),te(f(`textarea`,{id:`additionalNotes`,"onUpdate:modelValue":a[3]||=e=>i.value.notes=e,rows:`3`,class:`w-full rounded-2xl border-gray-300 focus:ring-2 focus:ring-blue-500 mt-2 p-3`,placeholder:`Provide any relevant compliance remarks...`},null,512),[[T,i.value.notes]])])]),f(`div`,Z,[C(S(F),{class:`rounded-full px-8`,onClick:I,disabled:r.value},{default:k(()=>[r.value?(_(),p(`span`,ne,`Processing...`)):(_(),p(`span`,Q,`Save Credentials`))]),_:1},8,[`disabled`])])])]),_:1}),C(S(s),{value:`frameworks`},{default:k(()=>[f(`div`,re,[f(`div`,ie,[(_(!0),p(M,null,g(E.value,(e,t)=>(_(),p(`div`,{key:t},[f(`h3`,ae,j(t)+` Frameworks`,1),f(`div`,oe,[(_(!0),p(M,null,g(e,e=>(_(),A(S(R),{key:e.id,class:`p-5 border border-gray-200 hover:border-slate-800 transition rounded-xl`},{default:k(()=>[f(`div`,se,[f(`div`,null,[f(`h4`,ce,j(e.name),1),f(`p`,le,j(e.description),1),C(S(B),{variant:`secondary`,class:`rounded-full text-xs`},{default:k(()=>[m(j(e.policyLevel),1)]),_:2},1024)]),C(S(F),{variant:`outline`,size:`sm`,class:`rounded-full`,onClick:t=>L(e)},{default:k(()=>[...a[14]||=[m(` View `,-1)]]),_:1},8,[`onClick`])])]),_:2},1024))),128))])]))),128))]),f(`div`,ue,[C(S(o),{modelValue:n.value,"onUpdate:modelValue":a[5]||=e=>n.value=e,class:`flex-1 flex flex-col`},{default:k(()=>[C(S(l),{class:`flex justify-around p-2 border-b border-gray-100`},{default:k(()=>[C(S(u),{value:`overview`,class:`rounded-full px-4 py-1 text-sm`},{default:k(()=>[...a[15]||=[m(`Overview`,-1)]]),_:1}),C(S(u),{value:`ask`,class:`rounded-full px-4 py-1 text-sm`},{default:k(()=>[...a[16]||=[m(`Ask AI`,-1)]]),_:1})]),_:1}),C(S(s),{value:`overview`,class:`flex-1 p-4 overflow-y-auto`},{default:k(()=>[f(`h4`,de,j(c.value?.name||`No Framework Selected`),1),f(`p`,$,j(c.value?.longDescription||`Select a tax framework from the left to view details and guidance.`),1)]),_:1}),C(S(s),{value:`ask`,class:`flex-1 p-4 flex flex-col`},{default:k(()=>[f(`div`,fe,[(_(!0),p(M,null,g(d.value,e=>(_(),p(`div`,{key:e.id,class:x([`text-sm p-3 rounded-xl`,e.role===`user`?`bg-blue-100 text-slate-800 self-end`:`bg-gray-100 text-slate-700 self-start`])},j(e.content),3))),128))]),f(`div`,pe,[C(S(P),{modelValue:y.value,"onUpdate:modelValue":a[4]||=e=>y.value=e,placeholder:`Ask about tax obligations...`,class:`rounded-full flex-1`,onKeydown:ee(v(V,[`prevent`]),[`enter`])},null,8,[`modelValue`,`onKeydown`]),C(S(F),{class:`rounded-full`,onClick:V},{default:k(()=>[...a[17]||=[m(`Send`,-1)]]),_:1})])]),_:1})]),_:1},8,[`modelValue`])])])]),_:1})]),_:1},8,[`modelValue`])]))}},he={class:`rounded-sm`},ge={class:`container mx-auto py-5 relative`},_e={class:`flex justify-center`},ve={class:`flex flex-col md:flex-row gap-8 space-y-6`},ye={class:`flex-1`},be={class:`flex flex-col gap-8`},xe={class:`block md:hidden mb-6`},Se=D({__name:`Settings`,setup(l){E(),O();let h=w(`general`);return(l,g)=>(_(),p(`div`,he,[f(`div`,ge,[f(`div`,_e,[C(S(L),{class:`w-full p-8 shadow-none border-none bg-transparent rounded-2xl min-h-[80vh]`},{default:k(()=>[f(`div`,ve,[f(`div`,ye,[g[10]||=f(`div`,{class:`flex flex-col sm:flex-row sm:justify-between w-full`},[f(`div`,null,[f(`h1`,{class:`text-2xl font-bold text-slate-800`},`Organisation Settings`),f(`p`,{class:`text-sm text-slate-600`},`Manage your organisation profile, team, and preferences`)])],-1),f(`div`,be,[f(`div`,xe,[C(S(e),{modelValue:h.value,"onUpdate:modelValue":g[0]||=e=>h.value=e},{default:k(()=>[C(S(n),{class:`w-full border rounded-xl py-2 px-3 text-sm`},{default:k(()=>[C(S(i),{placeholder:`Select section`})]),_:1}),C(S(t),null,{default:k(()=>[C(S(a),null,{default:k(()=>[C(S(r),{value:`general`},{default:k(()=>[...g[2]||=[m(`General`,-1)]]),_:1}),C(S(r),{value:`billing`},{default:k(()=>[...g[3]||=[m(`Billing`,-1)]]),_:1}),C(S(r),{value:`trust-centre`},{default:k(()=>[...g[4]||=[m(`Trust Centre`,-1)]]),_:1})]),_:1})]),_:1})]),_:1},8,[`modelValue`])]),C(S(o),{modelValue:h.value,"onUpdate:modelValue":g[1]||=e=>h.value=e,"default-value":`general`,class:`mb-6 grid`},{default:k(()=>[g[8]||=f(`hr`,{class:`h-1 bg-slate-50 mt-10 mb-1 opacity-20`},null,-1),C(S(c),{class:`rounded-full bg-stone-100 text-blue-950 px-0.5 py-0.5 w-fit`},{default:k(()=>[C(S(u),{value:`general`,class:`px-4 py-1 rounded-full data-[state=active]:bg-stone-50 data-[state=active]:text-blue-950`},{default:k(()=>[...g[5]||=[m(` General `,-1)]]),_:1}),C(S(u),{value:`billing`,class:`px-4 py-1 rounded-full data-[state=active]:bg-stone-50 data-[state=active]:text-blue-950`},{default:k(()=>[...g[6]||=[m(` Billing `,-1)]]),_:1}),C(S(u),{value:`trust-centre`,class:`px-4 py-1 rounded-full data-[state=active]:bg-stone-50 data-[state=active]:text-blue-950`},{default:k(()=>[...g[7]||=[m(` Trust Centre `,-1)]]),_:1})]),_:1}),g[9]||=f(`hr`,{class:`h-1 bg-slate-50 mb-10 mt-2 opacity-30`},null,-1),C(S(s),{value:`general`,class:`mt-0`},{default:k(()=>[C(K)]),_:1}),C(S(s),{value:`billing`,class:`mt-0`},{default:k(()=>[C(d)]),_:1}),C(S(s),{value:`trust-centre`,class:`mt-0`},{default:k(()=>[C(me)]),_:1})]),_:1},8,[`modelValue`])])])])]),_:1})])])]))}},[[`__scopeId`,`data-v-a5eda648`]]);export{Se as default};