import{Br as e,Ea as t,Fr as n,Hi as r,Ir as i,Kr as a,Lr as o,Mr as s,Nr as c,Oa as l,Pa as u,Pr as d,Ui as f,Yi as p,Zr as m,ba as h,ga as g,ii as _,jr as v,la as y,mi as b,na as x,ni as S,oa as C,zi as w}from"./index-HKVTK5TI.js";var T=S(()=>l([]));function E(){let e=T();return{add(t){let n=e.value[0];t!==n&&n?.pause(),e.value=D(e.value,t),e.value.unshift(t)},remove(t){e.value=D(e.value,t),e.value[0]?.resume()}}}function D(e,t){let n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function O(e){return e.filter(e=>e.tagName!==`A`)}var k=p({__name:`FocusScope`,props:{loop:{type:Boolean,required:!1,default:!1},trapped:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:[`mountAutoFocus`,`unmountAutoFocus`],setup(f,{emit:p}){let m=f,S=p,{currentRef:w,currentElement:T}=a(),D=l(null),k=E(),A=t({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}});g(e=>{if(!_)return;let t=T.value;if(!m.trapped)return;function n(e){if(A.paused||!t)return;let n=e.target;t.contains(n)?D.value=n:d(D.value,{select:!0})}function r(e){if(A.paused||!t)return;let n=e.relatedTarget;n!==null&&(t.contains(n)||d(D.value,{select:!0}))}function i(e){t.contains(D.value)||d(t)}document.addEventListener(`focusin`,n),document.addEventListener(`focusout`,r);let a=new MutationObserver(i);t&&a.observe(t,{childList:!0,subtree:!0}),e(()=>{document.removeEventListener(`focusin`,n),document.removeEventListener(`focusout`,r),a.disconnect()})}),g(async e=>{let t=T.value;if(await x(),!t)return;k.add(A);let r=b();if(!t.contains(r)){let e=new CustomEvent(v,c);t.addEventListener(v,e=>S(`mountAutoFocus`,e)),t.dispatchEvent(e),e.defaultPrevented||(n(O(i(t)),{select:!0}),b()===r&&d(t))}e(()=>{t.removeEventListener(v,e=>S(`mountAutoFocus`,e));let e=new CustomEvent(s,c),n=e=>{S(`unmountAutoFocus`,e)};t.addEventListener(s,n),t.dispatchEvent(e),setTimeout(()=>{e.defaultPrevented||d(r??document.body,{select:!0}),t.removeEventListener(s,n),k.remove(A)},0)})});function j(e){if(!m.loop&&!m.trapped||A.paused)return;let t=e.key===`Tab`&&!e.altKey&&!e.ctrlKey&&!e.metaKey,n=b();if(t&&n){let t=e.currentTarget,[r,i]=o(t);r&&i?!e.shiftKey&&n===i?(e.preventDefault(),m.loop&&d(r,{select:!0})):e.shiftKey&&n===r&&(e.preventDefault(),m.loop&&d(i,{select:!0})):n===t&&e.preventDefault()}}return(t,n)=>(C(),r(u(e),{ref_key:`currentRef`,ref:w,tabindex:`-1`,"as-child":t.asChild,as:t.as,onKeydown:j},{default:h(()=>[y(t.$slots,`default`)]),_:3},8,[`as-child`,`as`]))}}),A=p({__name:`Teleport`,props:{to:{type:null,required:!1,default:`body`},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(e){let t=m();return(e,n)=>u(t)||e.forceMount?(C(),r(w,{key:0,to:e.to,disabled:e.disabled,defer:e.defer},[y(e.$slots,`default`)],8,[`to`,`disabled`,`defer`])):f(`v-if`,!0)}});export{k as n,A as t};