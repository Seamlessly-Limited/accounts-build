import{n as e,r as t,t as n}from"./AvatarImage-BjURjWLm.js";import{c as r,n as i,o as a,r as o,s as ee}from"./command-DyR1LHVy.js";import{t as s}from"./ScrollArea-DIt3oQvI.js";import{n as c,t as l}from"./SwitchThumb-cSX5w37U.js";import{$i as u,A as te,Bi as d,E as f,Ea as p,Fi as m,Fr as h,G as g,Gn as ne,In as re,Ki as _,Kn as v,Li as y,Mi as b,Ni as x,Nt as ie,Oi as S,Pi as C,Ri as w,Ta as T,Tt as E,Zi as D,Zt as ae,_a as oe,_n as se,a as ce,da as O,ea as k,fn as le,hi as A,i as j,ji as M,ka as N,lr as P,na as F,nn as I,qi as L,rn as R,tt as z,wn as B,x as V,ya as H,yi as U,yr as W,yt as ue,zn as de}from"./index-CHNvwQRL.js";import{n as G}from"./button-DSlecn3R.js";import{t as fe}from"./Textarea-cnn7tihP.js";import{t as pe}from"./badge-VpN0zBGl.js";var K=d({__name:`Avatar`,props:{class:{}},setup(e){let n=e;return(e,r)=>(D(),x(T(t),{"data-slot":`avatar`,class:p(T(W)(`relative flex size-8 shrink-0 overflow-hidden rounded-full`,n.class))},{default:O(()=>[k(e.$slots,`default`)]),_:3},8,[`class`]))}}),q=d({__name:`AvatarFallback`,props:{delayMs:{},asChild:{type:Boolean},as:{},class:{}},setup(t){let n=t,r=A(n,`class`);return(t,i)=>(D(),x(T(e),_({"data-slot":`avatar-fallback`},T(r),{class:T(W)(`bg-muted flex size-full items-center justify-center rounded-full`,n.class)}),{default:O(()=>[k(t.$slots,`default`)]),_:3},16,[`class`]))}}),me=d({__name:`AvatarImage`,props:{src:{},referrerPolicy:{},crossOrigin:{},asChild:{type:Boolean},as:{}},setup(e){let t=e;return(e,r)=>(D(),x(T(n),_({"data-slot":`avatar-image`},t,{class:`aspect-square size-full`}),{default:O(()=>[k(e.$slots,`default`)]),_:3},16))}}),he=d({__name:`Switch`,props:{defaultValue:{type:Boolean},modelValue:{type:[Boolean,null]},disabled:{type:Boolean},id:{},value:{},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean},class:{}},emits:[`update:modelValue`],setup(e,{emit:t}){let n=e,r=t,i=A(n,`class`),a=h(i,r);return(e,t)=>(D(),x(T(c),_({"data-slot":`switch`},T(a),{class:T(W)(`peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50`,n.class)}),{default:O(()=>[w(T(l),{"data-slot":`switch-thumb`,class:p(T(W)(`bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0`))},{default:O(()=>[k(e.$slots,`thumb`)]),_:3},8,[`class`])]),_:3},16,[`class`]))}}),ge={class:`flex flex-col h-full bg-stone-50`},_e={class:`p-4 border-b border-white flex items-center justify-between bg-white/20`},ve={class:`flex items-center gap-2`},ye={class:`h-8 w-8 rounded-full bg-stone-100 flex items-center justify-center text-blue-800 border border-slate-400`},be={class:`space-y-6`},xe={key:0,class:`text-center py-10 px-4`},Se={class:`bg-stone-100 h-12 w-12 rounded-full flex items-center justify-center mx-auto mb-4`},Ce={class:`grid grid-cols-1 gap-2 max-w-xs mx-auto`},we={key:0,class:`flex items-center gap-2 mb-1 text-red-600 font-medium`},Te={class:`leading-relaxed whitespace-pre-wrap`},Ee={key:0,class:`mt-2 flex flex-wrap gap-2`},De={class:`font-medium text-slate-700`},Oe={key:1,class:`mt-3 w-full bg-stone-50 border border-slate-200 rounded-lg p-3 shadow-sm`},ke={class:`flex items-center justify-between mb-2`},Ae={class:`text-sm text-slate-600 bg-slate-50 p-2 rounded border border-slate-100 mb-3 font-mono text-xs`},je={key:0,class:`flex gap-2`},Me={key:1,class:`flex items-center justify-between bg-green-50 text-blue-700 px-3 py-1.5 rounded text-xs`},Ne={class:`flex items-center gap-1.5`},Pe={key:2,class:`mt-2 flex gap-2`},Fe={key:1,class:`flex gap-3`},Ie={class:`bg-white border border-blue-100 rounded-2xl rounded-tl-sm px-4 py-3 text-sm text-slate-500 flex items-center gap-2 shadow-sm`},Le={class:`p-4 border-t bg-slate-50/50`},Re={class:`relative group`},ze={key:0,class:`absolute Sparklestom-full left-0 w-72 mb-2 bg-white border border-slate-200 rounded-xl shadow-xl overflow-hidden z-20 animate-in fade-in slide-in-from-Sparklestom-2`},Be={class:`flex flex-col`},Ve={class:`font-medium`},He={class:`text-xs text-slate-400`},Ue={class:`bg-white border border-slate-200 rounded-2xl shadow-sm focus-within:ring-2 focus-within:ring-blue-500/20 focus-within:border-blue-500 transition-all`},We={class:`flex justify-between items-center px-2 pb-2`},Ge={class:`flex items-center gap-1`},Ke={class:`flex items-center gap-2 bg-slate-50 border border-slate-100 rounded-full pl-1 pr-2 py-0.5`},J={class:`flex justify-between items-center px-1`},qe={class:`h-5 overflow-hidden flex items-center mt-1`},Je={key:0,class:`flex items-center gap-1.5 text-[10px] text-slate-400 font-medium bg-slate-100 px-2 py-0.5 rounded-full`},Y={__name:`AccountAssistant`,props:{account:Object,context:Object},setup(e){let t=e;M(()=>({activeTab:t.context?.tab,tabType:t.context?.tab?.type,tabData:t.context?.tab?.data,account:t.account}));let n=ce().toast,c=H([{role:`assistant`,content:`I noticed a spike in software subscription costs this month. Would you like me to break it down?`,attachments:[],actions:[{label:`Break it down`,icon:v},{label:`Ignore`,icon:se}]},{role:`assistant`,content:`I found a recurring transaction that seems miscategorized. Should I update "AWS Web Services" to "Infrastructure"?`,proposal:{type:`Categorization`,diff:`- Category: Uncategorized
+ Category: Infrastructure`,applied:!1}}]),l=H(``),d=H(!1),h=H(!1),_=H(``),k=H(null),A=oe({reasoning:!1,web:!1,voice:!1}),j=[{id:`t1`,description:`AWS Web Services`,amount:`-$240.00`,date:`Today`},{id:`t2`,description:`Github Enterprise`,amount:`-$25.00`,date:`Yesterday`},{id:`t3`,description:`Slack Technologies`,amount:`-$12.50`,date:`Oct 24`}],W=[{id:`f1`,name:`Invoice_OCT_2024.pdf`},{id:`f2`,name:`Q3_Financial_Report.xlsx`}],Y=M(()=>{if(!_.value)return j;let e=_.value.toLowerCase();return j.filter(t=>t.description.toLowerCase().includes(e))}),X=M(()=>{if(!_.value)return W;let e=_.value.toLowerCase();return W.filter(t=>t.name.toLowerCase().includes(e))}),Z=M(()=>Math.ceil(l.value.length/4));function Ye(e){let t=e.target.value.match(/(?:^|\s)@(\w*)$/);t?(h.value=!0,_.value=t[1]):(h.value=!1,_.value=``)}function Xe(e){e.key===`Enter`&&(e.metaKey||e.ctrlKey)&&(e.preventDefault(),$()),e.key===`Escape`&&(h.value=!1)}function Q(e){let t=l.value,n=t.match(/(?:^|\s)@(\w*)$/);if(n){let r=n.index+(n[0].startsWith(` `)?1:0);l.value=t.substring(0,r)+`@`+(e.description||e.name)+` `}h.value=!1,L(()=>k.value?.$el.focus())}function Ze(){A.voice=!A.voice,A.voice&&n({title:`Voice Mode Active`,description:`Listening...`})}function Qe(){n({title:`Upload`,description:`File picker would open here.`})}function $e(e){c.value[e].proposal.applied=!0,n({title:`Changes Applied`,description:`Categorization updated successfully.`})}function et(e){c.value.splice(e,1),n({title:`Proposal Rejected`,variant:`secondary`})}function tt(e){c.value[e].proposal.applied=!1,n({title:`Rolled Back`,description:`Changes have been reverted.`})}async function $(){if(!l.value.trim())return;let e=l.value;l.value=``,h.value=!1,c.value.push({role:`user`,content:e,attachments:[]}),d.value=!0,setTimeout(()=>{if(d.value=!1,e.toLowerCase().includes(`error`)){c.value.push({role:`assistant`,content:`I encountered an issue processing that request. Please try again or check your connection.`,isError:!0});return}c.value.push({role:`assistant`,content:A.reasoning?`Based on my analysis of the transaction data you provided, I've identified a few patterns...`:`Here is the information you requested.`,attachments:[]})},1500)}return(e,t)=>(D(),m(`div`,ge,[b(`div`,_e,[b(`div`,ve,[b(`div`,ye,[w(T(le),{class:`size-5`})]),t[5]||=b(`div`,null,[b(`h3`,{class:`font-semibold text-sm text-slate-900`},[y(` Simi `),b(`span`,{class:`text-xs text-slate-400`},` - Junior Consultant `)]),b(`p`,{class:`text-xs text-slate-500`},` Hi, press Ctrl + M to see me. `)],-1)])]),w(T(s),{class:`flex-1 p-4`},{default:O(()=>[b(`div`,be,[c.value.length===0?(D(),m(`div`,xe,[b(`div`,Se,[w(T(g),{class:`h-6 w-6 text-yellow-300`})]),t[8]||=b(`h4`,{class:`font-medium text-slate-800 mb-2`},`How can I help you today?`,-1),t[9]||=b(`p`,{class:`text-sm text-slate-500 mb-6`},`Ask about transactions, analyze spending, or upload documents.`,-1),b(`div`,Ce,[w(T(G),{variant:`outline`,class:`justify-start text-xs h-auto py-2 px-3 text-slate-600`,onClick:t[0]||=e=>l.value=`Analyze my spending this month`},{default:O(()=>[w(T(v),{class:`mr-2 h-3 w-3 text-blue-950`}),t[6]||=y(` Analyze spending `,-1)]),_:1}),w(T(G),{variant:`outline`,class:`justify-start text-xs h-auto py-2 px-3 text-slate-600`,onClick:t[1]||=e=>l.value=`Find suspicious transactions`},{default:O(()=>[w(T(z),{class:`mr-2 h-3 w-3 text-yellow-300`}),t[7]||=y(` Find suspicious transactions `,-1)]),_:1})])])):C(``,!0),(D(!0),m(S,null,u(c.value,(e,n)=>(D(),m(`div`,{key:n,class:p([`flex gap-3`,e.role===`user`?`flex-row-reverse`:``])},[w(T(K),{class:`h-8 w-8 border border-slate-100`},{default:O(()=>[e.role===`assistant`?(D(),x(T(me),{key:0,src:``})):C(``,!0),w(T(q),{class:p(e.role===`assistant`?`bg-stone-100 text-slate-500`:`bg-slate-100 text-slate-600`)},{default:O(()=>[e.role===`assistant`?(D(),x(T(g),{key:0,class:`h-4 w-4`})):(D(),x(T(f),{key:1,class:`h-4 w-4`}))]),_:2},1032,[`class`])]),_:2},1024),b(`div`,{class:p([`flex flex-col max-w-[85%]`,e.role===`user`?`items-end`:`items-start`])},[b(`div`,{class:p([`rounded-2xl px-4 py-2.5 text-sm shadow-sm`,e.role===`user`?`bg-white/30 text-neutral-800 rounded-tr-sm`:`bg-stone-50 border border-slate-100 text-slate-700 rounded-tl-sm`,e.isError?`bg-red-50 border-red-200 text-red-700`:``])},[e.isError?(D(),m(`div`,we,[w(T(de),{class:`h-4 w-4`}),t[10]||=b(`span`,null,`Error`,-1)])):C(``,!0),b(`p`,Te,N(e.content),1)],2),e.attachments?.length?(D(),m(`div`,Ee,[(D(!0),m(S,null,u(e.attachments,e=>(D(),m(`div`,{key:e.id,class:`flex items-center gap-1.5 text-xs bg-white border border-slate-200 rounded-md px-2 py-1 shadow-sm`},[w(T(R),{class:`h-3 w-3 text-blue-500`}),b(`span`,De,N(e.name),1)]))),128))])):C(``,!0),e.role===`assistant`&&e.proposal?(D(),m(`div`,Oe,[b(`div`,ke,[t[11]||=b(`span`,{class:`text-xs font-semibold text-slate-700 uppercase tracking-wider`},`Proposed Change`,-1),w(T(pe),{variant:`outline`,class:`text-[10px]`},{default:O(()=>[y(N(e.proposal.type),1)]),_:2},1024)]),b(`div`,Ae,N(e.proposal.diff),1),e.proposal.applied?(D(),m(`div`,Me,[b(`span`,Ne,[w(T(re),{class:`h-3.5 w-3.5`}),t[14]||=y(` Changes applied successfully `,-1)]),w(T(G),{variant:`ghost`,size:`sm`,class:`h-6 px-2 text-slate-500 hover:text-slate-800 hover:bg-green-100`,onClick:e=>tt(n)},{default:O(()=>[w(T(te),{class:`mr-1.5 h-3 w-3`}),t[15]||=y(` Rollback `,-1)]),_:1},8,[`onClick`])])):(D(),m(`div`,je,[w(T(G),{size:`sm`,class:`h-7 text-xs bg-blue-600 hover:bg-green-700 text-white`,onClick:e=>$e(n)},{default:O(()=>[w(T(ne),{class:`mr-1.5 h-3 w-3`}),t[12]||=y(` Accept Changes `,-1)]),_:1},8,[`onClick`]),w(T(G),{size:`sm`,variant:`outline`,class:`h-7 text-xs`,onClick:e=>et(n)},{default:O(()=>[w(T(V),{class:`mr-1.5 h-3 w-3`}),t[13]||=y(` Reject `,-1)]),_:1},8,[`onClick`])]))])):C(``,!0),e.role===`assistant`&&e.actions&&!e.proposal?(D(),m(`div`,Pe,[(D(!0),m(S,null,u(e.actions,e=>(D(),x(T(G),{key:e.label,variant:`outline`,size:`sm`,class:`h-7 text-xs bg-white`},{default:O(()=>[(D(),x(F(e.icon),{class:`mr-1.5 h-3 w-3`})),y(` `+N(e.label),1)]),_:2},1024))),128))])):C(``,!0)],2)],2))),128)),d.value?(D(),m(`div`,Fe,[w(T(K),{class:`h-8 w-8`},{default:O(()=>[w(T(q),{class:`bg-blue-600 text-white`},{default:O(()=>[w(T(g),{class:`h-4 w-4`})]),_:1})]),_:1}),b(`div`,Ie,[w(T(ie),{class:`h-3 w-3 animate-spin text-blue-500`}),t[16]||=b(`span`,{"classF,":``,"User,":``,F:`animate-pulse`},`Reasoning...`,-1)])])):C(``,!0)])]),_:1}),b(`div`,Le,[b(`div`,Re,[h.value?(D(),m(`div`,ze,[w(T(r),null,{default:O(()=>[w(T(i),{class:`max-h-[200px]`},{default:O(()=>[w(T(ee),null,{default:O(()=>[...t[17]||=[y(`No results found.`,-1)]]),_:1}),w(T(a),{heading:`Transactions`},{default:O(()=>[(D(!0),m(S,null,u(Y.value,e=>(D(),x(T(o),{key:e.id,value:e.id,onSelect:t=>Q(e),class:`cursor-pointer`},{default:O(()=>[w(T(B),{class:`mr-2 h-4 w-4 text-slate-400`}),b(`div`,Be,[b(`span`,Ve,N(e.description),1),b(`span`,He,N(e.amount)+` • `+N(e.date),1)])]),_:2},1032,[`value`,`onSelect`]))),128))]),_:1}),w(T(a),{heading:`Files`},{default:O(()=>[(D(!0),m(S,null,u(X.value,e=>(D(),x(T(o),{key:e.id,value:e.id,onSelect:t=>Q(e),class:`cursor-pointer`},{default:O(()=>[w(T(I),{class:`mr-2 h-4 w-4 text-blue-400`}),b(`span`,null,N(e.name),1)]),_:2},1032,[`value`,`onSelect`]))),128))]),_:1})]),_:1})]),_:1})])):C(``,!0),b(`div`,Ue,[w(T(fe),{ref_key:`inputRef`,ref:k,modelValue:l.value,"onUpdate:modelValue":t[2]||=e=>l.value=e,placeholder:`Ask anything... (Type @ to reference)`,class:`min-h-[60px] w-full resize-none border-0 bg-transparent p-3 text-sm focus-visible:ring-0 placeholder:text-slate-400`,onKeydown:Xe,onInput:Ye},null,8,[`modelValue`]),b(`div`,We,[b(`div`,Ge,[b(`div`,Ke,[w(T(he),{id:`reasoning-mode`,checked:A.reasoning,"onUpdate:checked":t[3]||=e=>A.reasoning=e,class:`scale-75`},null,8,[`checked`]),t[18]||=b(`label`,{for:`reasoning-mode`,class:`text-[10px] font-medium text-slate-600 cursor-pointer select-none`},`Reasoning`,-1)]),w(T(G),{variant:`ghost`,size:`sm`,class:p([`h-7 w-7 rounded-full p-0 transition-colors`,A.web?`bg-blue-100 text-blue-700 hover:bg-blue-200`:`text-slate-400 hover:bg-slate-100 hover:text-slate-600`]),onClick:t[4]||=e=>A.web=!A.web,title:`Web Search`},{default:O(()=>[w(T(ae),{class:`h-3.5 w-3.5`})]),_:1},8,[`class`]),w(T(G),{variant:`ghost`,size:`sm`,class:`h-7 w-7 rounded-full p-0 text-slate-400 hover:bg-slate-100 hover:text-slate-600`,onClick:Qe,title:`Upload File`},{default:O(()=>[w(T(ue),{class:`h-3.5 w-3.5`})]),_:1}),w(T(G),{variant:`ghost`,size:`sm`,class:p([`h-7 w-7 rounded-full p-0 transition-colors`,A.voice?`text-red-500 bg-red-50 hover:bg-red-100`:`text-slate-400 hover:bg-slate-100 hover:text-slate-600`]),onClick:Ze,title:`Voice Mode`},{default:O(()=>[w(T(E),{class:`h-3.5 w-3.5`})]),_:1},8,[`class`])]),w(T(G),{size:`sm`,disabled:!l.value.trim()&&!d.value,class:`h-8 w-8 rounded-full p-0 bg-blue-950 hover:bg-blue-900 text-white shadow-md transition-all`,onClick:$},{default:O(()=>[w(T(P),{class:`h-4 w-4`})]),_:1},8,[`disabled`])])])]),b(`div`,J,[b(`div`,qe,[w(U,{"enter-active-class":`transition-all duration-300 ease-out`,"leave-active-class":`transition-all duration-300 ease-in`,"enter-from-class":`opacity-0 -translate-x-2`,"leave-to-class":`opacity-0 -translate-x-2`},{default:O(()=>[Z.value>0?(D(),m(`div`,Je,[t[19]||=b(`div`,{class:`h-1.5 w-1.5 rounded-full bg-blue-500`},null,-1),y(` `+N(Z.value)+` tokens `,1)])):C(``,!0)]),_:1})]),t[20]||=b(`div`,{class:`text-[10px] text-slate-400 font-medium`},` ⌘ + Enter to send `,-1)])])]))}},X=j(Y,[[`__scopeId`,`data-v-b2fa224f`]]);export{X as t};