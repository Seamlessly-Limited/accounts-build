import"./useNonce-BMN6rGol.js";import"./ConfigProvider-COTvgjgS.js";import"./useDirection-D13jZBr-.js";import{a as e,i as t,n,r,t as i}from"./ScrollAreaViewport-B8MNvpMz.js";import{Ai as a,Hi as o,Ii as s,Ni as c,Oi as l,Pi as u,Q as ee,Sa as d,Ta as f,Xi as p,Yi as m,_t as h,b as te,di as g,ha as _,hr as v,i as y,ji as b,ki as x,pa as S,qi as C,sa as w,wi as T,wt as E,xa as D,xi as O}from"./index-DYsAJfvN.js";import{t as k}from"./Input-CVPFaPt_.js";import{t as A}from"./button-JGcPCTN0.js";import{t as ne}from"./Card-B2Jpc861.js";import{t as re}from"./CardContent-VS5bSOkZ.js";import{t as j}from"./badge-D0SwtQcn.js";import{t as M}from"./Textarea-BivqAZgc.js";var N=s({__name:`ScrollBar`,props:{orientation:{default:`vertical`},forceMount:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(e){let t=e,i=g(t,`class`);return(a,s)=>(C(),x(D(r),o(D(i),{class:D(v)(`flex touch-none select-none transition-colors`,e.orientation===`vertical`&&`h-full w-2.5 border-l border-l-transparent p-px`,e.orientation===`horizontal`&&`h-2.5 flex-col border-t border-t-transparent p-px`,t.class)}),{default:w(()=>[u(D(n),{class:`relative flex-1 rounded-full bg-border`})]),_:1},16,[`class`]))}}),P=s({__name:`ScrollArea`,props:{type:{},dir:{},scrollHideDelay:{},asChild:{type:Boolean},as:{},class:{}},setup(n){let r=n,a=g(r,`class`);return(n,s)=>(C(),x(D(e),o(D(a),{class:D(v)(`relative overflow-hidden`,r.class)}),{default:w(()=>[u(D(i),{class:`h-full w-full rounded-[inherit]`},{default:w(()=>[p(n.$slots,`default`)]),_:3}),u(N),u(D(t))]),_:3},16,[`class`]))}}),F={class:`flex h-full border border-slate-100 rounded-sm bg-background mt-12`},I={class:`w-80 border-r border-slate-100 flex flex-col`},L={class:`p-4 border-b`},R={class:`flex items-center justify-between mb-4`},z={class:`flex items-center gap-2 mb-2`},B={class:`flex items-center gap-2 text-sm cursor-pointer text-muted-foreground hover:text-foreground`},V={key:0,class:`space-y-1`},H={class:`truncate flex-1`},U={class:`flex gap-2 pt-2`},W={class:`p-2 space-y-2`},G=[`onClick`],K={class:`flex items-start justify-between mb-2`},q={class:`font-medium text-sm line-clamp-1 flex-1`},ie={class:`text-xs text-muted-foreground line-clamp-2 mb-2`},J={class:`flex items-center justify-between text-xs text-muted-foreground`},Y={key:0,class:`flex-1 flex flex-col`},ae={class:`p-4 border-b flex items-center justify-between`},oe={class:`font-semibold`},se={class:`text-sm text-muted-foreground`},ce={class:`space-y-4`},le={class:`text-sm`},ue={key:0,class:`mt-2 space-y-1`},de={class:`flex-1`},fe={class:`text-muted-foreground`},pe={class:`text-xs opacity-70 mt-1`},me={class:`p-4 border-t`},he={class:`flex gap-2`},ge={key:1,class:`flex-1 flex items-center justify-center text-muted-foreground`},X={class:`text-center`},Z=y(s({__name:`Support`,setup(e){let t=_([{id:`1`,title:`Login issues`,status:`OPEN`,lastMessage:`Having trouble logging in since yesterday`,createdAt:new Date(`2024-01-15`),messages:[{id:`1`,text:`Having trouble logging in since yesterday`,sender:`user`,timestamp:new Date(`2024-01-15T10:30:00`)},{id:`2`,text:`We are looking into this issue. Can you try resetting your password?`,sender:`support`,timestamp:new Date(`2024-01-15T11:15:00`)}]},{id:`2`,title:`Payment failed`,status:`PENDING`,lastMessage:`Payment processing failed multiple times`,createdAt:new Date(`2024-01-14`),messages:[{id:`1`,text:`Payment processing failed multiple times`,sender:`user`,timestamp:new Date(`2024-01-14T14:20:00`)}]},{id:`3`,title:`Feature request`,status:`RESOLVED`,lastMessage:`Thank you for the suggestion!`,createdAt:new Date(`2024-01-10`),messages:[{id:`1`,text:`Would love to see dark mode in the app`,sender:`user`,timestamp:new Date(`2024-01-10T09:45:00`)},{id:`2`,text:`Thank you for the suggestion! We have added this to our roadmap.`,sender:`support`,timestamp:new Date(`2024-01-10T10:30:00`)}]}]),n=_(null),r=_(!1),i=_(``),o=_([]),s=S({title:``,message:``,attachments:[]}),p=()=>[...t.value].sort((e,t)=>new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()),g=e=>{n.value=e,r.value=!1},v=()=>{r.value=!0,n.value=null,y()},y=()=>{s.title=``,s.message=``,s.attachments=[],o.value=[]},N=()=>{if(!s.title.trim()||!s.message.trim())return;let e={id:Date.now().toString(),title:s.title,status:`OPEN`,lastMessage:s.message,createdAt:new Date,messages:[{id:`1`,text:s.message,sender:`user`,timestamp:new Date,attachments:o.value.map(e=>({id:Math.random().toString(36).substr(2,9),name:e.name,size:ye(e.size),type:e.type}))}]};t.value.unshift(e),n.value=e,r.value=!1,y()},Z=()=>{if(!i.value.trim()||!n.value)return;let e={id:Math.random().toString(36).substr(2,9),text:i.value,sender:`user`,timestamp:new Date};n.value.messages.push(e),n.value.lastMessage=i.value,i.value=``},_e=e=>{let t=e.target;t.files&&(o.value=Array.from(t.files))},ve=e=>{o.value.splice(e,1)},ye=e=>{if(e===0)return`0 Bytes`;let t=1024,n=[`Bytes`,`KB`,`MB`,`GB`],r=Math.floor(Math.log(e)/Math.log(t));return parseFloat((e/t**+r).toFixed(2))+` `+n[r]},Q=e=>{switch(e){case`OPEN`:return`default`;case`PENDING`:return`secondary`;case`RESOLVED`:return`outline`;default:return`default`}},$=e=>new Intl.DateTimeFormat(`en-US`,{month:`short`,day:`numeric`,hour:`2-digit`,minute:`2-digit`}).format(e);return(e,t)=>(C(),b(`div`,F,[l(`div`,I,[l(`div`,L,[l(`div`,R,[t[5]||=l(`h2`,{class:`text-lg font-semibold`},`Support Conversations`,-1),u(D(A),{onClick:v,size:`sm`,class:`flex items-center gap-2 px-3 rounded-full`},{default:w(()=>[...t[4]||=[c(` New `,-1)]]),_:1})]),r.value?(C(),x(D(ne),{key:0,class:`mb-4`},{default:w(()=>[u(D(re),{class:`p-4 space-y-3`},{default:w(()=>[u(D(k),{modelValue:s.title,"onUpdate:modelValue":t[0]||=e=>s.title=e,placeholder:`Issue title`,class:`w-full`},null,8,[`modelValue`]),u(D(M),{modelValue:s.message,"onUpdate:modelValue":t[1]||=e=>s.message=e,placeholder:`Describe your issue...`,class:`min-h-[80px] resize-vertical`},null,8,[`modelValue`]),l(`div`,null,[l(`div`,z,[l(`label`,B,[u(D(h),{class:`w-4 h-4`}),t[6]||=c(` Attach files `,-1),l(`input`,{type:`file`,multiple:``,class:`hidden`,onChange:_e},null,32)])]),o.value.length?(C(),b(`div`,V,[(C(!0),b(T,null,m(o.value,(e,t)=>(C(),b(`div`,{key:t,class:`flex items-center justify-between p-2 text-sm bg-muted rounded`},[l(`span`,H,f(e.name),1),u(D(A),{variant:`ghost`,size:`sm`,onClick:e=>ve(t),class:`h-6 w-6 p-0 hover:bg-destructive hover:text-destructive-foreground`},{default:w(()=>[u(D(te),{class:`w-3 h-3`})]),_:1},8,[`onClick`])]))),128))])):a(``,!0)]),l(`div`,U,[u(D(A),{onClick:N,disabled:!s.title.trim()||!s.message.trim(),class:`flex-1`},{default:w(()=>[...t[7]||=[c(` Start Conversation `,-1)]]),_:1},8,[`disabled`]),u(D(A),{variant:`outline`,onClick:t[2]||=e=>r.value=!1},{default:w(()=>[...t[8]||=[c(` Cancel `,-1)]]),_:1})])]),_:1})]),_:1})):a(``,!0)]),u(D(P),{class:`flex-1`},{default:w(()=>[l(`div`,W,[(C(!0),b(T,null,m(p(),e=>(C(),b(`div`,{key:e.id,onClick:t=>g(e),class:d([`p-3 rounded-lg border cursor-pointer transition-colors hover:bg-accent/50`,n.value?.id===e.id?`bg-accent border-primary`:`bg-background`])},[l(`div`,K,[l(`h3`,q,f(e.title),1),u(D(j),{variant:Q(e.status),class:`text-xs ml-2 shrink-0`},{default:w(()=>[c(f(e.status),1)]),_:2},1032,[`variant`])]),l(`p`,ie,f(e.lastMessage),1),l(`div`,J,[l(`span`,null,f($(e.createdAt)),1),u(D(E),{class:`w-3 h-3`})])],10,G))),128))])]),_:1})]),n.value?(C(),b(`div`,Y,[l(`div`,ae,[l(`div`,null,[l(`h3`,oe,f(n.value.title),1),l(`p`,se,` Created `+f($(n.value.createdAt)),1)]),u(D(j),{variant:Q(n.value.status)},{default:w(()=>[c(f(n.value.status),1)]),_:1},8,[`variant`])]),u(D(P),{class:`flex-1 p-4`},{default:w(()=>[l(`div`,ce,[(C(!0),b(T,null,m(n.value.messages,e=>(C(),b(`div`,{key:e.id,class:d([`flex max-w-[80%]`,e.sender===`user`?`ml-auto justify-end`:`mr-auto`])},[l(`div`,{class:d([`rounded-lg px-4 py-2`,e.sender===`user`?`bg-primary text-primary-foreground`:`bg-muted`])},[l(`p`,le,f(e.text),1),e.attachments?(C(),b(`div`,ue,[(C(!0),b(T,null,m(e.attachments,e=>(C(),b(`div`,{key:e.id,class:`flex items-center gap-2 p-2 bg-background/50 rounded text-xs`},[u(D(h),{class:`w-3 h-3`}),l(`span`,de,f(e.name),1),l(`span`,fe,f(e.size),1)]))),128))])):a(``,!0),l(`p`,pe,f($(e.timestamp)),1)],2)],2))),128))])]),_:1}),l(`div`,me,[l(`div`,he,[u(D(k),{modelValue:i.value,"onUpdate:modelValue":t[3]||=e=>i.value=e,placeholder:`Type your message...`,onKeypress:O(Z,[`enter`]),class:`flex-1 rounded-full`},null,8,[`modelValue`]),u(D(A),{onClick:Z,disabled:!i.value.trim(),class:`rounded-full`},{default:w(()=>[u(D(ee),{class:`w-4 h-4`})]),_:1},8,[`disabled`])])])])):(C(),b(`div`,ge,[l(`div`,X,[u(D(E),{class:`w-12 h-12 mx-auto mb-4 opacity-50`}),t[9]||=l(`p`,null,`Select a conversation or start a new one`,-1)])]))]))}}),[[`__scopeId`,`data-v-3e6cc9d0`]]);export{Z as default};