import"./useFormControl-DNz7k4w5.js";import"./nullish-CfjOSA4G.js";import"./CheckboxIndicator-1-3DdxOU.js";import"./ConfigProvider-CX3z9H2g.js";import"./useDirection-CVICsvLJ.js";import"./useId-D49Isxay.js";import"./utils-BngY0H0a.js";import"./RovingFocusGroup-BE-sAXeo.js";import"./RovingFocusItem-D4Wm4PW9.js";import"./VisuallyHiddenInput-DzwRJu2R.js";import"./Label-BzNmG4jj.js";import{At as e,B as t,Ii as n,Ni as r,Oi as i,Pi as a,Q as o,Sa as s,Ta as c,Yi as l,a as u,b as d,ha as f,i as p,ji as m,ki as h,o as g,qi as _,r as v,sa as y,un as b,wi as x,xa as S}from"./index-DUz5oLRf.js";import{t as C}from"./Input-nMYpliAi.js";import{t as w}from"./button-CLcRjLYE.js";import{t as T}from"./BackgroundAnimation-BlmFv0VL.js";import{t as E}from"./Card-X2H1JOHs.js";import{t as D}from"./CardContent-CNVhl2Yy.js";import{n as O,r as k,t as A}from"./CardTitle-n5SXEOTd.js";import{t as j}from"./Label-BF80UCQs.js";import{t as M}from"./badge-Dwb2m8FL.js";import{t as N}from"./Checkbox-BuxXXEFR.js";import{t as P}from"./Textarea-B2ujhXoz.js";var F={createFeedback(e){return g.post(`/feedback`,{data:e})}},I={class:`fixed w-full h-full overflow-y-scroll bg-[radial-gradient(ellipse_at_bottom,_var(--tw-gradient-stops))] from-slate-950/95 to-slate-900 from-5% scrollbar-hide`},L={class:`py-20`},R={key:0,class:`p-4 mb-6 text-sm text-green-800 bg-green-50 rounded-lg border border-green-200`},z={key:1},B={class:`mb-6`},V={class:`flex flex-row gap-2 w-full overflow-x-scroll`,style:{"scrollbar-width":`none`}},H={class:`mb-6`},U={class:`mb-6`},W={class:`flex items-start space-x-2 mb-6 p-4 bg-muted/30 rounded-lg`},G={class:`grid gap-1.5`},K={class:`flex gap-3`},q=p(n({__name:`Feedback`,setup(n){let p=f({rating:null,message:``,email:``,allowContact:!1}),g=f(!1),q=f(!1),J=u(),Y=[{value:1,label:`Very Poor`},{value:2,label:`Poor`},{value:3,label:`Average`},{value:4,label:`Good`},{value:5,label:`Excellent`}],X=async()=>{if(!(!p.value.rating||!p.value.message.trim())){g.value=!0;try{await F.createFeedback(p.value),q.value=!0,J.toast({message:`Thank you for your feedback!`,variant:`success`,duration:5e3})}catch{J.toast({message:`Failed to submit feedback. Please try again.`,variant:`error`,duration:5e3})}finally{g.value=!1}}},Z=()=>{p.value={rating:null,message:``,email:``,allowContact:!1},q.value=!1},Q=v(),$=()=>{try{return Q.back()}catch{Q.push(`/`)}};return(n,u)=>(_(),m(`div`,I,[a(T),i(`div`,L,[a(S(E),{class:`w-11/12 max-w-2xl mx-auto relative border-white border-8 bg-stone-50`},{default:y(()=>[u[15]||=i(`div`,{class:`absolute`},null,-1),i(`span`,{onClick:$,class:`absolute z-50 right-1.5 top-1 border border-slate-200 p-1 cursor-pointer bg-white rounded-full ring-offset-background transition-opacity hover:border-slate-500 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none bg-accent text-muted-foreground`},[a(S(d),{class:`w-4 h-4`}),u[3]||=i(`span`,{class:`sr-only`},`Close`,-1)]),a(S(O),null,{default:y(()=>[a(S(A),{class:`flex items-center gap-2`},{default:y(()=>[a(S(b),{class:`w-5 h-5`}),u[4]||=r(` Product Feedback `,-1)]),_:1}),a(S(k),null,{default:y(()=>[...u[5]||=[r(` Help us improve Seamlessly by sharing your thoughts and experience with us. `,-1)]]),_:1})]),_:1}),a(S(D),null,{default:y(()=>[q.value?(_(),m(`div`,R,[...u[6]||=[i(`div`,{class:`flex items-center gap-2`},[i(`span`,{class:`font-medium`},`Thank you for your feedback!`)],-1),i(`p`,{class:`mt-1 text-green-700`},` We appreciate you taking the time to help us improve. `,-1)]])):(_(),m(`div`,z,[i(`div`,B,[a(S(j),{class:`text-sm font-medium mb-3 block`},{default:y(()=>[...u[7]||=[r(` How would you rate your experience? * `,-1)]]),_:1}),i(`div`,V,[(_(),m(x,null,l(Y,e=>a(S(w),{key:e.value,type:`button`,variant:`outline`,size:`sm`,class:s([`flex items-center gap-2 transition-all pe-1 rounded-full`,p.value.rating===e.value?`bg-primary text-primary-foreground border-primary`:`hover:bg-accent`]),onClick:t=>p.value.rating=e.value},{default:y(()=>[a(S(t),{class:s([`w-4 h-4`,p.value.rating===e.value?`fill-current`:``])},null,8,[`class`]),r(` `+c(e.value)+` `,1),a(S(M),{variant:`secondary`,class:s([`ml-1 text-xs`,p.value.rating===e.value?`bg-primary-foreground text-primary`:``])},{default:y(()=>[r(c(e.label),1)]),_:2},1032,[`class`])]),_:2},1032,[`class`,`onClick`])),64))])]),i(`div`,H,[a(S(j),{for:`feedback-message`,class:`text-sm font-medium mb-3 block`},{default:y(()=>[...u[8]||=[r(` Your Feedback * `,-1)]]),_:1}),a(S(P),{id:`feedback-message`,modelValue:p.value.message,"onUpdate:modelValue":u[0]||=e=>p.value.message=e,placeholder:`What did you like? What can we improve? Any specific features you'd like to see?`,class:`min-h-[120px] resize-vertical rounded-sm`,disabled:g.value},null,8,[`modelValue`,`disabled`])]),i(`div`,U,[a(S(j),{for:`email`,class:`text-sm font-medium mb-3 block`},{default:y(()=>[...u[9]||=[r(` Email Address (Optional) `,-1)]]),_:1}),a(S(C),{id:`email`,modelValue:p.value.email,"onUpdate:modelValue":u[1]||=e=>p.value.email=e,type:`email`,placeholder:`your.email@example.com`,class:`rounded-full`,disabled:g.value},null,8,[`modelValue`,`disabled`]),u[10]||=i(`p`,{class:`text-xs text-muted-foreground mt-2`},` We'll only use this to follow up on your feedback if you allow contact. `,-1)]),i(`div`,W,[a(S(N),{id:`allow-contact`,checked:p.value.allowContact,"onUpdate:checked":u[2]||=e=>p.value.allowContact=e,disabled:g.value},null,8,[`checked`,`disabled`]),i(`div`,G,[a(S(j),{for:`allow-contact`,class:`text-sm font-medium cursor-pointer`},{default:y(()=>[...u[11]||=[r(` Allow us to contact you about this feedback `,-1)]]),_:1}),u[12]||=i(`p`,{class:`text-xs text-muted-foreground`},` If checked, we may reach out to you via email to learn more about your experience and discuss how we can improve. `,-1)])]),i(`div`,K,[a(S(w),{type:`submit`,disabled:!p.value.rating||!p.value.message.trim()||g.value,class:`flex-1 rounded-full`,onClick:X},{default:y(()=>[g.value?(_(),h(S(e),{key:0,class:`w-4 h-4 mr-2 animate-spin`})):(_(),h(S(o),{key:1,class:`w-4 h-4 mr-2`})),r(` `+c(g.value?`Submitting...`:`Submit Feedback`),1)]),_:1},8,[`disabled`]),a(S(w),{class:`rounded-full`,type:`button`,variant:`outline`,disabled:g.value,onClick:Z},{default:y(()=>[...u[13]||=[r(` Reset `,-1)]]),_:1},8,[`disabled`])]),u[14]||=i(`div`,{class:`mt-4 p-3 bg-muted/20 rounded-lg`},[i(`p`,{class:`text-xs text-muted-foreground`},[i(`strong`,null,`Note:`),r(` Fields marked with * are required. Your feedback helps us understand what's working well and where we can improve. `)])],-1)]))]),_:1})]),_:1})])]))}}),[[`__scopeId`,`data-v-99edabbc`]]);export{q as default};