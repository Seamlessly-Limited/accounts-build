import{Aa as e,Ar as t,Dr as n,Fi as r,Gi as i,Hr as a,Ir as o,Mr as s,Nr as c,Or as l,Qi as u,Qr as d,Ri as f,Sa as p,aa as m,ei as h,fa as g,ga as _,jr as v,kr as y,na as b,qr as x,ui as S,wa as C,zi as w}from"./index-BW6FH5S4.js";var T=d(()=>C([]));function E(){let e=T();return{add(t){let n=e.value[0];t!==n&&n?.pause(),e.value=D(e.value,t),e.value.unshift(t)},remove(t){e.value=D(e.value,t),e.value[0]?.resume()}}}function D(e,t){let n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function O(e){return e.filter(e=>e.tagName!==`A`)}var k=i({__name:`FocusScope`,props:{loop:{type:Boolean,required:!1,default:!1},trapped:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:[`mountAutoFocus`,`unmountAutoFocus`],setup(r,{emit:i}){let d=r,x=i,{currentRef:w,currentElement:T}=a(),D=C(null),k=E(),A=p({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}});g(e=>{if(!h)return;let n=T.value;if(!d.trapped)return;function r(e){if(A.paused||!n)return;let r=e.target;n.contains(r)?D.value=r:t(D.value,{select:!0})}function i(e){if(A.paused||!n)return;let r=e.relatedTarget;r!==null&&(n.contains(r)||t(D.value,{select:!0}))}function a(e){n.contains(D.value)||t(n)}document.addEventListener(`focusin`,r),document.addEventListener(`focusout`,i);let o=new MutationObserver(a);n&&o.observe(n,{childList:!0,subtree:!0}),e(()=>{document.removeEventListener(`focusin`,r),document.removeEventListener(`focusout`,i),o.disconnect()})}),g(async e=>{let r=T.value;if(await u(),!r)return;k.add(A);let i=S();if(!r.contains(i)){let e=new CustomEvent(n,y);r.addEventListener(n,e=>x(`mountAutoFocus`,e)),r.dispatchEvent(e),e.defaultPrevented||(v(O(s(r)),{select:!0}),S()===i&&t(r))}e(()=>{r.removeEventListener(n,e=>x(`mountAutoFocus`,e));let e=new CustomEvent(l,y),a=e=>{x(`unmountAutoFocus`,e)};r.addEventListener(l,a),r.dispatchEvent(e),setTimeout(()=>{e.defaultPrevented||t(i??document.body,{select:!0}),r.removeEventListener(l,a),k.remove(A)},0)})});function j(e){if(!d.loop&&!d.trapped||A.paused)return;let n=e.key===`Tab`&&!e.altKey&&!e.ctrlKey&&!e.metaKey,r=S();if(n&&r){let n=e.currentTarget,[i,a]=c(n);i&&a?!e.shiftKey&&r===a?(e.preventDefault(),d.loop&&t(i,{select:!0})):e.shiftKey&&r===i&&(e.preventDefault(),d.loop&&t(a,{select:!0})):r===n&&e.preventDefault()}}return(t,n)=>(b(),f(e(o),{ref_key:`currentRef`,ref:w,tabindex:`-1`,"as-child":t.asChild,as:t.as,onKeydown:j},{default:_(()=>[m(t.$slots,`default`)]),_:3},8,[`as-child`,`as`]))}}),A=i({__name:`Teleport`,props:{to:{type:null,required:!1,default:`body`},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(t){let n=x();return(t,i)=>e(n)||t.forceMount?(b(),f(r,{key:0,to:t.to,disabled:t.disabled,defer:t.defer},[m(t.$slots,`default`)],8,[`to`,`disabled`,`defer`])):w(`v-if`,!0)}});export{k as n,A as t};