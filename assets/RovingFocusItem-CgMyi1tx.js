import{a as e,i as t,r as n}from"./utils-DguKvcoZ.js";import{t as r}from"./useId-Rwmg-0SP.js";import{n as i}from"./RovingFocusGroup-aNJxhu5J.js";import{At as a,Bt as o,Lt as s,O as c,St as l,Vt as u,Wt as d,hn as f,kt as p,tn as m,v as h,wt as g,zt as _}from"./index-DRwhOcbi.js";var v=a({__name:`RovingFocusItem`,props:{tabStopId:{type:String,required:!1},focusable:{type:Boolean,required:!1,default:!0},active:{type:Boolean,required:!1},allowShiftKey:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:`span`}},setup(a){let v=a,y=i(),b=r(),x=l(()=>v.tabStopId||b),S=l(()=>y.currentTabStopId.value===x.value),{getItems:C,CollectionItem:w}=h();_(()=>{v.focusable&&y.onFocusableItemAdd()}),o(()=>{v.focusable&&y.onFocusableItemRemove()});function T(r){if(r.key===`Tab`&&r.shiftKey){y.onItemShiftTab();return}if(r.target!==r.currentTarget)return;let i=t(r,y.orientation.value,y.dir.value);if(i!==void 0){if(r.metaKey||r.ctrlKey||r.altKey||!v.allowShiftKey&&r.shiftKey)return;r.preventDefault();let t=[...C().map(e=>e.ref).filter(e=>e.dataset.disabled!==``)];if(i===`last`)t.reverse();else if(i===`prev`||i===`next`){i===`prev`&&t.reverse();let n=t.indexOf(r.currentTarget);t=y.loop.value?e(t,n+1):t.slice(n+1)}s(()=>n(t))}}return(e,t)=>(u(),g(f(w),null,{default:m(()=>[p(f(c),{tabindex:S.value?0:-1,"data-orientation":f(y).orientation.value,"data-active":e.active?``:void 0,"data-disabled":e.focusable?void 0:``,as:e.as,"as-child":e.asChild,onMousedown:t[0]||=t=>{e.focusable?f(y).onItemFocus(x.value):t.preventDefault()},onFocus:t[1]||=e=>f(y).onItemFocus(x.value),onKeydown:T},{default:m(()=>[d(e.$slots,`default`)]),_:3},8,[`tabindex`,`data-orientation`,`data-active`,`data-disabled`,`as`,`as-child`])]),_:3}))}});export{v as t};