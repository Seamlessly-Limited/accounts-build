import{Fi as e,Hi as t,La as n,Oa as r,Oi as i,Pa as a,Ui as o,Vi as s,Wi as c,aa as l,b as u,ba as d,ha as f,i as p,ia as m,la as h,oa as g,qi as _,zi as v}from"./index-BHNnQTTo.js";var y={key:0,class:`flex-none px-4 pb-3 border-b border-gray-100`},b={__name:`BottomSheet`,props:{modelValue:{type:Boolean,default:!1},initialHeight:{type:Number,default:60},dismissible:{type:Boolean,default:!0}},emits:[`update:modelValue`,`close`],setup(p,{emit:b}){let x=p,S=b,C=r(null),w=r(x.initialHeight),T=r(!1),E=r(0),D=r(0);f(()=>x.modelValue,e=>{e?(w.value=x.initialHeight,document.body.style.overflow=`hidden`):document.body.style.overflow=``});function O(){x.dismissible&&k()}function k(){S(`update:modelValue`,!1),S(`close`)}function A(e){T.value=!0,E.value=e.type===`touchstart`?e.touches[0].clientY:e.clientY,D.value=w.value,document.addEventListener(`mousemove`,j),document.addEventListener(`mouseup`,M),document.addEventListener(`touchmove`,j,{passive:!1}),document.addEventListener(`touchend`,M)}function j(e){if(!T.value)return;e.preventDefault();let t=e.type===`touchmove`?e.touches[0].clientY:e.clientY,n=(E.value-t)/window.innerHeight*100,r=D.value+n;r=Math.max(20,Math.min(95,r)),w.value=r}function M(){T.value=!1,document.removeEventListener(`mousemove`,j),document.removeEventListener(`mouseup`,M),document.removeEventListener(`touchmove`,j),document.removeEventListener(`touchend`,M),w.value<30?k():w.value<50?w.value=x.initialHeight:w.value>80&&(w.value=95)}function N(e){e.target.scrollTop===0&&w.value<95&&(w.value=95)}function P(e){e.key===`Escape`&&x.dismissible&&k()}return m(()=>{document.addEventListener(`keydown`,P)}),l(()=>{document.removeEventListener(`keydown`,P),document.body.style.overflow=``}),(r,l)=>(g(),t(v,{to:`body`},[_(i,{name:`sheet`},{default:d(()=>[p.modelValue?(g(),c(`div`,{key:0,class:`absolute inset-0 z-50`,onClick:e(O,[`self`])},[s(`div`,{class:`absolute inset-0 bg-white/40 backdrop-blur-sm`,onClick:O}),s(`div`,{ref_key:`sheetRef`,ref:C,class:`absolute bottom-0 left-0 right-0 bg-white rounded-t-2xl shadow-2xl flex flex-col transition-[height] duration-300 ease-out max-h-[95vh]`,style:n({height:`${w.value}%`})},[s(`div`,{class:`flex-none flex justify-center py-3 cursor-grab active:cursor-grabbing`,onMousedown:A,onTouchstartPassive:A},[...l[0]||=[s(`div`,{class:`w-12 h-1.5 bg-gray-300 rounded-full`},null,-1)]],32),s(`button`,{onClick:k,class:`absolute top-1 right-3 p-2 rounded-full bg-white hover:bg-gray-100 text-gray-400 hover:text-gray-600 transition-colors z-20`},[_(a(u),{class:`w-5 h-5`})]),r.$slots.header?(g(),c(`div`,y,[h(r.$slots,`header`,{},void 0,!0)])):o(``,!0),s(`div`,{class:`flex-1 overflow-auto`,onScroll:N},[h(r.$slots,`default`,{},void 0,!0)],32)],4)])):o(``,!0)]),_:3})]))}},x=p(b,[[`__scopeId`,`data-v-514e3392`]]);export{x as t};