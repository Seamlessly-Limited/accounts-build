import"./useNonce-BG5bZNRz.js";import"./ConfigProvider-CD3MJD7H.js";import"./useDirection-C7cUN9tq.js";import{a as e,i as t,n,r,t as i}from"./ScrollAreaViewport-BMfdwt5_.js";import{t as a}from"./paperclip-TUSEPpFq.js";import{t as o}from"./send-BWoVQQGk.js";import{At as s,Ct as c,Et as l,It as u,Ot as d,Tt as f,Ut as p,Vt as m,Wt as h,g,gn as _,gt as ee,h as v,hn as y,i as b,kt as x,ln as S,m as C,r as w,sn as T,tn as E,ut as D,wt as O,yn as k,yt as A}from"./index-DRwhOcbi.js";import{t as j}from"./Input-BwwnBht9.js";import{t as te}from"./Card-Dey8eRU1.js";import{t as ne}from"./CardContent-Cpkk7Ci3.js";import{t as M}from"./badge-BHw49ne_.js";import{t as re}from"./Textarea-Ct5R79MN.js";var N=v(`message-square`,[[`path`,{d:`M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z`,key:`18887p`}]]),P=s({__name:`ScrollBar`,props:{orientation:{default:`vertical`},forceMount:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(e){let t=e,i=D(t,`class`);return(a,o)=>(m(),O(y(r),u(y(i),{class:y(g)(`flex touch-none select-none transition-colors`,e.orientation===`vertical`&&`h-full w-2.5 border-l border-l-transparent p-px`,e.orientation===`horizontal`&&`h-2.5 flex-col border-t border-t-transparent p-px`,t.class)}),{default:E(()=>[x(y(n),{class:`relative flex-1 rounded-full bg-border`})]),_:1},16,[`class`]))}}),F=s({__name:`ScrollArea`,props:{type:{},dir:{},scrollHideDelay:{},asChild:{type:Boolean},as:{},class:{}},setup(n){let r=n,a=D(r,`class`);return(n,o)=>(m(),O(y(e),u(y(a),{class:y(g)(`relative overflow-hidden`,r.class)}),{default:E(()=>[x(y(i),{class:`h-full w-full rounded-[inherit]`},{default:E(()=>[h(n.$slots,`default`)]),_:3}),x(P),x(y(t))]),_:3},16,[`class`]))}}),I={class:`flex h-full border border-slate-100 rounded-sm bg-background mt-12`},L={class:`w-80 border-r border-slate-100 flex flex-col`},R={class:`p-4 border-b`},z={class:`flex items-center justify-between mb-4`},B={class:`flex items-center gap-2 mb-2`},V={class:`flex items-center gap-2 text-sm cursor-pointer text-muted-foreground hover:text-foreground`},H={key:0,class:`space-y-1`},U={class:`truncate flex-1`},W={class:`flex gap-2 pt-2`},G={class:`p-2 space-y-2`},K=[`onClick`],q={class:`flex items-start justify-between mb-2`},J={class:`font-medium text-sm line-clamp-1 flex-1`},ie={class:`text-xs text-muted-foreground line-clamp-2 mb-2`},Y={class:`flex items-center justify-between text-xs text-muted-foreground`},ae={key:0,class:`flex-1 flex flex-col`},oe={class:`p-4 border-b flex items-center justify-between`},se={class:`font-semibold`},ce={class:`text-sm text-muted-foreground`},le={class:`space-y-4`},ue={class:`text-sm`},de={key:0,class:`mt-2 space-y-1`},fe={class:`flex-1`},pe={class:`text-muted-foreground`},me={class:`text-xs opacity-70 mt-1`},he={class:`p-4 border-t`},ge={class:`flex gap-2`},X={key:1,class:`flex-1 flex items-center justify-center text-muted-foreground`},_e={class:`text-center`},Z=w(s({__name:`Support`,setup(e){let t=S([{id:`1`,title:`Login issues`,status:`OPEN`,lastMessage:`Having trouble logging in since yesterday`,createdAt:new Date(`2024-01-15`),messages:[{id:`1`,text:`Having trouble logging in since yesterday`,sender:`user`,timestamp:new Date(`2024-01-15T10:30:00`)},{id:`2`,text:`We are looking into this issue. Can you try resetting your password?`,sender:`support`,timestamp:new Date(`2024-01-15T11:15:00`)}]},{id:`2`,title:`Payment failed`,status:`PENDING`,lastMessage:`Payment processing failed multiple times`,createdAt:new Date(`2024-01-14`),messages:[{id:`1`,text:`Payment processing failed multiple times`,sender:`user`,timestamp:new Date(`2024-01-14T14:20:00`)}]},{id:`3`,title:`Feature request`,status:`RESOLVED`,lastMessage:`Thank you for the suggestion!`,createdAt:new Date(`2024-01-10`),messages:[{id:`1`,text:`Would love to see dark mode in the app`,sender:`user`,timestamp:new Date(`2024-01-10T09:45:00`)},{id:`2`,text:`Thank you for the suggestion! We have added this to our roadmap.`,sender:`support`,timestamp:new Date(`2024-01-10T10:30:00`)}]}]),n=S(null),r=S(!1),i=S(``),s=S([]),u=T({title:``,message:``,attachments:[]}),h=()=>[...t.value].sort((e,t)=>new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()),g=e=>{n.value=e,r.value=!1},v=()=>{r.value=!0,n.value=null,w()},w=()=>{u.title=``,u.message=``,u.attachments=[],s.value=[]},D=()=>{if(!u.title.trim()||!u.message.trim())return;let e={id:Date.now().toString(),title:u.title,status:`OPEN`,lastMessage:u.message,createdAt:new Date,messages:[{id:`1`,text:u.message,sender:`user`,timestamp:new Date,attachments:s.value.map(e=>({id:Math.random().toString(36).substr(2,9),name:e.name,size:ye(e.size),type:e.type}))}]};t.value.unshift(e),n.value=e,r.value=!1,w()},P=()=>{if(!i.value.trim()||!n.value)return;let e={id:Math.random().toString(36).substr(2,9),text:i.value,sender:`user`,timestamp:new Date};n.value.messages.push(e),n.value.lastMessage=i.value,i.value=``},Z=e=>{let t=e.target;t.files&&(s.value=Array.from(t.files))},ve=e=>{s.value.splice(e,1)},ye=e=>{if(e===0)return`0 Bytes`;let t=1024,n=[`Bytes`,`KB`,`MB`,`GB`],r=Math.floor(Math.log(e)/Math.log(t));return parseFloat((e/t**+r).toFixed(2))+` `+n[r]},Q=e=>{switch(e){case`OPEN`:return`default`;case`PENDING`:return`secondary`;case`RESOLVED`:return`outline`;default:return`default`}},$=e=>new Intl.DateTimeFormat(`en-US`,{month:`short`,day:`numeric`,hour:`2-digit`,minute:`2-digit`}).format(e);return(e,t)=>(m(),l(`div`,I,[c(`div`,L,[c(`div`,R,[c(`div`,z,[t[5]||=c(`h2`,{class:`text-lg font-semibold`},`Support Conversations`,-1),x(y(b),{onClick:v,size:`sm`,class:`flex items-center gap-2 px-3 rounded-full`},{default:E(()=>[...t[4]||=[d(` New `,-1)]]),_:1})]),r.value?(m(),O(y(te),{key:0,class:`mb-4`},{default:E(()=>[x(y(ne),{class:`p-4 space-y-3`},{default:E(()=>[x(y(j),{modelValue:u.title,"onUpdate:modelValue":t[0]||=e=>u.title=e,placeholder:`Issue title`,class:`w-full`},null,8,[`modelValue`]),x(y(re),{modelValue:u.message,"onUpdate:modelValue":t[1]||=e=>u.message=e,placeholder:`Describe your issue...`,class:`min-h-[80px] resize-vertical`},null,8,[`modelValue`]),c(`div`,null,[c(`div`,B,[c(`label`,V,[x(y(a),{class:`w-4 h-4`}),t[6]||=d(` Attach files `,-1),c(`input`,{type:`file`,multiple:``,class:`hidden`,onChange:Z},null,32)])]),s.value.length?(m(),l(`div`,H,[(m(!0),l(A,null,p(s.value,(e,t)=>(m(),l(`div`,{key:t,class:`flex items-center justify-between p-2 text-sm bg-muted rounded`},[c(`span`,U,k(e.name),1),x(y(b),{variant:`ghost`,size:`sm`,onClick:e=>ve(t),class:`h-6 w-6 p-0 hover:bg-destructive hover:text-destructive-foreground`},{default:E(()=>[x(y(C),{class:`w-3 h-3`})]),_:1},8,[`onClick`])]))),128))])):f(``,!0)]),c(`div`,W,[x(y(b),{onClick:D,disabled:!u.title.trim()||!u.message.trim(),class:`flex-1`},{default:E(()=>[...t[7]||=[d(` Start Conversation `,-1)]]),_:1},8,[`disabled`]),x(y(b),{variant:`outline`,onClick:t[2]||=e=>r.value=!1},{default:E(()=>[...t[8]||=[d(` Cancel `,-1)]]),_:1})])]),_:1})]),_:1})):f(``,!0)]),x(y(F),{class:`flex-1`},{default:E(()=>[c(`div`,G,[(m(!0),l(A,null,p(h(),e=>(m(),l(`div`,{key:e.id,onClick:t=>g(e),class:_([`p-3 rounded-lg border cursor-pointer transition-colors hover:bg-accent/50`,n.value?.id===e.id?`bg-accent border-primary`:`bg-background`])},[c(`div`,q,[c(`h3`,J,k(e.title),1),x(y(M),{variant:Q(e.status),class:`text-xs ml-2 shrink-0`},{default:E(()=>[d(k(e.status),1)]),_:2},1032,[`variant`])]),c(`p`,ie,k(e.lastMessage),1),c(`div`,Y,[c(`span`,null,k($(e.createdAt)),1),x(y(N),{class:`w-3 h-3`})])],10,K))),128))])]),_:1})]),n.value?(m(),l(`div`,ae,[c(`div`,oe,[c(`div`,null,[c(`h3`,se,k(n.value.title),1),c(`p`,ce,` Created `+k($(n.value.createdAt)),1)]),x(y(M),{variant:Q(n.value.status)},{default:E(()=>[d(k(n.value.status),1)]),_:1},8,[`variant`])]),x(y(F),{class:`flex-1 p-4`},{default:E(()=>[c(`div`,le,[(m(!0),l(A,null,p(n.value.messages,e=>(m(),l(`div`,{key:e.id,class:_([`flex max-w-[80%]`,e.sender===`user`?`ml-auto justify-end`:`mr-auto`])},[c(`div`,{class:_([`rounded-lg px-4 py-2`,e.sender===`user`?`bg-primary text-primary-foreground`:`bg-muted`])},[c(`p`,ue,k(e.text),1),e.attachments?(m(),l(`div`,de,[(m(!0),l(A,null,p(e.attachments,e=>(m(),l(`div`,{key:e.id,class:`flex items-center gap-2 p-2 bg-background/50 rounded text-xs`},[x(y(a),{class:`w-3 h-3`}),c(`span`,fe,k(e.name),1),c(`span`,pe,k(e.size),1)]))),128))])):f(``,!0),c(`p`,me,k($(e.timestamp)),1)],2)],2))),128))])]),_:1}),c(`div`,he,[c(`div`,ge,[x(y(j),{modelValue:i.value,"onUpdate:modelValue":t[3]||=e=>i.value=e,placeholder:`Type your message...`,onKeypress:ee(P,[`enter`]),class:`flex-1 rounded-full`},null,8,[`modelValue`]),x(y(b),{onClick:P,disabled:!i.value.trim(),class:`rounded-full`},{default:E(()=>[x(y(o),{class:`w-4 h-4`})]),_:1},8,[`disabled`])])])])):(m(),l(`div`,X,[c(`div`,_e,[x(y(N),{class:`w-12 h-12 mx-auto mb-4 opacity-50`}),t[9]||=c(`p`,null,`Select a conversation or start a new one`,-1)])]))]))}}),[[`__scopeId`,`data-v-3e6cc9d0`]]);export{Z as default};