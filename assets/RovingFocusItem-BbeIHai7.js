import{t as e}from"./useId-DfGyiNma.js";import{a as t,i as n,r}from"./utils-DtgOUvbf.js";import{n as i}from"./RovingFocusGroup-dKe4QrSY.js";import{Ar as a,Bi as o,Br as s,Hi as c,Pa as l,Yi as u,aa as d,ba as f,ia as p,la as m,na as h,oa as g,qi as _}from"./index-Caanq2Pw.js";var v=u({__name:`RovingFocusItem`,props:{tabStopId:{type:String,required:!1},focusable:{type:Boolean,required:!1,default:!0},active:{type:Boolean,required:!1},allowShiftKey:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:`span`}},setup(u){let v=u,y=i(),b=e(),x=o(()=>v.tabStopId||b),S=o(()=>y.currentTabStopId.value===x.value),{getItems:C,CollectionItem:w}=a();p(()=>{v.focusable&&y.onFocusableItemAdd()}),d(()=>{v.focusable&&y.onFocusableItemRemove()});function T(e){if(e.key===`Tab`&&e.shiftKey){y.onItemShiftTab();return}if(e.target!==e.currentTarget)return;let i=n(e,y.orientation.value,y.dir.value);if(i!==void 0){if(e.metaKey||e.ctrlKey||e.altKey||!v.allowShiftKey&&e.shiftKey)return;e.preventDefault();let n=[...C().map(e=>e.ref).filter(e=>e.dataset.disabled!==``)];if(i===`last`)n.reverse();else if(i===`prev`||i===`next`){i===`prev`&&n.reverse();let r=n.indexOf(e.currentTarget);n=y.loop.value?t(n,r+1):n.slice(r+1)}h(()=>r(n))}}return(e,t)=>(g(),c(l(w),null,{default:f(()=>[_(l(s),{tabindex:S.value?0:-1,"data-orientation":l(y).orientation.value,"data-active":e.active?``:void 0,"data-disabled":e.focusable?void 0:``,as:e.as,"as-child":e.asChild,onMousedown:t[0]||=t=>{e.focusable?l(y).onItemFocus(x.value):t.preventDefault()},onFocus:t[1]||=e=>l(y).onItemFocus(x.value),onKeydown:T},{default:f(()=>[m(e.$slots,`default`)]),_:3},8,[`tabindex`,`data-orientation`,`data-active`,`data-disabled`,`as`,`as-child`])]),_:3}))}});export{v as t};