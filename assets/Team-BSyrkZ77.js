import{n as e,t}from"./useFormControl-BoSoz5bk.js";import{t as n}from"./useArrowNavigation-siWGBYoD.js";import{t as r}from"./useDirection-CkCaHLjJ.js";import{t as i}from"./useId-C9uHTJK1.js";import{t as a}from"./VisuallyHiddenInput-Cr3vcfNb.js";import{t as o}from"./SelectGroup-D40CeBwS.js";import{a as s,i as c,n as l,t as u}from"./tabs-C51D2d71.js";import{Aa as d,Ai as f,Bi as p,Br as m,D as ee,Er as h,Gi as g,Hi as _,Hr as v,I as y,Ii as b,Ir as x,Kr as S,Li as C,Ni as w,Oa as T,P as te,Pa as E,Qi as D,Ri as O,Ui as k,Vr as A,Yr as ne,Zi as j,a as M,aa as N,bi as P,di as F,ea as re,ga as I,i as ie,ia as ae,ja as oe,ji as se,na as L,wa as R,wr as z,x as ce,zi as B}from"./index-BW6FH5S4.js";import{n as V,t as H}from"./DialogContent-DzO0B1dQ.js";import{n as U,r as W,t as G}from"./DialogTitle-BAO4s_Rj.js";import{t as K}from"./DialogFooter-BGPl6WoG.js";import{t as le}from"./Input-AKTRhZx5.js";import{t as q}from"./button-BIS6kOZQ.js";import{r as ue}from"./avatar-BublYYps.js";import{t as J}from"./OrganisationService-DlrS9wAG.js";import{t as Y}from"./Label-CWz-ReQU.js";import{a as de,i as fe,n as pe,r as me,t as he}from"./form-Bk3copDF.js";import{a as X,i as Z,n as ge,r as Q,t as _e}from"./SelectValue-CvGnKkl4.js";import{t as ve}from"./badge-DeOd_cPn.js";import{t as ye}from"./Checkbox-x25APZEJ.js";var[$,be]=F(`TagsInputRoot`),xe=g({__name:`TagsInputRoot`,props:{modelValue:{type:[Array,null],required:!1},defaultValue:{type:Array,required:!1,default:()=>[]},addOnPaste:{type:Boolean,required:!1},addOnTab:{type:Boolean,required:!1},addOnBlur:{type:Boolean,required:!1},duplicate:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},delimiter:{type:null,required:!1,default:`,`},dir:{type:String,required:!1},max:{type:Number,required:!1,default:0},id:{type:String,required:!1},convertValue:{type:Function,required:!1},displayValue:{type:Function,required:!1,default:e=>e.toString()},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:[`update:modelValue`,`invalid`,`addTag`,`removeTag`],setup(e,{emit:i}){let o=e,s=i,{addOnPaste:c,disabled:l,delimiter:u,max:f,id:p,dir:m,addOnBlur:ee,addOnTab:g}=T(o),_=r(m),y=ne(o,`modelValue`,s,{defaultValue:o.defaultValue,passive:!0,deep:!0}),{forwardRef:C,currentElement:w}=v(),{focused:te}=S(w),E=t(w),{getItems:D,CollectionSlot:A}=h({isProvider:!0}),j=R(),M=R(!1),P=b(()=>Array.isArray(y.value)?[...y.value]:[]);function F(e){if(e!==-1){let t=D().filter(e=>e.ref.dataset.disabled!==``);y.value=y.value.filter((t,n)=>n!==e),s(`removeTag`,t[e].value)}}return be({modelValue:y,onAddValue:e=>{let t=[...P.value],n=t.length>0&&typeof t[0]==`object`,r=t.length>0&&typeof o.defaultValue[0]==`object`;if((n||r)&&typeof o.convertValue!=`function`)throw Error("You must provide a `convertValue` function when using objects as values.");let i=o.convertValue?o.convertValue(e):e;if(t.length>=f.value&&f.value)return s(`invalid`,i),!1;if(o.duplicate)return y.value=[...t,i],s(`addTag`,i),!0;if(t.includes(i))M.value=!0;else return y.value=[...t,i],s(`addTag`,i),!0;return s(`invalid`,i),!1},onRemoveValue:F,onInputKeydown:e=>{let t=e.target,r=D().map(e=>e.ref).filter(e=>e.dataset.disabled!==``);if(!r.length)return;let i=r.at(-1);switch(e.key){case`Delete`:case`Backspace`:if(t.selectionStart!==0||t.selectionEnd!==0)break;if(j.value){let t=r.findIndex(e=>e===j.value);F(t),j.value=j.value===i?r.at(t-1):r.at(t+1),e.preventDefault()}else e.key===`Backspace`&&(j.value=i,e.preventDefault());break;case`Home`:case`End`:case`ArrowRight`:case`ArrowLeft`:{let a=e.key===`ArrowRight`&&_.value===`ltr`||e.key===`ArrowLeft`&&_.value===`rtl`,o=!a;if(t.selectionStart!==0||t.selectionEnd!==0)break;if(o&&!j.value)j.value=i,e.preventDefault();else if(a&&i&&j.value===i)j.value=void 0,e.preventDefault();else if(j.value){let t=n(e,j.value,void 0,{itemsArray:r,loop:!1,dir:_.value});t&&(j.value=t),e.preventDefault()}break}case`ArrowUp`:case`ArrowDown`:j.value&&e.preventDefault();break;default:j.value=void 0}},selectedElement:j,isInvalidInput:M,addOnPaste:c,addOnBlur:ee,addOnTab:g,dir:_,disabled:l,delimiter:u,max:f,id:p,displayValue:o.displayValue}),(e,t)=>(L(),O(d(A),null,{default:I(()=>[k(d(x),{ref:d(C),dir:d(_),as:e.as,"as-child":e.asChild,"data-invalid":M.value?``:void 0,"data-disabled":d(l)?``:void 0,"data-focused":d(te)?``:void 0},{default:I(()=>[N(e.$slots,`default`,{modelValue:d(y)}),d(E)&&e.name?(L(),O(d(a),{key:0,name:e.name,value:d(y),required:e.required,disabled:d(l)},null,8,[`name`,`value`,`required`,`disabled`])):B(`v-if`,!0)]),_:3},8,[`dir`,`as`,`as-child`,`data-invalid`,`data-disabled`,`data-focused`])]),_:3}))}}),Se=g({__name:`TagsInputInput`,props:{placeholder:{type:String,required:!1},autoFocus:{type:Boolean,required:!1},maxLength:{type:Number,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:`input`}},setup(e){let t=e,n=$(),{forwardRef:r,currentElement:i}=v();function a(e){if(n.selectedElement.value=void 0,!n.addOnBlur.value)return;let t=e.target;t.value&&n.onAddValue(t.value)&&(t.value=``)}function o(e){n.addOnTab.value&&u(e)}let s=R(!1);function c(){s.value=!0}function l(){D(()=>{s.value=!1})}async function u(e){if(s.value||(await D(),e.defaultPrevented))return;let t=e.target;t.value&&(n.onAddValue(t.value)&&(t.value=``),e.preventDefault())}function p(e){if(n.isInvalidInput.value=!1,e.data===null)return;let t=n.delimiter.value;if(t===e.data||t instanceof RegExp&&t.test(e.data)){let r=e.target;if(r.value=r.value.replace(t,``),r.value.trim()===``){r.value=``;return}n.onAddValue(r.value)&&(r.value=``)}}function m(e){if(n.addOnPaste.value){e.preventDefault();let t=e.clipboardData;if(!t)return;let r=t.getData(`text`);n.delimiter.value?r.split(n.delimiter.value).forEach(e=>{n.onAddValue(e)}):n.onAddValue(r)}}return re(()=>{let e=i.value.nodeName===`INPUT`?i.value:i.value.querySelector(`input`);e&&setTimeout(()=>{t.autoFocus&&e?.focus()},1)}),(e,t)=>(L(),O(d(x),{id:d(n).id?.value,ref:d(r),type:`text`,autocomplete:`off`,autocorrect:`off`,autocapitalize:`off`,as:e.as,"as-child":e.asChild,maxlength:e.maxLength,placeholder:e.placeholder,disabled:d(n).disabled.value,"data-invalid":d(n).isInvalidInput.value?``:void 0,onInput:p,onKeydown:[f(u,[`enter`]),f(o,[`tab`]),d(n).onInputKeydown],onBlur:a,onCompositionstart:c,onCompositionend:l,onPaste:m},{default:I(()=>[N(e.$slots,`default`)]),_:3},8,[`id`,`as`,`as-child`,`maxlength`,`placeholder`,`disabled`,`data-invalid`,`onKeydown`]))}}),[Ce,we]=F(`TagsInputItem`),Te=g({__name:`TagsInputItem`,props:{value:{type:null,required:!0},disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){let t=e,{value:n}=T(t),r=$(),{forwardRef:i,currentElement:a}=v(),{CollectionItem:o}=h(),s=b(()=>r.selectedElement.value===a.value),c=b(()=>t.disabled||r.disabled.value),l=we({value:n,isSelected:s,disabled:c,textId:``,displayValue:b(()=>r.displayValue(n.value))});return(e,t)=>(L(),O(d(o),{value:d(n)},{default:I(()=>[k(d(x),{ref:d(i),as:e.as,"as-child":e.asChild,"aria-labelledby":d(l).textId,"aria-current":s.value,"data-disabled":c.value?``:void 0,"data-state":s.value?`active`:`inactive`},{default:I(()=>[N(e.$slots,`default`)]),_:3},8,[`as`,`as-child`,`aria-labelledby`,`aria-current`,`data-disabled`,`data-state`])]),_:3},8,[`value`]))}}),Ee=g({__name:`TagsInputItemDelete`,props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:`button`}},setup(t){let n=t;v();let r=$(),i=Ce(),a=b(()=>i.disabled?.value||r.disabled.value);function o(){if(a.value)return;let t=r.modelValue.value.findIndex(t=>e(t,i.value.value));r.onRemoveValue(t)}return(e,t)=>(L(),O(d(x),j({tabindex:`-1`},n,{"aria-labelledby":d(i).textId,"aria-current":d(i).isSelected.value,"data-state":d(i).isSelected.value?`active`:`inactive`,"data-disabled":a.value?``:void 0,type:e.as===`button`?`button`:void 0,onClick:o}),{default:I(()=>[N(e.$slots,`default`)]),_:3},16,[`aria-labelledby`,`aria-current`,`data-state`,`data-disabled`,`type`]))}}),De=g({__name:`TagsInputItemText`,props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:`span`}},setup(e){let t=e,n=Ce();return v(),n.textId||=i(void 0,`reka-tags-input-item-text`),(e,r)=>(L(),O(d(x),j(t,{id:d(n).textId}),{default:I(()=>[N(e.$slots,`default`,{},()=>[_(E(d(n).displayValue.value),1)])]),_:3},16,[`id`]))}}),Oe=g({__name:`TagsInput`,props:{modelValue:{},defaultValue:{},addOnPaste:{type:Boolean},addOnTab:{type:Boolean},addOnBlur:{type:Boolean},duplicate:{type:Boolean},disabled:{type:Boolean},delimiter:{},dir:{},max:{},id:{},convertValue:{type:Function},displayValue:{type:Function},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean},class:{}},emits:[`update:modelValue`,`invalid`,`addTag`,`removeTag`],setup(e,{emit:t}){let n=e,r=t,i=P(n,`class`),a=m(i,r);return(e,t)=>(L(),O(d(xe),j(d(a),{class:d(z)(`flex flex-wrap gap-2 items-center rounded-md border border-input bg-background px-3 py-1.5 text-sm`,n.class)}),{default:I(()=>[N(e.$slots,`default`)]),_:3},16,[`class`]))}}),ke=g({__name:`TagsInputInput`,props:{placeholder:{},autoFocus:{type:Boolean},maxLength:{},asChild:{type:Boolean},as:{},class:{}},setup(e){let t=e,n=P(t,`class`),r=A(n);return(e,n)=>(L(),O(d(Se),j(d(r),{class:d(z)(`text-sm min-h-5 focus:outline-none flex-1 bg-transparent px-1`,t.class)}),null,16,[`class`]))}}),Ae=g({__name:`TagsInputItem`,props:{value:{},disabled:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(e){let t=e,n=P(t,`class`),r=A(n);return(e,n)=>(L(),O(d(Te),j(d(r),{class:d(z)(`flex h-5 items-center rounded-md bg-secondary data-[state=active]:ring-ring data-[state=active]:ring-2 data-[state=active]:ring-offset-2 ring-offset-background`,t.class)}),{default:I(()=>[N(e.$slots,`default`)]),_:3},16,[`class`]))}}),je=g({__name:`TagsInputItemDelete`,props:{asChild:{type:Boolean},as:{},class:{}},setup(e){let t=e,n=P(t,`class`),r=A(n);return(e,n)=>(L(),O(d(Ee),j(d(r),{class:d(z)(`flex rounded bg-transparent mr-1`,t.class)}),{default:I(()=>[N(e.$slots,`default`,{},()=>[k(d(ce),{class:`w-4 h-4`})])]),_:3},16,[`class`]))}}),Me=g({__name:`TagsInputItemText`,props:{asChild:{type:Boolean},as:{},class:{}},setup(e){let t=e,n=P(t,`class`),r=A(n);return(e,n)=>(L(),O(d(De),j(d(r),{class:d(z)(`py-0.5 px-2 text-sm rounded bg-transparent`,t.class)}),null,16,[`class`]))}}),Ne={class:`container mx-auto py-5 relative`},Pe={class:`flex justify-center`},Fe={class:`w-full p-8 space-y-6 shadow-none border-none bg-transparent rounded-2xl min-h-[80vh]`},Ie={class:`flex flex-col sm:flex-row sm:justify-between w-full`},Le={class:`flex gap-2 mt-4`},Re={class:`block md:hidden mb-6`},ze={class:`flex flex-col`},Be={class:`flex items-center gap-4`},Ve={class:`flex items-center gap-3`},He={class:`text-sm font-medium text-gray-600`},Ue={class:`flex flex-col gap-2`},We={class:`font-medium text-gray-900`},Ge={key:0,class:`flex items-center gap-2`},Ke={key:0,class:`text-center text-sm py-6 text-slate-500`},qe={key:0,class:`text-center py-6 text-sm text-slate-500`},Je={class:`flex flex-col gap-4 py-6`},Ye={class:`font-medium text-gray-800`},Xe={class:`text-sm text-gray-500`},Ze={class:`flex gap-2`},Qe={class:`space-y-4 py-4`},$e={class:`space-y-2`},et={class:`space-y-2`},tt={class:`space-y-2`},nt={class:`flex items-center space-x-2`},rt={class:`flex items-center space-x-2`},it={class:`flex items-center space-x-2`},at={class:`space-y-4 py-4`},ot={class:`my-4`},st={class:`bg-amber-50 border border-amber-200 border-solid rounded-md p-4`},ct={class:`flex items-start gap-3`},lt={class:`text-sm text-amber-800`},ut={class:`mt-1`},dt={key:0,class:`mt-2 font-semibold`},ft={class:`space-y-3`},pt={key:0,class:`text-sm text-red-600`},mt={class:`py-4`},ht=ie({__name:`Team`,setup(e){let t=M().toast,n=R(`members`),r=R(``),i=R(!1),a=R(!1),f=R(!1),m=R(!1),h=R(null),g=R(``),v=R({includeEmail:!0,includeRole:!0,includeDate:!1}),x=R(``),S=R([]),T=R(`MEMBER`),D=R([]),A=R([]),ne=R(!1),j=R(!1),N=R(!1),P=R(``),F=b(()=>{if(!r.value)return A.value;let e=r.value.toLowerCase();return A.value.filter(t=>t.name.toLowerCase().includes(e)||t.email.toLowerCase().includes(e)||t.role&&t.role.toLowerCase().includes(e))}),ie=e=>(e||`S`).split(` `).map(e=>e[0]).join(``).toUpperCase(),z=()=>{i.value=!1,g.value=``},ce=e=>Array.from(new Set(e.split(/[\s,;\n]+/).map(e=>e.trim().toLowerCase()).filter(Boolean))),$=async()=>{let e=Array.isArray(S.value)?S.value:ce(S.value),n=Array.from(new Set(e.map(e=>String(e).trim().toLowerCase()).filter(Boolean)));if(n.length===0)return;j.value=!0;let r={role:T.value,emails:n};try{let{data:e,message:n}=await J.createMembers(r);Ee(),S.value=[],T.value=`Member`,a.value=!1,t({duration:5e3,message:n||`Done`,variant:`success`})}catch(e){t({duration:5e3,title:`Failed to send invitation`,message:e.message??`Connect to the internet and try again.`,variant:`error`})}finally{j.value=!1}},be=async e=>{try{let{message:n}=await J.createMembers({emails:[e.email]});t({duration:5e3,message:n||`Done`,variant:`success`})}catch(e){t({duration:5e3,title:`Failed to send invitation`,message:e.message??`Connect to the internet and try again.`,variant:`error`})}finally{j.value=!1}},xe=async e=>{try{let{message:n}=await J.deleteMember(e.reference,!0);D.value.splice(D.value.indexOf(e),1),t({duration:5e3,message:n||`Done`,variant:`success`})}catch(e){t({duration:5e3,title:`Failed to delete invitation`,message:e.message??`Connect to the internet and try again.`,variant:`error`})}finally{j.value=!1}},Se=e=>{h.value=e,f.value=!0},Ce=async()=>{if(h.value){N.value=!0;try{let{message:e}=await J.deleteMember(h.value.reference,!0);A.value=A.value.filter(e=>e.reference!==h.value.reference),t({duration:5e3,message:e||`Done`,variant:`success`})}catch(e){t({duration:5e3,title:`Failed to delete member`,message:e.message??`Connect to the internet and try again.`,variant:`error`})}finally{N.value=!1,h.value=null,f.value=!1}}},we=e=>{h.value=e,x.value=e.role||`Member`,m.value=!0},Te=async()=>{if(h.value)try{let{message:e}=await J.updateMember(h.value.reference,{role:x.value}),n=A.value.find(e=>e.reference===h.value.reference);n&&(n.role=x.value),h.value=null,m.value=!1,x.value=``,t({duration:5e3,message:e||`Done`,variant:`success`})}catch(e){t({duration:5e3,title:`Failed to change member role`,message:e.message??`Connect to the internet and try again.`,variant:`error`})}};re(async()=>{await Ee()});async function Ee(){try{ne.value=!0;let{data:e}=await J.getMembers();A.value=[],D.value=[];for(let t of e||[]){let{email:e}=JSON.parse(localStorage.getItem(`user`));t.email!=e&&(t.status==`INVITED`?D.value.push(t):A.value.push(t))}}catch(e){t({title:`Failed to load members`,message:e.message??`Connect to the internet and try again.`,variant:`error`})}finally{ne.value=!1}}let De=R([]),ht=e=>typeof e==`string`&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.trim()),gt=e=>Array.isArray(e)?e.map(String):e?String(e).split(/[\s,;\n]+/).map(e=>e.trim()).filter(Boolean):[],_t=e=>{let t=gt(e),n=Array.from(new Set(t.map(e=>e.toLowerCase()))),r=[],i=[];n.forEach(e=>{ht(e)?r.push(e):i.push(e)}),S.value=r,De.value=i,i.length};return(e,t)=>(L(),p(`div`,Ne,[C(`div`,Pe,[C(`div`,Fe,[C(`div`,Ie,[t[18]||=C(`div`,null,[C(`h1`,{class:`text-2xl font-bold text-slate-800`},`People`),C(`p`,{class:`text-sm text-slate-600`},`Members of your organisation and workspace`)],-1),C(`div`,Le,[k(d(q),{class:`flex gap-2 rounded-full`,onClick:t[0]||=e=>a.value=!0},{default:I(()=>[k(d(ee),{class:`h-4 w-4`}),t[17]||=_(` Add Member `,-1)]),_:1})])]),C(`div`,Re,[k(d(X),{modelValue:n.value,"onUpdate:modelValue":t[1]||=e=>n.value=e},{default:I(()=>[k(d(ge),{class:`w-full border rounded-xl py-2 px-3 text-sm`},{default:I(()=>[k(d(_e),{placeholder:`Select section`})]),_:1}),k(d(Z),null,{default:I(()=>[k(d(o),null,{default:I(()=>[k(d(Q),{value:`members`},{default:I(()=>[...t[19]||=[_(`Members`,-1)]]),_:1}),k(d(Q),{value:`invitations`},{default:I(()=>[...t[20]||=[_(`Invitations`,-1)]]),_:1})]),_:1})]),_:1})]),_:1},8,[`modelValue`])]),k(d(s),{modelValue:n.value,"onUpdate:modelValue":t[2]||=e=>n.value=e,"default-value":`members`,class:`hidden md:block mb-6`},{default:I(()=>[t[29]||=C(`hr`,{class:`h-1 bg-slate-50 mt-10 mb-1 opacity-20`},null,-1),k(d(l),{class:`rounded-full bg-stone-100 text-blue-950 px-0.5 py-0.5 w-fit`},{default:I(()=>[k(d(u),{value:`members`,class:`px-4 py-1 rounded-full data-[state=active]:bg-stone-50 data-[state=active]:text-blue-950`},{default:I(()=>[...t[21]||=[_(` Members `,-1)]]),_:1}),k(d(u),{value:`invitations`,class:`px-4 py-1 rounded-full data-[state=active]:bg-stone-50 data-[state=active]:text-blue-950`},{default:I(()=>[...t[22]||=[_(` Invitations `,-1)]]),_:1})]),_:1}),t[30]||=C(`hr`,{class:`h-1 bg-slate-50 mb-10 mt-2 opacity-30`},null,-1),k(d(c),{value:`members`,class:`mt-6`},{default:I(()=>[C(`div`,ze,[(L(!0),p(w,null,ae(F.value,e=>(L(),p(`div`,{key:e.reference,class:`flex items-center justify-between p-4 border border-gray-200 hover:shadow-md rounded-sm transition-colors`},[C(`div`,Be,[C(`div`,Ve,[k(d(ue),{class:`h-10 w-10 bg-gray-300 rounded-full flex items-center justify-center`},{default:I(()=>[C(`span`,He,E(ie(e.memberName)),1)]),_:2},1024),C(`div`,null,[C(`div`,Ue,[C(`span`,We,E(e.memberName),1),e.role?(L(),O(d(ve),{key:0,variant:`secondary`,class:`border-slate-50 text-slate-800 text-xs px-2 py-0.5 rounded-full`},{default:I(()=>[_(E(e.role),1)]),_:2},1024)):B(``,!0)])])])]),e.role==`OWNER`?B(``,!0):(L(),p(`div`,Ge,[k(d(q),{variant:`outline`,size:`sm`,class:`text-gray-700 border-gray-300 hover:bg-gray-50 rounded-full`,onClick:t=>we(e)},{default:I(()=>[...t[23]||=[_(` Role `,-1)]]),_:1},8,[`onClick`]),k(d(q),{variant:`outline`,size:`sm`,class:`text-gray-700 border-gray-300 hover:bg-destructive hover:border-destructive/95 hover:text-white rounded-full`,onClick:t=>Se(e)},{default:I(()=>[...t[24]||=[_(` Remove `,-1)]]),_:1},8,[`onClick`])]))]))),128))]),F.value.length===0?(L(),p(`div`,Ke,[...t[25]||=[C(`div`,{class:`w-full rounded-md shadow-md border border-slate-200 py-20`},[C(`div`,null,` No other members yet. Click "Add Member" to start inviting members. `)],-1)]])):B(``,!0)]),_:1}),k(d(c),{value:`invitations`,class:`mt-6`},{default:I(()=>[D.value.length===0?(L(),p(`div`,qe,[...t[26]||=[C(`div`,{class:`w-full rounded-md shadow-md border border-slate-200 py-20`},[C(`div`,null,` No invitations yet. Click "Add Member" to start inviting members. `)],-1)]])):B(``,!0),C(`div`,Je,[(L(!0),p(w,null,ae(D.value.sort((e,t)=>e.deliveryTime<t.deliveryTime),e=>(L(),p(`div`,{key:e.reference,class:`flex items-center justify-between p-4 border border-gray-200 rounded-sm`},[C(`div`,null,[C(`div`,Ye,E(e.email),1),C(`div`,Xe,`Invited on `+E(e.formattedDeliveryTime),1)]),C(`div`,Ze,[k(d(q),{size:`sm`,variant:`outline`,onClick:t=>be(e)},{default:I(()=>[...t[27]||=[_(`Resend`,-1)]]),_:1},8,[`onClick`]),k(d(q),{size:`sm`,variant:`destructive`,onClick:t=>xe(e)},{default:I(()=>[...t[28]||=[_(`Cancel`,-1)]]),_:1},8,[`onClick`])])]))),128))])]),_:1})]),_:1},8,[`modelValue`]),k(d(V),{open:i.value,"onUpdate:open":t[8]||=e=>i.value=e},{default:I(()=>[k(d(H),{class:`sm:max-w-md bg-white`},{default:I(()=>[k(d(U),null,{default:I(()=>[k(d(G),null,{default:I(()=>[...t[31]||=[_(`Export Members`,-1)]]),_:1}),k(d(W),null,{default:I(()=>[...t[32]||=[_(` Choose the format and data you want to export. `,-1)]]),_:1})]),_:1}),C(`div`,Qe,[C(`div`,$e,[k(d(Y),{for:`export-format`},{default:I(()=>[...t[33]||=[_(`Format`,-1)]]),_:1}),k(d(X),{modelValue:g.value,"onUpdate:modelValue":t[3]||=e=>g.value=e},{default:I(()=>[k(d(ge),{class:`w-full rounded-full`},{default:I(()=>[k(d(_e),{placeholder:`Select format`})]),_:1}),k(d(Z),null,{default:I(()=>[k(d(Q),{value:`csv`},{default:I(()=>[...t[34]||=[_(`CSV`,-1)]]),_:1}),k(d(Q),{value:`pdf`},{default:I(()=>[...t[35]||=[_(`PDF`,-1)]]),_:1})]),_:1})]),_:1},8,[`modelValue`])]),C(`div`,et,[k(d(Y),null,{default:I(()=>[...t[36]||=[_(`Include Data`,-1)]]),_:1}),C(`div`,tt,[C(`div`,nt,[k(d(ye),{id:`include-email`,modelValue:v.value.includeEmail,"onUpdate:modelValue":t[4]||=e=>v.value.includeEmail=e},null,8,[`modelValue`]),k(d(Y),{for:`include-email`},{default:I(()=>[...t[37]||=[_(`Email addresses`,-1)]]),_:1})]),C(`div`,rt,[k(d(ye),{id:`include-role`,modelValue:v.value.includeRole,"onUpdate:modelValue":t[5]||=e=>v.value.includeRole=e},null,8,[`modelValue`]),k(d(Y),{for:`include-role`},{default:I(()=>[...t[38]||=[_(`Roles`,-1)]]),_:1})]),C(`div`,it,[k(d(ye),{id:`include-date`,modelValue:v.value.includeDate,"onUpdate:modelValue":t[6]||=e=>v.value.includeDate=e},null,8,[`modelValue`]),k(d(Y),{for:`include-date`},{default:I(()=>[...t[39]||=[_(`Join date`,-1)]]),_:1})])])])]),k(d(K),{class:`gap-2 sm:gap-2`},{default:I(()=>[k(d(q),{class:`rounded-full`,variant:`outline`,onClick:t[7]||=e=>i.value=!1},{default:I(()=>[...t[40]||=[_(`Cancel`,-1)]]),_:1}),k(d(q),{class:`rounded-full`,onClick:z,disabled:!g.value},{default:I(()=>[...t[41]||=[_(` Export `,-1)]]),_:1},8,[`disabled`])]),_:1})]),_:1})]),_:1},8,[`open`]),k(d(V),{open:a.value,"onUpdate:open":t[11]||=e=>a.value=e},{default:I(()=>[k(d(H),{class:`sm:max-w-md bg-white`},{default:I(()=>[k(d(U),null,{default:I(()=>[k(d(G),null,{default:I(()=>[...t[42]||=[_(`Invite Members`,-1)]]),_:1}),k(d(W),null,{default:I(()=>[...t[43]||=[_(` Invite one or more people by email. Comma or newline separated. `,-1)]]),_:1})]),_:1}),C(`div`,at,[k(d(de),{name:`addTeamMembers`,onSubmit:se($,[`prevent`])},{default:I(()=>[k(d(fe),{name:`invite`},{default:I(({componentField:e})=>[k(d(pe),null,{default:I(()=>[k(d(he),null,{default:I(()=>[...t[44]||=[_(`Email Addresses`,-1)]]),_:1}),k(d(me),null,{default:I(()=>[k(d(Oe),{"model-value":S.value,"onUpdate:modelValue":_t},{default:I(()=>[(L(!0),p(w,null,ae(S.value,e=>(L(),O(d(Ae),{key:e,value:e},{default:I(()=>[k(d(Me)),k(d(je))]),_:1},8,[`value`]))),128)),k(d(ke),{placeholder:`member@example.com, 
member2@example.com, ...`})]),_:1},8,[`model-value`])]),_:1})]),_:1})]),_:1}),C(`div`,ot,[k(d(Y),{for:`invite-role`},{default:I(()=>[...t[45]||=[_(`Assign role`,-1)]]),_:1}),k(d(X),{modelValue:T.value,"onUpdate:modelValue":t[9]||=e=>T.value=e},{default:I(()=>[k(d(ge),{class:`w-full rounded-full`},{default:I(()=>[k(d(_e),{placeholder:`Select role`})]),_:1}),k(d(Z),null,{default:I(()=>[k(d(Q),{value:`OWNER`},{default:I(()=>[...t[46]||=[_(`Owner`,-1)]]),_:1}),k(d(Q),{value:`ADMIN`},{default:I(()=>[...t[47]||=[_(`Admin`,-1)]]),_:1}),k(d(Q),{value:`MANAGER`},{default:I(()=>[...t[48]||=[_(`Manager`,-1)]]),_:1}),k(d(Q),{value:`AUDITOR`},{default:I(()=>[...t[49]||=[_(`Auditor`,-1)]]),_:1}),k(d(Q),{value:`MEMBER`},{default:I(()=>[...t[50]||=[_(`Member`,-1)]]),_:1})]),_:1})]),_:1},8,[`modelValue`])])]),_:1})]),k(d(K),{class:`gap-2 sm:gap-2`},{default:I(()=>[k(d(q),{class:`rounded-full`,variant:`outline`,onClick:t[10]||=e=>a.value=!1},{default:I(()=>[...t[51]||=[_(`Cancel`,-1)]]),_:1}),k(d(q),{class:`rounded-full`,onClick:$,disabled:!(S.value&&S.value.length)},{default:I(()=>[...t[52]||=[_(`Invite`,-1)]]),_:1},8,[`disabled`])]),_:1})]),_:1})]),_:1},8,[`open`]),k(d(V),{open:f.value,"onUpdate:open":t[13]||=e=>f.value=e},{default:I(()=>[k(d(H),{class:`sm:max-w-md bg-white`},{default:I(()=>[k(d(U),null,{default:I(()=>[k(d(G),null,{default:I(()=>[...t[53]||=[_(`Remove Member`,-1)]]),_:1}),k(d(W),null,{default:I(()=>[_(` Are you sure you want to remove `+E(h.value?.memberName||h.value?.email)+` from the organisation? `,1)]),_:1})]),_:1}),C(`div`,st,[C(`div`,ct,[k(d(te),{class:`h-5 w-5 text-amber-600 mt-0.5`}),C(`div`,lt,[t[54]||=C(`p`,{class:`font-medium`},`This action cannot be undone.`,-1),C(`p`,ut,E(h.value?.memberName||h.value?.email)+` will lose access to all organisation resources and data. `,1),h.value?.role===`ADMIN`?(L(),p(`p`,dt,` ⚠️ You are removing an owner. This may affect organisation administration. `)):B(``,!0)])])]),C(`div`,ft,[k(d(Y),{for:`confirm-remove`,class:`text-sm font-medium`},{default:I(()=>[...t[55]||=[_(` Type "REMOVE" to confirm: `,-1)]]),_:1}),k(le,{id:`confirm-remove`,modelValue:P.value,"onUpdate:modelValue":t[12]||=e=>P.value=e,placeholder:`Enter REMOVE to confirm`,class:oe([`w-full`,{"border-red-300":e.removeConfirmationError}])},null,8,[`modelValue`,`class`]),e.removeConfirmationError?(L(),p(`p`,pt,E(e.removeConfirmationError),1)):B(``,!0)]),k(d(K),{class:`gap-2 sm:gap-2`},{default:I(()=>[k(d(q),{class:`rounded-full`,variant:`outline`,onClick:e.cancelRemove,disabled:N.value},{default:I(()=>[...t[56]||=[_(` Cancel `,-1)]]),_:1},8,[`onClick`,`disabled`]),k(d(q),{class:`rounded-full`,variant:`destructive`,onClick:Ce,disabled:P.value!=`REMOVE`||N.value},{default:I(()=>[N.value?(L(),O(d(y),{key:0,class:`h-4 w-4 mr-2 animate-spin`})):(L(),O(d(te),{key:1,class:`h-4 w-4 mr-2`})),_(` `+E(N.value?`Removing...`:`Remove Member`),1)]),_:1},8,[`disabled`])]),_:1})]),_:1})]),_:1},8,[`open`]),k(d(V),{open:m.value,"onUpdate:open":t[16]||=e=>m.value=e},{default:I(()=>[k(d(H),{class:`sm:max-w-sm bg-white`},{default:I(()=>[k(d(U),null,{default:I(()=>[k(d(G),null,{default:I(()=>[...t[57]||=[_(`Change Role`,-1)]]),_:1}),k(d(W),null,{default:I(()=>[_(` Change role for `+E(h.value?.memberName),1)]),_:1})]),_:1}),C(`div`,mt,[k(d(Y),{for:`role-select`},{default:I(()=>[...t[58]||=[_(`Role`,-1)]]),_:1}),k(d(X),{modelValue:x.value,"onUpdate:modelValue":t[14]||=e=>x.value=e},{default:I(()=>[k(d(ge),{class:`w-full rounded-full`},{default:I(()=>[k(d(_e),{placeholder:`Select role`})]),_:1}),k(d(Z),null,{default:I(()=>[k(d(Q),{value:`OWNER`},{default:I(()=>[...t[59]||=[_(`Owner`,-1)]]),_:1}),k(d(Q),{value:`ADMIN`},{default:I(()=>[...t[60]||=[_(`Admin`,-1)]]),_:1}),k(d(Q),{value:`MANAGER`},{default:I(()=>[...t[61]||=[_(`Manager`,-1)]]),_:1}),k(d(Q),{value:`AUDITOR`},{default:I(()=>[...t[62]||=[_(`Auditor`,-1)]]),_:1}),k(d(Q),{value:`MEMBER`},{default:I(()=>[...t[63]||=[_(`Member`,-1)]]),_:1})]),_:1})]),_:1},8,[`modelValue`])]),k(d(K),{class:`gap-2 sm:gap-2`},{default:I(()=>[k(d(q),{class:`rounded-full`,variant:`outline`,onClick:t[15]||=e=>m.value=!1},{default:I(()=>[...t[64]||=[_(`Cancel`,-1)]]),_:1}),k(d(q),{class:`rounded-full`,onClick:Te,disabled:!x.value},{default:I(()=>[...t[65]||=[_(`Save`,-1)]]),_:1},8,[`disabled`])]),_:1})]),_:1})]),_:1},8,[`open`])])])]))}},[[`__scopeId`,`data-v-dc891c8d`]]);export{ht as t};