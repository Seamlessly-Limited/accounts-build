import{A as e,B as t,D as n,F as r,G as i,H as a,N as o,R as s,S as c,St as l,T as u,U as d,X as f,Y as p,_t as m,b as h,bt as g,dt as _,et as v,f as y,g as b,ht as x,i as S,k as C,m as w,o as T,v as E,w as D,x as O,xt as k,y as A,yt as j,z as M}from"./index-4ZmatjLT.js";import"./createLucideIcon-ZffwcSv0.js";import{_ as N,b as P,g as F}from"./DialogTitle-CHn52rUl.js";import"./nullish-BN9Uk3IV.js";import{c as I,i as L,l as R,t as z}from"./VisuallyHidden-BMoChTfG.js";import{n as ee}from"./DismissableLayer-D-dBc44k.js";import{n as B,t as te}from"./dist-1hay9DAo.js";import{b as ne,c as V,h as re,i as ie,r as ae,t as H,u as oe}from"./useForwardExpose-6sUiVR1u.js";import"./useDirection-aUV61Fbq.js";import"./useFormControl-GZWYQUly.js";import{t as se}from"./Presence-DhIft7SO.js";import{t as U}from"./Collection-BIkV4l9P.js";import"./PopperRoot-DwqPv9ht.js";import{t as ce}from"./BubbleSelect-M_tmAFlW.js";import{t as W}from"./utils-DJKW7nPS.js";import{a as G}from"./dist-CQ4NwXXT.js";import"./UserService-C1_pNoI_.js";import{t as le}from"./Card-CRjTeu-x.js";import"./BackgroundAnimation-Dg04LcbR.js";import{t as K}from"./button-DT88A13k.js";import{t as q}from"./Input-CvdiO7o9.js";import{t as ue}from"./use-toast-Dqb4MOIa.js";import{t as de}from"./OrganisationService-FqWxp1T9.js";import{a as fe,i as pe,n as me,o as J,r as he,t as ge}from"./DialogTitle-oFfIbtL0.js";var _e=n({__name:`DismissableLayerBranch`,props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){let n=e,{forwardRef:i,currentElement:a}=H();return s(()=>{ee.branches.add(a.value)}),M(()=>{ee.branches.delete(a.value)}),(e,a)=>(t(),h(m(B),r({ref:m(i)},n),{default:v(()=>[d(e.$slots,`default`)]),_:3},16))}}),ve=n({__name:`ToastAnnounceExclude`,props:{altText:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){return(e,n)=>(t(),h(m(B),{as:e.as,"as-child":e.asChild,"data-reka-toast-announce-exclude":``,"data-reka-toast-announce-alt":e.altText||void 0},{default:v(()=>[d(e.$slots,`default`)]),_:3},8,[`as`,`as-child`,`data-reka-toast-announce-alt`]))}}),[Y,ye]=R(`ToastProvider`),be=n({inheritAttrs:!1,__name:`ToastProvider`,props:{label:{type:String,required:!1,default:`Notification`},duration:{type:Number,required:!1,default:5e3},disableSwipe:{type:Boolean,required:!1},swipeDirection:{type:String,required:!1,default:`right`},swipeThreshold:{type:Number,required:!1,default:50}},setup(e){let t=e,{label:n,duration:r,disableSwipe:i,swipeDirection:a,swipeThreshold:o}=x(t);U({isProvider:!0});let s=_(),c=_(0),l=_(!1),u=_(!1);if(t.label&&typeof t.label==`string`&&!t.label.trim())throw Error("Invalid prop `label` supplied to `ToastProvider`. Expected non-empty `string`.");return ye({label:n,duration:r,disableSwipe:i,swipeDirection:a,swipeThreshold:o,toastCount:c,viewport:s,onViewportChange(e){s.value=e},onToastAdd(){c.value++},onToastRemove(){c.value--},isFocusedToastEscapeKeyDownRef:l,isClosePausedRef:u}),(e,t)=>d(e.$slots,`default`)}}),xe=n({__name:`ToastAnnounce`,setup(e){let n=Y(),r=ne(1e3),i=_(!1);return V(()=>{i.value=!0}),(e,a)=>m(r)||i.value?(t(),h(m(z),{key:0},{default:v(()=>[D(l(m(n).label.value)+` `,1),d(e.$slots,`default`)]),_:3})):O(`v-if`,!0)}}),X=`toast.viewportPause`,Z=`toast.viewportResume`;function Q(e,t,n){let r=n.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&r.addEventListener(e,t,{once:!0}),r.dispatchEvent(i)}function Se(e,t,n=0){let r=Math.abs(e.x),i=Math.abs(e.y),a=r>i;return t===`left`||t===`right`?a&&r>n:!a&&i>n}function Ce(e){return e.nodeType===e.ELEMENT_NODE}function we(e){let t=[];return Array.from(e.childNodes).forEach(e=>{if(e.nodeType===e.TEXT_NODE&&e.textContent&&t.push(e.textContent),Ce(e)){let n=e.ariaHidden||e.hidden||e.style.display===`none`,r=e.dataset.rekaToastAnnounceExclude===``;if(!n)if(r){let n=e.dataset.rekaToastAnnounceAlt;n&&t.push(n)}else t.push(...we(e))}}),t}var[Te,Ee]=R(`ToastRoot`),De=n({inheritAttrs:!1,__name:`ToastRootImpl`,props:{type:{type:String,required:!1},open:{type:Boolean,required:!1,default:!1},duration:{type:Number,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:`li`}},emits:[`close`,`escapeKeyDown`,`pause`,`resume`,`swipeStart`,`swipeMove`,`swipeCancel`,`swipeEnd`],setup(e,{emit:n}){let i=e,a=n,{forwardRef:o,currentElement:g}=H(),{CollectionItem:x}=U(),S=Y(),C=_(null),T=_(null),k=E(()=>typeof i.duration==`number`?i.duration:S.duration.value),A=_(0),j=_(k.value),N=_(0),P=_(k.value),F=V(()=>{let e=new Date().getTime()-A.value;P.value=Math.max(j.value-e,0)},{fpsLimit:60});function L(e){e<=0||e===1/0||re&&(window.clearTimeout(N.value),A.value=new Date().getTime(),N.value=window.setTimeout(R,e))}function R(e){let t=e?.pointerType===``;g.value?.contains(I())&&t&&S.viewport.value?.focus(),t&&(S.isClosePausedRef.value=!1),a(`close`)}let z=E(()=>g.value?we(g.value):null);if(i.type&&![`foreground`,`background`].includes(i.type))throw Error("Invalid prop `type` supplied to `Toast`. Expected `foreground | background`.");return f(e=>{let t=S.viewport.value;if(t){let e=()=>{L(j.value),F.resume(),a(`resume`)},n=()=>{let e=new Date().getTime()-A.value;j.value-=e,window.clearTimeout(N.value),F.pause(),a(`pause`)};return t.addEventListener(X,n),t.addEventListener(Z,e),()=>{t.removeEventListener(X,n),t.removeEventListener(Z,e)}}}),p(()=>[i.open,k.value],()=>{j.value=k.value,i.open&&!S.isClosePausedRef.value&&L(k.value)},{immediate:!0}),ae(`Escape`,e=>{a(`escapeKeyDown`,e),e.defaultPrevented||(S.isFocusedToastEscapeKeyDownRef.value=!0,R())}),s(()=>{S.onToastAdd()}),M(()=>{S.onToastRemove()}),Ee({onClose:R}),(e,n)=>(t(),c(w,null,[z.value?(t(),h(xe,{key:0,role:`alert`,"aria-live":e.type===`foreground`?`assertive`:`polite`,"aria-atomic":`true`},{default:v(()=>[D(l(z.value),1)]),_:1},8,[`aria-live`])):O(`v-if`,!0),m(S).viewport.value?(t(),h(b,{key:1,to:m(S).viewport.value},[u(m(x),null,{default:v(()=>[u(m(B),r({ref:m(o),role:`alert`,"aria-live":`off`,"aria-atomic":`true`,tabindex:`0`},e.$attrs,{as:e.as,"as-child":e.asChild,"data-state":e.open?`open`:`closed`,"data-swipe-direction":m(S).swipeDirection.value,style:m(S).disableSwipe.value?void 0:{userSelect:`none`,touchAction:`none`},onPointerdown:n[0]||=y(e=>{m(S).disableSwipe.value||(C.value={x:e.clientX,y:e.clientY})},[`left`]),onPointermove:n[1]||=e=>{if(m(S).disableSwipe.value||!C.value)return;let t=e.clientX-C.value.x,n=e.clientY-C.value.y,r=!!T.value,i=[`left`,`right`].includes(m(S).swipeDirection.value),o=[`left`,`up`].includes(m(S).swipeDirection.value)?Math.min:Math.max,s=i?o(0,t):0,c=i?0:o(0,n),l=e.pointerType===`touch`?10:2,u={x:s,y:c},d={originalEvent:e,delta:u};r?(T.value=u,m(Q)(m(`toast.swipeMove`),e=>a(`swipeMove`,e),d)):m(Se)(u,m(S).swipeDirection.value,l)?(T.value=u,m(Q)(m(`toast.swipeStart`),e=>a(`swipeStart`,e),d),e.target.setPointerCapture(e.pointerId)):(Math.abs(t)>l||Math.abs(n)>l)&&(C.value=null)},onPointerup:n[2]||=e=>{if(m(S).disableSwipe.value)return;let t=T.value,n=e.target;if(n.hasPointerCapture(e.pointerId)&&n.releasePointerCapture(e.pointerId),T.value=null,C.value=null,t){let n=e.currentTarget,r={originalEvent:e,delta:t};m(Se)(t,m(S).swipeDirection.value,m(S).swipeThreshold.value)?m(Q)(m(`toast.swipeEnd`),e=>a(`swipeEnd`,e),r):m(Q)(m(`toast.swipeCancel`),e=>a(`swipeCancel`,e),r),n?.addEventListener(`click`,e=>e.preventDefault(),{once:!0})}}}),{default:v(()=>[d(e.$slots,`default`,{remaining:P.value,duration:k.value})]),_:3},16,[`as`,`as-child`,`data-state`,`data-swipe-direction`,`style`])]),_:3})],8,[`to`])):O(`v-if`,!0)],64))}}),Oe=n({__name:`ToastClose`,props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:`button`}},setup(e){let n=e,i=Te(),{forwardRef:a}=H();return(e,o)=>(t(),h(ve,{"as-child":``},{default:v(()=>[u(m(B),r(n,{ref:m(a),type:e.as===`button`?`button`:void 0,onClick:m(i).onClose}),{default:v(()=>[d(e.$slots,`default`)]),_:3},16,[`type`,`onClick`])]),_:3}))}}),ke=n({__name:`ToastDescription`,props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){let n=e;return H(),(e,r)=>(t(),h(m(B),g(C(n)),{default:v(()=>[d(e.$slots,`default`)]),_:3},16))}}),Ae=n({__name:`ToastRoot`,props:{defaultOpen:{type:Boolean,required:!1,default:!0},forceMount:{type:Boolean,required:!1},type:{type:String,required:!1,default:`foreground`},open:{type:Boolean,required:!1,default:void 0},duration:{type:Number,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:`li`}},emits:[`escapeKeyDown`,`pause`,`resume`,`swipeStart`,`swipeMove`,`swipeCancel`,`swipeEnd`,`update:open`],setup(e,{emit:n}){let i=e,a=n,{forwardRef:o}=H(),s=oe(i,`open`,a,{defaultValue:i.defaultOpen,passive:i.open===void 0});return(e,n)=>(t(),h(m(se),{present:e.forceMount||m(s)},{default:v(()=>[u(De,r({ref:m(o),open:m(s),type:e.type,as:e.as,"as-child":e.asChild,duration:e.duration},e.$attrs,{onClose:n[0]||=e=>s.value=!1,onPause:n[1]||=e=>a(`pause`),onResume:n[2]||=e=>a(`resume`),onEscapeKeyDown:n[3]||=e=>a(`escapeKeyDown`,e),onSwipeStart:n[4]||=e=>{a(`swipeStart`,e),e.defaultPrevented||e.currentTarget.setAttribute(`data-swipe`,`start`)},onSwipeMove:n[5]||=e=>{if(a(`swipeMove`,e),!e.defaultPrevented){let{x:t,y:n}=e.detail.delta,r=e.currentTarget;r.setAttribute(`data-swipe`,`move`),r.style.setProperty(`--reka-toast-swipe-move-x`,`${t}px`),r.style.setProperty(`--reka-toast-swipe-move-y`,`${n}px`)}},onSwipeCancel:n[6]||=e=>{if(a(`swipeCancel`,e),!e.defaultPrevented){let t=e.currentTarget;t.setAttribute(`data-swipe`,`cancel`),t.style.removeProperty(`--reka-toast-swipe-move-x`),t.style.removeProperty(`--reka-toast-swipe-move-y`),t.style.removeProperty(`--reka-toast-swipe-end-x`),t.style.removeProperty(`--reka-toast-swipe-end-y`)}},onSwipeEnd:n[7]||=e=>{if(a(`swipeEnd`,e),!e.defaultPrevented){let{x:t,y:n}=e.detail.delta,r=e.currentTarget;r.setAttribute(`data-swipe`,`end`),r.style.removeProperty(`--reka-toast-swipe-move-x`),r.style.removeProperty(`--reka-toast-swipe-move-y`),r.style.setProperty(`--reka-toast-swipe-end-x`,`${t}px`),r.style.setProperty(`--reka-toast-swipe-end-y`,`${n}px`),s.value=!1}}}),{default:v(({remaining:t,duration:n})=>[d(e.$slots,`default`,{remaining:t,duration:n,open:m(s)})]),_:3},16,[`open`,`type`,`as`,`as-child`,`duration`])]),_:3},8,[`present`]))}}),je=n({__name:`ToastTitle`,props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){let n=e;return H(),(e,r)=>(t(),h(m(B),g(C(n)),{default:v(()=>[d(e.$slots,`default`)]),_:3},16))}}),Me=n({__name:`FocusProxy`,emits:[`focusFromOutsideViewport`],setup(e,{emit:n}){let r=n,i=Y();return(e,n)=>(t(),h(m(z),{"aria-hidden":`true`,tabindex:`0`,style:{position:`fixed`},onFocus:n[0]||=e=>{let t=e.relatedTarget;m(i).viewport.value?.contains(t)||r(`focusFromOutsideViewport`)}},{default:v(()=>[d(e.$slots,`default`)]),_:3}))}}),Ne=n({inheritAttrs:!1,__name:`ToastViewport`,props:{hotkey:{type:Array,required:!1,default:()=>[`F8`]},label:{type:[String,Function],required:!1,default:`Notifications ({hotkey})`},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:`ol`}},setup(e){let{hotkey:n,label:i}=x(e),{forwardRef:a,currentElement:o}=H(),{CollectionSlot:c,getItems:l}=U(),p=Y(),g=E(()=>p.toastCount.value>0),y=_(),b=_(),S=E(()=>n.value.join(`+`).replace(/Key/g,``).replace(/Digit/g,``));ae(n.value,()=>{o.value.focus()}),s(()=>{p.onViewportChange(o.value)}),f(e=>{let t=o.value;if(g.value&&t){let n=()=>{if(!p.isClosePausedRef.value){let e=new CustomEvent(X);t.dispatchEvent(e),p.isClosePausedRef.value=!0}},r=()=>{if(p.isClosePausedRef.value){let e=new CustomEvent(Z);t.dispatchEvent(e),p.isClosePausedRef.value=!1}},i=e=>{t.contains(e.relatedTarget)||r()},a=()=>{t.contains(I())||r()},o=e=>{let n=e.altKey||e.ctrlKey||e.metaKey;if(e.key===`Tab`&&!n){let n=I(),r=e.shiftKey;if(e.target===t&&r){y.value?.focus();return}let i=C({tabbingDirection:r?`backwards`:`forwards`}),a=i.findIndex(e=>e===n);F(i.slice(a+1))?e.preventDefault():r?y.value?.focus():b.value?.focus()}};t.addEventListener(`focusin`,n),t.addEventListener(`focusout`,i),t.addEventListener(`pointermove`,n),t.addEventListener(`pointerleave`,a),t.addEventListener(`keydown`,o),window.addEventListener(`blur`,n),window.addEventListener(`focus`,r),e(()=>{t.removeEventListener(`focusin`,n),t.removeEventListener(`focusout`,i),t.removeEventListener(`pointermove`,n),t.removeEventListener(`pointerleave`,a),t.removeEventListener(`keydown`,o),window.removeEventListener(`blur`,n),window.removeEventListener(`focus`,r)})}});function C({tabbingDirection:e}){let t=l().map(e=>e.ref).map(t=>{let n=[t,...N(t)];return e===`forwards`?n:n.reverse()});return(e===`forwards`?t.reverse():t).flat()}return(e,n)=>(t(),h(m(_e),{role:`region`,"aria-label":typeof m(i)==`string`?m(i).replace(`{hotkey}`,S.value):m(i)(S.value),tabindex:`-1`,style:k({pointerEvents:g.value?void 0:`none`})},{default:v(()=>[g.value?(t(),h(Me,{key:0,ref:e=>{y.value=m(ie)(e)},onFocusFromOutsideViewport:n[0]||=()=>{let e=C({tabbingDirection:`forwards`});m(F)(e)}},null,512)):O(`v-if`,!0),u(m(c),null,{default:v(()=>[u(m(B),r({ref:m(a),tabindex:`-1`,as:e.as,"as-child":e.asChild},e.$attrs),{default:v(()=>[d(e.$slots,`default`)]),_:3},16,[`as`,`as-child`])]),_:3}),g.value?(t(),h(Me,{key:1,ref:e=>{b.value=m(ie)(e)},onFocusFromOutsideViewport:n[1]||=()=>{let e=C({tabbingDirection:`backwards`});m(F)(e)}},null,512)):O(`v-if`,!0)]),_:3},8,[`aria-label`,`style`]))}}),Pe=n({__name:`Select`,props:{open:{type:Boolean},defaultOpen:{type:Boolean},defaultValue:{},modelValue:{},by:{type:[String,Function]},dir:{},multiple:{type:Boolean},autocomplete:{},disabled:{type:Boolean},name:{},required:{type:Boolean}},emits:[`update:modelValue`,`update:open`],setup(e,{emit:n}){let i=L(e,n);return(e,n)=>(t(),h(m(ce),r({"data-slot":`select`},m(i)),{default:v(()=>[d(e.$slots,`default`)]),_:3},16))}}),Fe=n({__name:`DialogFooter`,props:{class:{}},setup(e){let n=e;return(e,r)=>(t(),c(`div`,{"data-slot":`dialog-footer`,class:j(m(W)(`flex flex-col-reverse gap-2 sm:flex-row sm:justify-end`,n.class))},[d(e.$slots,`default`)],2))}}),Ie=n({__name:`Toast`,props:{class:{},variant:{},onOpenChange:{type:Function},defaultOpen:{type:Boolean},forceMount:{type:Boolean},type:{},open:{type:Boolean},duration:{},asChild:{type:Boolean},as:{}},emits:[`escapeKeyDown`,`pause`,`resume`,`swipeStart`,`swipeMove`,`swipeCancel`,`swipeEnd`,`update:open`],setup(e,{emit:n}){let i=e,a=n,o=G(i,`class`),s=L(o,a);return(n,a)=>(t(),h(m(Ae),r(m(s),{class:m(W)(m(Ue)({variant:e.variant}),i.class),"onUpdate:open":e.onOpenChange}),{default:v(()=>[d(n.$slots,`default`)]),_:3},16,[`class`,`onUpdate:open`]))}}),Le=n({__name:`ToastClose`,props:{asChild:{type:Boolean},as:{},class:{}},setup(e){let n=e,i=G(n,`class`);return(e,a)=>(t(),h(m(Oe),r(m(i),{class:m(W)(`absolute right-1 top-1 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-1 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600`,n.class)}),{default:v(()=>[u(m(P),{class:`h-4 w-4`})]),_:1},16,[`class`]))}}),$=n({__name:`ToastDescription`,props:{asChild:{type:Boolean},as:{},class:{}},setup(e){let n=e,i=G(n,`class`);return(e,a)=>(t(),h(m(ke),r({class:m(W)(`text-sm opacity-90`,n.class)},m(i)),{default:v(()=>[d(e.$slots,`default`)]),_:3},16,[`class`]))}}),Re={class:`grid gap-1`},ze=n({__name:`Toaster`,setup(e){let{toasts:n}=ue();return(e,s)=>(t(),h(m(Be),null,{default:v(()=>[(t(!0),c(w,null,a(m(n),e=>(t(),h(m(Ie),r({class:`rounded-sm border-slate-300 border-dashed my-2`,key:e.id},{ref_for:!0},e),{default:v(()=>[A(`div`,Re,[e.title?(t(),h(m(Ve),{key:0},{default:v(()=>[D(l(e.title),1)]),_:2},1024)):O(``,!0),e.description?(t(),c(w,{key:1},[o(e.description)?(t(),h(m($),{key:0},{default:v(()=>[(t(),h(i(e.description)))]),_:2},1024)):(t(),h(m($),{key:1},{default:v(()=>[D(l(e.description),1)]),_:2},1024))],64)):O(``,!0),u(m(Le))]),(t(),h(i(e.action)))]),_:2},1040))),128)),u(m(He))]),_:1}))}}),Be=n({__name:`ToastProvider`,props:{label:{},duration:{},disableSwipe:{type:Boolean},swipeDirection:{},swipeThreshold:{}},setup(e){let n=e;return(e,r)=>(t(),h(m(be),g(C(n)),{default:v(()=>[d(e.$slots,`default`)]),_:3},16))}}),Ve=n({__name:`ToastTitle`,props:{asChild:{type:Boolean},as:{},class:{}},setup(e){let n=e,i=G(n,`class`);return(e,a)=>(t(),h(m(je),r(m(i),{class:m(W)(`text-sm font-semibold [&+div]:text-xs`,n.class)}),{default:v(()=>[d(e.$slots,`default`)]),_:3},16,[`class`]))}}),He=n({__name:`ToastViewport`,props:{hotkey:{},label:{type:[String,Function]},asChild:{type:Boolean},as:{},class:{}},setup(e){let n=e,i=G(n,`class`);return(e,a)=>(t(),h(m(Ne),r(m(i),{class:m(W)(`fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]`,n.class)}),null,16,[`class`]))}});const Ue=te(`group pointer-events-auto relative flex w-full items-center justify-between space-x-2 overflow-hidden rounded-md border p-4 pr-6 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--reka-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--reka-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full`,{variants:{variant:{default:`border bg-background text-foreground`,destructive:`destructive group border-destructive bg-destructive text-destructive-foreground`}},defaultVariants:{variant:`default`}});var We={class:`relative w-full min-h-screen overflow-y-scroll rounded-sm`,style:{"scrollbar-width":`none`}},Ge={class:`container mx-auto py-12 md:py-15 relative`},Ke={key:0,class:`flex justify-between items-center mb-8`},qe={key:1,class:`text-center py-20`},Je={key:2,class:`text-center py-40`},Ye={key:3,class:`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6`},Xe={class:`flex justify-between items-start mb-4`},Ze={class:`font-semibold text-lg text-slate-800`},Qe={class:`space-y-2 text-sm text-gray-600`},$e={class:`flex items-center`},et={class:`flex items-center`},tt={key:0,class:`flex items-center`},nt={class:`flex justify-between items-center mt-6 pt-4 border-t`},rt={class:`text-xs text-gray-500`},it={class:`grid gap-4 py-4`},at={class:`grid grid-cols-2 gap-4`},ot={class:`grid grid-cols-2 gap-4`},st={key:0,class:`fa fa-cog animate-spin mr-2`},ct={__name:`Manage`,setup(n){let{toast:r}=ue(),i=S(),o=T(),d=_(!0),f=_(!1),p=_(!1),g=_([]),b=[{label:`Limited Company`,value:`limited`},{label:`Enterprise`,value:`enterprise`},{label:`Sole Proprietorship`,value:`sole_proprietorship`},{label:`Partnership`,value:`partnership`}],x=_({name:``,type:``,tin:``,cac_no:``,country:``,state:``});s(async()=>{await C()});async function C(){try{d.value=!0,g.value=await de.list()}catch{r({id:`load-organisations-error`,title:`Uh oh! Something went wrong.`,description:`We could not load your organisations`,action:e(K,{variant:`default`,size:`sm`,onClick:C},`Retry`)})}finally{d.value=!1}}async function E(){try{f.value=!0;let e=await de.create(x.value);o.toast({message:`Organisation created successfully!`,duration:3e3,type:`success`}),p.value=!1,g.value.push(e),P()}catch(e){o.toast({message:e.message||`Failed to create organisation`,duration:5e3,type:`error`})}finally{f.value=!1}}function k(e){i.push(`/organisations/${e.id}/dashboard`)}function j(e){i.push(`/organisations/${e.id}/settings`)}function M(e){return{Owner:`default`,Accountant:`secondary`,Auditor:`outline`}[e]||`outline`}function N(e){return new Date(e).toLocaleDateString()}function P(){x.value={name:``,type:``,tin:``,cac_no:``,country:``,state:``}}return(e,n)=>(t(),c(w,null,[u(m(ze),{top:``}),A(`div`,We,[A(`div`,Ge,[g.value.length===0?O(``,!0):(t(),c(`div`,Ke,[n[11]||=A(`div`,null,[A(`h1`,{class:`text-3xl font-bold text-slate-700`},`My Organisations`),A(`p`,{class:`text-gray-600 mt-2`},`Manage your business entities and teams`)],-1),u(m(K),{class:`rounded-full`,onClick:n[0]||=e=>p.value=!0},{default:v(()=>[...n[10]||=[A(`i`,{class:`fa fa-plus mr-2`},null,-1),D(` New Organisation `,-1)]]),_:1})])),d.value?(t(),c(`div`,qe,[...n[12]||=[A(`i`,{class:`fa fa-cog animate-spin text-4xl text-gray-500`},null,-1),A(`p`,{class:`mt-4 text-gray-600`},`Loading organisations...`,-1)]])):g.value.length===0?(t(),c(`div`,Je,[n[14]||=A(`i`,{class:`fa fa-building text-4xl text-gray-300 mb-4`},null,-1),n[15]||=A(`h3`,{class:`text-xl font-semibold text-gray-700`},`No organisations yet`,-1),n[16]||=A(`p`,{class:`text-gray-600 mt-2 mb-6`},`Create your first organisation to get started`,-1),u(m(K),{class:`rounded-full`,onClick:n[1]||=e=>m(i).push(`/add-organisation`)},{default:v(()=>[...n[13]||=[D(` Create Organisation `,-1)]]),_:1})])):(t(),c(`div`,Ye,[(t(!0),c(w,null,a(g.value,e=>(t(),h(m(le),{key:e.id,class:`p-6 shadow-none transition-shadow cursor-pointer`,onClick:t=>k(e)},{default:v(()=>[A(`div`,Xe,[A(`div`,null,[A(`h3`,Ze,l(e.name),1),u(m(J),{variant:M(e.userRole),class:`mt-1`},{default:v(()=>[D(l(e.userRole),1)]),_:2},1032,[`variant`])]),n[17]||=A(`i`,{class:`fa fa-building text-gray-400 text-xl`},null,-1)]),A(`div`,Qe,[A(`div`,$e,[n[18]||=A(`i`,{class:`fa fa-id-card mr-2 w-4`},null,-1),A(`span`,null,l(e.type),1)]),A(`div`,et,[n[19]||=A(`i`,{class:`fa fa-map-marker mr-2 w-4`},null,-1),A(`span`,null,l(e.country)+`, `+l(e.state),1)]),e.jurisdiction_code?(t(),c(`div`,tt,[n[20]||=A(`i`,{class:`fa fa-balance-scale mr-2 w-4`},null,-1),A(`span`,null,l(e.jurisdiction_code),1),e.ai_confidence_score?(t(),h(m(J),{key:0,class:`ml-2`,variant:`outline`},{default:v(()=>[D(l(Math.round(e.ai_confidence_score*100))+`% `,1)]),_:2},1024)):O(``,!0)])):O(``,!0)]),A(`div`,nt,[A(`span`,rt,l(N(e.created_at)),1),e.userRole===`Owner`?(t(),h(m(K),{key:0,variant:`ghost`,size:`sm`,onClick:y(t=>j(e),[`stop`]),class:`rounded-full`},{default:v(()=>[...n[21]||=[A(`i`,{class:`fa fa-cog`},null,-1)]]),_:1},8,[`onClick`])):O(``,!0)])]),_:2},1032,[`onClick`]))),128))]))]),u(m(fe),{open:p.value,"onUpdate:open":n[9]||=e=>p.value=e},{default:v(()=>[u(m(pe),{class:`sm:max-w-[500px]`},{default:v(()=>[u(m(me),null,{default:v(()=>[u(m(ge),null,{default:v(()=>[...n[22]||=[D(`Create New Organisation`,-1)]]),_:1}),u(m(he),null,{default:v(()=>[...n[23]||=[D(` Register a new business entity to manage taxes and compliance. `,-1)]]),_:1})]),_:1}),A(`form`,{onSubmit:y(E,[`prevent`])},[A(`div`,it,[u(m(q),{label:`Organisation Name`,modelValue:x.value.name,"onUpdate:modelValue":n[2]||=e=>x.value.name=e,required:``},null,8,[`modelValue`]),u(m(Pe),{label:`Organisation Type`,modelValue:x.value.type,"onUpdate:modelValue":n[3]||=e=>x.value.type=e,options:b,required:``},null,8,[`modelValue`]),A(`div`,at,[u(m(q),{label:`TIN`,modelValue:x.value.tin,"onUpdate:modelValue":n[4]||=e=>x.value.tin=e,required:``},null,8,[`modelValue`]),u(m(q),{label:`CAC Number`,modelValue:x.value.cac_no,"onUpdate:modelValue":n[5]||=e=>x.value.cac_no=e},null,8,[`modelValue`])]),A(`div`,ot,[u(m(q),{label:`Country`,modelValue:x.value.country,"onUpdate:modelValue":n[6]||=e=>x.value.country=e,required:``},null,8,[`modelValue`]),u(m(q),{label:`State/Region`,modelValue:x.value.state,"onUpdate:modelValue":n[7]||=e=>x.value.state=e,required:``},null,8,[`modelValue`])])]),u(m(Fe),null,{default:v(()=>[u(m(K),{type:`button`,variant:`outline`,onClick:n[8]||=e=>p.value=!1},{default:v(()=>[...n[24]||=[D(`Cancel`,-1)]]),_:1}),u(m(K),{type:`submit`,disabled:f.value},{default:v(()=>[f.value?(t(),c(`i`,st)):O(``,!0),n[25]||=D(` Create Organisation `,-1)]),_:1},8,[`disabled`])]),_:1})],32)]),_:1})]),_:1},8,[`open`])])],64))}};export{ct as default};