import{n as e,r as t,t as n}from"./AvatarImage-Ci7hdmDS.js";import{c as r,n as i,o as a,r as o,s}from"./command-C3TSjp8l.js";import{t as ee}from"./ScrollArea-CHNzvhCN.js";import{n as c,t as l}from"./SwitchThumb-BX_WEoF-.js";import{$n as u,Bi as d,Ct as te,Ea as ne,Fa as f,Hi as p,J as m,Ki as h,Kn as g,Li as _,Mn as re,Oa as v,Oi as ie,Or as y,Pa as b,Qn as ae,Ra as x,T as S,Tn as C,Ui as w,Un as T,Vi as E,Wi as D,Wr as O,Yi as k,_r as oe,a as se,an as ce,b as le,ba as A,bn as ue,ca as j,da as M,dn as N,fn as P,i as F,k as I,kt as L,la as R,na as z,oa as B,qi as V,rt as H,ta as U,wi as W,zt as de}from"./index-CTHZVx0Q.js";import{n as G}from"./button-BXx_oIr0.js";import{t as fe}from"./Textarea-CJYS2FQM.js";import{t as pe}from"./badge-7N10jYOC.js";var K=k({__name:`Avatar`,props:{class:{}},setup(e){let n=e;return(e,r)=>(B(),p(b(t),{"data-slot":`avatar`,class:f(b(y)(`relative flex size-8 shrink-0 overflow-hidden rounded-full`,n.class))},{default:A(()=>[R(e.$slots,`default`)]),_:3},8,[`class`]))}}),q=k({__name:`AvatarFallback`,props:{delayMs:{},asChild:{type:Boolean},as:{},class:{}},setup(t){let n=t,r=W(n,`class`);return(t,i)=>(B(),p(b(e),U({"data-slot":`avatar-fallback`},b(r),{class:b(y)(`bg-muted flex size-full items-center justify-center rounded-full`,n.class)}),{default:A(()=>[R(t.$slots,`default`)]),_:3},16,[`class`]))}}),me=k({__name:`AvatarImage`,props:{src:{},referrerPolicy:{},crossOrigin:{},asChild:{type:Boolean},as:{}},setup(e){let t=e;return(e,r)=>(B(),p(b(n),U({"data-slot":`avatar-image`},t,{class:`aspect-square size-full`}),{default:A(()=>[R(e.$slots,`default`)]),_:3},16))}}),he=k({__name:`Switch`,props:{defaultValue:{type:Boolean},modelValue:{type:[Boolean,null]},disabled:{type:Boolean},id:{},value:{},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean},class:{}},emits:[`update:modelValue`],setup(e,{emit:t}){let n=e,r=t,i=W(n,`class`),a=O(i,r);return(e,t)=>(B(),p(b(c),U({"data-slot":`switch`},b(a),{class:b(y)(`peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50`,n.class)}),{default:A(()=>[V(b(l),{"data-slot":`switch-thumb`,class:f(b(y)(`bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0`))},{default:A(()=>[R(e.$slots,`thumb`)]),_:3},8,[`class`])]),_:3},16,[`class`]))}}),ge={class:`flex flex-col h-full bg-stone-50`},_e={class:`p-4 border-b border-white flex items-center justify-between bg-white/20`},ve={class:`flex items-center gap-2`},ye={class:`h-8 w-8 rounded-full bg-stone-100 flex items-center justify-center text-blue-800 border border-slate-400`},be={class:`space-y-6`},xe={key:0,class:`text-center py-10 px-4`},Se={class:`bg-stone-100 h-12 w-12 rounded-full flex items-center justify-center mx-auto mb-4`},Ce={class:`grid grid-cols-1 gap-2 max-w-xs mx-auto`},we={key:0,class:`flex items-center gap-2 mb-1 text-red-600 font-medium`},Te={class:`leading-relaxed whitespace-pre-wrap`},Ee={key:0,class:`mt-2 flex flex-wrap gap-2`},De={class:`font-medium text-slate-700`},Oe={key:1,class:`mt-3 w-full bg-stone-50 border border-slate-200 rounded-lg p-3 shadow-sm`},ke={class:`flex items-center justify-between mb-2`},Ae={class:`text-sm text-slate-600 bg-slate-50 p-2 rounded border border-slate-100 mb-3 font-mono text-xs`},je={key:0,class:`flex gap-2`},Me={key:1,class:`flex items-center justify-between bg-green-50 text-blue-700 px-3 py-1.5 rounded text-xs`},Ne={class:`flex items-center gap-1.5`},Pe={key:2,class:`mt-2 flex gap-2`},Fe={key:1,class:`flex gap-3`},Ie={class:`bg-white border border-blue-100 rounded-2xl rounded-tl-sm px-4 py-3 text-sm text-slate-500 flex items-center gap-2 shadow-sm`},Le={class:`p-4 border-t bg-slate-50/50`},Re={class:`relative group`},ze={key:0,class:`absolute Sparklestom-full left-0 w-72 mb-2 bg-white border border-slate-200 rounded-xl shadow-xl overflow-hidden z-20 animate-in fade-in slide-in-from-Sparklestom-2`},Be={class:`flex flex-col`},Ve={class:`font-medium`},He={class:`text-xs text-slate-400`},Ue={class:`bg-white border border-slate-200 rounded-2xl shadow-sm focus-within:ring-2 focus-within:ring-blue-500/20 focus-within:border-blue-500 transition-all`},We={class:`flex justify-between items-center px-2 pb-2`},Ge={class:`flex items-center gap-1`},Ke={class:`flex items-center gap-2 bg-slate-50 border border-slate-100 rounded-full pl-1 pr-2 py-0.5`},J={class:`flex justify-between items-center px-1`},qe={class:`h-5 overflow-hidden flex items-center mt-1`},Je={key:0,class:`flex items-center gap-1.5 text-[10px] text-slate-400 font-medium bg-slate-100 px-2 py-0.5 rounded-full`},Y={__name:`AccountAssistant`,props:{account:Object,context:Object},setup(e){let t=e;d(()=>({activeTab:t.context?.tab,tabType:t.context?.tab?.type,tabData:t.context?.tab?.data,account:t.account}));let n=se().toast,c=v([{role:`assistant`,content:`I noticed a spike in software subscription costs this month. Would you like me to break it down?`,attachments:[],actions:[{label:`Break it down`,icon:u},{label:`Ignore`,icon:C}]},{role:`assistant`,content:`I found a recurring transaction that seems miscategorized. Should I update "AWS Web Services" to "Infrastructure"?`,proposal:{type:`Categorization`,diff:`- Category: Uncategorized
+ Category: Infrastructure`,applied:!1}}]),l=v(``),y=v(!1),O=v(!1),k=v(``),F=v(null),R=ne({reasoning:!1,web:!1,voice:!1}),U=[{id:`t1`,description:`AWS Web Services`,amount:`-$240.00`,date:`Today`},{id:`t2`,description:`Github Enterprise`,amount:`-$25.00`,date:`Yesterday`},{id:`t3`,description:`Slack Technologies`,amount:`-$12.50`,date:`Oct 24`}],W=[{id:`f1`,name:`Invoice_OCT_2024.pdf`},{id:`f2`,name:`Q3_Financial_Report.xlsx`}],Y=d(()=>{if(!k.value)return U;let e=k.value.toLowerCase();return U.filter(t=>t.description.toLowerCase().includes(e))}),X=d(()=>{if(!k.value)return W;let e=k.value.toLowerCase();return W.filter(t=>t.name.toLowerCase().includes(e))}),Z=d(()=>Math.ceil(l.value.length/4));function Ye(e){let t=e.target.value.match(/(?:^|\s)@(\w*)$/);t?(O.value=!0,k.value=t[1]):(O.value=!1,k.value=``)}function Xe(e){e.key===`Enter`&&(e.metaKey||e.ctrlKey)&&(e.preventDefault(),$()),e.key===`Escape`&&(O.value=!1)}function Q(e){let t=l.value,n=t.match(/(?:^|\s)@(\w*)$/);if(n){let r=n.index+(n[0].startsWith(` `)?1:0);l.value=t.substring(0,r)+`@`+(e.description||e.name)+` `}O.value=!1,z(()=>F.value?.$el.focus())}function Ze(){R.voice=!R.voice,R.voice&&n({title:`Voice Mode Active`,description:`Listening...`})}function Qe(){n({title:`Upload`,description:`File picker would open here.`})}function $e(e){c.value[e].proposal.applied=!0,n({title:`Changes Applied`,description:`Categorization updated successfully.`})}function et(e){c.value.splice(e,1),n({title:`Proposal Rejected`,variant:`secondary`})}function tt(e){c.value[e].proposal.applied=!1,n({title:`Rolled Back`,description:`Changes have been reverted.`})}async function $(){if(!l.value.trim())return;let e=l.value;l.value=``,O.value=!1,c.value.push({role:`user`,content:e,attachments:[]}),y.value=!0,setTimeout(()=>{if(y.value=!1,e.toLowerCase().includes(`error`)){c.value.push({role:`assistant`,content:`I encountered an issue processing that request. Please try again or check your connection.`,isError:!0});return}c.value.push({role:`assistant`,content:R.reasoning?`Based on my analysis of the transaction data you provided, I've identified a few patterns...`:`Here is the information you requested.`,attachments:[]})},1500)}return(e,t)=>(B(),D(`div`,ge,[E(`div`,_e,[E(`div`,ve,[E(`div`,ye,[V(b(ue),{class:`size-5`})]),t[5]||=E(`div`,null,[E(`h3`,{class:`font-semibold text-sm text-slate-900`},[h(` Simi `),E(`span`,{class:`text-xs text-slate-400`},` - Junior Consultant `)]),E(`p`,{class:`text-xs text-slate-500`},` Hi, press Ctrl + M to see me. `)],-1)])]),V(b(ee),{class:`flex-1 p-4`},{default:A(()=>[E(`div`,be,[c.value.length===0?(B(),D(`div`,xe,[E(`div`,Se,[V(b(m),{class:`h-6 w-6 text-yellow-300`})]),t[8]||=E(`h4`,{class:`font-medium text-slate-800 mb-2`},`How can I help you today?`,-1),t[9]||=E(`p`,{class:`text-sm text-slate-500 mb-6`},`Ask about transactions, analyze spending, or upload documents.`,-1),E(`div`,Ce,[V(b(G),{variant:`outline`,class:`justify-start text-xs h-auto py-2 px-3 text-slate-600`,onClick:t[0]||=e=>l.value=`Analyze my spending this month`},{default:A(()=>[V(b(u),{class:`mr-2 h-3 w-3 text-blue-950`}),t[6]||=h(` Analyze spending `,-1)]),_:1}),V(b(G),{variant:`outline`,class:`justify-start text-xs h-auto py-2 px-3 text-slate-600`,onClick:t[1]||=e=>l.value=`Find suspicious transactions`},{default:A(()=>[V(b(H),{class:`mr-2 h-3 w-3 text-yellow-300`}),t[7]||=h(` Find suspicious transactions `,-1)]),_:1})])])):w(``,!0),(B(!0),D(_,null,j(c.value,(e,n)=>(B(),D(`div`,{key:n,class:f([`flex gap-3`,e.role===`user`?`flex-row-reverse`:``])},[V(b(K),{class:`h-8 w-8 border border-slate-100`},{default:A(()=>[e.role===`assistant`?(B(),p(b(me),{key:0,src:``})):w(``,!0),V(b(q),{class:f(e.role===`assistant`?`bg-stone-100 text-slate-500`:`bg-slate-100 text-slate-600`)},{default:A(()=>[e.role===`assistant`?(B(),p(b(m),{key:0,class:`h-4 w-4`})):(B(),p(b(S),{key:1,class:`h-4 w-4`}))]),_:2},1032,[`class`])]),_:2},1024),E(`div`,{class:f([`flex flex-col max-w-[85%]`,e.role===`user`?`items-end`:`items-start`])},[E(`div`,{class:f([`rounded-2xl px-4 py-2.5 text-sm shadow-sm`,e.role===`user`?`bg-white/30 text-neutral-800 rounded-tr-sm`:`bg-stone-50 border border-slate-100 text-slate-700 rounded-tl-sm`,e.isError?`bg-red-50 border-red-200 text-red-700`:``])},[e.isError?(B(),D(`div`,we,[V(b(g),{class:`h-4 w-4`}),t[10]||=E(`span`,null,`Error`,-1)])):w(``,!0),E(`p`,Te,x(e.content),1)],2),e.attachments?.length?(B(),D(`div`,Ee,[(B(!0),D(_,null,j(e.attachments,e=>(B(),D(`div`,{key:e.id,class:`flex items-center gap-1.5 text-xs bg-white border border-slate-200 rounded-md px-2 py-1 shadow-sm`},[V(b(P),{class:`h-3 w-3 text-blue-500`}),E(`span`,De,x(e.name),1)]))),128))])):w(``,!0),e.role===`assistant`&&e.proposal?(B(),D(`div`,Oe,[E(`div`,ke,[t[11]||=E(`span`,{class:`text-xs font-semibold text-slate-700 uppercase tracking-wider`},`Proposed Change`,-1),V(b(pe),{variant:`outline`,class:`text-[10px]`},{default:A(()=>[h(x(e.proposal.type),1)]),_:2},1024)]),E(`div`,Ae,x(e.proposal.diff),1),e.proposal.applied?(B(),D(`div`,Me,[E(`span`,Ne,[V(b(T),{class:`h-3.5 w-3.5`}),t[14]||=h(` Changes applied successfully `,-1)]),V(b(G),{variant:`ghost`,size:`sm`,class:`h-6 px-2 text-slate-500 hover:text-slate-800 hover:bg-green-100`,onClick:e=>tt(n)},{default:A(()=>[V(b(I),{class:`mr-1.5 h-3 w-3`}),t[15]||=h(` Rollback `,-1)]),_:1},8,[`onClick`])])):(B(),D(`div`,je,[V(b(G),{size:`sm`,class:`h-7 text-xs bg-blue-600 hover:bg-green-700 text-white`,onClick:e=>$e(n)},{default:A(()=>[V(b(ae),{class:`mr-1.5 h-3 w-3`}),t[12]||=h(` Accept Changes `,-1)]),_:1},8,[`onClick`]),V(b(G),{size:`sm`,variant:`outline`,class:`h-7 text-xs`,onClick:e=>et(n)},{default:A(()=>[V(b(le),{class:`mr-1.5 h-3 w-3`}),t[13]||=h(` Reject `,-1)]),_:1},8,[`onClick`])]))])):w(``,!0),e.role===`assistant`&&e.actions&&!e.proposal?(B(),D(`div`,Pe,[(B(!0),D(_,null,j(e.actions,e=>(B(),p(b(G),{key:e.label,variant:`outline`,size:`sm`,class:`h-7 text-xs bg-white`},{default:A(()=>[(B(),p(M(e.icon),{class:`mr-1.5 h-3 w-3`})),h(` `+x(e.label),1)]),_:2},1024))),128))])):w(``,!0)],2)],2))),128)),y.value?(B(),D(`div`,Fe,[V(b(K),{class:`h-8 w-8`},{default:A(()=>[V(b(q),{class:`bg-blue-600 text-white`},{default:A(()=>[V(b(m),{class:`h-4 w-4`})]),_:1})]),_:1}),E(`div`,Ie,[V(b(de),{class:`h-3 w-3 animate-spin text-blue-500`}),t[16]||=E(`span`,{"classF,":``,"User,":``,F:`animate-pulse`},`Reasoning...`,-1)])])):w(``,!0)])]),_:1}),E(`div`,Le,[E(`div`,Re,[O.value?(B(),D(`div`,ze,[V(b(r),null,{default:A(()=>[V(b(i),{class:`max-h-[200px]`},{default:A(()=>[V(b(s),null,{default:A(()=>[...t[17]||=[h(`No results found.`,-1)]]),_:1}),V(b(a),{heading:`Transactions`},{default:A(()=>[(B(!0),D(_,null,j(Y.value,e=>(B(),p(b(o),{key:e.id,value:e.id,onSelect:t=>Q(e),class:`cursor-pointer`},{default:A(()=>[V(b(re),{class:`mr-2 h-4 w-4 text-slate-400`}),E(`div`,Be,[E(`span`,Ve,x(e.description),1),E(`span`,He,x(e.amount)+` • `+x(e.date),1)])]),_:2},1032,[`value`,`onSelect`]))),128))]),_:1}),V(b(a),{heading:`Files`},{default:A(()=>[(B(!0),D(_,null,j(X.value,e=>(B(),p(b(o),{key:e.id,value:e.id,onSelect:t=>Q(e),class:`cursor-pointer`},{default:A(()=>[V(b(N),{class:`mr-2 h-4 w-4 text-blue-400`}),E(`span`,null,x(e.name),1)]),_:2},1032,[`value`,`onSelect`]))),128))]),_:1})]),_:1})]),_:1})])):w(``,!0),E(`div`,Ue,[V(b(fe),{ref_key:`inputRef`,ref:F,modelValue:l.value,"onUpdate:modelValue":t[2]||=e=>l.value=e,placeholder:`Ask anything... (Type @ to reference)`,class:`min-h-[60px] w-full resize-none border-0 bg-transparent p-3 text-sm focus-visible:ring-0 placeholder:text-slate-400`,onKeydown:Xe,onInput:Ye},null,8,[`modelValue`]),E(`div`,We,[E(`div`,Ge,[E(`div`,Ke,[V(b(he),{id:`reasoning-mode`,checked:R.reasoning,"onUpdate:checked":t[3]||=e=>R.reasoning=e,class:`scale-75`},null,8,[`checked`]),t[18]||=E(`label`,{for:`reasoning-mode`,class:`text-[10px] font-medium text-slate-600 cursor-pointer select-none`},`Reasoning`,-1)]),V(b(G),{variant:`ghost`,size:`sm`,class:f([`h-7 w-7 rounded-full p-0 transition-colors`,R.web?`bg-blue-100 text-blue-700 hover:bg-blue-200`:`text-slate-400 hover:bg-slate-100 hover:text-slate-600`]),onClick:t[4]||=e=>R.web=!R.web,title:`Web Search`},{default:A(()=>[V(b(ce),{class:`h-3.5 w-3.5`})]),_:1},8,[`class`]),V(b(G),{variant:`ghost`,size:`sm`,class:`h-7 w-7 rounded-full p-0 text-slate-400 hover:bg-slate-100 hover:text-slate-600`,onClick:Qe,title:`Upload File`},{default:A(()=>[V(b(te),{class:`h-3.5 w-3.5`})]),_:1}),V(b(G),{variant:`ghost`,size:`sm`,class:f([`h-7 w-7 rounded-full p-0 transition-colors`,R.voice?`text-red-500 bg-red-50 hover:bg-red-100`:`text-slate-400 hover:bg-slate-100 hover:text-slate-600`]),onClick:Ze,title:`Voice Mode`},{default:A(()=>[V(b(L),{class:`h-3.5 w-3.5`})]),_:1},8,[`class`])]),V(b(G),{size:`sm`,disabled:!l.value.trim()&&!y.value,class:`h-8 w-8 rounded-full p-0 bg-blue-950 hover:bg-blue-900 text-white shadow-md transition-all`,onClick:$},{default:A(()=>[V(b(oe),{class:`h-4 w-4`})]),_:1},8,[`disabled`])])])]),E(`div`,J,[E(`div`,qe,[V(ie,{"enter-active-class":`transition-all duration-300 ease-out`,"leave-active-class":`transition-all duration-300 ease-in`,"enter-from-class":`opacity-0 -translate-x-2`,"leave-to-class":`opacity-0 -translate-x-2`},{default:A(()=>[Z.value>0?(B(),D(`div`,Je,[t[19]||=E(`div`,{class:`h-1.5 w-1.5 rounded-full bg-blue-500`},null,-1),h(` `+x(Z.value)+` tokens `,1)])):w(``,!0)]),_:1})]),t[20]||=E(`div`,{class:`text-[10px] text-slate-400 font-medium`},` ⌘ + Enter to send `,-1)])])]))}},X=F(Y,[[`__scopeId`,`data-v-b2fa224f`]]);export{X as t};