import{n as e,r as t,t as n}from"./AvatarImage-87481pui.js";import{c as r,n as i,o as a,r as o,s as ee}from"./command-BCKlDZ9B.js";import{t as te}from"./ScrollArea-Rj5BlxFS.js";import{n as s,t as c}from"./SwitchThumb-CiAAFwgl.js";import{$n as l,At as ne,Bi as u,Bt as d,Ea as re,Fa as f,Hi as p,J as m,Ki as h,Kn as g,Li as _,Mn as ie,Oa as v,Oi as ae,Or as y,Pa as b,Qn as x,Ra as S,T as C,Tn as w,Ui as T,Un as E,Vi as D,Wi as O,Wr as k,Yi as A,_r as oe,a as se,b as ce,ba as j,ca as M,da as le,fn as N,i as P,it as F,k as I,la as L,na as R,oa as z,on as B,pn as V,qi as H,ta as U,wi as W,wt as ue,xn as de}from"./index-HKVTK5TI.js";import{n as G}from"./button-qjQ8nOQL.js";import{t as fe}from"./Textarea-D0dUVatV.js";import{t as pe}from"./badge-BVbEvoAF.js";var K=A({__name:`Avatar`,props:{class:{}},setup(e){let n=e;return(e,r)=>(z(),p(b(t),{"data-slot":`avatar`,class:f(b(y)(`relative flex size-8 shrink-0 overflow-hidden rounded-full`,n.class))},{default:j(()=>[L(e.$slots,`default`)]),_:3},8,[`class`]))}}),q=A({__name:`AvatarFallback`,props:{delayMs:{},asChild:{type:Boolean},as:{},class:{}},setup(t){let n=t,r=W(n,`class`);return(t,i)=>(z(),p(b(e),U({"data-slot":`avatar-fallback`},b(r),{class:b(y)(`bg-muted flex size-full items-center justify-center rounded-full`,n.class)}),{default:j(()=>[L(t.$slots,`default`)]),_:3},16,[`class`]))}}),me=A({__name:`AvatarImage`,props:{src:{},referrerPolicy:{},crossOrigin:{},asChild:{type:Boolean},as:{}},setup(e){let t=e;return(e,r)=>(z(),p(b(n),U({"data-slot":`avatar-image`},t,{class:`aspect-square size-full`}),{default:j(()=>[L(e.$slots,`default`)]),_:3},16))}}),he=A({__name:`Switch`,props:{defaultValue:{type:Boolean},modelValue:{type:[Boolean,null]},disabled:{type:Boolean},id:{},value:{},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean},class:{}},emits:[`update:modelValue`],setup(e,{emit:t}){let n=e,r=t,i=W(n,`class`),a=k(i,r);return(e,t)=>(z(),p(b(s),U({"data-slot":`switch`},b(a),{class:b(y)(`peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50`,n.class)}),{default:j(()=>[H(b(c),{"data-slot":`switch-thumb`,class:f(b(y)(`bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0`))},{default:j(()=>[L(e.$slots,`thumb`)]),_:3},8,[`class`])]),_:3},16,[`class`]))}}),ge={class:`flex flex-col h-full bg-stone-50`},_e={class:`p-4 border-b border-white flex items-center justify-between bg-white/20`},ve={class:`flex items-center gap-2`},ye={class:`h-8 w-8 rounded-full bg-stone-100 flex items-center justify-center text-blue-800 border border-slate-400`},be={class:`space-y-6`},xe={key:0,class:`text-center py-10 px-4`},Se={class:`bg-stone-100 h-12 w-12 rounded-full flex items-center justify-center mx-auto mb-4`},Ce={class:`grid grid-cols-1 gap-2 max-w-xs mx-auto`},we={key:0,class:`flex items-center gap-2 mb-1 text-red-600 font-medium`},Te={class:`leading-relaxed whitespace-pre-wrap`},Ee={key:0,class:`mt-2 flex flex-wrap gap-2`},De={class:`font-medium text-slate-700`},Oe={key:1,class:`mt-3 w-full bg-stone-50 border border-slate-200 rounded-lg p-3 shadow-sm`},ke={class:`flex items-center justify-between mb-2`},Ae={class:`text-sm text-slate-600 bg-slate-50 p-2 rounded border border-slate-100 mb-3 font-mono text-xs`},je={key:0,class:`flex gap-2`},Me={key:1,class:`flex items-center justify-between bg-green-50 text-blue-700 px-3 py-1.5 rounded text-xs`},Ne={class:`flex items-center gap-1.5`},Pe={key:2,class:`mt-2 flex gap-2`},Fe={key:1,class:`flex gap-3`},Ie={class:`bg-white border border-blue-100 rounded-2xl rounded-tl-sm px-4 py-3 text-sm text-slate-500 flex items-center gap-2 shadow-sm`},Le={class:`p-4 border-t bg-slate-50/50`},Re={class:`relative group`},ze={key:0,class:`absolute Sparklestom-full left-0 w-72 mb-2 bg-white border border-slate-200 rounded-xl shadow-xl overflow-hidden z-20 animate-in fade-in slide-in-from-Sparklestom-2`},Be={class:`flex flex-col`},Ve={class:`font-medium`},He={class:`text-xs text-slate-400`},Ue={class:`bg-white border border-slate-200 rounded-2xl shadow-sm focus-within:ring-2 focus-within:ring-blue-500/20 focus-within:border-blue-500 transition-all`},We={class:`flex justify-between items-center px-2 pb-2`},Ge={class:`flex items-center gap-1`},Ke={class:`flex items-center gap-2 bg-slate-50 border border-slate-100 rounded-full pl-1 pr-2 py-0.5`},J={class:`flex justify-between items-center px-1`},qe={class:`h-5 overflow-hidden flex items-center mt-1`},Je={key:0,class:`flex items-center gap-1.5 text-[10px] text-slate-400 font-medium bg-slate-100 px-2 py-0.5 rounded-full`},Y={__name:`AccountAssistant`,props:{account:Object,context:Object},setup(e){let t=e;u(()=>({activeTab:t.context?.tab,tabType:t.context?.tab?.type,tabData:t.context?.tab?.data,account:t.account}));let n=se().toast,s=v([{role:`assistant`,content:`I noticed a spike in software subscription costs this month. Would you like me to break it down?`,attachments:[],actions:[{label:`Break it down`,icon:l},{label:`Ignore`,icon:w}]},{role:`assistant`,content:`I found a recurring transaction that seems miscategorized. Should I update "AWS Web Services" to "Infrastructure"?`,proposal:{type:`Categorization`,diff:`- Category: Uncategorized
+ Category: Infrastructure`,applied:!1}}]),c=v(``),y=v(!1),k=v(!1),A=v(``),P=v(null),L=re({reasoning:!1,web:!1,voice:!1}),U=[{id:`t1`,description:`AWS Web Services`,amount:`-$240.00`,date:`Today`},{id:`t2`,description:`Github Enterprise`,amount:`-$25.00`,date:`Yesterday`},{id:`t3`,description:`Slack Technologies`,amount:`-$12.50`,date:`Oct 24`}],W=[{id:`f1`,name:`Invoice_OCT_2024.pdf`},{id:`f2`,name:`Q3_Financial_Report.xlsx`}],Y=u(()=>{if(!A.value)return U;let e=A.value.toLowerCase();return U.filter(t=>t.description.toLowerCase().includes(e))}),X=u(()=>{if(!A.value)return W;let e=A.value.toLowerCase();return W.filter(t=>t.name.toLowerCase().includes(e))}),Z=u(()=>Math.ceil(c.value.length/4));function Ye(e){let t=e.target.value.match(/(?:^|\s)@(\w*)$/);t?(k.value=!0,A.value=t[1]):(k.value=!1,A.value=``)}function Xe(e){e.key===`Enter`&&(e.metaKey||e.ctrlKey)&&(e.preventDefault(),$()),e.key===`Escape`&&(k.value=!1)}function Q(e){let t=c.value,n=t.match(/(?:^|\s)@(\w*)$/);if(n){let r=n.index+(n[0].startsWith(` `)?1:0);c.value=t.substring(0,r)+`@`+(e.description||e.name)+` `}k.value=!1,R(()=>P.value?.$el.focus())}function Ze(){L.voice=!L.voice,L.voice&&n({title:`Voice Mode Active`,description:`Listening...`})}function Qe(){n({title:`Upload`,description:`File picker would open here.`})}function $e(e){s.value[e].proposal.applied=!0,n({title:`Changes Applied`,description:`Categorization updated successfully.`})}function et(e){s.value.splice(e,1),n({title:`Proposal Rejected`,variant:`secondary`})}function tt(e){s.value[e].proposal.applied=!1,n({title:`Rolled Back`,description:`Changes have been reverted.`})}async function $(){if(!c.value.trim())return;let e=c.value;c.value=``,k.value=!1,s.value.push({role:`user`,content:e,attachments:[]}),y.value=!0,setTimeout(()=>{if(y.value=!1,e.toLowerCase().includes(`error`)){s.value.push({role:`assistant`,content:`I encountered an issue processing that request. Please try again or check your connection.`,isError:!0});return}s.value.push({role:`assistant`,content:L.reasoning?`Based on my analysis of the transaction data you provided, I've identified a few patterns...`:`Here is the information you requested.`,attachments:[]})},1500)}return(e,t)=>(z(),O(`div`,ge,[D(`div`,_e,[D(`div`,ve,[D(`div`,ye,[H(b(de),{class:`size-5`})]),t[5]||=D(`div`,null,[D(`h3`,{class:`font-semibold text-sm text-slate-900`},[h(` Simi `),D(`span`,{class:`text-xs text-slate-400`},` - Junior Consultant `)]),D(`p`,{class:`text-xs text-slate-500`},` Hi, press Ctrl + M to see me. `)],-1)])]),H(b(te),{class:`flex-1 p-4`},{default:j(()=>[D(`div`,be,[s.value.length===0?(z(),O(`div`,xe,[D(`div`,Se,[H(b(m),{class:`h-6 w-6 text-yellow-300`})]),t[8]||=D(`h4`,{class:`font-medium text-slate-800 mb-2`},`How can I help you today?`,-1),t[9]||=D(`p`,{class:`text-sm text-slate-500 mb-6`},`Ask about transactions, analyze spending, or upload documents.`,-1),D(`div`,Ce,[H(b(G),{variant:`outline`,class:`justify-start text-xs h-auto py-2 px-3 text-slate-600`,onClick:t[0]||=e=>c.value=`Analyze my spending this month`},{default:j(()=>[H(b(l),{class:`mr-2 h-3 w-3 text-blue-950`}),t[6]||=h(` Analyze spending `,-1)]),_:1}),H(b(G),{variant:`outline`,class:`justify-start text-xs h-auto py-2 px-3 text-slate-600`,onClick:t[1]||=e=>c.value=`Find suspicious transactions`},{default:j(()=>[H(b(F),{class:`mr-2 h-3 w-3 text-yellow-300`}),t[7]||=h(` Find suspicious transactions `,-1)]),_:1})])])):T(``,!0),(z(!0),O(_,null,M(s.value,(e,n)=>(z(),O(`div`,{key:n,class:f([`flex gap-3`,e.role===`user`?`flex-row-reverse`:``])},[H(b(K),{class:`h-8 w-8 border border-slate-100`},{default:j(()=>[e.role===`assistant`?(z(),p(b(me),{key:0,src:``})):T(``,!0),H(b(q),{class:f(e.role===`assistant`?`bg-stone-100 text-slate-500`:`bg-slate-100 text-slate-600`)},{default:j(()=>[e.role===`assistant`?(z(),p(b(m),{key:0,class:`h-4 w-4`})):(z(),p(b(C),{key:1,class:`h-4 w-4`}))]),_:2},1032,[`class`])]),_:2},1024),D(`div`,{class:f([`flex flex-col max-w-[85%]`,e.role===`user`?`items-end`:`items-start`])},[D(`div`,{class:f([`rounded-2xl px-4 py-2.5 text-sm shadow-sm`,e.role===`user`?`bg-white/30 text-neutral-800 rounded-tr-sm`:`bg-stone-50 border border-slate-100 text-slate-700 rounded-tl-sm`,e.isError?`bg-red-50 border-red-200 text-red-700`:``])},[e.isError?(z(),O(`div`,we,[H(b(g),{class:`h-4 w-4`}),t[10]||=D(`span`,null,`Error`,-1)])):T(``,!0),D(`p`,Te,S(e.content),1)],2),e.attachments?.length?(z(),O(`div`,Ee,[(z(!0),O(_,null,M(e.attachments,e=>(z(),O(`div`,{key:e.id,class:`flex items-center gap-1.5 text-xs bg-white border border-slate-200 rounded-md px-2 py-1 shadow-sm`},[H(b(V),{class:`h-3 w-3 text-blue-500`}),D(`span`,De,S(e.name),1)]))),128))])):T(``,!0),e.role===`assistant`&&e.proposal?(z(),O(`div`,Oe,[D(`div`,ke,[t[11]||=D(`span`,{class:`text-xs font-semibold text-slate-700 uppercase tracking-wider`},`Proposed Change`,-1),H(b(pe),{variant:`outline`,class:`text-[10px]`},{default:j(()=>[h(S(e.proposal.type),1)]),_:2},1024)]),D(`div`,Ae,S(e.proposal.diff),1),e.proposal.applied?(z(),O(`div`,Me,[D(`span`,Ne,[H(b(E),{class:`h-3.5 w-3.5`}),t[14]||=h(` Changes applied successfully `,-1)]),H(b(G),{variant:`ghost`,size:`sm`,class:`h-6 px-2 text-slate-500 hover:text-slate-800 hover:bg-green-100`,onClick:e=>tt(n)},{default:j(()=>[H(b(I),{class:`mr-1.5 h-3 w-3`}),t[15]||=h(` Rollback `,-1)]),_:1},8,[`onClick`])])):(z(),O(`div`,je,[H(b(G),{size:`sm`,class:`h-7 text-xs bg-blue-600 hover:bg-green-700 text-white`,onClick:e=>$e(n)},{default:j(()=>[H(b(x),{class:`mr-1.5 h-3 w-3`}),t[12]||=h(` Accept Changes `,-1)]),_:1},8,[`onClick`]),H(b(G),{size:`sm`,variant:`outline`,class:`h-7 text-xs`,onClick:e=>et(n)},{default:j(()=>[H(b(ce),{class:`mr-1.5 h-3 w-3`}),t[13]||=h(` Reject `,-1)]),_:1},8,[`onClick`])]))])):T(``,!0),e.role===`assistant`&&e.actions&&!e.proposal?(z(),O(`div`,Pe,[(z(!0),O(_,null,M(e.actions,e=>(z(),p(b(G),{key:e.label,variant:`outline`,size:`sm`,class:`h-7 text-xs bg-white`},{default:j(()=>[(z(),p(le(e.icon),{class:`mr-1.5 h-3 w-3`})),h(` `+S(e.label),1)]),_:2},1024))),128))])):T(``,!0)],2)],2))),128)),y.value?(z(),O(`div`,Fe,[H(b(K),{class:`h-8 w-8`},{default:j(()=>[H(b(q),{class:`bg-blue-600 text-white`},{default:j(()=>[H(b(m),{class:`h-4 w-4`})]),_:1})]),_:1}),D(`div`,Ie,[H(b(d),{class:`h-3 w-3 animate-spin text-blue-500`}),t[16]||=D(`span`,{"classF,":``,"User,":``,F:`animate-pulse`},`Reasoning...`,-1)])])):T(``,!0)])]),_:1}),D(`div`,Le,[D(`div`,Re,[k.value?(z(),O(`div`,ze,[H(b(r),null,{default:j(()=>[H(b(i),{class:`max-h-[200px]`},{default:j(()=>[H(b(ee),null,{default:j(()=>[...t[17]||=[h(`No results found.`,-1)]]),_:1}),H(b(a),{heading:`Transactions`},{default:j(()=>[(z(!0),O(_,null,M(Y.value,e=>(z(),p(b(o),{key:e.id,value:e.id,onSelect:t=>Q(e),class:`cursor-pointer`},{default:j(()=>[H(b(ie),{class:`mr-2 h-4 w-4 text-slate-400`}),D(`div`,Be,[D(`span`,Ve,S(e.description),1),D(`span`,He,S(e.amount)+` • `+S(e.date),1)])]),_:2},1032,[`value`,`onSelect`]))),128))]),_:1}),H(b(a),{heading:`Files`},{default:j(()=>[(z(!0),O(_,null,M(X.value,e=>(z(),p(b(o),{key:e.id,value:e.id,onSelect:t=>Q(e),class:`cursor-pointer`},{default:j(()=>[H(b(N),{class:`mr-2 h-4 w-4 text-blue-400`}),D(`span`,null,S(e.name),1)]),_:2},1032,[`value`,`onSelect`]))),128))]),_:1})]),_:1})]),_:1})])):T(``,!0),D(`div`,Ue,[H(b(fe),{ref_key:`inputRef`,ref:P,modelValue:c.value,"onUpdate:modelValue":t[2]||=e=>c.value=e,placeholder:`Ask anything... (Type @ to reference)`,class:`min-h-[60px] w-full resize-none border-0 bg-transparent p-3 text-sm focus-visible:ring-0 placeholder:text-slate-400`,onKeydown:Xe,onInput:Ye},null,8,[`modelValue`]),D(`div`,We,[D(`div`,Ge,[D(`div`,Ke,[H(b(he),{id:`reasoning-mode`,checked:L.reasoning,"onUpdate:checked":t[3]||=e=>L.reasoning=e,class:`scale-75`},null,8,[`checked`]),t[18]||=D(`label`,{for:`reasoning-mode`,class:`text-[10px] font-medium text-slate-600 cursor-pointer select-none`},`Reasoning`,-1)]),H(b(G),{variant:`ghost`,size:`sm`,class:f([`h-7 w-7 rounded-full p-0 transition-colors`,L.web?`bg-blue-100 text-blue-700 hover:bg-blue-200`:`text-slate-400 hover:bg-slate-100 hover:text-slate-600`]),onClick:t[4]||=e=>L.web=!L.web,title:`Web Search`},{default:j(()=>[H(b(B),{class:`h-3.5 w-3.5`})]),_:1},8,[`class`]),H(b(G),{variant:`ghost`,size:`sm`,class:`h-7 w-7 rounded-full p-0 text-slate-400 hover:bg-slate-100 hover:text-slate-600`,onClick:Qe,title:`Upload File`},{default:j(()=>[H(b(ue),{class:`h-3.5 w-3.5`})]),_:1}),H(b(G),{variant:`ghost`,size:`sm`,class:f([`h-7 w-7 rounded-full p-0 transition-colors`,L.voice?`text-red-500 bg-red-50 hover:bg-red-100`:`text-slate-400 hover:bg-slate-100 hover:text-slate-600`]),onClick:Ze,title:`Voice Mode`},{default:j(()=>[H(b(ne),{class:`h-3.5 w-3.5`})]),_:1},8,[`class`])]),H(b(G),{size:`sm`,disabled:!c.value.trim()&&!y.value,class:`h-8 w-8 rounded-full p-0 bg-blue-950 hover:bg-blue-900 text-white shadow-md transition-all`,onClick:$},{default:j(()=>[H(b(oe),{class:`h-4 w-4`})]),_:1},8,[`disabled`])])])]),D(`div`,J,[D(`div`,qe,[H(ae,{"enter-active-class":`transition-all duration-300 ease-out`,"leave-active-class":`transition-all duration-300 ease-in`,"enter-from-class":`opacity-0 -translate-x-2`,"leave-to-class":`opacity-0 -translate-x-2`},{default:j(()=>[Z.value>0?(z(),O(`div`,Je,[t[19]||=D(`div`,{class:`h-1.5 w-1.5 rounded-full bg-blue-500`},null,-1),h(` `+S(Z.value)+` tokens `,1)])):T(``,!0)]),_:1})]),t[20]||=D(`div`,{class:`text-[10px] text-slate-400 font-medium`},` ⌘ + Enter to send `,-1)])])]))}},X=P(Y,[[`__scopeId`,`data-v-b2fa224f`]]);export{X as t};