import"./useFormControl-BoSoz5bk.js";import"./nullish-CfjOSA4G.js";import"./CheckboxIndicator-Cu1vLZmL.js";import"./ConfigProvider-BeNpEDZu.js";import"./useDirection-CkCaHLjJ.js";import"./useId-C9uHTJK1.js";import"./utils-d0L3vlW4.js";import"./RovingFocusGroup-Dae6_7oN.js";import"./RovingFocusItem-h4PGPL5z.js";import"./VisuallyHiddenInput-Cr3vcfNb.js";import"./Label-BQWlwCJI.js";import{Aa as e,Bi as t,Gi as n,Hi as r,It as i,Li as a,Ni as o,Pa as s,Ri as c,U as l,Ui as u,a as d,ga as f,gn as p,i as m,ia as h,ja as g,na as _,o as v,r as y,tt as b,wa as x,x as S}from"./index-BW6FH5S4.js";import{t as C}from"./Input-AKTRhZx5.js";import{t as w}from"./button-BIS6kOZQ.js";import{t as T}from"./BackgroundAnimation-D58OrQ52.js";import{t as E}from"./Card-DL4aOVo_.js";import{t as D}from"./CardContent-DCQKa7iN.js";import{n as O,r as k,t as A}from"./CardTitle-DOurhy1D.js";import{t as j}from"./Label-CWz-ReQU.js";import{t as M}from"./Textarea-DDsE0ukV.js";import{t as N}from"./badge-DeOd_cPn.js";import{t as P}from"./Checkbox-x25APZEJ.js";var F={createFeedback(e){return v.post(`/feedback`,{data:e})}},I={class:`fixed w-full h-full overflow-y-scroll bg-[radial-gradient(ellipse_at_bottom,_var(--tw-gradient-stops))] from-slate-950/95 to-slate-900 from-5% scrollbar-hide`},L={class:`py-20`},R={key:0,class:`p-4 mb-6 text-sm text-green-800 bg-green-50 rounded-lg border border-green-200`},z={key:1},B={class:`mb-6`},V={class:`flex flex-row gap-2 w-full overflow-x-scroll`,style:{"scrollbar-width":`none`}},H={class:`mb-6`},U={class:`mb-6`},W={class:`flex items-start space-x-2 mb-6 p-4 bg-muted/30 rounded-lg`},G={class:`grid gap-1.5`},K={class:`flex gap-3`},q=m(n({__name:`Feedback`,setup(n){let m=x({rating:null,message:``,email:``,allowContact:!1}),v=x(!1),q=x(!1),J=d(),Y=[{value:1,label:`Very Poor`},{value:2,label:`Poor`},{value:3,label:`Average`},{value:4,label:`Good`},{value:5,label:`Excellent`}],X=async()=>{if(!(!m.value.rating||!m.value.message.trim())){v.value=!0;try{await F.createFeedback(m.value),q.value=!0,J.toast({message:`Thank you for your feedback!`,variant:`success`,duration:5e3})}catch{J.toast({message:`Failed to submit feedback. Please try again.`,variant:`error`,duration:5e3})}finally{v.value=!1}}},Z=()=>{m.value={rating:null,message:``,email:``,allowContact:!1},q.value=!1},Q=y(),$=()=>{try{return Q.back()}catch{Q.push(`/`)}};return(n,d)=>(_(),t(`div`,I,[u(T),a(`div`,L,[u(e(E),{class:`w-11/12 max-w-2xl mx-auto relative border-white border-8 bg-stone-50`},{default:f(()=>[d[15]||=a(`div`,{class:`absolute`},null,-1),a(`span`,{onClick:$,class:`absolute z-50 right-1.5 top-1 border border-slate-200 p-1 cursor-pointer bg-white rounded-full ring-offset-background transition-opacity hover:border-slate-500 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none bg-accent text-muted-foreground`},[u(e(S),{class:`w-4 h-4`}),d[3]||=a(`span`,{class:`sr-only`},`Close`,-1)]),u(e(O),null,{default:f(()=>[u(e(A),{class:`flex items-center gap-2`},{default:f(()=>[u(e(p),{class:`w-5 h-5`}),d[4]||=r(` Product Feedback `,-1)]),_:1}),u(e(k),null,{default:f(()=>[...d[5]||=[r(` Help us improve Seamlessly by sharing your thoughts and experience with us. `,-1)]]),_:1})]),_:1}),u(e(D),null,{default:f(()=>[q.value?(_(),t(`div`,R,[...d[6]||=[a(`div`,{class:`flex items-center gap-2`},[a(`span`,{class:`font-medium`},`Thank you for your feedback!`)],-1),a(`p`,{class:`mt-1 text-green-700`},` We appreciate you taking the time to help us improve. `,-1)]])):(_(),t(`div`,z,[a(`div`,B,[u(e(j),{class:`text-sm font-medium mb-3 block`},{default:f(()=>[...d[7]||=[r(` How would you rate your experience? * `,-1)]]),_:1}),a(`div`,V,[(_(),t(o,null,h(Y,t=>u(e(w),{key:t.value,type:`button`,variant:`outline`,size:`sm`,class:g([`flex items-center gap-2 transition-all pe-1 rounded-full`,m.value.rating===t.value?`bg-primary text-primary-foreground border-primary`:`hover:bg-accent`]),onClick:e=>m.value.rating=t.value},{default:f(()=>[u(e(l),{class:g([`w-4 h-4`,m.value.rating===t.value?`fill-current`:``])},null,8,[`class`]),r(` `+s(t.value)+` `,1),u(e(N),{variant:`secondary`,class:g([`ml-1 text-xs`,m.value.rating===t.value?`bg-primary-foreground text-primary`:``])},{default:f(()=>[r(s(t.label),1)]),_:2},1032,[`class`])]),_:2},1032,[`class`,`onClick`])),64))])]),a(`div`,H,[u(e(j),{for:`feedback-message`,class:`text-sm font-medium mb-3 block`},{default:f(()=>[...d[8]||=[r(` Your Feedback * `,-1)]]),_:1}),u(e(M),{id:`feedback-message`,modelValue:m.value.message,"onUpdate:modelValue":d[0]||=e=>m.value.message=e,placeholder:`What did you like? What can we improve? Any specific features you'd like to see?`,class:`min-h-[120px] resize-vertical rounded-sm`,disabled:v.value},null,8,[`modelValue`,`disabled`])]),a(`div`,U,[u(e(j),{for:`email`,class:`text-sm font-medium mb-3 block`},{default:f(()=>[...d[9]||=[r(` Email Address (Optional) `,-1)]]),_:1}),u(e(C),{id:`email`,modelValue:m.value.email,"onUpdate:modelValue":d[1]||=e=>m.value.email=e,type:`email`,placeholder:`your.email@example.com`,class:`rounded-full`,disabled:v.value},null,8,[`modelValue`,`disabled`]),d[10]||=a(`p`,{class:`text-xs text-muted-foreground mt-2`},` We'll only use this to follow up on your feedback if you allow contact. `,-1)]),a(`div`,W,[u(e(P),{id:`allow-contact`,checked:m.value.allowContact,"onUpdate:checked":d[2]||=e=>m.value.allowContact=e,disabled:v.value},null,8,[`checked`,`disabled`]),a(`div`,G,[u(e(j),{for:`allow-contact`,class:`text-sm font-medium cursor-pointer`},{default:f(()=>[...d[11]||=[r(` Allow us to contact you about this feedback `,-1)]]),_:1}),d[12]||=a(`p`,{class:`text-xs text-muted-foreground`},` If checked, we may reach out to you via email to learn more about your experience and discuss how we can improve. `,-1)])]),a(`div`,K,[u(e(w),{type:`submit`,disabled:!m.value.rating||!m.value.message.trim()||v.value,class:`flex-1 rounded-full`,onClick:X},{default:f(()=>[v.value?(_(),c(e(i),{key:0,class:`w-4 h-4 mr-2 animate-spin`})):(_(),c(e(b),{key:1,class:`w-4 h-4 mr-2`})),r(` `+s(v.value?`Submitting...`:`Submit Feedback`),1)]),_:1},8,[`disabled`]),u(e(w),{class:`rounded-full`,type:`button`,variant:`outline`,disabled:v.value,onClick:Z},{default:f(()=>[...d[13]||=[r(` Reset `,-1)]]),_:1},8,[`disabled`])]),d[14]||=a(`div`,{class:`mt-4 p-3 bg-muted/20 rounded-lg`},[a(`p`,{class:`text-xs text-muted-foreground`},[a(`strong`,null,`Note:`),r(` Fields marked with * are required. Your feedback helps us understand what's working well and where we can improve. `)])],-1)]))]),_:1})]),_:1})])]))}}),[[`__scopeId`,`data-v-99edabbc`]]);export{q as default};