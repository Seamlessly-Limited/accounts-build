import{Ki as e,Kn as t,Li as n,Oa as r,Pa as i,Ra as a,Ui as o,Un as s,Vi as c,Wi as l,ca as u,ia as d,n as f,o as p,oa as m,pn as h,qi as g}from"./index-Caanq2Pw.js";var _={class:`min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8 font-sans`},v={class:`sm:mx-auto sm:w-full sm:max-w-3xl`},y={key:0,class:`bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10 text-center`},b={key:1,class:`bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10 text-center`},x={class:`mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100 mb-4`},S={class:`mt-2 text-sm text-gray-500`},C={key:2,class:`bg-white shadow sm:rounded-lg overflow-hidden`},w={class:`px-4 py-5 sm:px-6 bg-gray-50 border-b border-gray-200 flex justify-between items-center`},T={class:`text-lg leading-6 font-medium text-gray-900 flex items-center gap-2`},E={class:`flex items-center gap-3`},D=[`href`],O={class:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800`},k={class:`border-t border-gray-200 px-4 py-5 sm:p-0`},A={key:0,class:`p-4 bg-blue-50 border-b border-blue-100`},j={class:`flex`},M={class:`flex-shrink-0`},N={class:`ml-3`},P={class:`mt-2 text-sm text-blue-700`},F={class:`mt-2`},I=[`href`],L={class:`sm:divide-y sm:divide-gray-200`},R={key:0,class:`py-4 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6 hover:bg-gray-50 transition-colors`},z={class:`text-sm font-medium text-gray-500`},B={class:`mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2 break-words`},V={__name:`PublicDocView`,setup(V){let H=f(),U=r(!0),W=r(null),G=r(null),K=r(null),q=async()=>{U.value=!0,W.value=null;try{let e=H.params.token,t=await p.get(`/public/d/${e}`,{authorizeRequest:!1});t&&t.flag===`SUCCESS`?(G.value=t.data,K.value=t.meta):W.value=t?.message||`Failed to load document`}catch(e){console.error(e),W.value=e.response?.data?.message||`Invalid or expired link`}finally{U.value=!1}};d(()=>{q()});let J=e=>e.replace(/_/g,` `).replace(/\b\w/g,e=>e.toUpperCase()),Y=e=>[`name`,`owner`,`creation`,`modified`,`modified_by`,`docstatus`,`parent`,`parentfield`,`parenttype`,`idx`,`payment_link`].includes(e);return(r,d)=>(m(),l(`div`,_,[c(`div`,v,[d[7]||=c(`div`,{class:`text-center mb-8`},[c(`img`,{class:`mx-auto h-12 w-auto filter grayscale opacity-80`,src:`/img/logo.png`,alt:`Seamlessly`})],-1),U.value?(m(),l(`div`,y,[...d[0]||=[c(`div`,{class:`animate-pulse flex flex-col items-center`},[c(`div`,{class:`h-12 w-12 bg-gray-200 rounded-full mb-4`}),c(`div`,{class:`h-4 w-48 bg-gray-200 rounded mb-2`}),c(`div`,{class:`h-3 w-32 bg-gray-200 rounded`})],-1)]])):W.value?(m(),l(`div`,b,[c(`div`,x,[g(i(t),{class:`h-6 w-6 text-red-600`})]),d[1]||=c(`h3`,{class:`text-lg leading-6 font-medium text-gray-900`},`Access Denied`,-1),c(`p`,S,a(W.value),1)])):(m(),l(`div`,C,[c(`div`,w,[c(`div`,null,[c(`h3`,T,[g(i(h),{class:`h-5 w-5 text-gray-400`}),e(` `+a(G.value.name),1)]),d[2]||=c(`p`,{class:`mt-1 max-w-2xl text-sm text-gray-500`},` Shared Document `,-1)]),c(`div`,E,[G.value.payment_link?(m(),l(`a`,{key:0,href:G.value.payment_link,target:`_blank`,class:`inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500`},` Pay Now `,8,D)):o(``,!0),c(`span`,O,[g(i(s),{class:`mr-1 h-3 w-3`}),d[3]||=e(` Verified `,-1)])])]),c(`div`,k,[G.value.payment_link?(m(),l(`div`,A,[c(`div`,j,[c(`div`,M,[g(i(t),{class:`h-5 w-5 text-blue-400`,"aria-hidden":`true`})]),c(`div`,N,[d[5]||=c(`h3`,{class:`text-sm font-medium text-blue-800`},`Payment Required`,-1),c(`div`,P,[d[4]||=c(`p`,null,`Please use the link below to securely pay this invoice.`,-1),c(`p`,F,[c(`a`,{href:G.value.payment_link,target:`_blank`,class:`font-medium underline hover:text-blue-600`},` Proceed to Payment â†’ `,8,I)])])])])])):o(``,!0),c(`dl`,L,[(m(!0),l(n,null,u(G.value,(e,t)=>(m(),l(n,{key:t},[!Y(t)&&e?(m(),l(`div`,R,[c(`dt`,z,a(J(t)),1),c(`dd`,B,a(e),1)])):o(``,!0)],64))),128))])]),d[6]||=c(`div`,{class:`px-4 py-4 sm:px-6 bg-gray-50 border-t border-gray-200 text-xs text-gray-400 text-center`},` Powered by Seamlessly using secure public access. `,-1)]))])]))}};export{V as default};