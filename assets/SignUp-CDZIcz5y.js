import"./useFormControl-CjeW_yF1.js";import"./nullish-CfjOSA4G.js";import"./CheckboxIndicator-C4nBJkgl.js";import"./ConfigProvider-BY88vHZH.js";import"./useDirection-ZgC7WO53.js";import"./useId-_W-wRvmL.js";import"./utils-CbTsZDN1.js";import"./RovingFocusGroup-F71S5Xed.js";import"./RovingFocusItem-AkC9zDaz.js";import"./VisuallyHiddenInput-IXKLJ3Dv.js";import"./Label-PC3o1Jo3.js";import{n as e,t}from"./SwitchThumb-CJ3J2im8.js";import{Fa as n,Fi as r,Gi as i,Hi as a,Ki as o,Li as s,Or as c,Pa as l,Ra as u,Ui as d,Vi as f,Wi as p,Wn as m,Wr as h,Yi as g,a as _,ba as v,c as y,i as b,la as x,oa as S,qi as C,s as w,ta as T,ua as E,wi as D}from"./index-BHNnQTTo.js";import{n as O}from"./button-Db_hM3Yh.js";import{t as k}from"./Input-B0vU3uIy.js";import{t as A}from"./BackgroundAnimation-yErgC6Q9.js";import{t as ee}from"./Card-9fu7vd2v.js";import{t as j}from"./CardContent-BrSnnu_e.js";import{n as M,r as N,t as P}from"./CardTitle-BUjAcTNQ.js";import{t as F}from"./Label-DAlslide.js";import{t as I}from"./Checkbox-Cvr3GDYM.js";var L={name:`GoogleSignIn`,methods:{async handleCredentialResponse(e){this.loading=!0,this.$Progress.start();let t=null,n=await fetch(`https://ipapi.co/json/`);n.ok&&(t=await n.json(),t=`${t.city}, ${t.region}, ${t.country}`);let r={provider:`google`,accessToken:e.credential,location:t};await w.createSession(r),this.$router.push(`/`)},redirectToGoogleOAuth(){let e=window.location.origin,t=encodeURIComponent(e+`/google`),n=Math.random().toString(36).substring(2)+Date.now().toString(36),r=`https://accounts.google.com/o/oauth2/v2/auth?client_id=731420362499-tmbv8nhf3md9u7h06915l351v3htp4mv.apps.googleusercontent.com&redirect_uri=${t}&response_type=id_token&scope=openid%20email%20profile&nonce=${n}`;window.location.href=r},onClick(){if(!window.google||!window.google.accounts){this.redirectToGoogleOAuth();return}window.google.accounts.id.initialize({client_id:`731420362499-tmbv8nhf3md9u7h06915l351v3htp4mv.apps.googleusercontent.com`,callback:this.handleCredentialResponse,use_fedcm_for_prompt:!0}),window.google.accounts.id.prompt(e=>{(e.isNotDisplayed()||e.isSkippedMoment())&&this.redirectToGoogleOAuth()})},tryOneTapOnly(){!window.google||!window.google.accounts||(window.google.accounts.id.initialize({client_id:`731420362499-tmbv8nhf3md9u7h06915l351v3htp4mv.apps.googleusercontent.com`,callback:this.handleCredentialResponse,use_fedcm_for_prompt:!0}),window.google.accounts.id.prompt())}},async mounted(){let e=await y.get(`isLoggedIn`),t=await y.get(`user`);if(e&&t.name)return this.$router.push(`/`);e||t.name?w.logout():(document.cookie=`g_state=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;`,this.tryOneTapOnly())}},R={style:{filter:`saturate(1)`},width:`24px`,height:`32px`,viewBox:`0 0 64 64`,version:`1.1`};function z(e,t,n,r,a,o){return S(),p(`button`,{onClick:t[0]||=(...e)=>o.onClick&&o.onClick(...e),class:`btn avatar py-2 ms-3`,style:{background:`#fff`,padding:`5px`}},[(S(),p(`svg`,R,[...t[1]||=[i(`<g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g transform="translate(3.000000, 2.000000)" fill-rule="nonzero"><path d="M57.8123233,30.1515267 C57.8123233,27.7263183 57.6155321,25.9565533 57.1896408,24.1212666 L29.4960833,24.1212666 L29.4960833,35.0674653 L45.7515771,35.0674653 C45.4239683,37.7877475 43.6542033,41.8844383 39.7213169,44.6372555 L39.6661883,45.0037254 L48.4223791,51.7870338 L49.0290201,51.8475849 C54.6004021,46.7020943 57.8123233,39.1313952 57.8123233,30.1515267" fill="#4285F4"></path><path d="M29.4960833,58.9921667 C37.4599129,58.9921667 44.1456164,56.3701671 49.0290201,51.8475849 L39.7213169,44.6372555 C37.2305867,46.3742596 33.887622,47.5868638 29.4960833,47.5868638 C21.6960582,47.5868638 15.0758763,42.4415991 12.7159637,35.3297782 L12.3700541,35.3591501 L3.26524241,42.4054492 L3.14617358,42.736447 C7.9965904,52.3717589 17.959737,58.9921667 29.4960833,58.9921667" fill="#34A853"></path><path d="M12.7159637,35.3297782 C12.0932812,33.4944915 11.7329116,31.5279353 11.7329116,29.4960833 C11.7329116,27.4640054 12.0932812,25.4976752 12.6832029,23.6623884 L12.6667095,23.2715173 L3.44779955,16.1120237 L3.14617358,16.2554937 C1.14708246,20.2539019 0,24.7439491 0,29.4960833 C0,34.2482175 1.14708246,38.7380388 3.14617358,42.736447 L12.7159637,35.3297782" fill="#FBBC05"></path><path d="M29.4960833,11.4050769 C35.0347044,11.4050769 38.7707997,13.7975244 40.9011602,15.7968415 L49.2255853,7.66898166 C44.1130815,2.91684746 37.4599129,0 29.4960833,0 C17.959737,0 7.9965904,6.62018183 3.14617358,16.2554937 L12.6832029,23.6623884 C15.0758763,16.5505675 21.6960582,11.4050769 29.4960833,11.4050769" fill="#EB4335"></path></g></g>`,1)]]))])}var B=b(L,[[`render`,z]]),V=g({__name:`Switch`,props:{defaultValue:{type:Boolean},modelValue:{type:[Boolean,null]},disabled:{type:Boolean},id:{},value:{},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean},class:{}},emits:[`update:modelValue`],setup(r,{emit:i}){let o=r,s=i,u=D(o,`class`),d=h(u,s);return(r,i)=>(S(),a(l(e),T(l(d),{class:l(c)(`peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input`,o.class)}),{default:v(()=>[C(l(t),{class:n(l(c)(`pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0`))},{default:v(()=>[x(r.$slots,`thumb`)]),_:3},8,[`class`])]),_:3},16,[`class`]))}}),H={components:{Card:ee,CardHeader:M,CardTitle:P,CardDescription:N,CardContent:j,Button:O,Input:k,Label:F,Checkbox:I,GoogleSignInButton:B,CheckCircle:m,Switch:V,BackgroundAnimation:A},data(){return{loading:!1,currentStep:1,signUpModel:{firstName:``,lastName:``,email:``,password:``,confirmPassword:``,receiveUpdates:!0},resending:!1}},async mounted(){let e=await y.get(`isLoggedIn`),t=await y.get(`user`);e&&t?.name?this.$router.push(`/`):e||t?.name?await w.logout():(document.cookie=`g_state=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;`,this.activateGoogleSignIn())},computed:{formDisabled(){return this.loading},canSubmit(){let{email:e,password:t,confirmPassword:n}=this.signUpModel;return e&&t&&n&&t===n&&!this.loading}},methods:{async handleCredentialResponse(e){this.loading=!0,typeof this.$Progress?.start==`function`&&this.$Progress.start();let t=null;try{let e=await fetch(`https://ipapi.co/json/`);if(e.ok){let n=await e.json();t=`${n.city}, ${n.region}, ${n.country}`}}catch{}let n={provider:`google`,accessToken:e.credential,location:t};await w.createSession(n),this.$router.push(`/`)},redirectToGoogleOAuth(){let e=window.location.origin,t=encodeURIComponent(e+`/google`),n=Math.random().toString(36).substring(2)+Date.now().toString(36),r=`https://accounts.google.com/o/oauth2/v2/auth?client_id=731420362499-tmbv8nhf3md9u7h06915l351v3htp4mv.apps.googleusercontent.com&redirect_uri=${t}&response_type=id_token&scope=openid%20email%20profile&nonce=${n}`;window.location.href=r},activateGoogleSignIn(){document.cookie=`g_state=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;`,!(!window.google||!window.google.accounts)&&(window.google.accounts.id.initialize({client_id:`731420362499-tmbv8nhf3md9u7h06915l351v3htp4mv.apps.googleusercontent.com`,callback:this.handleCredentialResponse,use_fedcm_for_prompt:!0}),window.google.accounts.id.prompt())},activateLinkedInSignIn(){window.location.href=`https://www.linkedin.com/oauth/v2/authorization?response_type=code&client_id=771aadofnraci0&redirect_uri=https://flow.seamlessly.ng/linkedin&scope=openid%20profile%20email%20w_member_social`},formatMail(e){let t=e.trim().toLowerCase();return t.slice(0,2)+t.slice(2,-2).replace(/[0-9a-z.]/g,`*`)+t.slice(-2)},async resendEmail(){let e=_();this.resending=!0;try{await w.resendEmail(this.signUpModel.email),e.toast({message:`Verification email resent successfully!`,variant:`success`})}catch(t){e.toast({message:t?.message||`Could not resend email.`,variant:`error`})}finally{this.resending=!1}},async signUp(){let e=_();if(this.signUpModel.password!==this.signUpModel.confirmPassword)return e.toast({message:`Your passwords do not match.`,variant:`error`});this.loading=!0,this.$Progress.start();try{let t={firstName:this.signUpModel.firstName,lastName:this.signUpModel.lastName,email:this.signUpModel.email.toLowerCase(),password:this.signUpModel.password,receiveUpdates:this.signUpModel.receiveUpdates},{data:n}=await w.createAccount(t);e.toast({message:`Welcome aboard ${n.firstName} ${n.lastName}!`,variant:`success`}),this.currentStep=2}catch(t){if(t.type===`Connection Failed`||t.message===`Network Error`){e.toast({message:`Please check your internet connection.`,variant:`error`});return}e.toast({message:`Welcome aboard ${this.signUpModel.firstName} ${this.signUpModel.lastName}!`,variant:`success`}),this.currentStep=2}finally{this.loading=!1,this.$Progress.finish()}}}},U={class:`min-h-screen flex flex-col items-center justify-center p-6 md:p-10 bg-[radial-gradient(ellipse_at_bottom,_var(--tw-gradient-stops))] from-stone-50/95 to-stone-100 from-5%`},W={class:`grid grid-cols-2 gap-4 my-6`},G={xmlns:`http://www.w3.org/2000/svg`,x:`0px`,y:`0px`,style:{width:`27px`,height:`26px`},viewBox:`0 0 48 48`},K={xmlns:`http://www.w3.org/2000/svg`,x:`0px`,y:`0px`,width:`100`,height:`100`,style:{width:`28px`,height:`27px`},viewBox:`0 0 48 48`},q={class:`grid sm:grid-cols-2 gap-3`},J={class:`col-span-2 grid gap-2`},Y={class:`grid gap-2`},X={class:`grid gap-2`},Z={class:`grid gap-2`},Q={class:`grid gap-2`},te={class:`flex items-center space-x-2 pb-5`},ne={class:`flex items-center justify-between mb-0`},$={class:`text-sm`},re={class:`flex flex-col items-center space-y-3`},ie={class:`text-muted-foreground`};function ae(e,t,n,c,l,m){let h=E(`BackgroundAnimation`),g=E(`CardTitle`),_=E(`CardDescription`),y=E(`CardHeader`),b=E(`Button`),x=E(`Input`),w=E(`Switch`),T=E(`Label`),D=E(`RouterLink`),O=E(`CardContent`),k=E(`CheckCircle`),A=E(`Card`);return S(),p(`div`,U,[C(h),C(A,{class:`relative w-full max-w-xl shadow-xl shadow-gray-100 border-solid border-slate-50 bg-stone-50`},{default:v(()=>[C(y,{class:`space-y-2 text-center`},{default:v(()=>[t[10]||=f(`a`,{href:`/`,class:`inline-flex justify-center mb-2`},[f(`img`,{src:`/img/logo-square.png`,alt:`Seamlessly`,class:`size-24 rounded-full`})],-1),l.currentStep===1?(S(),a(g,{key:0},{default:v(()=>[...t[7]||=[o(`Create your account`,-1)]]),_:1})):d(``,!0),l.currentStep===2?(S(),a(g,{key:1},{default:v(()=>[...t[8]||=[o(`Account Created!`,-1)]]),_:1})):d(``,!0),l.currentStep===1?(S(),a(_,{key:2},{default:v(()=>[...t[9]||=[o(` Sign up to start with your `,-1),f(`span`,{class:`font-bold`},`#1`,-1),o(` finance ops team. `,-1)]]),_:1})):d(``,!0)]),_:1}),l.currentStep===1?(S(),a(O,{key:0},{default:v(()=>[f(`div`,W,[C(b,{variant:`outline`,class:`w-full rounded-full`,onClick:r(m.redirectToGoogleOAuth,[`prevent`])},{default:v(()=>[(S(),p(`svg`,G,[...t[11]||=[f(`path`,{fill:`#FFC107`,d:`M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z`},null,-1),f(`path`,{fill:`#FF3D00`,d:`M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z`},null,-1),f(`path`,{fill:`#4CAF50`,d:`M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z`},null,-1),f(`path`,{fill:`#1976D2`,d:`M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z`},null,-1)]])),t[12]||=f(`span`,{class:`sr-only`},`Login with Google`,-1)]),_:1},8,[`onClick`]),C(b,{variant:`outline`,class:`w-full rounded-full`,onClick:r(m.activateLinkedInSignIn,[`prevent`])},{default:v(()=>[(S(),p(`svg`,K,[...t[13]||=[f(`path`,{fill:`#0288D1`,d:`M42,37c0,2.762-2.238,5-5,5H11c-2.761,0-5-2.238-5-5V11c0-2.762,2.239-5,5-5h26c2.762,0,5,2.238,5,5V37z`},null,-1),f(`path`,{fill:`#FFF`,d:`M12 19H17V36H12zM14.485 17h-.028C12.965 17 12 15.888 12 14.499 12 13.08 12.995 12 14.514 12c1.521 0 2.458 1.08 2.486 2.499C17 15.887 16.035 17 14.485 17zM36 36h-5v-9.099c0-2.198-1.225-3.698-3.192-3.698-1.501 0-2.313 1.012-2.707 1.99C24.957 25.543 25 26.511 25 27v9h-5V19h5v2.616C25.721 20.5 26.85 19 29.738 19c3.578 0 6.261 2.25 6.261 7.274L36 36 36 36z`},null,-1)]])),t[14]||=f(`span`,{class:`sr-only`},`Login with LinkedIn`,-1)]),_:1},8,[`onClick`])]),t[18]||=f(`div`,{class:`relative text-center text-sm after:absolute after:inset-0 after:top-1/2 after:z-0 after:flex after:items-center after:border-t after:border-border`},[f(`span`,{class:`relative z-10 bg-background px-2 text-muted-foreground rounded-full border-stone-50 border-8`},` or `)],-1),f(`form`,{onSubmit:t[6]||=r((...e)=>m.signUp&&m.signUp(...e),[`prevent`]),class:`space-y-4 my-5`},[f(`div`,q,[f(`div`,J,[C(x,{type:`email`,modelValue:l.signUpModel.email,"onUpdate:modelValue":t[0]||=e=>l.signUpModel.email=e,required:``,disabled:m.formDisabled,autocomplete:`email`,class:`rounded-full`,placeholder:`Personal or work email`},null,8,[`modelValue`,`disabled`])]),f(`div`,Y,[C(x,{modelValue:l.signUpModel.firstName,"onUpdate:modelValue":t[1]||=e=>l.signUpModel.firstName=e,required:``,placeholder:`First name`,class:`rounded-full`,disabled:m.formDisabled,autocomplete:`true`},null,8,[`modelValue`,`disabled`])]),f(`div`,X,[C(x,{modelValue:l.signUpModel.lastName,"onUpdate:modelValue":t[2]||=e=>l.signUpModel.lastName=e,required:``,placeholder:`Last name`,class:`rounded-full`,disabled:m.formDisabled,autocomplete:`family-name`},null,8,[`modelValue`,`disabled`])]),f(`div`,Z,[C(x,{type:`password`,minlength:`6`,modelValue:l.signUpModel.password,"onUpdate:modelValue":t[3]||=e=>l.signUpModel.password=e,required:``,class:`rounded-full`,placeholder:`Password`,disabled:m.formDisabled},null,8,[`modelValue`,`disabled`])]),f(`div`,Q,[C(x,{type:`password`,modelValue:l.signUpModel.confirmPassword,"onUpdate:modelValue":t[4]||=e=>l.signUpModel.confirmPassword=e,required:``,class:`rounded-full`,placeholder:`Confirm password`,disabled:m.formDisabled},null,8,[`modelValue`,`disabled`])])]),f(`div`,te,[C(w,{id:`updates`,modelValue:l.signUpModel.receiveUpdates,"onUpdate:modelValue":t[5]||=e=>l.signUpModel.receiveUpdates=e},null,8,[`modelValue`]),C(T,{for:`updates`,class:`text-sm text-muted-foreground`},{default:v(()=>[...t[15]||=[o(` Receive updates and finance tips. You can unsubscribe anytime. `,-1)]]),_:1})]),f(`div`,ne,[f(`p`,$,[t[17]||=o(` Have an account? `,-1),C(D,{to:`/login`,class:`text-primary underline font-medium`},{default:v(()=>[...t[16]||=[o(`Login`,-1)]]),_:1})]),C(b,{type:`submit`,disabled:!m.canSubmit,class:`rounded-full`,loading:l.loading},{default:v(()=>[l.loading?(S(),p(s,{key:1},[o(`Creating...`)],64)):(S(),p(s,{key:0},[o(`Sign Up`)],64))]),_:1},8,[`disabled`,`loading`])])],32)]),_:1})):d(``,!0),l.currentStep===2?(S(),a(O,{key:1,class:`text-center py-12`},{default:v(()=>[f(`div`,re,[C(k,{class:`text-green-600 w-12 h-12 mb-2`}),t[23]||=f(`p`,{class:`text-lg font-semibold`},`Your account has been created successfully!`,-1),f(`p`,ie,[t[19]||=o(` An email was delivered to `,-1),f(`strong`,null,u(m.formatMail(l.signUpModel.email)),1),t[20]||=o(`. `,-1),t[21]||=f(`br`,null,null,-1),t[22]||=o(` Follow the verification email to continue. `,-1)]),C(b,{variant:`link`,onClick:r(m.resendEmail,[`prevent`]),disabled:l.resending,class:`mt-2 text-primary h-auto p-0`},{default:v(()=>[l.resending?(S(),p(s,{key:1},[o(`Sending...`)],64)):(S(),p(s,{key:0},[o(`Resend verification email`)],64))]),_:1},8,[`onClick`,`disabled`])])]),_:1})):d(``,!0)]),_:1}),t[24]||=i(`<div class="relative mt-6 text-balance text-center text-xs text-muted-foreground flex flex-col gap-3" data-v-cb3bbe69><p data-v-cb3bbe69> By submitting this form, you agree to our <a class="underline underline-offset-2 hover:text-primary transition-colors" href="/privacy" target="_blank" data-v-cb3bbe69>privacy policy</a> and <a class="underline underline-offset-2 hover:text-primary transition-colors" href="/terms" target="_blank" data-v-cb3bbe69>terms of use.</a></p><a href="/help" class="flex items-center justify-center gap-1 hover:text-foreground transition-colors" data-v-cb3bbe69> Need help? <span aria-hidden="true" data-v-cb3bbe69>â†’</span></a></div>`,1)])}var oe=b(H,[[`render`,ae],[`__scopeId`,`data-v-cb3bbe69`]]);export{oe as default};