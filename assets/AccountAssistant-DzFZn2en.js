import{n as e,r as t,t as n}from"./AvatarImage-Z6nQOR8p.js";import{c as r,n as i,o as a,r as o,s as ee}from"./command-Cvu7jl1c.js";import{n as s,t as c}from"./SwitchThumb-BPQL78vS.js";import{$ as te,Ai as l,At as u,Ct as d,Di as f,Hi as p,Hn as m,Ii as h,In as g,Ni as _,Nn as v,O as y,Oi as b,Pi as x,Qi as S,Sa as C,T as w,Ta as T,U as E,Ui as D,Un as O,Xi as k,Yi as A,Yt as ne,_t as re,a as ie,ar as ae,b as oe,di as j,en as se,ha as M,hi as ce,hn as le,hr as N,i as P,ji as F,jr as I,ki as L,pa as R,qi as z,sa as B,tn as V,un as H,wi as U,xa as W,xn as ue}from"./index-DYsAJfvN.js";import{n as G}from"./button-CTk8BIqm.js";import{t as de}from"./ScrollArea-Dbevvb5I.js";import{t as fe}from"./Textarea-BbBT2vj1.js";import{t as pe}from"./badge-MmCqtBxz.js";var K=h({__name:`Avatar`,props:{class:{}},setup(e){let n=e;return(e,r)=>(z(),L(W(t),{"data-slot":`avatar`,class:C(W(N)(`relative flex size-8 shrink-0 overflow-hidden rounded-full`,n.class))},{default:B(()=>[k(e.$slots,`default`)]),_:3},8,[`class`]))}}),q=h({__name:`AvatarFallback`,props:{delayMs:{},asChild:{type:Boolean},as:{},class:{}},setup(t){let n=t,r=j(n,`class`);return(t,i)=>(z(),L(W(e),p({"data-slot":`avatar-fallback`},W(r),{class:W(N)(`bg-muted flex size-full items-center justify-center rounded-full`,n.class)}),{default:B(()=>[k(t.$slots,`default`)]),_:3},16,[`class`]))}}),me=h({__name:`AvatarImage`,props:{src:{},referrerPolicy:{},crossOrigin:{},asChild:{type:Boolean},as:{}},setup(e){let t=e;return(e,r)=>(z(),L(W(n),p({"data-slot":`avatar-image`},t,{class:`aspect-square size-full`}),{default:B(()=>[k(e.$slots,`default`)]),_:3},16))}}),he=h({__name:`Switch`,props:{defaultValue:{type:Boolean},modelValue:{type:[Boolean,null]},disabled:{type:Boolean},id:{},value:{},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean},class:{}},emits:[`update:modelValue`],setup(e,{emit:t}){let n=e,r=t,i=j(n,`class`),a=I(i,r);return(e,t)=>(z(),L(W(s),p({"data-slot":`switch`},W(a),{class:W(N)(`peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50`,n.class)}),{default:B(()=>[x(W(c),{"data-slot":`switch-thumb`,class:C(W(N)(`bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0`))},{default:B(()=>[k(e.$slots,`thumb`)]),_:3},8,[`class`])]),_:3},16,[`class`]))}}),ge={class:`flex flex-col h-full bg-stone-50`},_e={class:`p-4 border-b border-white flex items-center justify-between bg-white/20`},ve={class:`flex items-center gap-2`},ye={class:`h-8 w-8 rounded-full bg-stone-100 flex items-center justify-center text-blue-800 border border-slate-400`},be={class:`space-y-6`},xe={key:0,class:`text-center py-10 px-4`},Se={class:`bg-stone-100 h-12 w-12 rounded-full flex items-center justify-center mx-auto mb-4`},Ce={class:`grid grid-cols-1 gap-2 max-w-xs mx-auto`},we={key:0,class:`flex items-center gap-2 mb-1 text-red-600 font-medium`},Te={class:`leading-relaxed whitespace-pre-wrap`},Ee={key:0,class:`mt-2 flex flex-wrap gap-2`},De={class:`font-medium text-slate-700`},Oe={key:1,class:`mt-3 w-full bg-stone-50 border border-slate-200 rounded-lg p-3 shadow-sm`},ke={class:`flex items-center justify-between mb-2`},Ae={class:`text-sm text-slate-600 bg-slate-50 p-2 rounded border border-slate-100 mb-3 font-mono text-xs`},je={key:0,class:`flex gap-2`},Me={key:1,class:`flex items-center justify-between bg-green-50 text-blue-700 px-3 py-1.5 rounded text-xs`},Ne={class:`flex items-center gap-1.5`},Pe={key:2,class:`mt-2 flex gap-2`},Fe={key:1,class:`flex gap-3`},Ie={class:`bg-white border border-blue-100 rounded-2xl rounded-tl-sm px-4 py-3 text-sm text-slate-500 flex items-center gap-2 shadow-sm`},Le={class:`p-4 border-t bg-slate-50/50`},Re={class:`relative group`},ze={key:0,class:`absolute Sparklestom-full left-0 w-72 mb-2 bg-white border border-slate-200 rounded-xl shadow-xl overflow-hidden z-20 animate-in fade-in slide-in-from-Sparklestom-2`},Be={class:`flex flex-col`},Ve={class:`font-medium`},He={class:`text-xs text-slate-400`},Ue={class:`bg-white border border-slate-200 rounded-2xl shadow-sm focus-within:ring-2 focus-within:ring-blue-500/20 focus-within:border-blue-500 transition-all`},We={class:`flex justify-between items-center px-2 pb-2`},Ge={class:`flex items-center gap-1`},Ke={class:`flex items-center gap-2 bg-slate-50 border border-slate-100 rounded-full pl-1 pr-2 py-0.5`},J={class:`flex justify-between items-center px-1`},qe={class:`h-5 overflow-hidden flex items-center mt-1`},Je={key:0,class:`flex items-center gap-1.5 text-[10px] text-slate-400 font-medium bg-slate-100 px-2 py-0.5 rounded-full`},Y={__name:`AccountAssistant`,props:{account:Object,context:Object},setup(e){let t=e;f(()=>({activeTab:t.context?.tab,tabType:t.context?.tab?.type,tabData:t.context?.tab?.data,account:t.account}));let n=ie().toast,s=M([{role:`assistant`,content:`I noticed a spike in software subscription costs this month. Would you like me to break it down?`,attachments:[],actions:[{label:`Break it down`,icon:O},{label:`Ignore`,icon:le}]},{role:`assistant`,content:`I found a recurring transaction that seems miscategorized. Should I update "AWS Web Services" to "Infrastructure"?`,proposal:{type:`Categorization`,diff:`- Category: Uncategorized
+ Category: Infrastructure`,applied:!1}}]),c=M(``),p=M(!1),h=M(!1),k=M(``),j=M(null),N=R({reasoning:!1,web:!1,voice:!1}),P=[{id:`t1`,description:`AWS Web Services`,amount:`-$240.00`,date:`Today`},{id:`t2`,description:`Github Enterprise`,amount:`-$25.00`,date:`Yesterday`},{id:`t3`,description:`Slack Technologies`,amount:`-$12.50`,date:`Oct 24`}],I=[{id:`f1`,name:`Invoice_OCT_2024.pdf`},{id:`f2`,name:`Q3_Financial_Report.xlsx`}],Y=f(()=>{if(!k.value)return P;let e=k.value.toLowerCase();return P.filter(t=>t.description.toLowerCase().includes(e))}),X=f(()=>{if(!k.value)return I;let e=k.value.toLowerCase();return I.filter(t=>t.name.toLowerCase().includes(e))}),Z=f(()=>Math.ceil(c.value.length/4));function Ye(e){let t=e.target.value.match(/(?:^|\s)@(\w*)$/);t?(h.value=!0,k.value=t[1]):(h.value=!1,k.value=``)}function Xe(e){e.key===`Enter`&&(e.metaKey||e.ctrlKey)&&(e.preventDefault(),$()),e.key===`Escape`&&(h.value=!1)}function Q(e){let t=c.value,n=t.match(/(?:^|\s)@(\w*)$/);if(n){let r=n.index+(n[0].startsWith(` `)?1:0);c.value=t.substring(0,r)+`@`+(e.description||e.name)+` `}h.value=!1,D(()=>j.value?.$el.focus())}function Ze(){N.voice=!N.voice,N.voice&&n({title:`Voice Mode Active`,description:`Listening...`})}function Qe(){n({title:`Upload`,description:`File picker would open here.`})}function $e(e){s.value[e].proposal.applied=!0,n({title:`Changes Applied`,description:`Categorization updated successfully.`})}function et(e){s.value.splice(e,1),n({title:`Proposal Rejected`,variant:`secondary`})}function tt(e){s.value[e].proposal.applied=!1,n({title:`Rolled Back`,description:`Changes have been reverted.`})}async function $(){if(!c.value.trim())return;let e=c.value;c.value=``,h.value=!1,s.value.push({role:`user`,content:e,attachments:[]}),p.value=!0,setTimeout(()=>{if(p.value=!1,e.toLowerCase().includes(`error`)){s.value.push({role:`assistant`,content:`I encountered an issue processing that request. Please try again or check your connection.`,isError:!0});return}s.value.push({role:`assistant`,content:N.reasoning?`Based on my analysis of the transaction data you provided, I've identified a few patterns...`:`Here is the information you requested.`,attachments:[]})},1500)}return(e,t)=>(z(),F(`div`,ge,[b(`div`,_e,[b(`div`,ve,[b(`div`,ye,[x(W(H),{class:`size-5`})]),t[5]||=b(`div`,null,[b(`h3`,{class:`font-semibold text-sm text-slate-900`},[_(` Simi `),b(`span`,{class:`text-xs text-slate-400`},` - Junior Consultant `)]),b(`p`,{class:`text-xs text-slate-500`},` Hi, press Ctrl + M to see me. `)],-1)])]),x(W(de),{class:`flex-1 p-4`},{default:B(()=>[b(`div`,be,[s.value.length===0?(z(),F(`div`,xe,[b(`div`,Se,[x(W(E),{class:`h-6 w-6 text-yellow-300`})]),t[8]||=b(`h4`,{class:`font-medium text-slate-800 mb-2`},`How can I help you today?`,-1),t[9]||=b(`p`,{class:`text-sm text-slate-500 mb-6`},`Ask about transactions, analyze spending, or upload documents.`,-1),b(`div`,Ce,[x(W(G),{variant:`outline`,class:`justify-start text-xs h-auto py-2 px-3 text-slate-600`,onClick:t[0]||=e=>c.value=`Analyze my spending this month`},{default:B(()=>[x(W(O),{class:`mr-2 h-3 w-3 text-blue-950`}),t[6]||=_(` Analyze spending `,-1)]),_:1}),x(W(G),{variant:`outline`,class:`justify-start text-xs h-auto py-2 px-3 text-slate-600`,onClick:t[1]||=e=>c.value=`Find suspicious transactions`},{default:B(()=>[x(W(te),{class:`mr-2 h-3 w-3 text-yellow-300`}),t[7]||=_(` Find suspicious transactions `,-1)]),_:1})])])):l(``,!0),(z(!0),F(U,null,A(s.value,(e,n)=>(z(),F(`div`,{key:n,class:C([`flex gap-3`,e.role===`user`?`flex-row-reverse`:``])},[x(W(K),{class:`h-8 w-8 border border-slate-100`},{default:B(()=>[e.role===`assistant`?(z(),L(W(me),{key:0,src:``})):l(``,!0),x(W(q),{class:C(e.role===`assistant`?`bg-stone-100 text-slate-500`:`bg-slate-100 text-slate-600`)},{default:B(()=>[e.role===`assistant`?(z(),L(W(E),{key:0,class:`h-4 w-4`})):(z(),L(W(w),{key:1,class:`h-4 w-4`}))]),_:2},1032,[`class`])]),_:2},1024),b(`div`,{class:C([`flex flex-col max-w-[85%]`,e.role===`user`?`items-end`:`items-start`])},[b(`div`,{class:C([`rounded-2xl px-4 py-2.5 text-sm shadow-sm`,e.role===`user`?`bg-white/30 text-neutral-800 rounded-tr-sm`:`bg-stone-50 border border-slate-100 text-slate-700 rounded-tl-sm`,e.isError?`bg-red-50 border-red-200 text-red-700`:``])},[e.isError?(z(),F(`div`,we,[x(W(g),{class:`h-4 w-4`}),t[10]||=b(`span`,null,`Error`,-1)])):l(``,!0),b(`p`,Te,T(e.content),1)],2),e.attachments?.length?(z(),F(`div`,Ee,[(z(!0),F(U,null,A(e.attachments,e=>(z(),F(`div`,{key:e.id,class:`flex items-center gap-1.5 text-xs bg-white border border-slate-200 rounded-md px-2 py-1 shadow-sm`},[x(W(V),{class:`h-3 w-3 text-blue-500`}),b(`span`,De,T(e.name),1)]))),128))])):l(``,!0),e.role===`assistant`&&e.proposal?(z(),F(`div`,Oe,[b(`div`,ke,[t[11]||=b(`span`,{class:`text-xs font-semibold text-slate-700 uppercase tracking-wider`},`Proposed Change`,-1),x(W(pe),{variant:`outline`,class:`text-[10px]`},{default:B(()=>[_(T(e.proposal.type),1)]),_:2},1024)]),b(`div`,Ae,T(e.proposal.diff),1),e.proposal.applied?(z(),F(`div`,Me,[b(`span`,Ne,[x(W(v),{class:`h-3.5 w-3.5`}),t[14]||=_(` Changes applied successfully `,-1)]),x(W(G),{variant:`ghost`,size:`sm`,class:`h-6 px-2 text-slate-500 hover:text-slate-800 hover:bg-green-100`,onClick:e=>tt(n)},{default:B(()=>[x(W(y),{class:`mr-1.5 h-3 w-3`}),t[15]||=_(` Rollback `,-1)]),_:1},8,[`onClick`])])):(z(),F(`div`,je,[x(W(G),{size:`sm`,class:`h-7 text-xs bg-blue-600 hover:bg-green-700 text-white`,onClick:e=>$e(n)},{default:B(()=>[x(W(m),{class:`mr-1.5 h-3 w-3`}),t[12]||=_(` Accept Changes `,-1)]),_:1},8,[`onClick`]),x(W(G),{size:`sm`,variant:`outline`,class:`h-7 text-xs`,onClick:e=>et(n)},{default:B(()=>[x(W(oe),{class:`mr-1.5 h-3 w-3`}),t[13]||=_(` Reject `,-1)]),_:1},8,[`onClick`])]))])):l(``,!0),e.role===`assistant`&&e.actions&&!e.proposal?(z(),F(`div`,Pe,[(z(!0),F(U,null,A(e.actions,e=>(z(),L(W(G),{key:e.label,variant:`outline`,size:`sm`,class:`h-7 text-xs bg-white`},{default:B(()=>[(z(),L(S(e.icon),{class:`mr-1.5 h-3 w-3`})),_(` `+T(e.label),1)]),_:2},1024))),128))])):l(``,!0)],2)],2))),128)),p.value?(z(),F(`div`,Fe,[x(W(K),{class:`h-8 w-8`},{default:B(()=>[x(W(q),{class:`bg-blue-600 text-white`},{default:B(()=>[x(W(E),{class:`h-4 w-4`})]),_:1})]),_:1}),b(`div`,Ie,[x(W(u),{class:`h-3 w-3 animate-spin text-blue-500`}),t[16]||=b(`span`,{"classF,":``,"User,":``,F:`animate-pulse`},`Reasoning...`,-1)])])):l(``,!0)])]),_:1}),b(`div`,Le,[b(`div`,Re,[h.value?(z(),F(`div`,ze,[x(W(r),null,{default:B(()=>[x(W(i),{class:`max-h-[200px]`},{default:B(()=>[x(W(ee),null,{default:B(()=>[...t[17]||=[_(`No results found.`,-1)]]),_:1}),x(W(a),{heading:`Transactions`},{default:B(()=>[(z(!0),F(U,null,A(Y.value,e=>(z(),L(W(o),{key:e.id,value:e.id,onSelect:t=>Q(e),class:`cursor-pointer`},{default:B(()=>[x(W(ue),{class:`mr-2 h-4 w-4 text-slate-400`}),b(`div`,Be,[b(`span`,Ve,T(e.description),1),b(`span`,He,T(e.amount)+` • `+T(e.date),1)])]),_:2},1032,[`value`,`onSelect`]))),128))]),_:1}),x(W(a),{heading:`Files`},{default:B(()=>[(z(!0),F(U,null,A(X.value,e=>(z(),L(W(o),{key:e.id,value:e.id,onSelect:t=>Q(e),class:`cursor-pointer`},{default:B(()=>[x(W(se),{class:`mr-2 h-4 w-4 text-blue-400`}),b(`span`,null,T(e.name),1)]),_:2},1032,[`value`,`onSelect`]))),128))]),_:1})]),_:1})]),_:1})])):l(``,!0),b(`div`,Ue,[x(W(fe),{ref_key:`inputRef`,ref:j,modelValue:c.value,"onUpdate:modelValue":t[2]||=e=>c.value=e,placeholder:`Ask anything... (Type @ to reference)`,class:`min-h-[60px] w-full resize-none border-0 bg-transparent p-3 text-sm focus-visible:ring-0 placeholder:text-slate-400`,onKeydown:Xe,onInput:Ye},null,8,[`modelValue`]),b(`div`,We,[b(`div`,Ge,[b(`div`,Ke,[x(W(he),{id:`reasoning-mode`,checked:N.reasoning,"onUpdate:checked":t[3]||=e=>N.reasoning=e,class:`scale-75`},null,8,[`checked`]),t[18]||=b(`label`,{for:`reasoning-mode`,class:`text-[10px] font-medium text-slate-600 cursor-pointer select-none`},`Reasoning`,-1)]),x(W(G),{variant:`ghost`,size:`sm`,class:C([`h-7 w-7 rounded-full p-0 transition-colors`,N.web?`bg-blue-100 text-blue-700 hover:bg-blue-200`:`text-slate-400 hover:bg-slate-100 hover:text-slate-600`]),onClick:t[4]||=e=>N.web=!N.web,title:`Web Search`},{default:B(()=>[x(W(ne),{class:`h-3.5 w-3.5`})]),_:1},8,[`class`]),x(W(G),{variant:`ghost`,size:`sm`,class:`h-7 w-7 rounded-full p-0 text-slate-400 hover:bg-slate-100 hover:text-slate-600`,onClick:Qe,title:`Upload File`},{default:B(()=>[x(W(re),{class:`h-3.5 w-3.5`})]),_:1}),x(W(G),{variant:`ghost`,size:`sm`,class:C([`h-7 w-7 rounded-full p-0 transition-colors`,N.voice?`text-red-500 bg-red-50 hover:bg-red-100`:`text-slate-400 hover:bg-slate-100 hover:text-slate-600`]),onClick:Ze,title:`Voice Mode`},{default:B(()=>[x(W(d),{class:`h-3.5 w-3.5`})]),_:1},8,[`class`])]),x(W(G),{size:`sm`,disabled:!c.value.trim()&&!p.value,class:`h-8 w-8 rounded-full p-0 bg-blue-950 hover:bg-blue-900 text-white shadow-md transition-all`,onClick:$},{default:B(()=>[x(W(ae),{class:`h-4 w-4`})]),_:1},8,[`disabled`])])])]),b(`div`,J,[b(`div`,qe,[x(ce,{"enter-active-class":`transition-all duration-300 ease-out`,"leave-active-class":`transition-all duration-300 ease-in`,"enter-from-class":`opacity-0 -translate-x-2`,"leave-to-class":`opacity-0 -translate-x-2`},{default:B(()=>[Z.value>0?(z(),F(`div`,Je,[t[19]||=b(`div`,{class:`h-1.5 w-1.5 rounded-full bg-blue-500`},null,-1),_(` `+T(Z.value)+` tokens `,1)])):l(``,!0)]),_:1})]),t[20]||=b(`div`,{class:`text-[10px] text-slate-400 font-medium`},` ⌘ + Enter to send `,-1)])])]))}},X=P(Y,[[`__scopeId`,`data-v-b2fa224f`]]);export{X as t};