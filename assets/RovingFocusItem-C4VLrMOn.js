import{a as e,i as t,r as n}from"./utils-D0P48fSI.js";import{t as r}from"./useId-NOzKS8cd.js";import{n as i}from"./RovingFocusGroup-CWQj4uDm.js";import{Et as a,Gt as o,Jt as s,Nt as c,O as l,Ot as u,Pt as d,Ut as f,Vt as p,Wt as m,an as h,v as g,yn as _}from"./index-NPUXaZ2c.js";var v=d({__name:`RovingFocusItem`,props:{tabStopId:{type:String,required:!1},focusable:{type:Boolean,required:!1,default:!0},active:{type:Boolean,required:!1},allowShiftKey:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:`span`}},setup(d){let v=d,y=i(),b=r(),x=a(()=>v.tabStopId||b),S=a(()=>y.currentTabStopId.value===x.value),{getItems:C,CollectionItem:w}=g();f(()=>{v.focusable&&y.onFocusableItemAdd()}),m(()=>{v.focusable&&y.onFocusableItemRemove()});function T(r){if(r.key===`Tab`&&r.shiftKey){y.onItemShiftTab();return}if(r.target!==r.currentTarget)return;let i=t(r,y.orientation.value,y.dir.value);if(i!==void 0){if(r.metaKey||r.ctrlKey||r.altKey||!v.allowShiftKey&&r.shiftKey)return;r.preventDefault();let t=[...C().map(e=>e.ref).filter(e=>e.dataset.disabled!==``)];if(i===`last`)t.reverse();else if(i===`prev`||i===`next`){i===`prev`&&t.reverse();let n=t.indexOf(r.currentTarget);t=y.loop.value?e(t,n+1):t.slice(n+1)}p(()=>n(t))}}return(e,t)=>(o(),u(_(w),null,{default:h(()=>[c(_(l),{tabindex:S.value?0:-1,"data-orientation":_(y).orientation.value,"data-active":e.active?``:void 0,"data-disabled":e.focusable?void 0:``,as:e.as,"as-child":e.asChild,onMousedown:t[0]||=t=>{e.focusable?_(y).onItemFocus(x.value):t.preventDefault()},onFocus:t[1]||=e=>_(y).onItemFocus(x.value),onKeydown:T},{default:h(()=>[s(e.$slots,`default`)]),_:3},8,[`tabindex`,`data-orientation`,`data-active`,`data-disabled`,`as`,`as-child`])]),_:3}))}});export{v as t};