import{Aa as e,Bi as t,Fi as n,Li as r,Na as i,Ri as a,Ui as o,aa as s,da as c,ea as l,ga as u,i as d,ji as f,na as p,ta as m,wa as h,wi as g,x as _,zi as v}from"./index-BW6FH5S4.js";var y={key:0,class:`flex-none px-4 pb-3 border-b border-gray-100`},b={__name:`BottomSheet`,props:{modelValue:{type:Boolean,default:!1},initialHeight:{type:Number,default:60},dismissible:{type:Boolean,default:!0}},emits:[`update:modelValue`,`close`],setup(d,{emit:b}){let x=d,S=b,C=h(null),w=h(x.initialHeight),T=h(!1),E=h(0),D=h(0);c(()=>x.modelValue,e=>{e?(w.value=x.initialHeight,document.body.style.overflow=`hidden`):document.body.style.overflow=``});function O(){x.dismissible&&k()}function k(){S(`update:modelValue`,!1),S(`close`)}function A(e){T.value=!0,E.value=e.type===`touchstart`?e.touches[0].clientY:e.clientY,D.value=w.value,document.addEventListener(`mousemove`,j),document.addEventListener(`mouseup`,M),document.addEventListener(`touchmove`,j,{passive:!1}),document.addEventListener(`touchend`,M)}function j(e){if(!T.value)return;e.preventDefault();let t=e.type===`touchmove`?e.touches[0].clientY:e.clientY,n=(E.value-t)/window.innerHeight*100,r=D.value+n;r=Math.max(20,Math.min(95,r)),w.value=r}function M(){T.value=!1,document.removeEventListener(`mousemove`,j),document.removeEventListener(`mouseup`,M),document.removeEventListener(`touchmove`,j),document.removeEventListener(`touchend`,M),w.value<30?k():w.value<50?w.value=x.initialHeight:w.value>80&&(w.value=95)}function N(e){e.target.scrollTop===0&&w.value<95&&(w.value=95)}function P(e){e.key===`Escape`&&x.dismissible&&k()}return l(()=>{document.addEventListener(`keydown`,P)}),m(()=>{document.removeEventListener(`keydown`,P),document.body.style.overflow=``}),(c,l)=>(p(),a(n,{to:`body`},[o(g,{name:`sheet`},{default:u(()=>[d.modelValue?(p(),t(`div`,{key:0,class:`absolute inset-0 z-50`,onClick:f(O,[`self`])},[r(`div`,{class:`absolute inset-0 bg-white/40 backdrop-blur-sm`,onClick:O}),r(`div`,{ref_key:`sheetRef`,ref:C,class:`absolute bottom-0 left-0 right-0 bg-white rounded-t-2xl shadow-2xl flex flex-col transition-[height] duration-300 ease-out max-h-[95vh]`,style:i({height:`${w.value}%`})},[r(`div`,{class:`flex-none flex justify-center py-3 cursor-grab active:cursor-grabbing`,onMousedown:A,onTouchstartPassive:A},[...l[0]||=[r(`div`,{class:`w-12 h-1.5 bg-gray-300 rounded-full`},null,-1)]],32),r(`button`,{onClick:k,class:`absolute top-3 right-4 p-2 rounded-full hover:bg-gray-100 text-gray-400 hover:text-gray-600 transition-colors z-20`},[o(e(_),{class:`w-5 h-5`})]),c.$slots.header?(p(),t(`div`,y,[s(c.$slots,`header`,{},void 0,!0)])):v(``,!0),r(`div`,{class:`flex-1 overflow-auto`,onScroll:N},[s(c.$slots,`default`,{},void 0,!0)],32)],4)])):v(``,!0)]),_:3})]))}},x=d(b,[[`__scopeId`,`data-v-22bdab97`]]);export{x as t};