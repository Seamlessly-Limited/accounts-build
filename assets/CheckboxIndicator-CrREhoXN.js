import{D as e,F as t,I as n,K as r,R as i,T as a,V as o,W as s,b as c,d as l,f as u,tt as d,v as f,vt as p,x as m,z as h}from"./index-YI6KouJw.js";import{n as g,t as _}from"./Collection-tbJdTjiy.js";import{l as v,r as y}from"./VisuallyHidden-B4V-wydk.js";import{t as b}from"./nullish-DDde92Cm.js";import{n as x}from"./dist-AeQc7kvP.js";import{t as S,u as C}from"./useForwardExpose-BQik0q1A.js";import{n as w,t as T}from"./Presence-BvCetuOx.js";import{a as E,i as D,r as O}from"./utils-DsDNH-tF.js";import{n as k}from"./RovingFocusGroup-DNIREpH4.js";import{t as A}from"./VisuallyHiddenInput-Cr1HHJec.js";function j(e,t){return b(e)?!1:Array.isArray(e)?e.some(e=>g(e,t)):g(e,t)}var M=e({__name:`RovingFocusItem`,props:{tabStopId:{type:String,required:!1},focusable:{type:Boolean,required:!1,default:!0},active:{type:Boolean,required:!1},allowShiftKey:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:`span`}},setup(e){let t=e,r=k(),l=y(),u=f(()=>t.tabStopId||l),m=f(()=>r.currentTabStopId.value===u.value),{getItems:g,CollectionItem:v}=_();i(()=>{t.focusable&&r.onFocusableItemAdd()}),h(()=>{t.focusable&&r.onFocusableItemRemove()});function b(e){if(e.key===`Tab`&&e.shiftKey){r.onItemShiftTab();return}if(e.target!==e.currentTarget)return;let i=D(e,r.orientation.value,r.dir.value);if(i!==void 0){if(e.metaKey||e.ctrlKey||e.altKey||!t.allowShiftKey&&e.shiftKey)return;e.preventDefault();let a=[...g().map(e=>e.ref).filter(e=>e.dataset.disabled!==``)];if(i===`last`)a.reverse();else if(i===`prev`||i===`next`){i===`prev`&&a.reverse();let t=a.indexOf(e.currentTarget);a=r.loop.value?E(a,t+1):a.slice(t+1)}n(()=>O(a))}}return(e,t)=>(o(),c(p(v),null,{default:d(()=>[a(p(x),{tabindex:m.value?0:-1,"data-orientation":p(r).orientation.value,"data-active":e.active?``:void 0,"data-disabled":e.focusable?void 0:``,as:e.as,"as-child":e.asChild,onMousedown:t[0]||=t=>{e.focusable?p(r).onItemFocus(u.value):t.preventDefault()},onFocus:t[1]||=e=>p(r).onItemFocus(u.value),onKeydown:b},{default:d(()=>[s(e.$slots,`default`)]),_:3},8,[`tabindex`,`data-orientation`,`data-active`,`data-disabled`,`as`,`as-child`])]),_:3}))}}),[N,P]=v(`CheckboxGroupRoot`);function F(e){return e===`indeterminate`}function I(e){return F(e)?`indeterminate`:e?`checked`:`unchecked`}var[L,R]=v(`CheckboxRoot`),z=e({inheritAttrs:!1,__name:`CheckboxRoot`,props:{defaultValue:{type:[Boolean,String],required:!1},modelValue:{type:[Boolean,String,null],required:!1,default:void 0},disabled:{type:Boolean,required:!1},value:{type:null,required:!1,default:`on`},id:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:`button`},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:[`update:modelValue`],setup(e,{emit:n}){let i=e,a=n,{forwardRef:h,currentElement:_}=S(),v=N(null),y=C(i,`modelValue`,a,{defaultValue:i.defaultValue,passive:i.modelValue===void 0}),T=f(()=>v?.disabled.value||i.disabled),E=f(()=>b(v?.modelValue.value)?y.value===`indeterminate`?`indeterminate`:y.value:j(v.modelValue.value,i.value));function D(){if(b(v?.modelValue.value))y.value=F(y.value)?!0:!y.value;else{let e=[...v.modelValue.value||[]];if(j(e,i.value)){let t=e.findIndex(e=>g(e,i.value));e.splice(t,1)}else e.push(i.value);v.modelValue.value=e}}let O=w(_),k=f(()=>i.id&&_.value?document.querySelector(`[for="${i.id}"]`)?.innerText:void 0);return R({disabled:T,state:E}),(e,n)=>(o(),c(r(p(v)?.rovingFocus.value?p(M):p(x)),t(e.$attrs,{id:e.id,ref:p(h),role:`checkbox`,"as-child":e.asChild,as:e.as,type:e.as===`button`?`button`:void 0,"aria-checked":p(F)(E.value)?`mixed`:E.value,"aria-required":e.required,"aria-label":e.$attrs[`aria-label`]||k.value,"data-state":p(I)(E.value),"data-disabled":T.value?``:void 0,disabled:T.value,focusable:p(v)?.rovingFocus.value?!T.value:void 0,onKeydown:l(u(()=>{},[`prevent`]),[`enter`]),onClick:D}),{default:d(()=>[s(e.$slots,`default`,{modelValue:p(y),state:E.value}),p(O)&&e.name&&!p(v)?(o(),c(p(A),{key:0,type:`checkbox`,checked:!!E.value,name:e.name,value:e.value,disabled:T.value,required:e.required},null,8,[`checked`,`name`,`value`,`disabled`,`required`])):m(`v-if`,!0)]),_:3},16,[`id`,`as-child`,`as`,`type`,`aria-checked`,`aria-required`,`aria-label`,`data-state`,`data-disabled`,`disabled`,`focusable`,`onKeydown`]))}}),B=e({__name:`CheckboxIndicator`,props:{forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:`span`}},setup(e){let{forwardRef:n}=S(),r=L();return(e,i)=>(o(),c(p(T),{present:e.forceMount||p(F)(p(r).state.value)||p(r).state.value===!0},{default:d(()=>[a(p(x),t({ref:p(n),"data-state":p(I)(p(r).state.value),"data-disabled":p(r).disabled.value?``:void 0,style:{pointerEvents:`none`},"as-child":e.asChild,as:e.as},e.$attrs),{default:d(()=>[s(e.$slots,`default`)]),_:3},16,[`data-state`,`data-disabled`,`as-child`,`as`])]),_:3},8,[`present`]))}});export{z as n,B as t};