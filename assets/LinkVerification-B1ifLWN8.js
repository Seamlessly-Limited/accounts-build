import{Bn as e,Bt as t,Ki as n,Oi as r,Q as i,Ui as a,Vi as o,Wi as s,Wn as c,a as l,ba as u,i as d,oa as f,qi as p,s as m,ua as h}from"./index-BjUg3jag.js";import{n as g}from"./button-DNrl_4di.js";import{t as _}from"./BackgroundAnimation-Dihdt32F.js";import{t as v}from"./Card-DsDGTDjf.js";import{t as y}from"./CardContent-Cw3hEQpI.js";var b={name:`LinkVerification`,components:{Button:g,Card:v,CardContent:y,Loader2:t,CheckCircle:c,XCircle:e,ShieldCheck:i,BackgroundAnimation:_},data(){return{currentStep:1}},async mounted(){this.$route.params.token?await this.verifyAccount(this.$route.params.token):this.currentStep=3},methods:{redirectToApp(){window.location=`/`},async verifyAccount(e){let t=l();try{this.currentStep=1;let n=await m.verifyAccount(e);t.toast({message:n.message||`Email verified successfully`,variant:`success`}),this.currentStep=2,setTimeout(()=>this.redirectToApp(),1500)}catch(e){t.toast({message:e?.message||`Email verification failed`,variant:`error`}),this.currentStep=3}}}},x={class:`flex min-h-screen justify-center items-center bg-stone-50/50 text-foreground px-4 overflow-hidden`},S={class:`flex flex-col items-center text-center space-y-2 mb-8`},C={class:`p-3 bg-primary/5 rounded-2xl mb-2`},w={key:`step-loading`,class:`flex flex-col items-center py-12 space-y-6`},T={key:`step-success`,class:`flex flex-col items-center py-12 space-y-6`},E={class:`w-20 h-20 bg-green-50 rounded-full flex items-center justify-center`},D={key:`step-error`,class:`flex flex-col items-center py-12 space-y-6`},O={class:`w-20 h-20 bg-destructive/10 rounded-full flex items-center justify-center`};function k(e,t,i,c,l,d){let m=h(`BackgroundAnimation`),g=h(`ShieldCheck`),_=h(`CheckCircle`),v=h(`Button`),y=h(`XCircle`),b=h(`CardContent`),k=h(`Card`);return f(),s(`div`,x,[p(m),p(r,{name:`fade-up`,appear:``},{default:u(()=>[p(k,{class:`w-full max-w-lg shadow-[0_8px_30px_rgb(0,0,0,0.04)] border-none rounded-[2rem] relative bg-white/80 backdrop-blur-xl overflow-hidden`},{default:u(()=>[p(b,{class:`p-8 md:p-12`},{default:u(()=>[o(`div`,S,[o(`div`,C,[p(g,{class:`w-8 h-8 text-primary`})]),t[1]||=o(`h2`,{class:`text-3xl font-bold tracking-tight`},`Verify Identity`,-1)]),p(r,{name:`fade-slide`,mode:`out-in`},{default:u(()=>[l.currentStep===1?(f(),s(`div`,w,[...t[2]||=[o(`div`,{class:`relative w-20 h-20`},[o(`div`,{class:`absolute inset-0 rounded-full border-4 border-primary/10`}),o(`div`,{class:`absolute inset-0 rounded-full border-4 border-primary border-t-transparent animate-spin`})],-1),o(`div`,{class:`text-center`},[o(`h3`,{class:`text-xl font-bold`},`Verifying Code`),o(`p`,{class:`text-muted-foreground mt-2`},`Checking your credentials...`)],-1)]])):l.currentStep===2?(f(),s(`div`,T,[o(`div`,E,[p(_,{class:`w-12 h-12 text-green-500`})]),t[4]||=o(`div`,{class:`text-center`},[o(`h3`,{class:`text-2xl font-bold text-stone-900`},`Successfully Verified`),o(`p`,{class:`text-muted-foreground mt-2`},`Redirecting you to the dashboard...`)],-1),p(v,{onClick:d.redirectToApp,class:`px-8 rounded-2xl`},{default:u(()=>[...t[3]||=[n(` Enter Flow `,-1)]]),_:1},8,[`onClick`])])):l.currentStep===3?(f(),s(`div`,D,[o(`div`,O,[p(y,{class:`w-12 h-12 text-destructive`})]),t[6]||=o(`div`,{class:`text-center`},[o(`h3`,{class:`text-2xl font-bold text-destructive`},`Verification Failed`),o(`p`,{class:`text-muted-foreground mt-2`},`The link you used is invalid or has expired.`)],-1),p(v,{onClick:t[0]||=t=>e.$router.push(`/login`),variant:`outline`,class:`px-8 rounded-2xl`},{default:u(()=>[...t[5]||=[n(` Back to Login `,-1)]]),_:1})])):a(``,!0)]),_:1})]),_:1})]),_:1})]),_:1})])}var A=d(b,[[`render`,k],[`__scopeId`,`data-v-6a2ffed7`]]);export{A as default};