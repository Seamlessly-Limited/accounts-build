import"./Label-BycvDR_g.js";import{Bn as e,Fa as t,Fi as n,Hi as r,Ki as i,Li as a,Oi as o,Qn as s,Sn as c,Ui as l,Un as u,Vi as d,Wi as f,a as p,ba as m,i as h,oa as g,qi as _,s as v,ua as y,xn as b,zt as x}from"./index-CTHZVx0Q.js";import{t as S}from"./button-DTHLpYkO.js";import{t as C}from"./Input-lhwdatZg.js";import{t as w}from"./BackgroundAnimation-B6s-b0kX.js";import{t as T}from"./Card-DRBf6cFw.js";import{t as E}from"./CardContent-Cm3fNMH4.js";import{t as D}from"./CardDescription-BLJwmUmT.js";import{n as O,t as k}from"./CardTitle-zXKFwFOD.js";import{t as A}from"./Label-MW7QlMSj.js";var j=`password_reset_auth`,M={components:{Card:T,CardHeader:O,CardTitle:k,CardDescription:D,CardContent:E,Button:S,Input:C,Label:A,BackgroundAnimation:w,Check:s,CheckCircle2:u,XCircle:e,Eye:b,EyeOff:c,Loader2:x},data(){return{loading:!1,success:!1,showPassword:!1,password:``,confirmPassword:``}},computed:{hasMinLength(){return this.password.length>=8},hasNumber(){return/\d/.test(this.password)},hasSpecialChars(){let e=this.password.match(/[!@#$%^&*(),.?":{}|<>â‚¦]/g);return e&&e.length>=2},passwordsMatch(){return this.password===this.confirmPassword},canSubmit(){return this.hasMinLength&&this.hasNumber&&this.hasSpecialChars&&this.passwordsMatch&&!this.loading}},async mounted(){localStorage.getItem(j)||this.$router.push(`/password-reset`)},methods:{async changePassword(){if(!this.canSubmit)return;this.loading=!0;let e=p();try{await v.completePasswordReset(this.password),this.success=!0,localStorage.removeItem(j),setTimeout(()=>{this.$router.push(`/login`)},2300)}catch{e.toast({message:``,duration:5e3,variant:`error`}),this.loading=!1}}}},N={class:`min-h-screen flex items-center justify-center relative bg-stone-100 overflow-hidden`},P={key:0,class:`p-12 text-center space-y-4 animate-in fade-in zoom-in duration-500`},F={class:`flex justify-center`},I={class:`h-20 w-20 rounded-full bg-blue-100 flex items-center justify-center text-blue-600`},L={key:1},R={class:`grid grid-cols-1 md:grid-cols-2 gap-6`},z={class:`space-y-2`},B={class:`flex justify-between items-center`},V={class:`relative`},H={class:`space-y-2`},U={class:`flex justify-between items-center`},W={key:0},G={class:`p-5 rounded-2xl bg-gray-50/50 border border-gray-100 space-y-4`},K={class:`grid grid-cols-1 sm:grid-cols-2 gap-x-6 gap-y-3`},q={class:`flex justify-end pt-2`};function J(e,s,c,u,p,h){let v=y(`BackgroundAnimation`),b=y(`Check`),x=y(`CardTitle`),S=y(`CardDescription`),C=y(`CardHeader`),w=y(`Label`),T=y(`CheckCircle2`),E=y(`Input`),D=y(`Eye`),O=y(`EyeOff`),k=y(`XCircle`),A=y(`Loader2`),j=y(`Button`),M=y(`CardContent`),J=y(`Card`);return g(),f(`div`,N,[_(v),_(J,{class:`relative z-10 w-full max-w-2xl rounded-2xl shadow-sm border-solid border-slate-50 backdrop-blur bg-white/80 transition-all duration-500`},{default:m(()=>[p.success?(g(),f(`div`,P,[d(`div`,F,[d(`div`,I,[_(b,{class:`h-10 w-10`})])]),s[4]||=d(`div`,{class:`space-y-2`},[d(`h2`,{class:`text-3xl font-bold text-gray-900`},`Securely Updated`),d(`p`,{class:`text-gray-500 text-lg`},`Your password has been reset successfully. Redirecting to login...`)],-1),s[5]||=d(`div`,{class:`pt-8 max-w-xs mx-auto`},[d(`div`,{class:`h-1.5 w-full bg-gray-100 rounded-full overflow-hidden`},[d(`div`,{class:`h-full bg-black animate-progress-fast`})])],-1)])):(g(),f(`div`,L,[_(C,{class:`space-y-2`},{default:m(()=>[_(x,{class:`text-2xl font-semibold`},{default:m(()=>[...s[6]||=[i(`Secure your account`,-1)]]),_:1}),_(S,null,{default:m(()=>[...s[7]||=[i(`Set a stronger password to protect your account.`,-1)]]),_:1})]),_:1}),_(M,null,{default:m(()=>[d(`form`,{onSubmit:s[3]||=n((...e)=>h.changePassword&&h.changePassword(...e),[`prevent`]),class:`space-y-6 pt-6`},[d(`div`,R,[d(`div`,z,[d(`div`,B,[_(w,{for:`password`,class:`text-gray-700`},{default:m(()=>[...s[8]||=[i(`New Password`,-1)]]),_:1}),_(o,{name:`fade`},{default:m(()=>[h.hasMinLength&&h.hasNumber&&h.hasSpecialChars?(g(),r(T,{key:0,class:`h-4 w-4 text-blue-600`})):l(``,!0)]),_:1})]),d(`div`,V,[_(E,{id:`password`,modelValue:p.password,"onUpdate:modelValue":s[0]||=e=>p.password=e,type:p.showPassword?`text`:`password`,required:``,placeholder:`********`,disabled:p.loading,class:`pr-10 border-gray-200 focus:ring-black focus:border-black transition-all`},null,8,[`modelValue`,`type`,`disabled`]),d(`button`,{type:`button`,onClick:s[1]||=e=>p.showPassword=!p.showPassword,class:`absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors`},[p.showPassword?(g(),r(O,{key:1,class:`h-4 w-4`})):(g(),r(D,{key:0,class:`h-4 w-4`}))])])]),d(`div`,H,[d(`div`,U,[_(w,{for:`confirmPassword`,class:`text-gray-700`},{default:m(()=>[...s[9]||=[i(`Confirm Password`,-1)]]),_:1}),_(o,{name:`fade`},{default:m(()=>[p.confirmPassword?(g(),f(`div`,W,[h.passwordsMatch?(g(),r(T,{key:0,class:`h-4 w-4 text-blue-600`})):(g(),r(k,{key:1,class:`h-4 w-4 text-red-400`}))])):l(``,!0)]),_:1})]),_(E,{id:`confirmPassword`,modelValue:p.confirmPassword,"onUpdate:modelValue":s[2]||=e=>p.confirmPassword=e,type:`password`,required:``,placeholder:`********`,disabled:p.loading,class:`border-gray-200 focus:ring-black focus:border-black transition-all`},null,8,[`modelValue`,`disabled`])])]),d(`div`,G,[s[14]||=d(`p`,{class:`text-sm font-semibold text-gray-900`},`Password strength checklist:`,-1),d(`div`,K,[d(`div`,{class:t([`flex items-center gap-2.5 transition-all duration-300`,h.hasMinLength?`text-blue-600`:`text-gray-400`])},[_(T,{class:t([`h-4 w-4 shrink-0 transition-transform`,{"scale-110":h.hasMinLength}])},null,8,[`class`]),s[10]||=d(`span`,{class:`text-xs font-medium`},`At least 8 characters`,-1)],2),d(`div`,{class:t([`flex items-center gap-2.5 transition-all duration-300`,h.hasNumber?`text-blue-600`:`text-gray-400`])},[_(T,{class:t([`h-4 w-4 shrink-0 transition-transform`,{"scale-110":h.hasNumber}])},null,8,[`class`]),s[11]||=d(`span`,{class:`text-xs font-medium`},`At least one number`,-1)],2),d(`div`,{class:t([`flex items-center gap-2.5 transition-all duration-300`,h.hasSpecialChars?`text-blue-600`:`text-gray-400`])},[_(T,{class:t([`h-4 w-4 shrink-0 transition-transform`,{"scale-110":h.hasSpecialChars}])},null,8,[`class`]),s[12]||=d(`span`,{class:`text-xs font-medium`},`Two special symbols (!@#...)`,-1)],2),d(`div`,{class:t([`flex items-center gap-2.5 transition-all duration-300`,h.passwordsMatch&&p.password?`text-blue-600`:`text-gray-400`])},[_(T,{class:t([`h-4 w-4 shrink-0 transition-transform`,{"scale-110":h.passwordsMatch&&p.password}])},null,8,[`class`]),s[13]||=d(`span`,{class:`text-xs font-medium`},`Passwords match`,-1)],2)])]),d(`div`,q,[_(j,{type:`submit`,class:`rounded-full px-10 bg-black text-white hover:bg-gray-800 transition-all active:scale-95 disabled:opacity-30 disabled:pointer-events-none`,disabled:!h.canSubmit},{default:m(()=>[p.loading?(g(),f(a,{key:1},[_(A,{class:`h-4 w-4 animate-spin mr-2`}),s[15]||=i(` Processing... `,-1)],64)):(g(),f(a,{key:0},[i(` Update Password `)],64))]),_:1},8,[`disabled`])])],32)]),_:1})]))]),_:1})])}var Y=h(M,[[`render`,J],[`__scopeId`,`data-v-e0210a76`]]);export{Y as default};