import"./useNonce-CH1qV__9.js";import"./ConfigProvider-XiUduj9F.js";import"./useDirection-DfJQtSIT.js";import{a as e,i as t,n,o as r,r as i,t as a}from"./paperclip-BvojkzSa.js";import{t as ee}from"./send-D4dhqSm0.js";import{At as o,Bt as s,Cn as c,Ct as l,Dt as u,Gt as d,Jt as f,Mt as p,Nt as m,Ot as h,Pt as g,an as _,bn as v,bt as y,dn as b,ft as x,g as S,h as C,kt as w,m as T,pn as E,qt as D,r as O,yn as k}from"./index-NPUXaZ2c.js";import{t as A}from"./Input-R7P9vGKt.js";import{t as j}from"./button-ClT8XOp-.js";import{t as te}from"./Card-CGfcdqlZ.js";import{t as ne}from"./CardContent-Bn187geB.js";import{t as M}from"./badge-3-UecyJS.js";import{t as re}from"./Textarea-DA76B4x2.js";var N=C(`message-square`,[[`path`,{d:`M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z`,key:`18887p`}]]),P=g({__name:`ScrollBar`,props:{orientation:{default:`vertical`},forceMount:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(e){let n=e,r=x(n,`class`);return(a,ee)=>(d(),h(k(t),s(k(r),{class:k(S)(`flex touch-none select-none transition-colors`,e.orientation===`vertical`&&`h-full w-2.5 border-l border-l-transparent p-px`,e.orientation===`horizontal`&&`h-2.5 flex-col border-t border-t-transparent p-px`,n.class)}),{default:_(()=>[m(k(i),{class:`relative flex-1 rounded-full bg-border`})]),_:1},16,[`class`]))}}),F=g({__name:`ScrollArea`,props:{type:{},dir:{},scrollHideDelay:{},asChild:{type:Boolean},as:{},class:{}},setup(t){let i=t,a=x(i,`class`);return(t,ee)=>(d(),h(k(r),s(k(a),{class:k(S)(`relative overflow-hidden`,i.class)}),{default:_(()=>[m(k(n),{class:`h-full w-full rounded-[inherit]`},{default:_(()=>[f(t.$slots,`default`)]),_:3}),m(P),m(k(e))]),_:3},16,[`class`]))}}),I={class:`flex h-full border border-slate-100 rounded-sm bg-background mt-12`},L={class:`w-80 border-r border-slate-100 flex flex-col`},R={class:`p-4 border-b`},z={class:`flex items-center justify-between mb-4`},B={class:`flex items-center gap-2 mb-2`},V={class:`flex items-center gap-2 text-sm cursor-pointer text-muted-foreground hover:text-foreground`},H={key:0,class:`space-y-1`},U={class:`truncate flex-1`},W={class:`flex gap-2 pt-2`},G={class:`p-2 space-y-2`},K=[`onClick`],q={class:`flex items-start justify-between mb-2`},J={class:`font-medium text-sm line-clamp-1 flex-1`},ie={class:`text-xs text-muted-foreground line-clamp-2 mb-2`},Y={class:`flex items-center justify-between text-xs text-muted-foreground`},ae={key:0,class:`flex-1 flex flex-col`},oe={class:`p-4 border-b flex items-center justify-between`},se={class:`font-semibold`},ce={class:`text-sm text-muted-foreground`},le={class:`space-y-4`},ue={class:`text-sm`},de={key:0,class:`mt-2 space-y-1`},fe={class:`flex-1`},pe={class:`text-muted-foreground`},me={class:`text-xs opacity-70 mt-1`},he={class:`p-4 border-t`},ge={class:`flex gap-2`},X={key:1,class:`flex-1 flex items-center justify-center text-muted-foreground`},_e={class:`text-center`},Z=O(g({__name:`Support`,setup(e){let t=E([{id:`1`,title:`Login issues`,status:`OPEN`,lastMessage:`Having trouble logging in since yesterday`,createdAt:new Date(`2024-01-15`),messages:[{id:`1`,text:`Having trouble logging in since yesterday`,sender:`user`,timestamp:new Date(`2024-01-15T10:30:00`)},{id:`2`,text:`We are looking into this issue. Can you try resetting your password?`,sender:`support`,timestamp:new Date(`2024-01-15T11:15:00`)}]},{id:`2`,title:`Payment failed`,status:`PENDING`,lastMessage:`Payment processing failed multiple times`,createdAt:new Date(`2024-01-14`),messages:[{id:`1`,text:`Payment processing failed multiple times`,sender:`user`,timestamp:new Date(`2024-01-14T14:20:00`)}]},{id:`3`,title:`Feature request`,status:`RESOLVED`,lastMessage:`Thank you for the suggestion!`,createdAt:new Date(`2024-01-10`),messages:[{id:`1`,text:`Would love to see dark mode in the app`,sender:`user`,timestamp:new Date(`2024-01-10T09:45:00`)},{id:`2`,text:`Thank you for the suggestion! We have added this to our roadmap.`,sender:`support`,timestamp:new Date(`2024-01-10T10:30:00`)}]}]),n=E(null),r=E(!1),i=E(``),s=E([]),f=b({title:``,message:``,attachments:[]}),g=()=>[...t.value].sort((e,t)=>new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()),x=e=>{n.value=e,r.value=!1},S=()=>{r.value=!0,n.value=null,C()},C=()=>{f.title=``,f.message=``,f.attachments=[],s.value=[]},O=()=>{if(!f.title.trim()||!f.message.trim())return;let e={id:Date.now().toString(),title:f.title,status:`OPEN`,lastMessage:f.message,createdAt:new Date,messages:[{id:`1`,text:f.message,sender:`user`,timestamp:new Date,attachments:s.value.map(e=>({id:Math.random().toString(36).substr(2,9),name:e.name,size:ye(e.size),type:e.type}))}]};t.value.unshift(e),n.value=e,r.value=!1,C()},P=()=>{if(!i.value.trim()||!n.value)return;let e={id:Math.random().toString(36).substr(2,9),text:i.value,sender:`user`,timestamp:new Date};n.value.messages.push(e),n.value.lastMessage=i.value,i.value=``},Z=e=>{let t=e.target;t.files&&(s.value=Array.from(t.files))},ve=e=>{s.value.splice(e,1)},ye=e=>{if(e===0)return`0 Bytes`;let t=1024,n=[`Bytes`,`KB`,`MB`,`GB`],r=Math.floor(Math.log(e)/Math.log(t));return parseFloat((e/t**+r).toFixed(2))+` `+n[r]},Q=e=>{switch(e){case`OPEN`:return`default`;case`PENDING`:return`secondary`;case`RESOLVED`:return`outline`;default:return`default`}},$=e=>new Intl.DateTimeFormat(`en-US`,{month:`short`,day:`numeric`,hour:`2-digit`,minute:`2-digit`}).format(e);return(e,t)=>(d(),o(`div`,I,[u(`div`,L,[u(`div`,R,[u(`div`,z,[t[5]||=u(`h2`,{class:`text-lg font-semibold`},`Support Conversations`,-1),m(k(j),{onClick:S,size:`sm`,class:`flex items-center gap-2 px-3 rounded-full`},{default:_(()=>[...t[4]||=[p(` New `,-1)]]),_:1})]),r.value?(d(),h(k(te),{key:0,class:`mb-4`},{default:_(()=>[m(k(ne),{class:`p-4 space-y-3`},{default:_(()=>[m(k(A),{modelValue:f.title,"onUpdate:modelValue":t[0]||=e=>f.title=e,placeholder:`Issue title`,class:`w-full`},null,8,[`modelValue`]),m(k(re),{modelValue:f.message,"onUpdate:modelValue":t[1]||=e=>f.message=e,placeholder:`Describe your issue...`,class:`min-h-[80px] resize-vertical`},null,8,[`modelValue`]),u(`div`,null,[u(`div`,B,[u(`label`,V,[m(k(a),{class:`w-4 h-4`}),t[6]||=p(` Attach files `,-1),u(`input`,{type:`file`,multiple:``,class:`hidden`,onChange:Z},null,32)])]),s.value.length?(d(),o(`div`,H,[(d(!0),o(l,null,D(s.value,(e,t)=>(d(),o(`div`,{key:t,class:`flex items-center justify-between p-2 text-sm bg-muted rounded`},[u(`span`,U,c(e.name),1),m(k(j),{variant:`ghost`,size:`sm`,onClick:e=>ve(t),class:`h-6 w-6 p-0 hover:bg-destructive hover:text-destructive-foreground`},{default:_(()=>[m(k(T),{class:`w-3 h-3`})]),_:1},8,[`onClick`])]))),128))])):w(``,!0)]),u(`div`,W,[m(k(j),{onClick:O,disabled:!f.title.trim()||!f.message.trim(),class:`flex-1`},{default:_(()=>[...t[7]||=[p(` Start Conversation `,-1)]]),_:1},8,[`disabled`]),m(k(j),{variant:`outline`,onClick:t[2]||=e=>r.value=!1},{default:_(()=>[...t[8]||=[p(` Cancel `,-1)]]),_:1})])]),_:1})]),_:1})):w(``,!0)]),m(k(F),{class:`flex-1`},{default:_(()=>[u(`div`,G,[(d(!0),o(l,null,D(g(),e=>(d(),o(`div`,{key:e.id,onClick:t=>x(e),class:v([`p-3 rounded-lg border cursor-pointer transition-colors hover:bg-accent/50`,n.value?.id===e.id?`bg-accent border-primary`:`bg-background`])},[u(`div`,q,[u(`h3`,J,c(e.title),1),m(k(M),{variant:Q(e.status),class:`text-xs ml-2 shrink-0`},{default:_(()=>[p(c(e.status),1)]),_:2},1032,[`variant`])]),u(`p`,ie,c(e.lastMessage),1),u(`div`,Y,[u(`span`,null,c($(e.createdAt)),1),m(k(N),{class:`w-3 h-3`})])],10,K))),128))])]),_:1})]),n.value?(d(),o(`div`,ae,[u(`div`,oe,[u(`div`,null,[u(`h3`,se,c(n.value.title),1),u(`p`,ce,` Created `+c($(n.value.createdAt)),1)]),m(k(M),{variant:Q(n.value.status)},{default:_(()=>[p(c(n.value.status),1)]),_:1},8,[`variant`])]),m(k(F),{class:`flex-1 p-4`},{default:_(()=>[u(`div`,le,[(d(!0),o(l,null,D(n.value.messages,e=>(d(),o(`div`,{key:e.id,class:v([`flex max-w-[80%]`,e.sender===`user`?`ml-auto justify-end`:`mr-auto`])},[u(`div`,{class:v([`rounded-lg px-4 py-2`,e.sender===`user`?`bg-primary text-primary-foreground`:`bg-muted`])},[u(`p`,ue,c(e.text),1),e.attachments?(d(),o(`div`,de,[(d(!0),o(l,null,D(e.attachments,e=>(d(),o(`div`,{key:e.id,class:`flex items-center gap-2 p-2 bg-background/50 rounded text-xs`},[m(k(a),{class:`w-3 h-3`}),u(`span`,fe,c(e.name),1),u(`span`,pe,c(e.size),1)]))),128))])):w(``,!0),u(`p`,me,c($(e.timestamp)),1)],2)],2))),128))])]),_:1}),u(`div`,he,[u(`div`,ge,[m(k(A),{modelValue:i.value,"onUpdate:modelValue":t[3]||=e=>i.value=e,placeholder:`Type your message...`,onKeypress:y(P,[`enter`]),class:`flex-1 rounded-full`},null,8,[`modelValue`]),m(k(j),{onClick:P,disabled:!i.value.trim(),class:`rounded-full`},{default:_(()=>[m(k(ee),{class:`w-4 h-4`})]),_:1},8,[`disabled`])])])])):(d(),o(`div`,X,[u(`div`,_e,[m(k(N),{class:`w-12 h-12 mx-auto mb-4 opacity-50`}),t[9]||=u(`p`,null,`Select a conversation or start a new one`,-1)])]))]))}}),[[`__scopeId`,`data-v-3e6cc9d0`]]);export{Z as default};