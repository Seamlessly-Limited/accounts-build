import"./useFormControl-BWOmmYiS.js";import"./nullish-CfjOSA4G.js";import"./CheckboxIndicator-Blzh6aVh.js";import"./ConfigProvider-BwNXqMge.js";import"./useDirection-DYJPYRsI.js";import"./useId-BEfc-0Pq.js";import"./utils-DlRpuNf9.js";import"./RovingFocusGroup-DqYe3043.js";import"./RovingFocusItem-DGQRTR_g.js";import"./VisuallyHiddenInput-DK27W3yR.js";import"./Label-BycvDR_g.js";import{Fa as e,Hi as t,Ki as n,Li as r,Oa as i,Pa as a,Ra as o,U as s,Vi as c,Wi as l,Yi as u,a as d,b as f,ba as p,bn as m,ca as h,i as g,nt as _,o as v,oa as y,qi as b,r as x,zt as S}from"./index-CTHZVx0Q.js";import{t as C}from"./button-DTHLpYkO.js";import{t as w}from"./Input-lhwdatZg.js";import{t as T}from"./BackgroundAnimation-B6s-b0kX.js";import{t as E}from"./Card-DRBf6cFw.js";import{t as D}from"./CardContent-Cm3fNMH4.js";import{t as O}from"./CardDescription-BLJwmUmT.js";import{n as k,t as A}from"./CardTitle-zXKFwFOD.js";import{t as j}from"./Label-MW7QlMSj.js";import{t as M}from"./Textarea-B0oEpfYv.js";import{t as N}from"./badge-DhOUhkIE.js";import{t as P}from"./Checkbox-CZRPDl7O.js";var F={createFeedback(e){return v.post(`/feedback`,{data:e})}},I={class:`fixed w-full h-full overflow-y-scroll bg-[radial-gradient(ellipse_at_bottom,_var(--tw-gradient-stops))] from-slate-950/95 to-slate-900 from-5% scrollbar-hide`},L={class:`py-20`},R={key:0,class:`p-4 mb-6 text-sm text-green-800 bg-green-50 rounded-lg border border-green-200`},z={key:1},B={class:`mb-6`},V={class:`flex flex-row gap-2 w-full overflow-x-scroll`,style:{"scrollbar-width":`none`}},H={class:`mb-6`},U={class:`mb-6`},W={class:`flex items-start space-x-2 mb-6 p-4 bg-muted/30 rounded-lg`},G={class:`grid gap-1.5`},K={class:`flex gap-3`},q=g(u({__name:`Feedback`,setup(u){let g=i({rating:null,message:``,email:``,allowContact:!1}),v=i(!1),q=i(!1),J=d(),Y=[{value:1,label:`Very Poor`},{value:2,label:`Poor`},{value:3,label:`Average`},{value:4,label:`Good`},{value:5,label:`Excellent`}],X=async()=>{if(!(!g.value.rating||!g.value.message.trim())){v.value=!0;try{await F.createFeedback(g.value),q.value=!0,J.toast({message:`Thank you for your feedback!`,variant:`success`,duration:5e3})}catch{J.toast({message:`Failed to submit feedback. Please try again.`,variant:`error`,duration:5e3})}finally{v.value=!1}}},Z=()=>{g.value={rating:null,message:``,email:``,allowContact:!1},q.value=!1},Q=x(),$=()=>{try{return Q.back()}catch{Q.push(`/`)}};return(i,u)=>(y(),l(`div`,I,[b(T),c(`div`,L,[b(a(E),{class:`w-11/12 max-w-2xl mx-auto relative border-white border-8 bg-stone-50`},{default:p(()=>[u[15]||=c(`div`,{class:`absolute`},null,-1),c(`span`,{onClick:$,class:`absolute z-50 right-1.5 top-1 border border-slate-200 p-1 cursor-pointer bg-white rounded-full ring-offset-background transition-opacity hover:border-slate-500 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none bg-accent text-muted-foreground`},[b(a(f),{class:`w-4 h-4`}),u[3]||=c(`span`,{class:`sr-only`},`Close`,-1)]),b(a(k),null,{default:p(()=>[b(a(A),{class:`flex items-center gap-2`},{default:p(()=>[b(a(m),{class:`w-5 h-5`}),u[4]||=n(` Product Feedback `,-1)]),_:1}),b(a(O),null,{default:p(()=>[...u[5]||=[n(` Help us improve Seamlessly by sharing your thoughts and experience with us. `,-1)]]),_:1})]),_:1}),b(a(D),null,{default:p(()=>[q.value?(y(),l(`div`,R,[...u[6]||=[c(`div`,{class:`flex items-center gap-2`},[c(`span`,{class:`font-medium`},`Thank you for your feedback!`)],-1),c(`p`,{class:`mt-1 text-green-700`},` We appreciate you taking the time to help us improve. `,-1)]])):(y(),l(`div`,z,[c(`div`,B,[b(a(j),{class:`text-sm font-medium mb-3 block`},{default:p(()=>[...u[7]||=[n(` How would you rate your experience? * `,-1)]]),_:1}),c(`div`,V,[(y(),l(r,null,h(Y,t=>b(a(C),{key:t.value,type:`button`,variant:`outline`,size:`sm`,class:e([`flex items-center gap-2 transition-all pe-1 rounded-full`,g.value.rating===t.value?`bg-primary text-primary-foreground border-primary`:`hover:bg-accent`]),onClick:e=>g.value.rating=t.value},{default:p(()=>[b(a(s),{class:e([`w-4 h-4`,g.value.rating===t.value?`fill-current`:``])},null,8,[`class`]),n(` `+o(t.value)+` `,1),b(a(N),{variant:`secondary`,class:e([`ml-1 text-xs`,g.value.rating===t.value?`bg-primary-foreground text-primary`:``])},{default:p(()=>[n(o(t.label),1)]),_:2},1032,[`class`])]),_:2},1032,[`class`,`onClick`])),64))])]),c(`div`,H,[b(a(j),{for:`feedback-message`,class:`text-sm font-medium mb-3 block`},{default:p(()=>[...u[8]||=[n(` Your Feedback * `,-1)]]),_:1}),b(a(M),{id:`feedback-message`,modelValue:g.value.message,"onUpdate:modelValue":u[0]||=e=>g.value.message=e,placeholder:`What did you like? What can we improve? Any specific features you'd like to see?`,class:`min-h-[120px] resize-vertical rounded-sm`,disabled:v.value},null,8,[`modelValue`,`disabled`])]),c(`div`,U,[b(a(j),{for:`email`,class:`text-sm font-medium mb-3 block`},{default:p(()=>[...u[9]||=[n(` Email Address (Optional) `,-1)]]),_:1}),b(a(w),{id:`email`,modelValue:g.value.email,"onUpdate:modelValue":u[1]||=e=>g.value.email=e,type:`email`,placeholder:`your.email@example.com`,class:`rounded-full`,disabled:v.value},null,8,[`modelValue`,`disabled`]),u[10]||=c(`p`,{class:`text-xs text-muted-foreground mt-2`},` We'll only use this to follow up on your feedback if you allow contact. `,-1)]),c(`div`,W,[b(a(P),{id:`allow-contact`,checked:g.value.allowContact,"onUpdate:checked":u[2]||=e=>g.value.allowContact=e,disabled:v.value},null,8,[`checked`,`disabled`]),c(`div`,G,[b(a(j),{for:`allow-contact`,class:`text-sm font-medium cursor-pointer`},{default:p(()=>[...u[11]||=[n(` Allow us to contact you about this feedback `,-1)]]),_:1}),u[12]||=c(`p`,{class:`text-xs text-muted-foreground`},` If checked, we may reach out to you via email to learn more about your experience and discuss how we can improve. `,-1)])]),c(`div`,K,[b(a(C),{type:`submit`,disabled:!g.value.rating||!g.value.message.trim()||v.value,class:`flex-1 rounded-full`,onClick:X},{default:p(()=>[v.value?(y(),t(a(S),{key:0,class:`w-4 h-4 mr-2 animate-spin`})):(y(),t(a(_),{key:1,class:`w-4 h-4 mr-2`})),n(` `+o(v.value?`Submitting...`:`Submit Feedback`),1)]),_:1},8,[`disabled`]),b(a(C),{class:`rounded-full`,type:`button`,variant:`outline`,disabled:v.value,onClick:Z},{default:p(()=>[...u[13]||=[n(` Reset `,-1)]]),_:1},8,[`disabled`])]),u[14]||=c(`div`,{class:`mt-4 p-3 bg-muted/20 rounded-lg`},[c(`p`,{class:`text-xs text-muted-foreground`},[c(`strong`,null,`Note:`),n(` Fields marked with * are required. Your feedback helps us understand what's working well and where we can improve. `)])],-1)]))]),_:1})]),_:1})])]))}}),[[`__scopeId`,`data-v-99edabbc`]]);export{q as default};