import{Ai as e,Gi as t,In as n,Ni as r,Nn as i,Oi as a,Pi as o,Ta as s,Yi as c,ha as l,ji as u,n as d,o as f,qi as p,tn as m,wi as h,xa as g}from"./index-DUz5oLRf.js";var _={class:`min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8 font-sans`},v={class:`sm:mx-auto sm:w-full sm:max-w-3xl`},y={key:0,class:`bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10 text-center`},b={key:1,class:`bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10 text-center`},x={class:`mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100 mb-4`},S={class:`mt-2 text-sm text-gray-500`},C={key:2,class:`bg-white shadow sm:rounded-lg overflow-hidden`},w={class:`px-4 py-5 sm:px-6 bg-gray-50 border-b border-gray-200 flex justify-between items-center`},T={class:`text-lg leading-6 font-medium text-gray-900 flex items-center gap-2`},E={class:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800`},D={class:`border-t border-gray-200 px-4 py-5 sm:p-0`},O={class:`sm:divide-y sm:divide-gray-200`},k={key:0,class:`py-4 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6 hover:bg-gray-50 transition-colors`},A={class:`text-sm font-medium text-gray-500`},j={class:`mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2 break-words`},M={__name:`PublicDocView`,setup(M){let N=d(),P=l(!0),F=l(null),I=l(null),L=l(null),R=async()=>{P.value=!0,F.value=null;try{let e=N.params.token,t=await f.get(`/public/d/${e}`,{authorizeRequest:!1});t&&t.flag===`SUCCESS`?(I.value=t.data,L.value=t.meta):F.value=t?.message||`Failed to load document`}catch(e){console.error(e),F.value=e.response?.data?.message||`Invalid or expired link`}finally{P.value=!1}};t(()=>{R()});let z=e=>e.replace(/_/g,` `).replace(/\b\w/g,e=>e.toUpperCase()),B=e=>[`name`,`owner`,`creation`,`modified`,`modified_by`,`docstatus`,`parent`,`parentfield`,`parenttype`,`idx`].includes(e);return(t,l)=>(p(),u(`div`,_,[a(`div`,v,[l[5]||=a(`div`,{class:`text-center mb-8`},[a(`img`,{class:`mx-auto h-12 w-auto filter grayscale opacity-80`,src:`/img/logo.png`,alt:`Seamlessly`})],-1),P.value?(p(),u(`div`,y,[...l[0]||=[a(`div`,{class:`animate-pulse flex flex-col items-center`},[a(`div`,{class:`h-12 w-12 bg-gray-200 rounded-full mb-4`}),a(`div`,{class:`h-4 w-48 bg-gray-200 rounded mb-2`}),a(`div`,{class:`h-3 w-32 bg-gray-200 rounded`})],-1)]])):F.value?(p(),u(`div`,b,[a(`div`,x,[o(g(n),{class:`h-6 w-6 text-red-600`})]),l[1]||=a(`h3`,{class:`text-lg leading-6 font-medium text-gray-900`},`Access Denied`,-1),a(`p`,S,s(F.value),1)])):(p(),u(`div`,C,[a(`div`,w,[a(`div`,null,[a(`h3`,T,[o(g(m),{class:`h-5 w-5 text-gray-400`}),r(` `+s(I.value.name),1)]),l[2]||=a(`p`,{class:`mt-1 max-w-2xl text-sm text-gray-500`},` Shared Document `,-1)]),a(`span`,E,[o(g(i),{class:`mr-1 h-3 w-3`}),l[3]||=r(` Verified `,-1)])]),a(`div`,D,[a(`dl`,O,[(p(!0),u(h,null,c(I.value,(t,n)=>(p(),u(h,{key:n},[!B(n)&&t?(p(),u(`div`,k,[a(`dt`,A,s(z(n)),1),a(`dd`,j,s(t),1)])):e(``,!0)],64))),128))])]),l[4]||=a(`div`,{class:`px-4 py-4 sm:px-6 bg-gray-50 border-t border-gray-200 text-xs text-gray-400 text-center`},` Powered by Seamlessly using secure public access. `,-1)]))])]))}};export{M as default};