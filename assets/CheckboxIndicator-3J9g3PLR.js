import{t as e}from"./ohash.D__AXeF1-CGofPpTT.js";import{t}from"./nullish-CfjOSA4G.js";import{t as n}from"./useFormControl-B9IqKiyX.js";import{t as r}from"./RovingFocusItem-kI8N9ali.js";import{t as i}from"./VisuallyHiddenInput-CLl_KtnM.js";import{B as a,D as o,Dt as s,Et as c,N as l,Nt as u,Qt as d,Rt as f,St as p,Ut as m,Vt as h,fn as g,k as _,mt as v,pt as y,tt as b,xt as x,yt as S}from"./index-BQW5AyZv.js";function C(n,r){return t(n)?!1:Array.isArray(n)?n.some(t=>e(t,r)):e(n,r)}var[w,T]=b(`CheckboxGroupRoot`);function E(e){return e===`indeterminate`}function D(e){return E(e)?`indeterminate`:e?`checked`:`unchecked`}var[O,k]=b(`CheckboxRoot`),A=s({inheritAttrs:!1,__name:`CheckboxRoot`,props:{defaultValue:{type:[Boolean,String],required:!1},modelValue:{type:[Boolean,String,null],required:!1,default:void 0},disabled:{type:Boolean,required:!1},value:{type:null,required:!1,default:`on`},id:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:`button`},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:[`update:modelValue`],setup(s,{emit:c}){let _=s,b=c,{forwardRef:T,currentElement:O}=l(),A=w(null),j=a(_,`modelValue`,b,{defaultValue:_.defaultValue,passive:_.modelValue===void 0}),M=S(()=>A?.disabled.value||_.disabled),N=S(()=>t(A?.modelValue.value)?j.value===`indeterminate`?`indeterminate`:j.value:C(A.modelValue.value,_.value));function P(){if(t(A?.modelValue.value))j.value=E(j.value)?!0:!j.value;else{let t=[...A.modelValue.value||[]];if(C(t,_.value)){let n=t.findIndex(t=>e(t,_.value));t.splice(n,1)}else t.push(_.value);A.modelValue.value=t}}let F=n(O),I=S(()=>_.id&&O.value?document.querySelector(`[for="${_.id}"]`)?.innerText:void 0);return k({disabled:M,state:N}),(e,t)=>(f(),x(m(g(A)?.rovingFocus.value?g(r):g(o)),u(e.$attrs,{id:e.id,ref:g(T),role:`checkbox`,"as-child":e.asChild,as:e.as,type:e.as===`button`?`button`:void 0,"aria-checked":g(E)(N.value)?`mixed`:N.value,"aria-required":e.required,"aria-label":e.$attrs[`aria-label`]||I.value,"data-state":g(D)(N.value),"data-disabled":M.value?``:void 0,disabled:M.value,focusable:g(A)?.rovingFocus.value?!M.value:void 0,onKeydown:y(v(()=>{},[`prevent`]),[`enter`]),onClick:P}),{default:d(()=>[h(e.$slots,`default`,{modelValue:g(j),state:N.value}),g(F)&&e.name&&!g(A)?(f(),x(g(i),{key:0,type:`checkbox`,checked:!!N.value,name:e.name,value:e.value,disabled:M.value,required:e.required},null,8,[`checked`,`name`,`value`,`disabled`,`required`])):p(`v-if`,!0)]),_:3},16,[`id`,`as-child`,`as`,`type`,`aria-checked`,`aria-required`,`aria-label`,`data-state`,`data-disabled`,`disabled`,`focusable`,`onKeydown`]))}}),j=s({__name:`CheckboxIndicator`,props:{forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:`span`}},setup(e){let{forwardRef:t}=l(),n=O();return(e,r)=>(f(),x(g(_),{present:e.forceMount||g(E)(g(n).state.value)||g(n).state.value===!0},{default:d(()=>[c(g(o),u({ref:g(t),"data-state":g(D)(g(n).state.value),"data-disabled":g(n).disabled.value?``:void 0,style:{pointerEvents:`none`},"as-child":e.asChild,as:e.as},e.$attrs),{default:d(()=>[h(e.$slots,`default`)]),_:3},16,[`data-state`,`data-disabled`,`as-child`,`as`])]),_:3},8,[`present`]))}});export{A as n,j as t};