import"./useFormControl-BUeRR8ws.js";import"./useNonce-A3DG0I5d.js";import"./nullish-CfjOSA4G.js";import"./useArrowNavigation-siWGBYoD.js";import"./ConfigProvider-CjeiZORM.js";import"./useHideOthers-BZr43-2a.js";import"./PopoverTrigger-Dr_6iFZM.js";import{t as e}from"./useDirection-omVKeWCW.js";import"./PopperAnchor-Bn9fO7QQ.js";import"./useId-DfGyiNma.js";import"./useKbd-BvGB3m10.js";import"./PopperContent-ULdTR4NQ.js";import"./useTypeahead-DDqMy18N.js";import"./DialogPortal-CwfqAz4S.js";import"./Teleport-kyzT_9hu.js";import"./utils-DUPUPfs8.js";import"./DialogTitle-BuJgoH9Z.js";import"./utils-DtgOUvbf.js";import"./RovingFocusGroup-dKe4QrSY.js";import{c as t,l as n,o as r,s as i,u as a}from"./DropdownMenuTrigger-Bf0ty0Jy.js";import{t as o}from"./MenuSeparator-CE9DtT8D.js";import"./SelectViewport-DIJL5JzE.js";import{$i as s,Ai as c,Bi as l,Br as u,Bt as d,En as ee,F as te,Fa as f,Fi as p,G as ne,Gr as m,Gt as re,Hi as h,Ia as g,It as ie,Ji as ae,Ki as _,Kr as v,La as oe,Li as y,Ma as b,Mi as se,Nn as ce,Oa as x,Or as S,Pa as C,Pi as le,Qn as ue,Ra as w,Sn as de,Tr as fe,Ui as T,Ut as pe,Vi as E,Wi as D,Wr as O,Yi as k,Zi as A,Zn as me,b as he,ba as j,ca as M,da as ge,et as _e,h as ve,ha as N,hi as P,ia as F,it as ye,j as be,ji as xe,la as I,mt as Se,n as Ce,na as L,o as R,oa as z,qi as B,qr as we,r as Te,ta as V,tt as Ee,ut as De,wi as H,xa as U}from"./index-Caanq2Pw.js";import{n as Oe,t as ke}from"./DialogContent-CWtdQqVs.js";import{n as Ae,r as je,t as Me}from"./DialogTitle-Cxe_WBC-.js";import{t as Ne}from"./DialogFooter-DAClagmg.js";import"./button-ByjIr43L.js";import{t as Pe}from"./WorkspaceStore-c1j8aQzy.js";import{t as Fe}from"./Input-BqTp7zeg.js";import{i as Ie,n as W,r as Le,t as Re}from"./DropdownMenuTrigger-Bj5bdVEL.js";import"./button-CftfoJKm.js";import{t as ze}from"./viewRegistry-Cbsgq95k.js";import{t as Be}from"./DateField-CmAxNkWw.js";import{a as Ve,i as He,n as Ue,r as We,t as Ge}from"./SelectValue-BiNo_ZDO.js";var[Ke,qe]=P(`ContextMenuRoot`),Je=k({inheritAttrs:!1,__name:`ContextMenuRoot`,props:{pressOpenDelay:{type:Number,required:!1,default:700},dir:{type:String,required:!1},modal:{type:Boolean,required:!1,default:!0}},emits:[`update:open`],setup(t,{emit:r}){let i=t,a=r,{dir:o,modal:s,pressOpenDelay:c}=b(i);v();let l=e(o),u=x(!1),d=x();return qe({open:u,onOpenChange:e=>{u.value=e},dir:l,modal:s,triggerElement:d,pressOpenDelay:c}),N(u,e=>{a(`update:open`,e)}),(e,t)=>(z(),h(C(n),{open:u.value,"onUpdate:open":t[0]||=e=>u.value=e,dir:C(l),modal:C(s)},{default:j(()=>[I(e.$slots,`default`)]),_:3},8,[`open`,`dir`,`modal`]))}}),G=k({__name:`ContextMenuContent`,props:{forceMount:{type:Boolean,required:!1},loop:{type:Boolean,required:!1},sideFlip:{type:Boolean,required:!1},alignOffset:{type:Number,required:!1,default:0},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1,default:!0},collisionBoundary:{type:null,required:!1,default:()=>[]},collisionPadding:{type:[Number,Object],required:!1,default:0},sticky:{type:String,required:!1,default:`partial`},hideWhenDetached:{type:Boolean,required:!1,default:!1},positionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:[`escapeKeyDown`,`pointerDownOutside`,`focusOutside`,`interactOutside`,`closeAutoFocus`],setup(e,{emit:t}){let n=O(e,t);v();let r=Ke(),a=x(!1);return(e,t)=>(z(),h(C(i),V(C(n),{side:`right`,"side-offset":2,align:`start`,"update-position-strategy":`always`,style:{"--reka-context-menu-content-transform-origin":`var(--reka-popper-transform-origin)`,"--reka-context-menu-content-available-width":`var(--reka-popper-available-width)`,"--reka-context-menu-content-available-height":`var(--reka-popper-available-height)`,"--reka-context-menu-trigger-width":`var(--reka-popper-anchor-width)`,"--reka-context-menu-trigger-height":`var(--reka-popper-anchor-height)`},onCloseAutoFocus:t[0]||=e=>{!e.defaultPrevented&&a.value&&e.preventDefault(),a.value=!1},onInteractOutside:t[1]||=e=>{e.detail.originalEvent.button===2&&e.target===C(r).triggerElement.value&&e.preventDefault(),!e.defaultPrevented&&!C(r).modal.value&&(a.value=!0)}}),{default:j(()=>[I(e.$slots,`default`)]),_:3},16))}}),K=k({__name:`ContextMenuItem`,props:{disabled:{type:Boolean,required:!1},textValue:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:[`select`],setup(e,{emit:n}){let r=e,i=we(n);return v(),(e,n)=>(z(),h(C(t),g(A({...r,...C(i)})),{default:j(()=>[I(e.$slots,`default`)]),_:3},16))}}),q=k({__name:`ContextMenuPortal`,props:{to:{type:null,required:!1},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(e){let t=e;return(e,n)=>(z(),h(C(r),g(A(t)),{default:j(()=>[I(e.$slots,`default`)]),_:3},16))}}),J=k({__name:`ContextMenuSeparator`,props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){let t=e;return v(),(e,n)=>(z(),h(C(o),g(A(t)),{default:j(()=>[I(e.$slots,`default`)]),_:3},16))}});function Y(e){return e.pointerType!==`mouse`}var X=k({inheritAttrs:!1,__name:`ContextMenuTrigger`,props:{disabled:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:`span`}},setup(e){let{disabled:t}=b(e),{forwardRef:n,currentElement:r}=v(),i=Ke(),o=x({x:0,y:0}),s=l(()=>({getBoundingClientRect:()=>({width:0,height:0,left:o.value.x,right:o.value.x,top:o.value.y,bottom:o.value.y,...o.value})})),c=x(0);function d(){window.clearTimeout(c.value)}function ee(e){o.value={x:e.clientX,y:e.clientY},i.onOpenChange(!0)}async function te(e){t.value||(await L(),e.defaultPrevented||(d(),ee(e),e.preventDefault()))}async function f(e){t.value||(await L(),Y(e)&&!e.defaultPrevented&&(d(),c.value=window.setTimeout(()=>ee(e),i.pressOpenDelay.value)))}async function p(e){t.value||(await L(),Y(e)&&!e.defaultPrevented&&d())}return F(()=>{r.value&&(i.triggerElement.value=r.value)}),(e,r)=>(z(),D(y,null,[B(C(a),{as:`template`,reference:s.value},null,8,[`reference`]),B(C(u),V({ref:C(n),as:e.as,"as-child":e.asChild,"data-state":C(i).open.value?`open`:`closed`,"data-disabled":C(t)?``:void 0,style:{WebkitTouchCallout:`none`,pointerEvents:`auto`}},e.$attrs,{onContextmenu:te,onPointerdown:f,onPointermove:p,onPointercancel:p,onPointerup:p}),{default:j(()=>[I(e.$slots,`default`)]),_:3},16,[`as`,`as-child`,`data-state`,`data-disabled`])],64))}}),Ye=k({__name:`ContextMenu`,props:{pressOpenDelay:{},dir:{},modal:{type:Boolean}},emits:[`update:open`],setup(e,{emit:t}){let n=O(e,t);return(e,t)=>(z(),h(C(Je),g(A(C(n))),{default:j(()=>[I(e.$slots,`default`)]),_:3},16))}}),Xe=k({__name:`ContextMenuContent`,props:{forceMount:{type:Boolean},loop:{type:Boolean},sideFlip:{type:Boolean},alignOffset:{},alignFlip:{type:Boolean},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{},class:{}},emits:[`escapeKeyDown`,`pointerDownOutside`,`focusOutside`,`interactOutside`,`closeAutoFocus`],setup(e,{emit:t}){let n=e,r=t,i=H(n,`class`),a=O(i,r);return(e,t)=>(z(),h(C(q),null,{default:j(()=>[B(C(G),V(C(a),{class:C(S)(`z-50 min-w-32 overflow-hidden bg-stone-50 border-2 rounded-[8px] p-1 text-popover-foreground shadow-md border-white data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95`,n.class)}),{default:j(()=>[I(e.$slots,`default`)]),_:3},16,[`class`])]),_:3}))}}),Z=k({__name:`ContextMenuItem`,props:{disabled:{type:Boolean},textValue:{},asChild:{type:Boolean},as:{},class:{},inset:{type:Boolean}},setup(e){let t=e,n=H(t,`class`,`inset`),r=m(n);return(n,i)=>(z(),h(C(K),V(C(r),{class:C(S)(`relative flex cursor-pointer select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50`,e.inset&&`pl-8`,t.class)}),{default:j(()=>[I(n.$slots,`default`)]),_:3},16,[`class`]))}}),Ze=k({__name:`ContextMenuSeparator`,props:{asChild:{type:Boolean},as:{},class:{}},setup(e){let t=e,n=H(t,`class`),r=m(n);return(e,n)=>(z(),h(C(J),V(C(r),{class:C(S)(`-mx-1 my-1 h-px bg-border`,t.class)}),null,16,[`class`]))}}),Qe=k({__name:`ContextMenuTrigger`,props:{disabled:{type:Boolean},asChild:{type:Boolean},as:{}},setup(e){let t=m(e);return(e,n)=>(z(),h(C(X),g(A(C(t))),{default:j(()=>[I(e.$slots,`default`)]),_:3},16))}}),$e={key:1,class:`h-full flex flex-col`},et={class:`flex-none px-6 py-4 border-b border-gray-100 flex items-center justify-between`},tt={class:`flex items-center space-x-4`},nt={class:`text-xl font-bold text-gray-900`},rt={class:`text-sm text-gray-500`},it={class:`flex items-center space-x-3`},at={key:0,class:`flex items-center space-x-2 mr-4 bg-gray-100 px-3 py-1.5 rounded-full animate-in fade-in slide-in-from-right-4 duration-300`},ot={class:`text-sm font-medium text-gray-600`},st={class:`px-3 py-1 bg-white border border-gray-200 rounded-full text-sm font-medium hover:bg-gray-50 flex items-center gap-1`},ct=[`disabled`],lt={class:`px-6 py-3 bg-gray-50 border-b border-gray-100 flex items-center gap-4 overflow-x-auto no-scrollbar`},ut={class:`flex-none`},dt={class:`relative`},ft={class:`flex items-center gap-2`},pt={class:`text-xs font-medium text-gray-500 uppercase tracking-tight`},mt=[`onUpdate:modelValue`],ht=[`onUpdate:modelValue`],gt=[`value`],_t={key:2,class:`w-32`},vt=[`onUpdate:modelValue`],yt={class:`flex-1 overflow-auto p-6`},bt={key:0,class:`flex justify-center items-center h-64`},xt={key:1,class:`bg-red-50 text-red-600 p-4 rounded-lg`},St={key:2,class:`bg-white rounded-xl border border-gray-100 shadow-sm overflow-hidden`},Ct={class:`min-w-full divide-y divide-gray-200`},wt={class:`bg-gray-50`},Tt={class:`px-6 py-3 text-left w-4`},Et=[`checked`],Dt={class:`bg-white divide-y divide-gray-200`},Ot=[`onClick`],kt=[`value`],At={class:`px-6 py-4 whitespace-nowrap text-right text-sm text-gray-500`},jt={class:`text-gray-400 hover:text-gray-600 p-1 rounded-full hover:bg-gray-100`},Mt={key:0},Nt=[`colspan`],Pt={class:`space-y-4 py-4`},Ft={class:`space-y-2`},It={key:0,class:`space-y-2`},Lt={key:3,class:`flex items-center space-x-2`},Rt=[`disabled`],zt={class:`space-y-4 py-4`},Bt={class:`flex items-center space-x-2`},Vt={class:`flex-1 relative`},Ht=[`value`],Ut={class:`border-t border-gray-100 pt-4`},Wt={class:`flex items-center gap-2`},Q={__name:`DocList`,props:{doctype:{type:String,default:null}},setup(e){let{toast:t}=ve(),n=e,r=Ce(),i=Te(),a=l(()=>n.doctype||r.params.doctype),o=JSON.parse(localStorage.getItem(`organisation`)||`{}`),u=Pe(),m=x([]),g=l(()=>K.value.length>0&&m.value.length===K.value.length),v=x({}),b=x(``),S=null,O=l(()=>(G.value.fields||[]).filter(e=>e.in_filter)),k=l(()=>Object.keys(v.value).some(e=>!!v.value[e])||!!b.value),A=()=>{v.value={},b.value=``,$()},P=x(!1),F=x(!1),I=x(``),L=x(``),we=l(()=>(G.value.fields||[]).filter(e=>e.allow_bulk_edit&&![`TABLE`,`SECTION_BREAK`,`COLUMN_BREAK`,`READ_ONLY`].includes(e.fieldtype))),V=l(()=>we.value.find(e=>e.fieldname===I.value)),H=l(()=>V.value?.fieldtype),Ke=l(()=>{let e=V.value?.options;return e?e.split(`
`):[]}),qe=l(()=>o.role!==`OWNER`||!G.value?.name||a.value===`DocType`||G.value.name===`DocType`?!1:G.value.module!==`System`),Je=l(()=>{if(!a.value)return null;let e=ze(a.value,`list`);return e?ae(e):null}),G=x({}),K=x([]),q=x(!0),J=x(null),Y=x(!1),X=x(``),Q=x(``),Gt=x(!1),Kt=x(null),qt=s(`openDocSheet`);function Jt(){g.value?m.value=[]:m.value=K.value.map(e=>e.name)}async function Yt(){if(!(!I.value||m.value.length===0)){F.value=!0;try{let e={filters:{name__in:m.value},updates:{[I.value]:L.value}};await R.post(`/org/doc/${a.value}/bulk-update`,{data:e,authorizeRequest:!0,organisationAware:!0}),t({title:`Bulk Update Successful`,description:`Updated ${m.value.length} documents.`,variant:`success`}),P.value=!1,m.value=[],await $()}catch(e){console.error(e),t({title:`Bulk Update Failed`,description:e.message,variant:`destructive`})}finally{F.value=!1}}}async function Xt(){if(confirm(`Are you sure you want to submit ${m.value.length} documents?`))try{let e={filters:{name__in:m.value},updates:{docstatus:1}};await R.post(`/org/doc/${a.value}/bulk-update`,{data:e,authorizeRequest:!0,organisationAware:!0}),t({title:`Bulk Submission Successful`,description:`Submitted ${m.value.length} documents.`,variant:`success`}),m.value=[],await $()}catch(e){console.error(e),t({title:`Bulk Action Failed`,description:e.message,variant:`destructive`})}}async function Zt(){if(confirm(`Are you sure you want to delete ${m.value.length} documents? This action is irreversible.`))try{for(let e of m.value)await R.delete(`/org/doc/${a.value}/${e}`,{authorizeRequest:!0,organisationAware:!0});t({title:`Bulk Delete Successful`,description:`Deleted ${m.value.length} documents.`,variant:`default`}),m.value=[],await $()}catch(e){console.error(e)}}function Qt(){qt?qt(a.value,`new`,e=>{$()}):i.push(`/app/${a.value}/new`)}function $t(e){u.openTab({id:`doctype-view-${a.value}-${e}`,title:e,icon:G.value.icon||`FileText`,type:`doctype-view`,doctype:a.value,docName:e,isNew:!1,closable:!0})}function en(){u.openTab({id:`doctype-form-DocType-${a.value}`,title:`Edit ${a.value}`,icon:`Settings`,type:`doctype-form`,doctype:`DocType`,docName:a.value,isNew:!1,closable:!0})}function tn(e){let t=window.location.origin;X.value=e,Q.value=`${t}/app/${encodeURIComponent(a.value)}/${encodeURIComponent(e)}`,Gt.value=!1,Y.value=!0}function nn(e){let t=`/app/${encodeURIComponent(a.value)}/${encodeURIComponent(e)}/print`;window.open(t,`_blank`)}function rn(){navigator.clipboard.writeText(Q.value).then(()=>{Gt.value=!0,t({title:`Link Copied`,description:`The share link has been copied to your clipboard.`,variant:`success`}),setTimeout(()=>{Gt.value=!1},2e3)}).catch(()=>{t({title:`Copy Failed`,description:`Could not copy link. Please select and copy manually.`,variant:`destructive`})})}function an(e){let t=`Check out this ${G.value.name||a.value}: ${X.value}`,n=Q.value,r=``;switch(e){case`twitter`:r=`https://twitter.com/intent/tweet?text=${encodeURIComponent(t)}&url=${encodeURIComponent(n)}`;break;case`linkedin`:r=`https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(n)}`;break;case`email`:r=`mailto:?subject=${encodeURIComponent(t)}&body=${encodeURIComponent(`View the document here: ${n}`)}`;break}r&&window.open(r,`_blank`,`noopener,noreferrer`)}function on(e){u.openTab({id:`archive-${a.value}-${e}`,title:`Archive: ${e}`,icon:`Archive`,type:`archive`,doctype:a.value,docName:e,closable:!0})}let sn=l(()=>{if(!G.value.fields)return[];let e=G.value.list_view_fields||[];if(e.length>0)return e;let t=G.value.title_field||`name`,n=G.value.fields.filter(e=>e.in_list_view).slice(0,4);if(n.length===0){let e=G.value.fields.find(e=>e.fieldname===t);e?n.push(e):n.push({fieldname:`name`,label:`ID`})}return n}),cn=async()=>{if(!a.value){J.value=`No DocType specified`;return}try{let e=await R.get(`/org/doctypes/${encodeURIComponent(a.value)}`,{authorizeRequest:!0,organisationAware:!0});G.value=e.data||e}catch(e){console.error(`DocType meta fetch error:`,e),J.value=`Failed to load DocType definition: `+e.message}},$=async()=>{if(a.value)try{let e={...v.value};Object.keys(e).forEach(t=>{let n=e[t];(n===``||n==null)&&delete e[t]}),b.value&&(e.search=b.value);let t=(await R.get(`/org/doc/${encodeURIComponent(a.value)}`,{query:e,authorizeRequest:!0,organisationAware:!0})).data;Array.isArray(t)?K.value=t:t&&Array.isArray(t.content)?K.value=t.content:K.value=[]}catch(e){console.error(`Docs fetch error:`,e),e.response&&e.response.status===404?K.value=[]:J.value=`Failed to load documents: `+e.message}},ln=async e=>{if(confirm(`Are you sure you want to delete this document?`))try{await R.delete(`/org/doc/${encodeURIComponent(a.value)}/${e}`,{authorizeRequest:!0,organisationAware:!0}),await $()}catch(e){console.error(`Delete error:`,e),J.value=`Failed to delete document: `+e.message}},un=async()=>{if(!a.value){q.value=!1,J.value=`No DocType specified (Initialization error)`;return}q.value=!0,J.value=null,await cn(),J.value||await $(),q.value=!1};N(a,un,{immediate:!0}),N(()=>u.docSavedEvent,e=>{e&&e.doctype===a.value&&e.timestamp>0&&$()},{deep:!0}),N(b,()=>{clearTimeout(S),S=setTimeout(()=>{$()},500)});let dn=(e,t)=>e==null?`-`:t.fieldtype===`Currency`?new Intl.NumberFormat(`en-NG`,{style:`currency`,currency:`NGN`}).format(e):t.fieldtype===`Date`?new Date(e).toLocaleDateString():e,fn=e=>e?new Date(e).toLocaleDateString():`-`,pn=(e,t)=>t===1?`bg-blue-100 text-blue-800`:t===2?`bg-red-100 text-red-800`:{Draft:`bg-gray-100 text-gray-800`,Submitted:`bg-blue-100 text-blue-800`,Paid:`bg-green-100 text-green-800`,"Partially Paid":`bg-yellow-100 text-yellow-800`,Overdue:`bg-red-100 text-red-800`,Cancelled:`bg-red-100 text-red-800`,Active:`bg-green-100 text-green-800`,Inactive:`bg-gray-100 text-gray-500`,Queued:`bg-yellow-100 text-yellow-800`,Sent:`bg-blue-100 text-blue-800`,Delivered:`bg-green-100 text-green-800`,Failed:`bg-red-100 text-red-800`,Open:`bg-blue-100 text-blue-800`,Accepted:`bg-green-100 text-green-800`,Rejected:`bg-red-100 text-red-800`,Expired:`bg-gray-100 text-gray-500`,Confirmed:`bg-blue-100 text-blue-800`,Completed:`bg-green-100 text-green-800`,Pending:`bg-yellow-100 text-yellow-800`,Approved:`bg-green-100 text-green-800`}[e]||`bg-gray-100 text-gray-800`,mn=e=>e===`INT`||e===`FLOAT`||e===`CURRENCY`?`number`:e===`DATE`?`date`:`text`;return(e,t)=>Je.value?(z(),h(ge(Je.value),{key:0})):(z(),D(`div`,$e,[E(`header`,et,[E(`div`,tt,[E(`div`,{class:`p-2 rounded-lg`,style:oe({backgroundColor:G.value.color?G.value.color+`20`:`#F3F4F6`})},[(z(),h(ge(G.value.icon||`FileText`),{class:`w-6 h-6`,style:oe({color:G.value.color||`#6B7280`})},null,8,[`style`]))],4),E(`div`,null,[E(`h1`,nt,w(G.value.name||a.value),1),E(`p`,rt,w(G.value.description),1)])]),E(`div`,it,[m.value.length>0?(z(),D(`div`,at,[E(`span`,ot,w(m.value.length)+` selected`,1),B(C(Ie),null,{default:j(()=>[B(C(Re),{"as-child":``},{default:j(()=>[E(`button`,st,[t[18]||=_(` Bulk Actions `,-1),B(C(me),{class:`w-4 h-4`})])]),_:1}),B(C(Le),null,{default:j(()=>[B(C(W),{onClick:t[0]||=e=>P.value=!0},{default:j(()=>[B(C(ne),{class:`w-4 h-4 mr-2`}),t[19]||=_(` Bulk Update Field `,-1)]),_:1}),G.value.is_submittable?(z(),h(C(W),{key:0,onClick:Xt},{default:j(()=>[B(C(ue),{class:`w-4 h-4 mr-2`}),t[20]||=_(` Submit Selected `,-1)]),_:1})):T(``,!0),B(C(W),{onClick:Zt,class:`text-red-600 focus:text-red-600`},{default:j(()=>[B(C(te),{class:`w-4 h-4 mr-2`}),t[21]||=_(` Delete Selected `,-1)]),_:1})]),_:1})]),_:1}),E(`button`,{onClick:t[1]||=e=>m.value=[],class:`p-1 hover:bg-gray-200 rounded-full`},[B(C(he),{class:`w-4 h-4 text-gray-500`})])])):T(``,!0),E(`button`,{onClick:un,disabled:q.value,class:`p-2 text-gray-400 hover:text-gray-600 rounded-full hover:bg-gray-100 transition-colors`,title:`Refresh List`},[B(C(De),{class:f([`w-5 h-5`,{"animate-spin":q.value}])},null,8,[`class`])],8,ct),qe.value?(z(),D(`button`,{key:1,onClick:en,class:`p-2 text-gray-400 hover:text-gray-600 rounded-full hover:bg-gray-100 transition-colors`,title:`Edit DocType Schema`},[B(C(Ee),{class:`w-5 h-5`})])):T(``,!0),E(`button`,{onClick:Qt,class:`px-4 py-2 bg-black text-white rounded-full text-sm font-medium hover:bg-gray-900 transition-colors`},` New `+w(G.value.name),1)])]),E(`div`,lt,[E(`div`,ut,[E(`div`,dt,[B(C(ye),{class:`absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400`}),U(E(`input`,{"onUpdate:modelValue":t[2]||=e=>b.value=e,type:`text`,placeholder:`Search...`,class:`pl-9 pr-4 py-1.5 bg-white border border-gray-200 rounded-full text-sm focus:ring-2 focus:ring-black outline-none transition-all w-64`},null,512),[[se,b.value]])])]),t[23]||=E(`div`,{class:`h-4 w-px bg-gray-200 flex-none mx-2`},null,-1),(z(!0),D(y,null,M(O.value,e=>(z(),D(`div`,{key:e.fieldname,class:`flex-none`},[E(`div`,ft,[E(`span`,pt,w(e.label),1),e.fieldtype===`CHECKBOX`?U((z(),D(`input`,{key:0,type:`checkbox`,"onUpdate:modelValue":t=>v.value[e.fieldname]=t,class:`w-4 h-4`,onChange:$},null,40,mt)),[[c,v.value[e.fieldname]]]):e.fieldtype===`SELECT`?U((z(),D(`select`,{key:1,"onUpdate:modelValue":t=>v.value[e.fieldname]=t,onChange:$,class:`bg-white border border-gray-200 rounded-full text-xs px-3 py-1 outline-none focus:ring-1 focus:ring-black min-w-[100px]`},[t[22]||=E(`option`,{value:``},`All`,-1),(z(!0),D(y,null,M((e.options||``).split(`
`),e=>(z(),D(`option`,{key:e,value:e},w(e),9,gt))),128))],40,ht)),[[xe,v.value[e.fieldname]]]):e.fieldtype===`DATE`?(z(),D(`div`,_t,[B(Be,{modelValue:v.value[e.fieldname],"onUpdate:modelValue":[t=>v.value[e.fieldname]=t,$],compact:``,pill:``},null,8,[`modelValue`,`onUpdate:modelValue`])])):U((z(),D(`input`,{key:3,"onUpdate:modelValue":t=>v.value[e.fieldname]=t,type:`text`,placeholder:`...`,onKeyup:le($,[`enter`]),class:`bg-white border border-gray-200 rounded-full text-xs px-3 py-1 outline-none focus:ring-1 focus:ring-black w-24`},null,40,vt)),[[se,v.value[e.fieldname]]])])]))),128)),k.value?(z(),D(`button`,{key:0,onClick:A,class:`text-xs font-medium text-blue-600 hover:text-blue-700 whitespace-nowrap`},` Clear Filters `)):T(``,!0)]),E(`div`,yt,[q.value?(z(),D(`div`,bt,[...t[24]||=[E(`div`,{class:`animate-spin rounded-full h-8 w-8 border-b-2 border-black`},null,-1)]])):J.value?(z(),D(`div`,xt,w(J.value),1)):(z(),D(`div`,St,[E(`table`,Ct,[E(`thead`,wt,[E(`tr`,null,[E(`th`,Tt,[E(`input`,{type:`checkbox`,checked:g.value,onChange:Jt,class:`w-4 h-4 text-black rounded border-gray-300 focus:ring-black`},null,40,Et)]),(z(!0),D(y,null,M(sn.value,e=>(z(),D(`th`,{key:e.fieldname,class:`px-6 py-3 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider`},w(e.label),1))),128)),t[25]||=E(`th`,{class:`px-6 py-3 text-right text-xs font-semibold text-gray-500 uppercase tracking-wider`},` Created `,-1),t[26]||=E(`th`,{class:`relative px-6 py-3`},[E(`span`,{class:`sr-only`},`Actions`)],-1)])]),E(`tbody`,Dt,[(z(!0),D(y,null,M(K.value,e=>(z(),h(C(Ye),{key:e.name},{default:j(()=>[B(C(Qe),{"as-child":``},{default:j(()=>[E(`tr`,{onClick:t=>$t(e.name),class:f([`hover:bg-gray-50 cursor-pointer transition-colors`,{"bg-blue-50/30":m.value.includes(e.name)}])},[E(`td`,{class:`px-6 py-4 whitespace-nowrap`,onClick:t[4]||=p(()=>{},[`stop`])},[U(E(`input`,{type:`checkbox`,value:e.name,"onUpdate:modelValue":t[3]||=e=>m.value=e,class:`w-4 h-4 text-black rounded border-gray-300 focus:ring-black`},null,8,kt),[[c,m.value]])]),(z(!0),D(y,null,M(sn.value,t=>(z(),D(`td`,{key:t.fieldname,class:`px-6 py-4 whitespace-nowrap text-sm text-gray-900`},[t.fieldname===`status`||t.fieldname===`docstatus`?(z(),D(`span`,{key:0,class:f([`px-2 inline-flex text-xs leading-5 font-semibold rounded-full`,pn(e[t.fieldname],e.docstatus)])},w(e[t.fieldname]||(e.docstatus===1?`Submitted`:e.docstatus===2?`Cancelled`:`Draft`)),3)):(z(),D(y,{key:1},[_(w(dn(e[t.fieldname],t)),1)],64))]))),128)),E(`td`,At,w(fn(e.created_at)),1),E(`td`,{class:`px-6 py-4 whitespace-nowrap text-right text-sm font-medium`,onClick:t[5]||=p(()=>{},[`stop`])},[B(C(Ie),null,{default:j(()=>[B(C(Re),{"as-child":``},{default:j(()=>[E(`button`,jt,[B(C(ee),{class:`w-5 h-5`})])]),_:1}),B(C(Le),{align:`end`},{default:j(()=>[B(C(W),{onClick:t=>$t(e.name)},{default:j(()=>[B(C(de),{class:`w-4 h-4 mr-2 text-slate-500`}),t[27]||=_(` View `,-1)]),_:1},8,[`onClick`]),B(C(W),{onClick:t=>tn(e.name)},{default:j(()=>[B(C(_e),{class:`w-4 h-4 mr-2`}),t[28]||=_(` Share `,-1)]),_:1},8,[`onClick`]),B(C(W),{onClick:t=>nn(e.name)},{default:j(()=>[B(C(Se),{class:`w-4 h-4 mr-2`}),t[29]||=_(` Print `,-1)]),_:1},8,[`onClick`])]),_:2},1024)]),_:2},1024)])],10,Ot)]),_:2},1024),B(C(Xe),null,{default:j(()=>[B(C(Z),{onClick:t=>$t(e.name)},{default:j(()=>[B(C(de),{class:`w-4 h-4 mr-2 text-slate-500`}),t[30]||=_(` View `,-1)]),_:1},8,[`onClick`]),B(C(Z),{onClick:t=>tn(e.name)},{default:j(()=>[B(C(_e),{class:`w-4 h-4 mr-2`}),t[31]||=_(` Share `,-1)]),_:1},8,[`onClick`]),B(C(Z),{onClick:t=>nn(e.name)},{default:j(()=>[B(C(Se),{class:`w-4 h-4 mr-2`}),t[32]||=_(` Print `,-1)]),_:1},8,[`onClick`]),B(C(Ze)),B(C(Z),{onClick:t=>ln(e.name),class:`text-red-600 focus:text-red-600 focus:bg-red-50`},{default:j(()=>[B(C(te),{class:`w-4 h-4 mr-2`}),t[33]||=_(` Delete `,-1)]),_:1},8,[`onClick`]),B(C(Z),{onClick:t=>on(e.name)},{default:j(()=>[B(C(fe),{class:`w-4 h-4 mr-2`}),t[34]||=_(` Archive `,-1)]),_:1},8,[`onClick`]),B(C(Ze)),B(C(Z),{onClick:un},{default:j(()=>[B(C(De),{class:`w-4 h-4 mr-2`}),t[35]||=_(` Refresh `,-1)]),_:1})]),_:2},1024)]),_:2},1024))),128)),K.value.length===0?(z(),D(`tr`,Mt,[E(`td`,{colspan:sn.value.length+4,class:`px-6 py-12 text-center text-gray-500`},` No `+w(G.value.name)+`s found. `,9,Nt)])):T(``,!0)])])]))]),B(C(Oe),{open:P.value,"onUpdate:open":t[12]||=e=>P.value=e},{default:j(()=>[B(C(ke),null,{default:j(()=>[B(C(Ae),null,{default:j(()=>[B(C(Me),null,{default:j(()=>[_(`Bulk Update `+w(G.value.name),1)]),_:1}),B(C(je),null,{default:j(()=>[_(` Update a specific field for `+w(m.value.length)+` selected documents. `,1)]),_:1})]),_:1}),E(`div`,Pt,[E(`div`,Ft,[t[36]||=E(`label`,{class:`text-sm font-medium`},`Field to Update`,-1),B(C(Ve),{modelValue:I.value,"onUpdate:modelValue":t[6]||=e=>I.value=e},{default:j(()=>[B(C(Ue),null,{default:j(()=>[B(C(Ge),{placeholder:`Select field...`})]),_:1}),B(C(He),null,{default:j(()=>[(z(!0),D(y,null,M(we.value,e=>(z(),h(C(We),{key:e.fieldname,value:e.fieldname},{default:j(()=>[_(w(e.label),1)]),_:2},1032,[`value`]))),128))]),_:1})]),_:1},8,[`modelValue`])]),I.value?(z(),D(`div`,It,[t[38]||=E(`label`,{class:`text-sm font-medium`},`New Value`,-1),H.value===`DATE`?(z(),h(Be,{key:0,modelValue:L.value,"onUpdate:modelValue":t[7]||=e=>L.value=e},null,8,[`modelValue`])):H.value!==`SELECT`&&H.value!==`CHECKBOX`?(z(),h(C(Fe),{key:1,modelValue:L.value,"onUpdate:modelValue":t[8]||=e=>L.value=e,type:mn(H.value),placeholder:`Enter new value...`},null,8,[`modelValue`,`type`])):H.value===`SELECT`?(z(),h(C(Ve),{key:2,modelValue:L.value,"onUpdate:modelValue":t[9]||=e=>L.value=e},{default:j(()=>[B(C(Ue),null,{default:j(()=>[B(C(Ge),{placeholder:`Select value...`})]),_:1}),B(C(He),null,{default:j(()=>[(z(!0),D(y,null,M(Ke.value,e=>(z(),h(C(We),{key:e,value:e},{default:j(()=>[_(w(e),1)]),_:2},1032,[`value`]))),128))]),_:1})]),_:1},8,[`modelValue`])):H.value===`CHECKBOX`?(z(),D(`div`,Lt,[U(E(`input`,{type:`checkbox`,"onUpdate:modelValue":t[10]||=e=>L.value=e,class:`w-4 h-4`},null,512),[[c,L.value]]),t[37]||=E(`span`,null,`Enable?`,-1)])):T(``,!0)])):T(``,!0)]),B(C(Ne),null,{default:j(()=>[E(`button`,{onClick:t[11]||=e=>P.value=!1,class:`px-4 py-2 text-sm font-medium text-gray-600 hover:bg-gray-100 rounded-lg`},`Cancel`),E(`button`,{onClick:Yt,disabled:!I.value||F.value,class:`px-4 py-2 bg-black text-white rounded-lg text-sm font-medium hover:bg-gray-900 disabled:opacity-50 flex items-center gap-2`},[F.value?(z(),h(C(d),{key:0,class:`w-4 h-4 animate-spin`})):T(``,!0),t[39]||=_(` Update All `,-1)],8,Rt)]),_:1})]),_:1})]),_:1},8,[`open`]),B(C(Oe),{open:Y.value,"onUpdate:open":t[17]||=e=>Y.value=e},{default:j(()=>[B(C(ke),{class:`sm:max-w-md`},{default:j(()=>[B(C(Ae),null,{default:j(()=>[B(C(Me),{class:`flex items-center gap-2`},{default:j(()=>[B(C(_e),{class:`w-5 h-5`}),_(` Share `+w(X.value),1)]),_:1}),B(C(je),null,{default:j(()=>[...t[40]||=[_(` Copy the link below or share directly to social platforms. `,-1)]]),_:1})]),_:1}),E(`div`,zt,[E(`div`,Bt,[E(`div`,Vt,[B(C(re),{class:`absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400`}),E(`input`,{ref_key:`shareLinkInput`,ref:Kt,value:Q.value,readonly:``,class:`w-full pl-9 pr-4 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-700 focus:outline-none focus:ring-2 focus:ring-black`},null,8,Ht)]),E(`button`,{onClick:rn,class:`px-3 py-2 bg-black text-white rounded-lg text-sm font-medium hover:bg-gray-900 flex items-center gap-2 transition-colors`},[B(C(ce),{class:`w-4 h-4`}),_(` `+w(Gt.value?`Copied!`:`Copy`),1)])]),E(`div`,Ut,[t[44]||=E(`p`,{class:`text-sm font-medium text-gray-500 mb-3`},`Share via`,-1),E(`div`,Wt,[E(`button`,{onClick:t[13]||=e=>an(`twitter`),class:`flex-1 px-4 py-2 bg-sky-50 text-sky-600 rounded-lg text-sm font-medium hover:bg-sky-100 flex items-center justify-center gap-2 transition-colors`},[B(C(be),{class:`w-4 h-4`}),t[41]||=_(` Twitter `,-1)]),E(`button`,{onClick:t[14]||=e=>an(`linkedin`),class:`flex-1 px-4 py-2 bg-blue-50 text-blue-600 rounded-lg text-sm font-medium hover:bg-blue-100 flex items-center justify-center gap-2 transition-colors`},[B(C(pe),{class:`w-4 h-4`}),t[42]||=_(` LinkedIn `,-1)]),E(`button`,{onClick:t[15]||=e=>an(`email`),class:`flex-1 px-4 py-2 bg-gray-100 text-gray-600 rounded-lg text-sm font-medium hover:bg-gray-200 flex items-center justify-center gap-2 transition-colors`},[B(C(ie),{class:`w-4 h-4`}),t[43]||=_(` Email `,-1)])])])]),B(C(Ne),null,{default:j(()=>[E(`button`,{onClick:t[16]||=e=>Y.value=!1,class:`px-4 py-2 text-sm font-medium text-gray-600 hover:bg-gray-100 rounded-lg`},` Close `)]),_:1})]),_:1})]),_:1},8,[`open`])]))}};export{Q as default};