import"./useFormControl-BoSoz5bk.js";import"./useNonce-Cry77bU8.js";import"./nullish-CfjOSA4G.js";import"./CheckboxIndicator-Cu1vLZmL.js";import"./useArrowNavigation-siWGBYoD.js";import"./ConfigProvider-BeNpEDZu.js";import"./useHideOthers-8j3pZZC2.js";import"./useDirection-CkCaHLjJ.js";import"./PopperAnchor-DePKnfPt.js";import"./useId-C9uHTJK1.js";import"./PopperContent-CkzV4Efh.js";import"./useTypeahead-J2lSWUJi.js";import"./DialogPortal-DagulIUC.js";import"./Teleport-CO7T90ZX.js";import"./utils-1j6W-LC4.js";import"./DialogTitle-KNRScshA.js";import"./AvatarImage-CFhho9Ct.js";import"./utils-d0L3vlW4.js";import"./RovingFocusGroup-Dae6_7oN.js";import"./RovingFocusItem-h4PGPL5z.js";import"./VisuallyHiddenInput-Cr3vcfNb.js";import"./Label-BQWlwCJI.js";import"./SelectViewport-C4doWK-Y.js";import{t as e}from"./SelectGroup-D40CeBwS.js";import{a as t,i as n,n as r,r as i,t as a}from"./tabs-C51D2d71.js";import"./Team-BSyrkZ77.js";import{Aa as o,Ai as s,Bi as c,Hi as l,Ii as u,Li as d,Ni as f,Oi as p,Pa as m,Ri as h,Ui as g,_a as _,ea as v,ga as y,h as b,i as x,ia as S,ja as ee,ji as C,n as w,na as T,r as E,wa as D}from"./index-BW6FH5S4.js";import"./DialogContent-DzO0B1dQ.js";import"./DialogTitle-BAO4s_Rj.js";import"./DialogFooter-BGPl6WoG.js";import{t as O}from"./Input-AKTRhZx5.js";import{t as k}from"./button-BIS6kOZQ.js";import"./avatar-BublYYps.js";import{t as A}from"./OrganisationService-DlrS9wAG.js";import{t as j}from"./Card-DmhOqSpI.js";import{t as te}from"./Card-DL4aOVo_.js";import"./CardContent-DCQKa7iN.js";import"./CardTitle-DOurhy1D.js";import{t as M}from"./Label-CWz-ReQU.js";import"./form-Bk3copDF.js";import{a as N,i as P,n as F,r as I,t as L}from"./SelectValue-CvGnKkl4.js";import{t as R}from"./badge-DeOd_cPn.js";import{t as z}from"./Billing-DZ5GH-8u.js";import"./Checkbox-x25APZEJ.js";import{t as B}from"./ComplianceService-DSKt-eW3.js";var V={class:`w-full pb-7 block justify-center`},H={class:`grid grid-cols-1 md:grid-cols-1 gap-12 pt-0 max-w-2xl w-full mx-auto`},U={class:`flex justify-end`},W={key:0},G={key:1},K=x({__name:`Profile`,setup(e){let t=D({id:null,name:``,type:``,tin:``,cac_no:``,country:``,state:``,website:``,industry:``}),n=D([]),r=D([]),i=D([{label:`Agriculture`,value:`agriculture`},{label:`Manufacturing`,value:`manufacturing`},{label:`Finance & Insurance`,value:`finance`},{label:`Technology`,value:`technology`},{label:`Healthcare`,value:`healthcare`},{label:`Real Estate`,value:`real_estate`},{label:`Education`,value:`education`},{label:`Hospitality`,value:`hospitality`}]),a=D(!1),s=D(!1);v(async()=>{await u(),await p()});async function u(){try{t.value=await A.getById(`current`)||{}}catch{b({title:`Error`,description:`Failed to load organisation`})}}async function p(){let e=window.configurations.countries;e&&Array.isArray(e)&&(n.value=e.map(e=>({label:e.name||e,value:e.code||e.name||e})))}async function _(e){if(e){s.value=!0;try{r.value=((await(await fetch(`https://countriesnow.space/api/v0.1/countries/states`,{method:`POST`,headers:{"Content-Type":`application/json`},body:JSON.stringify({country:e})})).json()).data?.states||[]).map(e=>({label:e.name,value:e.name}))||[]}catch{b({title:`Error`,description:`Unable to load states. Please try again.`})}finally{s.value=!1}}}async function x(){a.value=!0;try{let e=await A.update(t.value.id,t.value);b({title:`Organisation Updated`,description:`${e.name} has been saved successfully.`})}catch(e){b({title:`Error`,description:e.message||`Failed to save organisation.`})}finally{a.value=!1}}return(e,u)=>(T(),c(`div`,V,[d(`div`,H,[d(`div`,null,[g(o(M),{for:`name`},{default:y(()=>[...u[5]||=[l(`Legal Name`,-1)]]),_:1}),g(o(O),{id:`name`,modelValue:t.value.name,"onUpdate:modelValue":u[0]||=e=>t.value.name=e,placeholder:`Registered name`,class:`rounded-full mt-2`},null,8,[`modelValue`])]),d(`div`,null,[g(o(M),{for:`industry`},{default:y(()=>[...u[6]||=[l(`Industry / Category`,-1)]]),_:1}),g(o(N),{modelValue:t.value.industry,"onUpdate:modelValue":u[1]||=e=>t.value.industry=e},{default:y(()=>[g(o(F),{id:`industry`,class:`rounded-full mt-2`},{default:y(()=>[g(o(L),{placeholder:`Select industry`})]),_:1}),g(o(P),null,{default:y(()=>[(T(!0),c(f,null,S(i.value,e=>(T(),h(o(I),{key:e.value,value:e.label},{default:y(()=>[l(m(e.label),1)]),_:2},1032,[`value`]))),128))]),_:1})]),_:1},8,[`modelValue`])]),d(`div`,null,[g(o(M),{for:`country`},{default:y(()=>[...u[7]||=[l(`Country`,-1)]]),_:1}),g(o(N),{modelValue:t.value.country,"onUpdate:modelValue":[u[2]||=e=>t.value.country=e,_]},{default:y(()=>[g(o(F),{id:`country`,class:`rounded-full mt-2`},{default:y(()=>[g(o(L),{placeholder:`Select country`})]),_:1}),g(o(P),null,{default:y(()=>[(T(!0),c(f,null,S(n.value,e=>(T(),h(o(I),{key:e.value,value:e.label},{default:y(()=>[l(m(e.label),1)]),_:2},1032,[`value`]))),128))]),_:1})]),_:1},8,[`modelValue`])]),d(`div`,null,[g(o(M),{for:`state`},{default:y(()=>[...u[8]||=[l(`State / County`,-1)]]),_:1}),g(o(N),{modelValue:t.value.state,"onUpdate:modelValue":u[3]||=e=>t.value.state=e},{default:y(()=>[g(o(F),{id:`state`,class:`rounded-full mt-2`,disabled:s.value},{default:y(()=>[g(o(L),{placeholder:`Select state`})]),_:1},8,[`disabled`]),g(o(P),null,{default:y(()=>[(T(!0),c(f,null,S(r.value,e=>(T(),h(o(I),{key:e.value,value:e.label},{default:y(()=>[l(m(e.label),1)]),_:2},1032,[`value`]))),128))]),_:1})]),_:1},8,[`modelValue`])]),d(`div`,null,[g(o(M),{for:`website`},{default:y(()=>[...u[9]||=[l(`Website (optional)`,-1)]]),_:1}),g(o(O),{id:`website`,modelValue:t.value.website,"onUpdate:modelValue":u[4]||=e=>t.value.website=e,placeholder:`https://yourbusiness.com`,class:`rounded-full mt-2`},null,8,[`modelValue`])]),d(`div`,U,[g(o(k),{class:`rounded-full px-8`,disabled:a.value,onClick:x},{default:y(()=>[a.value?(T(),c(`span`,G,`Processing...`)):(T(),c(`span`,W,`Save Changes`))]),_:1},8,[`disabled`])])])]))}},[[`__scopeId`,`data-v-8336469e`]]),q={class:`w-full`},J={class:`border border-gray-200 rounded-2xl p-6 bg-white`},Y={class:`grid grid-cols-1 md:grid-cols-2 gap-6`},X={class:`mt-8 text-right`},Z={key:0},Q={key:1},ne={class:`flex flex-col lg:flex-row gap-6`},re={class:`flex-1 space-y-6`},ie={class:`text-lg font-semibold text-slate-800 mb-3 capitalize`},ae={class:`grid grid-cols-1 sm:grid-cols-2 gap-4`},oe={class:`flex justify-between items-start`},se={class:`font-semibold text-slate-800`},ce={class:`text-sm text-slate-600 mb-3`},le={class:`w-full lg:w-80 xl:w-96 border border-gray-200 rounded-2xl bg-white flex flex-col`},ue={class:`font-semibold text-slate-800 mb-2`},de={class:`text-sm text-slate-600 leading-relaxed whitespace-pre-line`},$={class:`flex-1 overflow-y-auto space-y-3`},fe={class:`mt-4 flex gap-2`},pe={__name:`TrustCentre`,setup(e){let r=D(`registrations`),x=D(`overview`),w=D(!1),E=D({nationalTaxId:``,stateTaxId:``,businessRegId:``,notes:``}),A=D([]),j=D(null),N=D([]),P=D(``),F=u(()=>{let e={};return A.value.forEach(t=>{let n=t.policyLevel||`general`;e[n]||(e[n]=[]),e[n].push(t)}),e});v(async()=>{await I(),await L()});async function I(){try{A.value=await B.getFrameworks()}catch{b({title:`Error`,description:`Unable to load frameworks`})}}async function L(){try{let e=await B.getRegistration();Object.assign(E.value,e)}catch{}}async function z(){w.value=!0;try{await B.updateRegistration(E.value),b({title:`Saved`,description:`Compliance credentials updated.`})}catch(e){b({title:`Error`,description:e.message||`Failed to save credentials`})}finally{w.value=!1}}function V(e){j.value=e,x.value=`overview`}async function H(){if(!P.value.trim())return;let e={id:Date.now(),role:`user`,content:P.value};N.value.push(e),P.value=``,setTimeout(()=>{N.value.push({id:Date.now()+1,role:`assistant`,content:`This framework covers your obligations under the `+(j.value?.name||`selected policy`)+` and includes compliance filing schedules, due dates, and exemptions.`})},800)}return(e,u)=>(T(),c(`div`,q,[g(o(t),{modelValue:r.value,"onUpdate:modelValue":u[6]||=e=>r.value=e,class:`w-full`},{default:y(()=>[g(o(i),{class:`mb-6 flex gap-2`},{default:y(()=>[g(o(a),{value:`registrations`,class:`rounded-full px-6 py-2`},{default:y(()=>[...u[7]||=[l(`Registrations`,-1)]]),_:1}),g(o(a),{value:`frameworks`,class:`rounded-full px-6 py-2`},{default:y(()=>[...u[8]||=[l(`Tax Frameworks`,-1)]]),_:1})]),_:1}),g(o(n),{value:`registrations`},{default:y(()=>[d(`div`,J,[u[13]||=d(`h2`,{class:`text-lg font-semibold text-slate-800 mb-6`},`Registration Credentials`,-1),d(`div`,Y,[d(`div`,null,[g(o(M),{for:`nationalTaxId`},{default:y(()=>[...u[9]||=[l(`National Tax Identifier`,-1)]]),_:1}),g(o(O),{id:`nationalTaxId`,modelValue:E.value.nationalTaxId,"onUpdate:modelValue":u[0]||=e=>E.value.nationalTaxId=e,placeholder:`Enter your national tax identifier`,class:`rounded-full mt-2`},null,8,[`modelValue`])]),d(`div`,null,[g(o(M),{for:`stateTaxId`},{default:y(()=>[...u[10]||=[l(`State Tax Identifier`,-1)]]),_:1}),g(o(O),{id:`stateTaxId`,modelValue:E.value.stateTaxId,"onUpdate:modelValue":u[1]||=e=>E.value.stateTaxId=e,placeholder:`Enter your state tax identifier`,class:`rounded-full mt-2`},null,8,[`modelValue`])]),d(`div`,null,[g(o(M),{for:`businessRegId`},{default:y(()=>[...u[11]||=[l(`Registration Identifier`,-1)]]),_:1}),g(o(O),{id:`businessRegId`,modelValue:E.value.businessRegId,"onUpdate:modelValue":u[2]||=e=>E.value.businessRegId=e,placeholder:`Enter your official registration identifier`,class:`rounded-full mt-2`},null,8,[`modelValue`])]),d(`div`,null,[g(o(M),{for:`additionalNotes`},{default:y(()=>[...u[12]||=[l(`Additional Notes (optional)`,-1)]]),_:1}),_(d(`textarea`,{id:`additionalNotes`,"onUpdate:modelValue":u[3]||=e=>E.value.notes=e,rows:`3`,class:`w-full rounded-2xl border-gray-300 focus:ring-2 focus:ring-blue-500 mt-2 p-3`,placeholder:`Provide any relevant compliance remarks...`},null,512),[[p,E.value.notes]])])]),d(`div`,X,[g(o(k),{class:`rounded-full px-8`,onClick:z,disabled:w.value},{default:y(()=>[w.value?(T(),c(`span`,Q,`Processing...`)):(T(),c(`span`,Z,`Save Credentials`))]),_:1},8,[`disabled`])])])]),_:1}),g(o(n),{value:`frameworks`},{default:y(()=>[d(`div`,ne,[d(`div`,re,[(T(!0),c(f,null,S(F.value,(e,t)=>(T(),c(`div`,{key:t},[d(`h3`,ie,m(t)+` Frameworks`,1),d(`div`,ae,[(T(!0),c(f,null,S(e,e=>(T(),h(o(te),{key:e.id,class:`p-5 border border-gray-200 hover:border-slate-800 transition rounded-xl`},{default:y(()=>[d(`div`,oe,[d(`div`,null,[d(`h4`,se,m(e.name),1),d(`p`,ce,m(e.description),1),g(o(R),{variant:`secondary`,class:`rounded-full text-xs`},{default:y(()=>[l(m(e.policyLevel),1)]),_:2},1024)]),g(o(k),{variant:`outline`,size:`sm`,class:`rounded-full`,onClick:t=>V(e)},{default:y(()=>[...u[14]||=[l(` View `,-1)]]),_:1},8,[`onClick`])])]),_:2},1024))),128))])]))),128))]),d(`div`,le,[g(o(t),{modelValue:x.value,"onUpdate:modelValue":u[5]||=e=>x.value=e,class:`flex-1 flex flex-col`},{default:y(()=>[g(o(i),{class:`flex justify-around p-2 border-b border-gray-100`},{default:y(()=>[g(o(a),{value:`overview`,class:`rounded-full px-4 py-1 text-sm`},{default:y(()=>[...u[15]||=[l(`Overview`,-1)]]),_:1}),g(o(a),{value:`ask`,class:`rounded-full px-4 py-1 text-sm`},{default:y(()=>[...u[16]||=[l(`Ask AI`,-1)]]),_:1})]),_:1}),g(o(n),{value:`overview`,class:`flex-1 p-4 overflow-y-auto`},{default:y(()=>[d(`h4`,ue,m(j.value?.name||`No Framework Selected`),1),d(`p`,de,m(j.value?.longDescription||`Select a tax framework from the left to view details and guidance.`),1)]),_:1}),g(o(n),{value:`ask`,class:`flex-1 p-4 flex flex-col`},{default:y(()=>[d(`div`,$,[(T(!0),c(f,null,S(N.value,e=>(T(),c(`div`,{key:e.id,class:ee([`text-sm p-3 rounded-xl`,e.role===`user`?`bg-blue-100 text-slate-800 self-end`:`bg-gray-100 text-slate-700 self-start`])},m(e.content),3))),128))]),d(`div`,fe,[g(o(O),{modelValue:P.value,"onUpdate:modelValue":u[4]||=e=>P.value=e,placeholder:`Ask about tax obligations...`,class:`rounded-full flex-1`,onKeydown:s(C(H,[`prevent`]),[`enter`])},null,8,[`modelValue`,`onKeydown`]),g(o(k),{class:`rounded-full`,onClick:H},{default:y(()=>[...u[17]||=[l(`Send`,-1)]]),_:1})])]),_:1})]),_:1},8,[`modelValue`])])])]),_:1})]),_:1},8,[`modelValue`])]))}},me={class:`rounded-sm`},he={class:`container mx-auto py-5 relative`},ge={class:`flex justify-center`},_e={class:`flex flex-col md:flex-row gap-8 space-y-6`},ve={class:`flex-1`},ye={class:`flex flex-col gap-8`},be={class:`block md:hidden mb-6`},xe=x({__name:`Settings`,setup(i){E(),w();let s=D(`general`);return(i,u)=>(T(),c(`div`,me,[d(`div`,he,[d(`div`,ge,[g(o(j),{class:`w-full p-8 shadow-none border-none bg-transparent rounded-2xl min-h-[80vh]`},{default:y(()=>[d(`div`,_e,[d(`div`,ve,[u[10]||=d(`div`,{class:`flex flex-col sm:flex-row sm:justify-between w-full`},[d(`div`,null,[d(`h1`,{class:`text-2xl font-bold text-slate-800`},`Organisation Settings`),d(`p`,{class:`text-sm text-slate-600`},`Manage your organisation profile, team, and preferences`)])],-1),d(`div`,ye,[d(`div`,be,[g(o(N),{modelValue:s.value,"onUpdate:modelValue":u[0]||=e=>s.value=e},{default:y(()=>[g(o(F),{class:`w-full border rounded-xl py-2 px-3 text-sm`},{default:y(()=>[g(o(L),{placeholder:`Select section`})]),_:1}),g(o(P),null,{default:y(()=>[g(o(e),null,{default:y(()=>[g(o(I),{value:`general`},{default:y(()=>[...u[2]||=[l(`General`,-1)]]),_:1}),g(o(I),{value:`billing`},{default:y(()=>[...u[3]||=[l(`Billing`,-1)]]),_:1}),g(o(I),{value:`trust-centre`},{default:y(()=>[...u[4]||=[l(`Trust Centre`,-1)]]),_:1})]),_:1})]),_:1})]),_:1},8,[`modelValue`])]),g(o(t),{modelValue:s.value,"onUpdate:modelValue":u[1]||=e=>s.value=e,"default-value":`general`,class:`mb-6 grid`},{default:y(()=>[u[8]||=d(`hr`,{class:`h-1 bg-slate-50 mt-10 mb-1 opacity-20`},null,-1),g(o(r),{class:`rounded-full bg-stone-100 text-blue-950 px-0.5 py-0.5 w-fit`},{default:y(()=>[g(o(a),{value:`general`,class:`px-4 py-1 rounded-full data-[state=active]:bg-stone-50 data-[state=active]:text-blue-950`},{default:y(()=>[...u[5]||=[l(` General `,-1)]]),_:1}),g(o(a),{value:`billing`,class:`px-4 py-1 rounded-full data-[state=active]:bg-stone-50 data-[state=active]:text-blue-950`},{default:y(()=>[...u[6]||=[l(` Billing `,-1)]]),_:1}),g(o(a),{value:`trust-centre`,class:`px-4 py-1 rounded-full data-[state=active]:bg-stone-50 data-[state=active]:text-blue-950`},{default:y(()=>[...u[7]||=[l(` Trust Centre `,-1)]]),_:1})]),_:1}),u[9]||=d(`hr`,{class:`h-1 bg-slate-50 mb-10 mt-2 opacity-30`},null,-1),g(o(n),{value:`general`,class:`mt-0`},{default:y(()=>[g(K)]),_:1}),g(o(n),{value:`billing`,class:`mt-0`},{default:y(()=>[g(z)]),_:1}),g(o(n),{value:`trust-centre`,class:`mt-0`},{default:y(()=>[g(pe)]),_:1})]),_:1},8,[`modelValue`])])])])]),_:1})])])]))}},[[`__scopeId`,`data-v-a5eda648`]]);export{xe as default};