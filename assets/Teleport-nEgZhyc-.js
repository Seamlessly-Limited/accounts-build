import{Ai as e,Cr as t,Dr as n,Ei as r,Gr as i,Ii as a,Nr as o,Rr as s,Sr as c,Ui as l,Ur as u,Xi as d,br as f,ha as p,ki as m,pa as h,qi as g,ra as _,sa as v,ti as y,vr as b,wr as x,xa as S,xr as C,yr as w}from"./index-DUz5oLRf.js";var T=u(()=>p([]));function E(){let e=T();return{add(t){let n=e.value[0];t!==n&&n?.pause(),e.value=D(e.value,t),e.value.unshift(t)},remove(t){e.value=D(e.value,t),e.value[0]?.resume()}}}function D(e,t){let n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function O(e){return e.filter(e=>e.tagName!==`A`)}var k=a({__name:`FocusScope`,props:{loop:{type:Boolean,required:!1,default:!1},trapped:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:[`mountAutoFocus`,`unmountAutoFocus`],setup(e,{emit:r}){let a=e,s=r,{currentRef:u,currentElement:T}=o(),D=p(null),k=E(),A=h({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}});_(e=>{if(!i)return;let t=T.value;if(!a.trapped)return;function n(e){if(A.paused||!t)return;let n=e.target;t.contains(n)?D.value=n:C(D.value,{select:!0})}function r(e){if(A.paused||!t)return;let n=e.relatedTarget;n!==null&&(t.contains(n)||C(D.value,{select:!0}))}function o(e){t.contains(D.value)||C(t)}document.addEventListener(`focusin`,n),document.addEventListener(`focusout`,r);let s=new MutationObserver(o);t&&s.observe(t,{childList:!0,subtree:!0}),e(()=>{document.removeEventListener(`focusin`,n),document.removeEventListener(`focusout`,r),s.disconnect()})}),_(async e=>{let n=T.value;if(await l(),!n)return;k.add(A);let r=y();if(!n.contains(r)){let e=new CustomEvent(b,f);n.addEventListener(b,e=>s(`mountAutoFocus`,e)),n.dispatchEvent(e),e.defaultPrevented||(c(O(t(n)),{select:!0}),y()===r&&C(n))}e(()=>{n.removeEventListener(b,e=>s(`mountAutoFocus`,e));let e=new CustomEvent(w,f),t=e=>{s(`unmountAutoFocus`,e)};n.addEventListener(w,t),n.dispatchEvent(e),setTimeout(()=>{e.defaultPrevented||C(r??document.body,{select:!0}),n.removeEventListener(w,t),k.remove(A)},0)})});function j(e){if(!a.loop&&!a.trapped||A.paused)return;let t=e.key===`Tab`&&!e.altKey&&!e.ctrlKey&&!e.metaKey,n=y();if(t&&n){let t=e.currentTarget,[r,i]=x(t);r&&i?!e.shiftKey&&n===i?(e.preventDefault(),a.loop&&C(r,{select:!0})):e.shiftKey&&n===r&&(e.preventDefault(),a.loop&&C(i,{select:!0})):n===t&&e.preventDefault()}}return(e,t)=>(g(),m(S(n),{ref_key:`currentRef`,ref:u,tabindex:`-1`,"as-child":e.asChild,as:e.as,onKeydown:j},{default:v(()=>[d(e.$slots,`default`)]),_:3},8,[`as-child`,`as`]))}}),A=a({__name:`Teleport`,props:{to:{type:null,required:!1,default:`body`},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(t){let n=s();return(t,i)=>S(n)||t.forceMount?(g(),m(r,{key:0,to:t.to,disabled:t.disabled,defer:t.defer},[d(t.$slots,`default`)],8,[`to`,`disabled`,`defer`])):e(`v-if`,!0)}});export{k as n,A as t};