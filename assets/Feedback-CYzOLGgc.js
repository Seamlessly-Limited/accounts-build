import"./useFormControl-CjeW_yF1.js";import"./nullish-CfjOSA4G.js";import"./CheckboxIndicator-C4nBJkgl.js";import"./ConfigProvider-BY88vHZH.js";import"./useDirection-ZgC7WO53.js";import"./useId-_W-wRvmL.js";import"./utils-CbTsZDN1.js";import"./RovingFocusGroup-F71S5Xed.js";import"./RovingFocusItem-AkC9zDaz.js";import"./VisuallyHiddenInput-IXKLJ3Dv.js";import"./Label-PC3o1Jo3.js";import{Bt as e,Fa as t,Hi as n,Ki as r,Li as i,Oa as a,Pa as o,Ra as s,U as c,Vi as l,Wi as u,Yi as d,a as f,b as p,ba as m,ca as h,i as g,o as _,oa as v,qi as y,r as b,rt as x,xn as S}from"./index-BHNnQTTo.js";import{t as C}from"./button-DHTtQedQ.js";import{t as w}from"./Input-DzP8_N3r.js";import{t as T}from"./BackgroundAnimation-yErgC6Q9.js";import{t as E}from"./Checkbox-BBhqjjGt.js";import{t as D}from"./Card-CP12Kofe.js";import{t as O}from"./CardContent-DIOduLan.js";import{t as k}from"./CardDescription-BCNKJprF.js";import{n as A,t as j}from"./CardTitle-DDV552DC.js";import{t as M}from"./Label-C3kqb2rR.js";import{t as N}from"./Textarea-C0hZLz9G.js";import{t as P}from"./badge-B8qxrXJg.js";var F={createFeedback(e){return _.post(`/feedback`,{data:e})}},I={class:`fixed w-full h-full overflow-y-scroll bg-[radial-gradient(ellipse_at_bottom,_var(--tw-gradient-stops))] from-slate-950/95 to-slate-900 from-5% scrollbar-hide`},L={class:`py-20`},R={key:0,class:`p-4 mb-6 text-sm text-green-800 bg-green-50 rounded-lg border border-green-200`},z={key:1},B={class:`mb-6`},V={class:`flex flex-row gap-2 w-full overflow-x-scroll`,style:{"scrollbar-width":`none`}},H={class:`mb-6`},U={class:`mb-6`},W={class:`flex items-start space-x-2 mb-6 p-4 bg-muted/30 rounded-lg`},G={class:`grid gap-1.5`},K={class:`flex gap-3`},q=g(d({__name:`Feedback`,setup(d){let g=a({rating:null,message:``,email:``,allowContact:!1}),_=a(!1),q=a(!1),J=f(),Y=[{value:1,label:`Very Poor`},{value:2,label:`Poor`},{value:3,label:`Average`},{value:4,label:`Good`},{value:5,label:`Excellent`}],X=async()=>{if(!(!g.value.rating||!g.value.message.trim())){_.value=!0;try{await F.createFeedback(g.value),q.value=!0,J.toast({message:`Thank you for your feedback!`,variant:`success`,duration:5e3})}catch{J.toast({message:`Failed to submit feedback. Please try again.`,variant:`error`,duration:5e3})}finally{_.value=!1}}},Z=()=>{g.value={rating:null,message:``,email:``,allowContact:!1},q.value=!1},Q=b(),$=()=>{try{return Q.back()}catch{Q.push(`/`)}};return(a,d)=>(v(),u(`div`,I,[y(T),l(`div`,L,[y(o(D),{class:`w-11/12 max-w-2xl mx-auto relative border-white border-8 bg-stone-50`},{default:m(()=>[d[15]||=l(`div`,{class:`absolute`},null,-1),l(`span`,{onClick:$,class:`absolute z-50 right-1.5 top-1 border border-slate-200 p-1 cursor-pointer bg-white rounded-full ring-offset-background transition-opacity hover:border-slate-500 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none bg-accent text-muted-foreground`},[y(o(p),{class:`w-4 h-4`}),d[3]||=l(`span`,{class:`sr-only`},`Close`,-1)]),y(o(A),null,{default:m(()=>[y(o(j),{class:`flex items-center gap-2`},{default:m(()=>[y(o(S),{class:`w-5 h-5`}),d[4]||=r(` Product Feedback `,-1)]),_:1}),y(o(k),null,{default:m(()=>[...d[5]||=[r(` Help us improve Seamlessly by sharing your thoughts and experience with us. `,-1)]]),_:1})]),_:1}),y(o(O),null,{default:m(()=>[q.value?(v(),u(`div`,R,[...d[6]||=[l(`div`,{class:`flex items-center gap-2`},[l(`span`,{class:`font-medium`},`Thank you for your feedback!`)],-1),l(`p`,{class:`mt-1 text-green-700`},` We appreciate you taking the time to help us improve. `,-1)]])):(v(),u(`div`,z,[l(`div`,B,[y(o(M),{class:`text-sm font-medium mb-3 block`},{default:m(()=>[...d[7]||=[r(` How would you rate your experience? * `,-1)]]),_:1}),l(`div`,V,[(v(),u(i,null,h(Y,e=>y(o(C),{key:e.value,type:`button`,variant:`outline`,size:`sm`,class:t([`flex items-center gap-2 transition-all pe-1 rounded-full`,g.value.rating===e.value?`bg-primary text-primary-foreground border-primary`:`hover:bg-accent`]),onClick:t=>g.value.rating=e.value},{default:m(()=>[y(o(c),{class:t([`w-4 h-4`,g.value.rating===e.value?`fill-current`:``])},null,8,[`class`]),r(` `+s(e.value)+` `,1),y(o(P),{variant:`secondary`,class:t([`ml-1 text-xs`,g.value.rating===e.value?`bg-primary-foreground text-primary`:``])},{default:m(()=>[r(s(e.label),1)]),_:2},1032,[`class`])]),_:2},1032,[`class`,`onClick`])),64))])]),l(`div`,H,[y(o(M),{for:`feedback-message`,class:`text-sm font-medium mb-3 block`},{default:m(()=>[...d[8]||=[r(` Your Feedback * `,-1)]]),_:1}),y(o(N),{id:`feedback-message`,modelValue:g.value.message,"onUpdate:modelValue":d[0]||=e=>g.value.message=e,placeholder:`What did you like? What can we improve? Any specific features you'd like to see?`,class:`min-h-[120px] resize-vertical rounded-sm`,disabled:_.value},null,8,[`modelValue`,`disabled`])]),l(`div`,U,[y(o(M),{for:`email`,class:`text-sm font-medium mb-3 block`},{default:m(()=>[...d[9]||=[r(` Email Address (Optional) `,-1)]]),_:1}),y(o(w),{id:`email`,modelValue:g.value.email,"onUpdate:modelValue":d[1]||=e=>g.value.email=e,type:`email`,placeholder:`your.email@example.com`,class:`rounded-full`,disabled:_.value},null,8,[`modelValue`,`disabled`]),d[10]||=l(`p`,{class:`text-xs text-muted-foreground mt-2`},` We'll only use this to follow up on your feedback if you allow contact. `,-1)]),l(`div`,W,[y(o(E),{id:`allow-contact`,checked:g.value.allowContact,"onUpdate:checked":d[2]||=e=>g.value.allowContact=e,disabled:_.value},null,8,[`checked`,`disabled`]),l(`div`,G,[y(o(M),{for:`allow-contact`,class:`text-sm font-medium cursor-pointer`},{default:m(()=>[...d[11]||=[r(` Allow us to contact you about this feedback `,-1)]]),_:1}),d[12]||=l(`p`,{class:`text-xs text-muted-foreground`},` If checked, we may reach out to you via email to learn more about your experience and discuss how we can improve. `,-1)])]),l(`div`,K,[y(o(C),{type:`submit`,disabled:!g.value.rating||!g.value.message.trim()||_.value,class:`flex-1 rounded-full`,onClick:X},{default:m(()=>[_.value?(v(),n(o(e),{key:0,class:`w-4 h-4 mr-2 animate-spin`})):(v(),n(o(x),{key:1,class:`w-4 h-4 mr-2`})),r(` `+s(_.value?`Submitting...`:`Submit Feedback`),1)]),_:1},8,[`disabled`]),y(o(C),{class:`rounded-full`,type:`button`,variant:`outline`,disabled:_.value,onClick:Z},{default:m(()=>[...d[13]||=[r(` Reset `,-1)]]),_:1},8,[`disabled`])]),d[14]||=l(`div`,{class:`mt-4 p-3 bg-muted/20 rounded-lg`},[l(`p`,{class:`text-xs text-muted-foreground`},[l(`strong`,null,`Note:`),r(` Fields marked with * are required. Your feedback helps us understand what's working well and where we can improve. `)])],-1)]))]),_:1})]),_:1})])]))}}),[[`__scopeId`,`data-v-99edabbc`]]);export{q as default};